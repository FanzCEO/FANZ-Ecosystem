function Cne(n,e){for(var s=0;s<e.length;s++){const r=e[s];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in n)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(n,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=s(a);fetch(a.href,i)}})();var PN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gs(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var qT={exports:{}},Ab={},WT={exports:{}},Ns={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SL;function Tne(){if(SL)return Ns;SL=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),h=Symbol.iterator;function m(se){return se===null||typeof se!="object"?null:(se=h&&se[h]||se["@@iterator"],typeof se=="function"?se:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,j={};function v(se,me,Oe){this.props=se,this.context=me,this.refs=j,this.updater=Oe||y}v.prototype.isReactComponent={},v.prototype.setState=function(se,me){if(typeof se!="object"&&typeof se!="function"&&se!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,se,me,"setState")},v.prototype.forceUpdate=function(se){this.updater.enqueueForceUpdate(this,se,"forceUpdate")};function b(){}b.prototype=v.prototype;function A(se,me,Oe){this.props=se,this.context=me,this.refs=j,this.updater=Oe||y}var S=A.prototype=new b;S.constructor=A,N(S,v.prototype),S.isPureReactComponent=!0;var w=Array.isArray,E=Object.prototype.hasOwnProperty,T={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function k(se,me,Oe){var Ye,dt={},be=null,Ce=null;if(me!=null)for(Ye in me.ref!==void 0&&(Ce=me.ref),me.key!==void 0&&(be=""+me.key),me)E.call(me,Ye)&&!P.hasOwnProperty(Ye)&&(dt[Ye]=me[Ye]);var Ue=arguments.length-2;if(Ue===1)dt.children=Oe;else if(1<Ue){for(var De=Array(Ue),qe=0;qe<Ue;qe++)De[qe]=arguments[qe+2];dt.children=De}if(se&&se.defaultProps)for(Ye in Ue=se.defaultProps,Ue)dt[Ye]===void 0&&(dt[Ye]=Ue[Ye]);return{$$typeof:n,type:se,key:be,ref:Ce,props:dt,_owner:T.current}}function I(se,me){return{$$typeof:n,type:se.type,key:me,ref:se.ref,props:se.props,_owner:se._owner}}function L(se){return typeof se=="object"&&se!==null&&se.$$typeof===n}function U(se){var me={"=":"=0",":":"=2"};return"$"+se.replace(/[=:]/g,function(Oe){return me[Oe]})}var H=/\/+/g;function B(se,me){return typeof se=="object"&&se!==null&&se.key!=null?U(""+se.key):me.toString(36)}function K(se,me,Oe,Ye,dt){var be=typeof se;(be==="undefined"||be==="boolean")&&(se=null);var Ce=!1;if(se===null)Ce=!0;else switch(be){case"string":case"number":Ce=!0;break;case"object":switch(se.$$typeof){case n:case e:Ce=!0}}if(Ce)return Ce=se,dt=dt(Ce),se=Ye===""?"."+B(Ce,0):Ye,w(dt)?(Oe="",se!=null&&(Oe=se.replace(H,"$&/")+"/"),K(dt,me,Oe,"",function(qe){return qe})):dt!=null&&(L(dt)&&(dt=I(dt,Oe+(!dt.key||Ce&&Ce.key===dt.key?"":(""+dt.key).replace(H,"$&/")+"/")+se)),me.push(dt)),1;if(Ce=0,Ye=Ye===""?".":Ye+":",w(se))for(var Ue=0;Ue<se.length;Ue++){be=se[Ue];var De=Ye+B(be,Ue);Ce+=K(be,me,Oe,De,dt)}else if(De=m(se),typeof De=="function")for(se=De.call(se),Ue=0;!(be=se.next()).done;)be=be.value,De=Ye+B(be,Ue++),Ce+=K(be,me,Oe,De,dt);else if(be==="object")throw me=String(se),Error("Objects are not valid as a React child (found: "+(me==="[object Object]"?"object with keys {"+Object.keys(se).join(", ")+"}":me)+"). If you meant to render a collection of children, use an array instead.");return Ce}function J(se,me,Oe){if(se==null)return se;var Ye=[],dt=0;return K(se,Ye,"","",function(be){return me.call(Oe,be,dt++)}),Ye}function W(se){if(se._status===-1){var me=se._result;me=me(),me.then(function(Oe){(se._status===0||se._status===-1)&&(se._status=1,se._result=Oe)},function(Oe){(se._status===0||se._status===-1)&&(se._status=2,se._result=Oe)}),se._status===-1&&(se._status=0,se._result=me)}if(se._status===1)return se._result.default;throw se._result}var ee={current:null},G={transition:null},ae={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:G,ReactCurrentOwner:T};function fe(){throw Error("act(...) is not supported in production builds of React.")}return Ns.Children={map:J,forEach:function(se,me,Oe){J(se,function(){me.apply(this,arguments)},Oe)},count:function(se){var me=0;return J(se,function(){me++}),me},toArray:function(se){return J(se,function(me){return me})||[]},only:function(se){if(!L(se))throw Error("React.Children.only expected to receive a single React element child.");return se}},Ns.Component=v,Ns.Fragment=s,Ns.Profiler=a,Ns.PureComponent=A,Ns.StrictMode=r,Ns.Suspense=c,Ns.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,Ns.act=fe,Ns.cloneElement=function(se,me,Oe){if(se==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+se+".");var Ye=N({},se.props),dt=se.key,be=se.ref,Ce=se._owner;if(me!=null){if(me.ref!==void 0&&(be=me.ref,Ce=T.current),me.key!==void 0&&(dt=""+me.key),se.type&&se.type.defaultProps)var Ue=se.type.defaultProps;for(De in me)E.call(me,De)&&!P.hasOwnProperty(De)&&(Ye[De]=me[De]===void 0&&Ue!==void 0?Ue[De]:me[De])}var De=arguments.length-2;if(De===1)Ye.children=Oe;else if(1<De){Ue=Array(De);for(var qe=0;qe<De;qe++)Ue[qe]=arguments[qe+2];Ye.children=Ue}return{$$typeof:n,type:se.type,key:dt,ref:be,props:Ye,_owner:Ce}},Ns.createContext=function(se){return se={$$typeof:o,_currentValue:se,_currentValue2:se,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},se.Provider={$$typeof:i,_context:se},se.Consumer=se},Ns.createElement=k,Ns.createFactory=function(se){var me=k.bind(null,se);return me.type=se,me},Ns.createRef=function(){return{current:null}},Ns.forwardRef=function(se){return{$$typeof:l,render:se}},Ns.isValidElement=L,Ns.lazy=function(se){return{$$typeof:u,_payload:{_status:-1,_result:se},_init:W}},Ns.memo=function(se,me){return{$$typeof:d,type:se,compare:me===void 0?null:me}},Ns.startTransition=function(se){var me=G.transition;G.transition={};try{se()}finally{G.transition=me}},Ns.unstable_act=fe,Ns.useCallback=function(se,me){return ee.current.useCallback(se,me)},Ns.useContext=function(se){return ee.current.useContext(se)},Ns.useDebugValue=function(){},Ns.useDeferredValue=function(se){return ee.current.useDeferredValue(se)},Ns.useEffect=function(se,me){return ee.current.useEffect(se,me)},Ns.useId=function(){return ee.current.useId()},Ns.useImperativeHandle=function(se,me,Oe){return ee.current.useImperativeHandle(se,me,Oe)},Ns.useInsertionEffect=function(se,me){return ee.current.useInsertionEffect(se,me)},Ns.useLayoutEffect=function(se,me){return ee.current.useLayoutEffect(se,me)},Ns.useMemo=function(se,me){return ee.current.useMemo(se,me)},Ns.useReducer=function(se,me,Oe){return ee.current.useReducer(se,me,Oe)},Ns.useRef=function(se){return ee.current.useRef(se)},Ns.useState=function(se){return ee.current.useState(se)},Ns.useSyncExternalStore=function(se,me,Oe){return ee.current.useSyncExternalStore(se,me,Oe)},Ns.useTransition=function(){return ee.current.useTransition()},Ns.version="18.3.1",Ns}var _L;function X0(){return _L||(_L=1,WT.exports=Tne()),WT.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AL;function Ene(){if(AL)return Ab;AL=1;var n=X0(),e=Symbol.for("react.element"),s=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var u,h={},m=null,y=null;d!==void 0&&(m=""+d),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(y=c.ref);for(u in c)r.call(c,u)&&!i.hasOwnProperty(u)&&(h[u]=c[u]);if(l&&l.defaultProps)for(u in c=l.defaultProps,c)h[u]===void 0&&(h[u]=c[u]);return{$$typeof:e,type:l,key:m,ref:y,props:h,_owner:a.current}}return Ab.Fragment=s,Ab.jsx=o,Ab.jsxs=o,Ab}var CL;function Mne(){return CL||(CL=1,qT.exports=Ene()),qT.exports}var t=Mne(),RN={},KT={exports:{}},Bo={},XT={exports:{}},ZT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TL;function Pne(){return TL||(TL=1,(function(n){function e(G,ae){var fe=G.length;G.push(ae);e:for(;0<fe;){var se=fe-1>>>1,me=G[se];if(0<a(me,ae))G[se]=ae,G[fe]=me,fe=se;else break e}}function s(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ae=G[0],fe=G.pop();if(fe!==ae){G[0]=fe;e:for(var se=0,me=G.length,Oe=me>>>1;se<Oe;){var Ye=2*(se+1)-1,dt=G[Ye],be=Ye+1,Ce=G[be];if(0>a(dt,fe))be<me&&0>a(Ce,dt)?(G[se]=Ce,G[be]=fe,se=be):(G[se]=dt,G[Ye]=fe,se=Ye);else if(be<me&&0>a(Ce,fe))G[se]=Ce,G[be]=fe,se=be;else break e}}return ae}function a(G,ae){var fe=G.sortIndex-ae.sortIndex;return fe!==0?fe:G.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,y=!1,N=!1,j=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(G){for(var ae=s(d);ae!==null;){if(ae.callback===null)r(d);else if(ae.startTime<=G)r(d),ae.sortIndex=ae.expirationTime,e(c,ae);else break;ae=s(d)}}function w(G){if(j=!1,S(G),!N)if(s(c)!==null)N=!0,W(E);else{var ae=s(d);ae!==null&&ee(w,ae.startTime-G)}}function E(G,ae){N=!1,j&&(j=!1,b(k),k=-1),y=!0;var fe=m;try{for(S(ae),h=s(c);h!==null&&(!(h.expirationTime>ae)||G&&!U());){var se=h.callback;if(typeof se=="function"){h.callback=null,m=h.priorityLevel;var me=se(h.expirationTime<=ae);ae=n.unstable_now(),typeof me=="function"?h.callback=me:h===s(c)&&r(c),S(ae)}else r(c);h=s(c)}if(h!==null)var Oe=!0;else{var Ye=s(d);Ye!==null&&ee(w,Ye.startTime-ae),Oe=!1}return Oe}finally{h=null,m=fe,y=!1}}var T=!1,P=null,k=-1,I=5,L=-1;function U(){return!(n.unstable_now()-L<I)}function H(){if(P!==null){var G=n.unstable_now();L=G;var ae=!0;try{ae=P(!0,G)}finally{ae?B():(T=!1,P=null)}}else T=!1}var B;if(typeof A=="function")B=function(){A(H)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,J=K.port2;K.port1.onmessage=H,B=function(){J.postMessage(null)}}else B=function(){v(H,0)};function W(G){P=G,T||(T=!0,B())}function ee(G,ae){k=v(function(){G(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){N||y||(N=!0,W(E))},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return s(c)},n.unstable_next=function(G){switch(m){case 1:case 2:case 3:var ae=3;break;default:ae=m}var fe=m;m=ae;try{return G()}finally{m=fe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,ae){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var fe=m;m=G;try{return ae()}finally{m=fe}},n.unstable_scheduleCallback=function(G,ae,fe){var se=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?se+fe:se):fe=se,G){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=fe+me,G={id:u++,callback:ae,priorityLevel:G,startTime:fe,expirationTime:me,sortIndex:-1},fe>se?(G.sortIndex=fe,e(d,G),s(c)===null&&G===s(d)&&(j?(b(k),k=-1):j=!0,ee(w,fe-se))):(G.sortIndex=me,e(c,G),N||y||(N=!0,W(E))),G},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(G){var ae=m;return function(){var fe=m;m=ae;try{return G.apply(this,arguments)}finally{m=fe}}}})(ZT)),ZT}var EL;function Rne(){return EL||(EL=1,XT.exports=Pne()),XT.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ML;function One(){if(ML)return Bo;ML=1;var n=X0(),e=Rne();function s(f){for(var x="https://reactjs.org/docs/error-decoder.html?invariant="+f,_=1;_<arguments.length;_++)x+="&args[]="+encodeURIComponent(arguments[_]);return"Minified React error #"+f+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,a={};function i(f,x){o(f,x),o(f+"Capture",x)}function o(f,x){for(a[f]=x,f=0;f<x.length;f++)r.add(x[f])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},h={};function m(f){return c.call(h,f)?!0:c.call(u,f)?!1:d.test(f)?h[f]=!0:(u[f]=!0,!1)}function y(f,x,_,M){if(_!==null&&_.type===0)return!1;switch(typeof x){case"function":case"symbol":return!0;case"boolean":return M?!1:_!==null?!_.acceptsBooleans:(f=f.toLowerCase().slice(0,5),f!=="data-"&&f!=="aria-");default:return!1}}function N(f,x,_,M){if(x===null||typeof x>"u"||y(f,x,_,M))return!0;if(M)return!1;if(_!==null)switch(_.type){case 3:return!x;case 4:return x===!1;case 5:return isNaN(x);case 6:return isNaN(x)||1>x}return!1}function j(f,x,_,M,D,z,Z){this.acceptsBooleans=x===2||x===3||x===4,this.attributeName=M,this.attributeNamespace=D,this.mustUseProperty=_,this.propertyName=f,this.type=x,this.sanitizeURL=z,this.removeEmptyString=Z}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(f){v[f]=new j(f,0,!1,f,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(f){var x=f[0];v[x]=new j(x,1,!1,f[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(f){v[f]=new j(f,2,!1,f.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(f){v[f]=new j(f,2,!1,f,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(f){v[f]=new j(f,3,!1,f.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(f){v[f]=new j(f,3,!0,f,null,!1,!1)}),["capture","download"].forEach(function(f){v[f]=new j(f,4,!1,f,null,!1,!1)}),["cols","rows","size","span"].forEach(function(f){v[f]=new j(f,6,!1,f,null,!1,!1)}),["rowSpan","start"].forEach(function(f){v[f]=new j(f,5,!1,f.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function A(f){return f[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(f){var x=f.replace(b,A);v[x]=new j(x,1,!1,f,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(f){var x=f.replace(b,A);v[x]=new j(x,1,!1,f,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(f){var x=f.replace(b,A);v[x]=new j(x,1,!1,f,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(f){v[f]=new j(f,1,!1,f.toLowerCase(),null,!1,!1)}),v.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(f){v[f]=new j(f,1,!1,f.toLowerCase(),null,!0,!0)});function S(f,x,_,M){var D=v.hasOwnProperty(x)?v[x]:null;(D!==null?D.type!==0:M||!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(N(x,_,D,M)&&(_=null),M||D===null?m(x)&&(_===null?f.removeAttribute(x):f.setAttribute(x,""+_)):D.mustUseProperty?f[D.propertyName]=_===null?D.type===3?!1:"":_:(x=D.attributeName,M=D.attributeNamespace,_===null?f.removeAttribute(x):(D=D.type,_=D===3||D===4&&_===!0?"":""+_,M?f.setAttributeNS(M,x,_):f.setAttribute(x,_))))}var w=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),T=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),U=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),G=Symbol.iterator;function ae(f){return f===null||typeof f!="object"?null:(f=G&&f[G]||f["@@iterator"],typeof f=="function"?f:null)}var fe=Object.assign,se;function me(f){if(se===void 0)try{throw Error()}catch(_){var x=_.stack.trim().match(/\n( *(at )?)/);se=x&&x[1]||""}return`
`+se+f}var Oe=!1;function Ye(f,x){if(!f||Oe)return"";Oe=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(x)if(x=function(){throw Error()},Object.defineProperty(x.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(x,[])}catch(ze){var M=ze}Reflect.construct(f,[],x)}else{try{x.call()}catch(ze){M=ze}f.call(x.prototype)}else{try{throw Error()}catch(ze){M=ze}f()}}catch(ze){if(ze&&M&&typeof ze.stack=="string"){for(var D=ze.stack.split(`
`),z=M.stack.split(`
`),Z=D.length-1,ve=z.length-1;1<=Z&&0<=ve&&D[Z]!==z[ve];)ve--;for(;1<=Z&&0<=ve;Z--,ve--)if(D[Z]!==z[ve]){if(Z!==1||ve!==1)do if(Z--,ve--,0>ve||D[Z]!==z[ve]){var we=`
`+D[Z].replace(" at new "," at ");return f.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",f.displayName)),we}while(1<=Z&&0<=ve);break}}}finally{Oe=!1,Error.prepareStackTrace=_}return(f=f?f.displayName||f.name:"")?me(f):""}function dt(f){switch(f.tag){case 5:return me(f.type);case 16:return me("Lazy");case 13:return me("Suspense");case 19:return me("SuspenseList");case 0:case 2:case 15:return f=Ye(f.type,!1),f;case 11:return f=Ye(f.type.render,!1),f;case 1:return f=Ye(f.type,!0),f;default:return""}}function be(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case P:return"Fragment";case T:return"Portal";case I:return"Profiler";case k:return"StrictMode";case B:return"Suspense";case K:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case U:return(f.displayName||"Context")+".Consumer";case L:return(f._context.displayName||"Context")+".Provider";case H:var x=f.render;return f=f.displayName,f||(f=x.displayName||x.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case J:return x=f.displayName||null,x!==null?x:be(f.type)||"Memo";case W:x=f._payload,f=f._init;try{return be(f(x))}catch{}}return null}function Ce(f){var x=f.type;switch(f.tag){case 24:return"Cache";case 9:return(x.displayName||"Context")+".Consumer";case 10:return(x._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=x.render,f=f.displayName||f.name||"",x.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return x;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(x);case 8:return x===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x}return null}function Ue(f){switch(typeof f){case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function De(f){var x=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(x==="checkbox"||x==="radio")}function qe(f){var x=De(f)?"checked":"value",_=Object.getOwnPropertyDescriptor(f.constructor.prototype,x),M=""+f[x];if(!f.hasOwnProperty(x)&&typeof _<"u"&&typeof _.get=="function"&&typeof _.set=="function"){var D=_.get,z=_.set;return Object.defineProperty(f,x,{configurable:!0,get:function(){return D.call(this)},set:function(Z){M=""+Z,z.call(this,Z)}}),Object.defineProperty(f,x,{enumerable:_.enumerable}),{getValue:function(){return M},setValue:function(Z){M=""+Z},stopTracking:function(){f._valueTracker=null,delete f[x]}}}}function rt(f){f._valueTracker||(f._valueTracker=qe(f))}function $e(f){if(!f)return!1;var x=f._valueTracker;if(!x)return!0;var _=x.getValue(),M="";return f&&(M=De(f)?f.checked?"true":"false":f.value),f=M,f!==_?(x.setValue(f),!0):!1}function pe(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}function Ke(f,x){var _=x.checked;return fe({},x,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:_??f._wrapperState.initialChecked})}function et(f,x){var _=x.defaultValue==null?"":x.defaultValue,M=x.checked!=null?x.checked:x.defaultChecked;_=Ue(x.value!=null?x.value:_),f._wrapperState={initialChecked:M,initialValue:_,controlled:x.type==="checkbox"||x.type==="radio"?x.checked!=null:x.value!=null}}function st(f,x){x=x.checked,x!=null&&S(f,"checked",x,!1)}function Qe(f,x){st(f,x);var _=Ue(x.value),M=x.type;if(_!=null)M==="number"?(_===0&&f.value===""||f.value!=_)&&(f.value=""+_):f.value!==""+_&&(f.value=""+_);else if(M==="submit"||M==="reset"){f.removeAttribute("value");return}x.hasOwnProperty("value")?xt(f,x.type,_):x.hasOwnProperty("defaultValue")&&xt(f,x.type,Ue(x.defaultValue)),x.checked==null&&x.defaultChecked!=null&&(f.defaultChecked=!!x.defaultChecked)}function At(f,x,_){if(x.hasOwnProperty("value")||x.hasOwnProperty("defaultValue")){var M=x.type;if(!(M!=="submit"&&M!=="reset"||x.value!==void 0&&x.value!==null))return;x=""+f._wrapperState.initialValue,_||x===f.value||(f.value=x),f.defaultValue=x}_=f.name,_!==""&&(f.name=""),f.defaultChecked=!!f._wrapperState.initialChecked,_!==""&&(f.name=_)}function xt(f,x,_){(x!=="number"||pe(f.ownerDocument)!==f)&&(_==null?f.defaultValue=""+f._wrapperState.initialValue:f.defaultValue!==""+_&&(f.defaultValue=""+_))}var ue=Array.isArray;function Ee(f,x,_,M){if(f=f.options,x){x={};for(var D=0;D<_.length;D++)x["$"+_[D]]=!0;for(_=0;_<f.length;_++)D=x.hasOwnProperty("$"+f[_].value),f[_].selected!==D&&(f[_].selected=D),D&&M&&(f[_].defaultSelected=!0)}else{for(_=""+Ue(_),x=null,D=0;D<f.length;D++){if(f[D].value===_){f[D].selected=!0,M&&(f[D].defaultSelected=!0);return}x!==null||f[D].disabled||(x=f[D])}x!==null&&(x.selected=!0)}}function Ie(f,x){if(x.dangerouslySetInnerHTML!=null)throw Error(s(91));return fe({},x,{value:void 0,defaultValue:void 0,children:""+f._wrapperState.initialValue})}function ne(f,x){var _=x.value;if(_==null){if(_=x.children,x=x.defaultValue,_!=null){if(x!=null)throw Error(s(92));if(ue(_)){if(1<_.length)throw Error(s(93));_=_[0]}x=_}x==null&&(x=""),_=x}f._wrapperState={initialValue:Ue(_)}}function X(f,x){var _=Ue(x.value),M=Ue(x.defaultValue);_!=null&&(_=""+_,_!==f.value&&(f.value=_),x.defaultValue==null&&f.defaultValue!==_&&(f.defaultValue=_)),M!=null&&(f.defaultValue=""+M)}function je(f){var x=f.textContent;x===f._wrapperState.initialValue&&x!==""&&x!==null&&(f.value=x)}function Re(f){switch(f){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nt(f,x){return f==null||f==="http://www.w3.org/1999/xhtml"?Re(x):f==="http://www.w3.org/2000/svg"&&x==="foreignObject"?"http://www.w3.org/1999/xhtml":f}var We,Ft=(function(f){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(x,_,M,D){MSApp.execUnsafeLocalFunction(function(){return f(x,_,M,D)})}:f})(function(f,x){if(f.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in f)f.innerHTML=x;else{for(We=We||document.createElement("div"),We.innerHTML="<svg>"+x.valueOf().toString()+"</svg>",x=We.firstChild;f.firstChild;)f.removeChild(f.firstChild);for(;x.firstChild;)f.appendChild(x.firstChild)}});function Et(f,x){if(x){var _=f.firstChild;if(_&&_===f.lastChild&&_.nodeType===3){_.nodeValue=x;return}}f.textContent=x}var Ut={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qt=["Webkit","ms","Moz","O"];Object.keys(Ut).forEach(function(f){Qt.forEach(function(x){x=x+f.charAt(0).toUpperCase()+f.substring(1),Ut[x]=Ut[f]})});function wt(f,x,_){return x==null||typeof x=="boolean"||x===""?"":_||typeof x!="number"||x===0||Ut.hasOwnProperty(f)&&Ut[f]?(""+x).trim():x+"px"}function _t(f,x){f=f.style;for(var _ in x)if(x.hasOwnProperty(_)){var M=_.indexOf("--")===0,D=wt(_,x[_],M);_==="float"&&(_="cssFloat"),M?f.setProperty(_,D):f[_]=D}}var hn=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(f,x){if(x){if(hn[f]&&(x.children!=null||x.dangerouslySetInnerHTML!=null))throw Error(s(137,f));if(x.dangerouslySetInnerHTML!=null){if(x.children!=null)throw Error(s(60));if(typeof x.dangerouslySetInnerHTML!="object"||!("__html"in x.dangerouslySetInnerHTML))throw Error(s(61))}if(x.style!=null&&typeof x.style!="object")throw Error(s(62))}}function Be(f,x){if(f.indexOf("-")===-1)return typeof x.is=="string";switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bt=null;function _e(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var Le=null,St=null,zt=null;function Tt(f){if(f=km(f)){if(typeof Le!="function")throw Error(s(280));var x=f.stateNode;x&&(x=el(x),Le(f.stateNode,f.type,x))}}function yt(f){St?zt?zt.push(f):zt=[f]:St=f}function Ht(){if(St){var f=St,x=zt;if(zt=St=null,Tt(f),x)for(f=0;f<x.length;f++)Tt(x[f])}}function gn(f,x){return f(x)}function as(){}var Zn=!1;function Wr(f,x,_){if(Zn)return f(x,_);Zn=!0;try{return gn(f,x,_)}finally{Zn=!1,(St!==null||zt!==null)&&(as(),Ht())}}function wr(f,x){var _=f.stateNode;if(_===null)return null;var M=el(_);if(M===null)return null;_=M[x];e:switch(x){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(M=!M.disabled)||(f=f.type,M=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!M;break e;default:f=!1}if(f)return null;if(_&&typeof _!="function")throw Error(s(231,x,typeof _));return _}var hc=!1;if(l)try{var Oa={};Object.defineProperty(Oa,"passive",{get:function(){hc=!0}}),window.addEventListener("test",Oa,Oa),window.removeEventListener("test",Oa,Oa)}catch{hc=!1}function Mo(f,x,_,M,D,z,Z,ve,we){var ze=Array.prototype.slice.call(arguments,3);try{x.apply(_,ze)}catch(vt){this.onError(vt)}}var ka=!1,Di=null,Ur=!1,Ln=null,Po={onError:function(f){ka=!0,Di=f}};function cr(f,x,_,M,D,z,Z,ve,we){ka=!1,Di=null,Mo.apply(Po,arguments)}function Q(f,x,_,M,D,z,Z,ve,we){if(cr.apply(this,arguments),ka){if(ka){var ze=Di;ka=!1,Di=null}else throw Error(s(198));Ur||(Ur=!0,Ln=ze)}}function ce(f){var x=f,_=f;if(f.alternate)for(;x.return;)x=x.return;else{f=x;do x=f,(x.flags&4098)!==0&&(_=x.return),f=x.return;while(f)}return x.tag===3?_:null}function Me(f){if(f.tag===13){var x=f.memoizedState;if(x===null&&(f=f.alternate,f!==null&&(x=f.memoizedState)),x!==null)return x.dehydrated}return null}function tt(f){if(ce(f)!==f)throw Error(s(188))}function ot(f){var x=f.alternate;if(!x){if(x=ce(f),x===null)throw Error(s(188));return x!==f?null:f}for(var _=f,M=x;;){var D=_.return;if(D===null)break;var z=D.alternate;if(z===null){if(M=D.return,M!==null){_=M;continue}break}if(D.child===z.child){for(z=D.child;z;){if(z===_)return tt(D),f;if(z===M)return tt(D),x;z=z.sibling}throw Error(s(188))}if(_.return!==M.return)_=D,M=z;else{for(var Z=!1,ve=D.child;ve;){if(ve===_){Z=!0,_=D,M=z;break}if(ve===M){Z=!0,M=D,_=z;break}ve=ve.sibling}if(!Z){for(ve=z.child;ve;){if(ve===_){Z=!0,_=z,M=D;break}if(ve===M){Z=!0,M=z,_=D;break}ve=ve.sibling}if(!Z)throw Error(s(189))}}if(_.alternate!==M)throw Error(s(190))}if(_.tag!==3)throw Error(s(188));return _.stateNode.current===_?f:x}function it(f){return f=ot(f),f!==null?Mt(f):null}function Mt(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var x=Mt(f);if(x!==null)return x;f=f.sibling}return null}var Y=e.unstable_scheduleCallback,ye=e.unstable_cancelCallback,Ne=e.unstable_shouldYield,Te=e.unstable_requestPaint,xe=e.unstable_now,gt=e.unstable_getCurrentPriorityLevel,at=e.unstable_ImmediatePriority,ft=e.unstable_UserBlockingPriority,jt=e.unstable_NormalPriority,Pt=e.unstable_LowPriority,Vt=e.unstable_IdlePriority,Dt=null,an=null;function $n(f){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(Dt,f,void 0,(f.current.flags&128)===128)}catch{}}var mn=Math.clz32?Math.clz32:Xt,hs=Math.log,Cn=Math.LN2;function Xt(f){return f>>>=0,f===0?32:31-(hs(f)/Cn|0)|0}var xs=64,Qn=4194304;function Es(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function cs(f,x){var _=f.pendingLanes;if(_===0)return 0;var M=0,D=f.suspendedLanes,z=f.pingedLanes,Z=_&268435455;if(Z!==0){var ve=Z&~D;ve!==0?M=Es(ve):(z&=Z,z!==0&&(M=Es(z)))}else Z=_&~D,Z!==0?M=Es(Z):z!==0&&(M=Es(z));if(M===0)return 0;if(x!==0&&x!==M&&(x&D)===0&&(D=M&-M,z=x&-x,D>=z||D===16&&(z&4194240)!==0))return x;if((M&4)!==0&&(M|=_&16),x=f.entangledLanes,x!==0)for(f=f.entanglements,x&=M;0<x;)_=31-mn(x),D=1<<_,M|=f[_],x&=~D;return M}function Cs(f,x){switch(f){case 1:case 2:case 4:return x+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ms(f,x){for(var _=f.suspendedLanes,M=f.pingedLanes,D=f.expirationTimes,z=f.pendingLanes;0<z;){var Z=31-mn(z),ve=1<<Z,we=D[Z];we===-1?((ve&_)===0||(ve&M)!==0)&&(D[Z]=Cs(ve,x)):we<=x&&(f.expiredLanes|=ve),z&=~ve}}function Sn(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function qs(){var f=xs;return xs<<=1,(xs&4194240)===0&&(xs=64),f}function pr(f){for(var x=[],_=0;31>_;_++)x.push(f);return x}function ws(f,x,_){f.pendingLanes|=x,x!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,x=31-mn(x),f[x]=_}function xr(f,x){var _=f.pendingLanes&~x;f.pendingLanes=x,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=x,f.mutableReadLanes&=x,f.entangledLanes&=x,x=f.entanglements;var M=f.eventTimes;for(f=f.expirationTimes;0<_;){var D=31-mn(_),z=1<<D;x[D]=0,M[D]=-1,f[D]=-1,_&=~z}}function fd(f,x){var _=f.entangledLanes|=x;for(f=f.entanglements;_;){var M=31-mn(_),D=1<<M;D&x|f[M]&x&&(f[M]|=x),_&=~D}}var es=0;function gy(f){return f&=-f,1<f?4<f?(f&268435455)!==0?16:536870912:4:1}var um,Lh,vy,Ux,yy,zx=!1,hm=[],fc=null,Pl=null,mc=null,Fh=new Map,vu=new Map,pc=[],Tw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function by(f,x){switch(f){case"focusin":case"focusout":fc=null;break;case"dragenter":case"dragleave":Pl=null;break;case"mouseover":case"mouseout":mc=null;break;case"pointerover":case"pointerout":Fh.delete(x.pointerId);break;case"gotpointercapture":case"lostpointercapture":vu.delete(x.pointerId)}}function yu(f,x,_,M,D,z){return f===null||f.nativeEvent!==z?(f={blockedOn:x,domEventName:_,eventSystemFlags:M,nativeEvent:z,targetContainers:[D]},x!==null&&(x=km(x),x!==null&&Lh(x)),f):(f.eventSystemFlags|=M,x=f.targetContainers,D!==null&&x.indexOf(D)===-1&&x.push(D),f)}function Ew(f,x,_,M,D){switch(x){case"focusin":return fc=yu(fc,f,x,_,M,D),!0;case"dragenter":return Pl=yu(Pl,f,x,_,M,D),!0;case"mouseover":return mc=yu(mc,f,x,_,M,D),!0;case"pointerover":var z=D.pointerId;return Fh.set(z,yu(Fh.get(z)||null,f,x,_,M,D)),!0;case"gotpointercapture":return z=D.pointerId,vu.set(z,yu(vu.get(z)||null,f,x,_,M,D)),!0}return!1}function jy(f){var x=Mu(f.target);if(x!==null){var _=ce(x);if(_!==null){if(x=_.tag,x===13){if(x=Me(_),x!==null){f.blockedOn=x,yy(f.priority,function(){vy(_)});return}}else if(x===3&&_.stateNode.current.memoizedState.isDehydrated){f.blockedOn=_.tag===3?_.stateNode.containerInfo:null;return}}}f.blockedOn=null}function Bx(f){if(f.blockedOn!==null)return!1;for(var x=f.targetContainers;0<x.length;){var _=vc(f.domEventName,f.eventSystemFlags,x[0],f.nativeEvent);if(_===null){_=f.nativeEvent;var M=new _.constructor(_.type,_);bt=M,_.target.dispatchEvent(M),bt=null}else return x=km(_),x!==null&&Lh(x),f.blockedOn=_,!1;x.shift()}return!0}function Mw(f,x,_){Bx(f)&&_.delete(x)}function Pw(){zx=!1,fc!==null&&Bx(fc)&&(fc=null),Pl!==null&&Bx(Pl)&&(Pl=null),mc!==null&&Bx(mc)&&(mc=null),Fh.forEach(Mw),vu.forEach(Mw)}function xc(f,x){f.blockedOn===x&&(f.blockedOn=null,zx||(zx=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Pw)))}function bu(f){function x(D){return xc(D,f)}if(0<hm.length){xc(hm[0],f);for(var _=1;_<hm.length;_++){var M=hm[_];M.blockedOn===f&&(M.blockedOn=null)}}for(fc!==null&&xc(fc,f),Pl!==null&&xc(Pl,f),mc!==null&&xc(mc,f),Fh.forEach(x),vu.forEach(x),_=0;_<pc.length;_++)M=pc[_],M.blockedOn===f&&(M.blockedOn=null);for(;0<pc.length&&(_=pc[0],_.blockedOn===null);)jy(_),_.blockedOn===null&&pc.shift()}var gc=w.ReactCurrentBatchConfig,fm=!0;function Rw(f,x,_,M){var D=es,z=gc.transition;gc.transition=null;try{es=1,Vx(f,x,_,M)}finally{es=D,gc.transition=z}}function wy(f,x,_,M){var D=es,z=gc.transition;gc.transition=null;try{es=4,Vx(f,x,_,M)}finally{es=D,gc.transition=z}}function Vx(f,x,_,M){if(fm){var D=vc(f,x,_,M);if(D===null)cg(f,x,M,mm,_),by(f,M);else if(Ew(D,f,x,_,M))M.stopPropagation();else if(by(f,M),x&4&&-1<Tw.indexOf(f)){for(;D!==null;){var z=km(D);if(z!==null&&um(z),z=vc(f,x,_,M),z===null&&cg(f,x,M,mm,_),z===D)break;D=z}D!==null&&M.stopPropagation()}else cg(f,x,M,null,_)}}var mm=null;function vc(f,x,_,M){if(mm=null,f=_e(M),f=Mu(f),f!==null)if(x=ce(f),x===null)f=null;else if(_=x.tag,_===13){if(f=Me(x),f!==null)return f;f=null}else if(_===3){if(x.stateNode.current.memoizedState.isDehydrated)return x.tag===3?x.stateNode.containerInfo:null;f=null}else x!==f&&(f=null);return mm=f,null}function pm(f){switch(f){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gt()){case at:return 1;case ft:return 4;case jt:case Pt:return 16;case Vt:return 536870912;default:return 16}default:return 16}}var yc=null,xm=null,gm=null;function Ny(){if(gm)return gm;var f,x=xm,_=x.length,M,D="value"in yc?yc.value:yc.textContent,z=D.length;for(f=0;f<_&&x[f]===D[f];f++);var Z=_-f;for(M=1;M<=Z&&x[_-M]===D[z-M];M++);return gm=D.slice(f,1<M?1-M:void 0)}function Hx(f){var x=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&x===13&&(f=13)):f=x,f===10&&(f=13),32<=f||f===13?f:0}function ea(){return!0}function Sy(){return!1}function Li(f){function x(_,M,D,z,Z){this._reactName=_,this._targetInst=D,this.type=M,this.nativeEvent=z,this.target=Z,this.currentTarget=null;for(var ve in f)f.hasOwnProperty(ve)&&(_=f[ve],this[ve]=_?_(z):z[ve]);return this.isDefaultPrevented=(z.defaultPrevented!=null?z.defaultPrevented:z.returnValue===!1)?ea:Sy,this.isPropagationStopped=Sy,this}return fe(x.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _=this.nativeEvent;_&&(_.preventDefault?_.preventDefault():typeof _.returnValue!="unknown"&&(_.returnValue=!1),this.isDefaultPrevented=ea)},stopPropagation:function(){var _=this.nativeEvent;_&&(_.stopPropagation?_.stopPropagation():typeof _.cancelBubble!="unknown"&&(_.cancelBubble=!0),this.isPropagationStopped=ea)},persist:function(){},isPersistent:ea}),x}var ju={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gx=Li(ju),Uh=fe({},ju,{view:0,detail:0}),vm=Li(Uh),ym,$x,zh,bm=fe({},Uh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wm,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==zh&&(zh&&f.type==="mousemove"?(ym=f.screenX-zh.screenX,$x=f.screenY-zh.screenY):$x=ym=0,zh=f),ym)},movementY:function(f){return"movementY"in f?f.movementY:$x}}),qx=Li(bm),_y=fe({},bm,{dataTransfer:0}),Ow=Li(_y),Ay=fe({},Uh,{relatedTarget:0}),jm=Li(Ay),Cy=fe({},ju,{animationName:0,elapsedTime:0,pseudoElement:0}),kw=Li(Cy),Ty=fe({},ju,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),Iw=Li(Ty),bc=fe({},ju,{data:0}),Wx=Li(bc),LT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},md={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jc(f){var x=this.nativeEvent;return x.getModifierState?x.getModifierState(f):(f=md[f])?!!x[f]:!1}function wm(){return jc}var Ey=fe({},Uh,{key:function(f){if(f.key){var x=LT[f.key]||f.key;if(x!=="Unidentified")return x}return f.type==="keypress"?(f=Hx(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?Dw[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wm,charCode:function(f){return f.type==="keypress"?Hx(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?Hx(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),Nm=Li(Ey),Kx=fe({},bm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pd=Li(Kx),ni=fe({},Uh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wm}),Xx=Li(ni),Lw=fe({},ju,{propertyName:0,elapsedTime:0,pseudoElement:0}),My=Li(Lw),Sm=fe({},bm,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),Py=Li(Sm),Zx=[9,13,27,32],Yx=l&&"CompositionEvent"in window,Ia=null;l&&"documentMode"in document&&(Ia=document.documentMode);var Fw=l&&"TextEvent"in window&&!Ia,Qx=l&&(!Yx||Ia&&8<Ia&&11>=Ia),Ry=" ",Oy=!1;function Jx(f,x){switch(f){case"keyup":return Zx.indexOf(x.keyCode)!==-1;case"keydown":return x.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eg(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var wu=!1;function tg(f,x){switch(f){case"compositionend":return eg(x);case"keypress":return x.which!==32?null:(Oy=!0,Ry);case"textInput":return f=x.data,f===Ry&&Oy?null:f;default:return null}}function _m(f,x){if(wu)return f==="compositionend"||!Yx&&Jx(f,x)?(f=Ny(),gm=xm=yc=null,wu=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(x.ctrlKey||x.altKey||x.metaKey)||x.ctrlKey&&x.altKey){if(x.char&&1<x.char.length)return x.char;if(x.which)return String.fromCharCode(x.which)}return null;case"compositionend":return Qx&&x.locale!=="ko"?null:x.data;default:return null}}var Mr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uw(f){var x=f&&f.nodeName&&f.nodeName.toLowerCase();return x==="input"?!!Mr[f.type]:x==="textarea"}function zw(f,x,_,M){yt(M),x=Sc(x,"onChange"),0<x.length&&(_=new Gx("onChange","change",null,_,M),f.push({event:_,listeners:x}))}var Bh=null,wc=null;function xd(f){ri(f,0)}function Am(f){var x=jd(f);if($e(x))return f}function Bw(f,x){if(f==="change")return x}var gd=!1;if(l){var vi;if(l){var ng="oninput"in document;if(!ng){var ky=document.createElement("div");ky.setAttribute("oninput","return;"),ng=typeof ky.oninput=="function"}vi=ng}else vi=!1;gd=vi&&(!document.documentMode||9<document.documentMode)}function Iy(){Bh&&(Bh.detachEvent("onpropertychange",sg),wc=Bh=null)}function sg(f){if(f.propertyName==="value"&&Am(wc)){var x=[];zw(x,wc,f,_e(f)),Wr(xd,x)}}function Dy(f,x,_){f==="focusin"?(Iy(),Bh=x,wc=_,Bh.attachEvent("onpropertychange",sg)):f==="focusout"&&Iy()}function rg(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return Am(wc)}function Vw(f,x){if(f==="click")return Am(x)}function FT(f,x){if(f==="input"||f==="change")return Am(x)}function Hw(f,x){return f===x&&(f!==0||1/f===1/x)||f!==f&&x!==x}var Ro=typeof Object.is=="function"?Object.is:Hw;function yi(f,x){if(Ro(f,x))return!0;if(typeof f!="object"||f===null||typeof x!="object"||x===null)return!1;var _=Object.keys(f),M=Object.keys(x);if(_.length!==M.length)return!1;for(M=0;M<_.length;M++){var D=_[M];if(!c.call(x,D)||!Ro(f[D],x[D]))return!1}return!0}function ag(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function Ly(f,x){var _=ag(f);f=0;for(var M;_;){if(_.nodeType===3){if(M=f+_.textContent.length,f<=x&&M>=x)return{node:_,offset:x-f};f=M}e:{for(;_;){if(_.nextSibling){_=_.nextSibling;break e}_=_.parentNode}_=void 0}_=ag(_)}}function Gw(f,x){return f&&x?f===x?!0:f&&f.nodeType===3?!1:x&&x.nodeType===3?Gw(f,x.parentNode):"contains"in f?f.contains(x):f.compareDocumentPosition?!!(f.compareDocumentPosition(x)&16):!1:!1}function ig(){for(var f=window,x=pe();x instanceof f.HTMLIFrameElement;){try{var _=typeof x.contentWindow.location.href=="string"}catch{_=!1}if(_)f=x.contentWindow;else break;x=pe(f.document)}return x}function si(f){var x=f&&f.nodeName&&f.nodeName.toLowerCase();return x&&(x==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||x==="textarea"||f.contentEditable==="true")}function $w(f){var x=ig(),_=f.focusedElem,M=f.selectionRange;if(x!==_&&_&&_.ownerDocument&&Gw(_.ownerDocument.documentElement,_)){if(M!==null&&si(_)){if(x=M.start,f=M.end,f===void 0&&(f=x),"selectionStart"in _)_.selectionStart=x,_.selectionEnd=Math.min(f,_.value.length);else if(f=(x=_.ownerDocument||document)&&x.defaultView||window,f.getSelection){f=f.getSelection();var D=_.textContent.length,z=Math.min(M.start,D);M=M.end===void 0?z:Math.min(M.end,D),!f.extend&&z>M&&(D=M,M=z,z=D),D=Ly(_,z);var Z=Ly(_,M);D&&Z&&(f.rangeCount!==1||f.anchorNode!==D.node||f.anchorOffset!==D.offset||f.focusNode!==Z.node||f.focusOffset!==Z.offset)&&(x=x.createRange(),x.setStart(D.node,D.offset),f.removeAllRanges(),z>M?(f.addRange(x),f.extend(Z.node,Z.offset)):(x.setEnd(Z.node,Z.offset),f.addRange(x)))}}for(x=[],f=_;f=f.parentNode;)f.nodeType===1&&x.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<x.length;_++)f=x[_],f.element.scrollLeft=f.left,f.element.scrollTop=f.top}}var so=l&&"documentMode"in document&&11>=document.documentMode,Nu=null,Jo=null,Rl=null,Ol=!1;function og(f,x,_){var M=_.window===_?_.document:_.nodeType===9?_:_.ownerDocument;Ol||Nu==null||Nu!==pe(M)||(M=Nu,"selectionStart"in M&&si(M)?M={start:M.selectionStart,end:M.selectionEnd}:(M=(M.ownerDocument&&M.ownerDocument.defaultView||window).getSelection(),M={anchorNode:M.anchorNode,anchorOffset:M.anchorOffset,focusNode:M.focusNode,focusOffset:M.focusOffset}),Rl&&yi(Rl,M)||(Rl=M,M=Sc(Jo,"onSelect"),0<M.length&&(x=new Gx("onSelect","select",null,x,_),f.push({event:x,listeners:M}),x.target=Nu)))}function Vh(f,x){var _={};return _[f.toLowerCase()]=x.toLowerCase(),_["Webkit"+f]="webkit"+x,_["Moz"+f]="moz"+x,_}var ro={animationend:Vh("Animation","AnimationEnd"),animationiteration:Vh("Animation","AnimationIteration"),animationstart:Vh("Animation","AnimationStart"),transitionend:Vh("Transition","TransitionEnd")},lg={},Su={};l&&(Su=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function vd(f){if(lg[f])return lg[f];if(!ro[f])return f;var x=ro[f],_;for(_ in x)if(x.hasOwnProperty(_)&&_ in Su)return lg[f]=x[_];return f}var yd=vd("animationend"),Fy=vd("animationiteration"),Uy=vd("animationstart"),Hh=vd("transitionend"),zy=new Map,Cm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nc(f,x){zy.set(f,x),i(x,[f])}for(var Tm=0;Tm<Cm.length;Tm++){var Em=Cm[Tm],By=Em.toLowerCase(),qw=Em[0].toUpperCase()+Em.slice(1);Nc(By,"on"+qw)}Nc(yd,"onAnimationEnd"),Nc(Fy,"onAnimationIteration"),Nc(Uy,"onAnimationStart"),Nc("dblclick","onDoubleClick"),Nc("focusin","onFocus"),Nc("focusout","onBlur"),Nc(Hh,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ao=new Set("cancel close invalid load scroll toggle".split(" ").concat(_u));function Vy(f,x,_){var M=f.type||"unknown-event";f.currentTarget=_,Q(M,x,void 0,f),f.currentTarget=null}function ri(f,x){x=(x&4)!==0;for(var _=0;_<f.length;_++){var M=f[_],D=M.event;M=M.listeners;e:{var z=void 0;if(x)for(var Z=M.length-1;0<=Z;Z--){var ve=M[Z],we=ve.instance,ze=ve.currentTarget;if(ve=ve.listener,we!==z&&D.isPropagationStopped())break e;Vy(D,ve,ze),z=we}else for(Z=0;Z<M.length;Z++){if(ve=M[Z],we=ve.instance,ze=ve.currentTarget,ve=ve.listener,we!==z&&D.isPropagationStopped())break e;Vy(D,ve,ze),z=we}}}if(Ur)throw f=Ln,Ur=!1,Ln=null,f}function dr(f,x){var _=x[mg];_===void 0&&(_=x[mg]=new Set);var M=f+"__bubble";_.has(M)||(kl(x,f,2,!1),_.add(M))}function Mm(f,x,_){var M=0;x&&(M|=4),kl(_,f,M,x)}var Pm="_reactListening"+Math.random().toString(36).slice(2);function Rm(f){if(!f[Pm]){f[Pm]=!0,r.forEach(function(_){_!=="selectionchange"&&(ao.has(_)||Mm(_,!1,f),Mm(_,!0,f))});var x=f.nodeType===9?f:f.ownerDocument;x===null||x[Pm]||(x[Pm]=!0,Mm("selectionchange",!1,x))}}function kl(f,x,_,M){switch(pm(x)){case 1:var D=Rw;break;case 4:D=wy;break;default:D=Vx}_=D.bind(null,x,_,f),D=void 0,!hc||x!=="touchstart"&&x!=="touchmove"&&x!=="wheel"||(D=!0),M?D!==void 0?f.addEventListener(x,_,{capture:!0,passive:D}):f.addEventListener(x,_,!0):D!==void 0?f.addEventListener(x,_,{passive:D}):f.addEventListener(x,_,!1)}function cg(f,x,_,M,D){var z=M;if((x&1)===0&&(x&2)===0&&M!==null)e:for(;;){if(M===null)return;var Z=M.tag;if(Z===3||Z===4){var ve=M.stateNode.containerInfo;if(ve===D||ve.nodeType===8&&ve.parentNode===D)break;if(Z===4)for(Z=M.return;Z!==null;){var we=Z.tag;if((we===3||we===4)&&(we=Z.stateNode.containerInfo,we===D||we.nodeType===8&&we.parentNode===D))return;Z=Z.return}for(;ve!==null;){if(Z=Mu(ve),Z===null)return;if(we=Z.tag,we===5||we===6){M=z=Z;continue e}ve=ve.parentNode}}M=M.return}Wr(function(){var ze=z,vt=_e(_),ut=[];e:{var Nt=zy.get(f);if(Nt!==void 0){var Jt=Gx,pn=f;switch(f){case"keypress":if(Hx(_)===0)break e;case"keydown":case"keyup":Jt=Nm;break;case"focusin":pn="focus",Jt=jm;break;case"focusout":pn="blur",Jt=jm;break;case"beforeblur":case"afterblur":Jt=jm;break;case"click":if(_.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Jt=qx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Jt=Ow;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Jt=Xx;break;case yd:case Fy:case Uy:Jt=kw;break;case Hh:Jt=My;break;case"scroll":Jt=vm;break;case"wheel":Jt=Py;break;case"copy":case"cut":case"paste":Jt=Iw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Jt=pd}var bn=(x&4)!==0,ma=!bn&&f==="scroll",Xe=bn?Nt!==null?Nt+"Capture":null:Nt;bn=[];for(var ke=ze,Je;ke!==null;){Je=ke;var It=Je.stateNode;if(Je.tag===5&&It!==null&&(Je=It,Xe!==null&&(It=wr(ke,Xe),It!=null&&bn.push(Au(ke,It,Je)))),ma)break;ke=ke.return}0<bn.length&&(Nt=new Jt(Nt,pn,null,_,vt),ut.push({event:Nt,listeners:bn}))}}if((x&7)===0){e:{if(Nt=f==="mouseover"||f==="pointerover",Jt=f==="mouseout"||f==="pointerout",Nt&&_!==bt&&(pn=_.relatedTarget||_.fromElement)&&(Mu(pn)||pn[Ac]))break e;if((Jt||Nt)&&(Nt=vt.window===vt?vt:(Nt=vt.ownerDocument)?Nt.defaultView||Nt.parentWindow:window,Jt?(pn=_.relatedTarget||_.toElement,Jt=ze,pn=pn?Mu(pn):null,pn!==null&&(ma=ce(pn),pn!==ma||pn.tag!==5&&pn.tag!==6)&&(pn=null)):(Jt=null,pn=ze),Jt!==pn)){if(bn=qx,It="onMouseLeave",Xe="onMouseEnter",ke="mouse",(f==="pointerout"||f==="pointerover")&&(bn=pd,It="onPointerLeave",Xe="onPointerEnter",ke="pointer"),ma=Jt==null?Nt:jd(Jt),Je=pn==null?Nt:jd(pn),Nt=new bn(It,ke+"leave",Jt,_,vt),Nt.target=ma,Nt.relatedTarget=Je,It=null,Mu(vt)===ze&&(bn=new bn(Xe,ke+"enter",pn,_,vt),bn.target=Je,bn.relatedTarget=ma,It=bn),ma=It,Jt&&pn)t:{for(bn=Jt,Xe=pn,ke=0,Je=bn;Je;Je=Cu(Je))ke++;for(Je=0,It=Xe;It;It=Cu(It))Je++;for(;0<ke-Je;)bn=Cu(bn),ke--;for(;0<Je-ke;)Xe=Cu(Xe),Je--;for(;ke--;){if(bn===Xe||Xe!==null&&bn===Xe.alternate)break t;bn=Cu(bn),Xe=Cu(Xe)}bn=null}else bn=null;Jt!==null&&Hy(ut,Nt,Jt,bn,!1),pn!==null&&ma!==null&&Hy(ut,ma,pn,bn,!0)}}e:{if(Nt=ze?jd(ze):window,Jt=Nt.nodeName&&Nt.nodeName.toLowerCase(),Jt==="select"||Jt==="input"&&Nt.type==="file")var _n=Bw;else if(Uw(Nt))if(gd)_n=FT;else{_n=rg;var Un=Dy}else(Jt=Nt.nodeName)&&Jt.toLowerCase()==="input"&&(Nt.type==="checkbox"||Nt.type==="radio")&&(_n=Vw);if(_n&&(_n=_n(f,ze))){zw(ut,_n,_,vt);break e}Un&&Un(f,Nt,ze),f==="focusout"&&(Un=Nt._wrapperState)&&Un.controlled&&Nt.type==="number"&&xt(Nt,"number",Nt.value)}switch(Un=ze?jd(ze):window,f){case"focusin":(Uw(Un)||Un.contentEditable==="true")&&(Nu=Un,Jo=ze,Rl=null);break;case"focusout":Rl=Jo=Nu=null;break;case"mousedown":Ol=!0;break;case"contextmenu":case"mouseup":case"dragend":Ol=!1,og(ut,_,vt);break;case"selectionchange":if(so)break;case"keydown":case"keyup":og(ut,_,vt)}var zn;if(Yx)e:{switch(f){case"compositionstart":var Yn="onCompositionStart";break e;case"compositionend":Yn="onCompositionEnd";break e;case"compositionupdate":Yn="onCompositionUpdate";break e}Yn=void 0}else wu?Jx(f,_)&&(Yn="onCompositionEnd"):f==="keydown"&&_.keyCode===229&&(Yn="onCompositionStart");Yn&&(Qx&&_.locale!=="ko"&&(wu||Yn!=="onCompositionStart"?Yn==="onCompositionEnd"&&wu&&(zn=Ny()):(yc=vt,xm="value"in yc?yc.value:yc.textContent,wu=!0)),Un=Sc(ze,Yn),0<Un.length&&(Yn=new Wx(Yn,f,null,_,vt),ut.push({event:Yn,listeners:Un}),zn?Yn.data=zn:(zn=eg(_),zn!==null&&(Yn.data=zn)))),(zn=Fw?tg(f,_):_m(f,_))&&(ze=Sc(ze,"onBeforeInput"),0<ze.length&&(vt=new Wx("onBeforeInput","beforeinput",null,_,vt),ut.push({event:vt,listeners:ze}),vt.data=zn))}ri(ut,x)})}function Au(f,x,_){return{instance:f,listener:x,currentTarget:_}}function Sc(f,x){for(var _=x+"Capture",M=[];f!==null;){var D=f,z=D.stateNode;D.tag===5&&z!==null&&(D=z,z=wr(f,_),z!=null&&M.unshift(Au(f,z,D)),z=wr(f,x),z!=null&&M.push(Au(f,z,D))),f=f.return}return M}function Cu(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5);return f||null}function Hy(f,x,_,M,D){for(var z=x._reactName,Z=[];_!==null&&_!==M;){var ve=_,we=ve.alternate,ze=ve.stateNode;if(we!==null&&we===M)break;ve.tag===5&&ze!==null&&(ve=ze,D?(we=wr(_,z),we!=null&&Z.unshift(Au(_,we,ve))):D||(we=wr(_,z),we!=null&&Z.push(Au(_,we,ve)))),_=_.return}Z.length!==0&&f.push({event:x,listeners:Z})}var Ww=/\r\n?/g,Kw=/\u0000|\uFFFD/g;function dg(f){return(typeof f=="string"?f:""+f).replace(Ww,`
`).replace(Kw,"")}function Gh(f,x,_){if(x=dg(x),dg(f)!==x&&_)throw Error(s(425))}function ug(){}var Gy=null,$y=null;function hg(f,x){return f==="textarea"||f==="noscript"||typeof x.children=="string"||typeof x.children=="number"||typeof x.dangerouslySetInnerHTML=="object"&&x.dangerouslySetInnerHTML!==null&&x.dangerouslySetInnerHTML.__html!=null}var fg=typeof setTimeout=="function"?setTimeout:void 0,$h=typeof clearTimeout=="function"?clearTimeout:void 0,Om=typeof Promise=="function"?Promise:void 0,Xw=typeof queueMicrotask=="function"?queueMicrotask:typeof Om<"u"?function(f){return Om.resolve(null).then(f).catch(Zw)}:fg;function Zw(f){setTimeout(function(){throw f})}function qy(f,x){var _=x,M=0;do{var D=_.nextSibling;if(f.removeChild(_),D&&D.nodeType===8)if(_=D.data,_==="/$"){if(M===0){f.removeChild(D),bu(x);return}M--}else _!=="$"&&_!=="$?"&&_!=="$!"||M++;_=D}while(_);bu(x)}function _c(f){for(;f!=null;f=f.nextSibling){var x=f.nodeType;if(x===1||x===3)break;if(x===8){if(x=f.data,x==="$"||x==="$!"||x==="$?")break;if(x==="/$")return null}}return f}function bd(f){f=f.previousSibling;for(var x=0;f;){if(f.nodeType===8){var _=f.data;if(_==="$"||_==="$!"||_==="$?"){if(x===0)return f;x--}else _==="/$"&&x++}f=f.previousSibling}return null}var Tu=Math.random().toString(36).slice(2),gs="__reactFiber$"+Tu,Eu="__reactProps$"+Tu,Ac="__reactContainer$"+Tu,mg="__reactEvents$"+Tu,UT="__reactListeners$"+Tu,zT="__reactHandles$"+Tu;function Mu(f){var x=f[gs];if(x)return x;for(var _=f.parentNode;_;){if(x=_[Ac]||_[gs]){if(_=x.alternate,x.child!==null||_!==null&&_.child!==null)for(f=bd(f);f!==null;){if(_=f[gs])return _;f=bd(f)}return x}f=_,_=f.parentNode}return null}function km(f){return f=f[gs]||f[Ac],!f||f.tag!==5&&f.tag!==6&&f.tag!==13&&f.tag!==3?null:f}function jd(f){if(f.tag===5||f.tag===6)return f.stateNode;throw Error(s(33))}function el(f){return f[Eu]||null}var pg=[],Cc=-1;function Fi(f){return{current:f}}function ur(f){0>Cc||(f.current=pg[Cc],pg[Cc]=null,Cc--)}function Zs(f,x){Cc++,pg[Cc]=f.current,f.current=x}var Il={},ai=Fi(Il),bi=Fi(!1),wd=Il;function Pu(f,x){var _=f.type.contextTypes;if(!_)return Il;var M=f.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===x)return M.__reactInternalMemoizedMaskedChildContext;var D={},z;for(z in _)D[z]=x[z];return M&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=x,f.__reactInternalMemoizedMaskedChildContext=D),D}function ji(f){return f=f.childContextTypes,f!=null}function Im(){ur(bi),ur(ai)}function xg(f,x,_){if(ai.current!==Il)throw Error(s(168));Zs(ai,x),Zs(bi,_)}function vs(f,x,_){var M=f.stateNode;if(x=x.childContextTypes,typeof M.getChildContext!="function")return _;M=M.getChildContext();for(var D in M)if(!(D in x))throw Error(s(108,Ce(f)||"Unknown",D));return fe({},_,M)}function gg(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||Il,wd=ai.current,Zs(ai,f),Zs(bi,bi.current),!0}function Ui(f,x,_){var M=f.stateNode;if(!M)throw Error(s(169));_?(f=vs(f,x,wd),M.__reactInternalMemoizedMergedChildContext=f,ur(bi),ur(ai),Zs(ai,f)):ur(bi),Zs(bi,_)}var tl=null,vg=!1,qh=!1;function Ru(f){tl===null?tl=[f]:tl.push(f)}function Wh(f){vg=!0,Ru(f)}function Tc(){if(!qh&&tl!==null){qh=!0;var f=0,x=es;try{var _=tl;for(es=1;f<_.length;f++){var M=_[f];do M=M(!0);while(M!==null)}tl=null,vg=!1}catch(D){throw tl!==null&&(tl=tl.slice(f+1)),Y(at,Tc),D}finally{es=x,qh=!1}}return null}var Nd=[],Kh=0,Dm=null,nl=0,zi=[],Bi=0,Ec=null,sl=1,ii="";function Sd(f,x){Nd[Kh++]=nl,Nd[Kh++]=Dm,Dm=f,nl=x}function Yw(f,x,_){zi[Bi++]=sl,zi[Bi++]=ii,zi[Bi++]=Ec,Ec=f;var M=sl;f=ii;var D=32-mn(M)-1;M&=~(1<<D),_+=1;var z=32-mn(x)+D;if(30<z){var Z=D-D%5;z=(M&(1<<Z)-1).toString(32),M>>=Z,D-=Z,sl=1<<32-mn(x)+D|_<<D|M,ii=z+f}else sl=1<<z|_<<D|M,ii=f}function yg(f){f.return!==null&&(Sd(f,1),Yw(f,1,0))}function Wy(f){for(;f===Dm;)Dm=Nd[--Kh],Nd[Kh]=null,nl=Nd[--Kh],Nd[Kh]=null;for(;f===Ec;)Ec=zi[--Bi],zi[Bi]=null,ii=zi[--Bi],zi[Bi]=null,sl=zi[--Bi],zi[Bi]=null}var Tn=null,wi=null,gr=!1,io=null;function Lm(f,x){var _=Ir(5,null,null,0);_.elementType="DELETED",_.stateNode=x,_.return=f,x=f.deletions,x===null?(f.deletions=[_],f.flags|=16):x.push(_)}function Qw(f,x){switch(f.tag){case 5:var _=f.type;return x=x.nodeType!==1||_.toLowerCase()!==x.nodeName.toLowerCase()?null:x,x!==null?(f.stateNode=x,Tn=f,wi=_c(x.firstChild),!0):!1;case 6:return x=f.pendingProps===""||x.nodeType!==3?null:x,x!==null?(f.stateNode=x,Tn=f,wi=null,!0):!1;case 13:return x=x.nodeType!==8?null:x,x!==null?(_=Ec!==null?{id:sl,overflow:ii}:null,f.memoizedState={dehydrated:x,treeContext:_,retryLane:1073741824},_=Ir(18,null,null,0),_.stateNode=x,_.return=f,f.child=_,Tn=f,wi=null,!0):!1;default:return!1}}function Ky(f){return(f.mode&1)!==0&&(f.flags&128)===0}function bg(f){if(gr){var x=wi;if(x){var _=x;if(!Qw(f,x)){if(Ky(f))throw Error(s(418));x=_c(_.nextSibling);var M=Tn;x&&Qw(f,x)?Lm(M,_):(f.flags=f.flags&-4097|2,gr=!1,Tn=f)}}else{if(Ky(f))throw Error(s(418));f.flags=f.flags&-4097|2,gr=!1,Tn=f}}}function Xh(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;Tn=f}function jg(f){if(f!==Tn)return!1;if(!gr)return Xh(f),gr=!0,!1;var x;if((x=f.tag!==3)&&!(x=f.tag!==5)&&(x=f.type,x=x!=="head"&&x!=="body"&&!hg(f.type,f.memoizedProps)),x&&(x=wi)){if(Ky(f))throw Jw(),Error(s(418));for(;x;)Lm(f,x),x=_c(x.nextSibling)}if(Xh(f),f.tag===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));e:{for(f=f.nextSibling,x=0;f;){if(f.nodeType===8){var _=f.data;if(_==="/$"){if(x===0){wi=_c(f.nextSibling);break e}x--}else _!=="$"&&_!=="$!"&&_!=="$?"||x++}f=f.nextSibling}wi=null}}else wi=Tn?_c(f.stateNode.nextSibling):null;return!0}function Jw(){for(var f=wi;f;)f=_c(f.nextSibling)}function Zh(){wi=Tn=null,gr=!1}function Xy(f){io===null?io=[f]:io.push(f)}var BT=w.ReactCurrentBatchConfig;function Ou(f,x,_){if(f=_.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(_._owner){if(_=_._owner,_){if(_.tag!==1)throw Error(s(309));var M=_.stateNode}if(!M)throw Error(s(147,f));var D=M,z=""+f;return x!==null&&x.ref!==null&&typeof x.ref=="function"&&x.ref._stringRef===z?x.ref:(x=function(Z){var ve=D.refs;Z===null?delete ve[z]:ve[z]=Z},x._stringRef=z,x)}if(typeof f!="string")throw Error(s(284));if(!_._owner)throw Error(s(290,f))}return f}function Fm(f,x){throw f=Object.prototype.toString.call(x),Error(s(31,f==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":f))}function Um(f){var x=f._init;return x(f._payload)}function Zy(f){function x(Xe,ke){if(f){var Je=Xe.deletions;Je===null?(Xe.deletions=[ke],Xe.flags|=16):Je.push(ke)}}function _(Xe,ke){if(!f)return null;for(;ke!==null;)x(Xe,ke),ke=ke.sibling;return null}function M(Xe,ke){for(Xe=new Map;ke!==null;)ke.key!==null?Xe.set(ke.key,ke):Xe.set(ke.index,ke),ke=ke.sibling;return Xe}function D(Xe,ke){return Xe=za(Xe,ke),Xe.index=0,Xe.sibling=null,Xe}function z(Xe,ke,Je){return Xe.index=Je,f?(Je=Xe.alternate,Je!==null?(Je=Je.index,Je<ke?(Xe.flags|=2,ke):Je):(Xe.flags|=2,ke)):(Xe.flags|=1048576,ke)}function Z(Xe){return f&&Xe.alternate===null&&(Xe.flags|=2),Xe}function ve(Xe,ke,Je,It){return ke===null||ke.tag!==6?(ke=hf(Je,Xe.mode,It),ke.return=Xe,ke):(ke=D(ke,Je),ke.return=Xe,ke)}function we(Xe,ke,Je,It){var _n=Je.type;return _n===P?vt(Xe,ke,Je.props.children,It,Je.key):ke!==null&&(ke.elementType===_n||typeof _n=="object"&&_n!==null&&_n.$$typeof===W&&Um(_n)===ke.type)?(It=D(ke,Je.props),It.ref=Ou(Xe,ke,Je),It.return=Xe,It):(It=uf(Je.type,Je.key,Je.props,null,Xe.mode,It),It.ref=Ou(Xe,ke,Je),It.return=Xe,It)}function ze(Xe,ke,Je,It){return ke===null||ke.tag!==4||ke.stateNode.containerInfo!==Je.containerInfo||ke.stateNode.implementation!==Je.implementation?(ke=Wl(Je,Xe.mode,It),ke.return=Xe,ke):(ke=D(ke,Je.children||[]),ke.return=Xe,ke)}function vt(Xe,ke,Je,It,_n){return ke===null||ke.tag!==7?(ke=Bc(Je,Xe.mode,It,_n),ke.return=Xe,ke):(ke=D(ke,Je),ke.return=Xe,ke)}function ut(Xe,ke,Je){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return ke=hf(""+ke,Xe.mode,Je),ke.return=Xe,ke;if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case E:return Je=uf(ke.type,ke.key,ke.props,null,Xe.mode,Je),Je.ref=Ou(Xe,null,ke),Je.return=Xe,Je;case T:return ke=Wl(ke,Xe.mode,Je),ke.return=Xe,ke;case W:var It=ke._init;return ut(Xe,It(ke._payload),Je)}if(ue(ke)||ae(ke))return ke=Bc(ke,Xe.mode,Je,null),ke.return=Xe,ke;Fm(Xe,ke)}return null}function Nt(Xe,ke,Je,It){var _n=ke!==null?ke.key:null;if(typeof Je=="string"&&Je!==""||typeof Je=="number")return _n!==null?null:ve(Xe,ke,""+Je,It);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case E:return Je.key===_n?we(Xe,ke,Je,It):null;case T:return Je.key===_n?ze(Xe,ke,Je,It):null;case W:return _n=Je._init,Nt(Xe,ke,_n(Je._payload),It)}if(ue(Je)||ae(Je))return _n!==null?null:vt(Xe,ke,Je,It,null);Fm(Xe,Je)}return null}function Jt(Xe,ke,Je,It,_n){if(typeof It=="string"&&It!==""||typeof It=="number")return Xe=Xe.get(Je)||null,ve(ke,Xe,""+It,_n);if(typeof It=="object"&&It!==null){switch(It.$$typeof){case E:return Xe=Xe.get(It.key===null?Je:It.key)||null,we(ke,Xe,It,_n);case T:return Xe=Xe.get(It.key===null?Je:It.key)||null,ze(ke,Xe,It,_n);case W:var Un=It._init;return Jt(Xe,ke,Je,Un(It._payload),_n)}if(ue(It)||ae(It))return Xe=Xe.get(Je)||null,vt(ke,Xe,It,_n,null);Fm(ke,It)}return null}function pn(Xe,ke,Je,It){for(var _n=null,Un=null,zn=ke,Yn=ke=0,di=null;zn!==null&&Yn<Je.length;Yn++){zn.index>Yn?(di=zn,zn=null):di=zn.sibling;var zs=Nt(Xe,zn,Je[Yn],It);if(zs===null){zn===null&&(zn=di);break}f&&zn&&zs.alternate===null&&x(Xe,zn),ke=z(zs,ke,Yn),Un===null?_n=zs:Un.sibling=zs,Un=zs,zn=di}if(Yn===Je.length)return _(Xe,zn),gr&&Sd(Xe,Yn),_n;if(zn===null){for(;Yn<Je.length;Yn++)zn=ut(Xe,Je[Yn],It),zn!==null&&(ke=z(zn,ke,Yn),Un===null?_n=zn:Un.sibling=zn,Un=zn);return gr&&Sd(Xe,Yn),_n}for(zn=M(Xe,zn);Yn<Je.length;Yn++)di=Jt(zn,Xe,Yn,Je[Yn],It),di!==null&&(f&&di.alternate!==null&&zn.delete(di.key===null?Yn:di.key),ke=z(di,ke,Yn),Un===null?_n=di:Un.sibling=di,Un=di);return f&&zn.forEach(function(mf){return x(Xe,mf)}),gr&&Sd(Xe,Yn),_n}function bn(Xe,ke,Je,It){var _n=ae(Je);if(typeof _n!="function")throw Error(s(150));if(Je=_n.call(Je),Je==null)throw Error(s(151));for(var Un=_n=null,zn=ke,Yn=ke=0,di=null,zs=Je.next();zn!==null&&!zs.done;Yn++,zs=Je.next()){zn.index>Yn?(di=zn,zn=null):di=zn.sibling;var mf=Nt(Xe,zn,zs.value,It);if(mf===null){zn===null&&(zn=di);break}f&&zn&&mf.alternate===null&&x(Xe,zn),ke=z(mf,ke,Yn),Un===null?_n=mf:Un.sibling=mf,Un=mf,zn=di}if(zs.done)return _(Xe,zn),gr&&Sd(Xe,Yn),_n;if(zn===null){for(;!zs.done;Yn++,zs=Je.next())zs=ut(Xe,zs.value,It),zs!==null&&(ke=z(zs,ke,Yn),Un===null?_n=zs:Un.sibling=zs,Un=zs);return gr&&Sd(Xe,Yn),_n}for(zn=M(Xe,zn);!zs.done;Yn++,zs=Je.next())zs=Jt(zn,Xe,Yn,zs.value,It),zs!==null&&(f&&zs.alternate!==null&&zn.delete(zs.key===null?Yn:zs.key),ke=z(zs,ke,Yn),Un===null?_n=zs:Un.sibling=zs,Un=zs);return f&&zn.forEach(function(Ane){return x(Xe,Ane)}),gr&&Sd(Xe,Yn),_n}function ma(Xe,ke,Je,It){if(typeof Je=="object"&&Je!==null&&Je.type===P&&Je.key===null&&(Je=Je.props.children),typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case E:e:{for(var _n=Je.key,Un=ke;Un!==null;){if(Un.key===_n){if(_n=Je.type,_n===P){if(Un.tag===7){_(Xe,Un.sibling),ke=D(Un,Je.props.children),ke.return=Xe,Xe=ke;break e}}else if(Un.elementType===_n||typeof _n=="object"&&_n!==null&&_n.$$typeof===W&&Um(_n)===Un.type){_(Xe,Un.sibling),ke=D(Un,Je.props),ke.ref=Ou(Xe,Un,Je),ke.return=Xe,Xe=ke;break e}_(Xe,Un);break}else x(Xe,Un);Un=Un.sibling}Je.type===P?(ke=Bc(Je.props.children,Xe.mode,It,Je.key),ke.return=Xe,Xe=ke):(It=uf(Je.type,Je.key,Je.props,null,Xe.mode,It),It.ref=Ou(Xe,ke,Je),It.return=Xe,Xe=It)}return Z(Xe);case T:e:{for(Un=Je.key;ke!==null;){if(ke.key===Un)if(ke.tag===4&&ke.stateNode.containerInfo===Je.containerInfo&&ke.stateNode.implementation===Je.implementation){_(Xe,ke.sibling),ke=D(ke,Je.children||[]),ke.return=Xe,Xe=ke;break e}else{_(Xe,ke);break}else x(Xe,ke);ke=ke.sibling}ke=Wl(Je,Xe.mode,It),ke.return=Xe,Xe=ke}return Z(Xe);case W:return Un=Je._init,ma(Xe,ke,Un(Je._payload),It)}if(ue(Je))return pn(Xe,ke,Je,It);if(ae(Je))return bn(Xe,ke,Je,It);Fm(Xe,Je)}return typeof Je=="string"&&Je!==""||typeof Je=="number"?(Je=""+Je,ke!==null&&ke.tag===6?(_(Xe,ke.sibling),ke=D(ke,Je),ke.return=Xe,Xe=ke):(_(Xe,ke),ke=hf(Je,Xe.mode,It),ke.return=Xe,Xe=ke),Z(Xe)):_(Xe,ke)}return ma}var Yh=Zy(!0),eN=Zy(!1),Qh=Fi(null),Oo=null,Kr=null,Dl=null;function Vi(){Dl=Kr=Oo=null}function wg(f){var x=Qh.current;ur(Qh),f._currentValue=x}function Yy(f,x,_){for(;f!==null;){var M=f.alternate;if((f.childLanes&x)!==x?(f.childLanes|=x,M!==null&&(M.childLanes|=x)):M!==null&&(M.childLanes&x)!==x&&(M.childLanes|=x),f===_)break;f=f.return}}function ca(f,x){Oo=f,Dl=Kr=null,f=f.dependencies,f!==null&&f.firstContext!==null&&((f.lanes&x)!==0&&(La=!0),f.firstContext=null)}function ya(f){var x=f._currentValue;if(Dl!==f)if(f={context:f,memoizedValue:x,next:null},Kr===null){if(Oo===null)throw Error(s(308));Kr=f,Oo.dependencies={lanes:0,firstContext:f}}else Kr=Kr.next=f;return x}var ku=null;function Qy(f){ku===null?ku=[f]:ku.push(f)}function tN(f,x,_,M){var D=x.interleaved;return D===null?(_.next=_,Qy(x)):(_.next=D.next,D.next=_),x.interleaved=_,Mc(f,M)}function Mc(f,x){f.lanes|=x;var _=f.alternate;for(_!==null&&(_.lanes|=x),_=f,f=f.return;f!==null;)f.childLanes|=x,_=f.alternate,_!==null&&(_.childLanes|=x),_=f,f=f.return;return _.tag===3?_.stateNode:null}var Pc=!1;function Jy(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eb(f,x){f=f.updateQueue,x.updateQueue===f&&(x.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function Rc(f,x){return{eventTime:f,lane:x,tag:0,payload:null,callback:null,next:null}}function oo(f,x,_){var M=f.updateQueue;if(M===null)return null;if(M=M.shared,(yn&2)!==0){var D=M.pending;return D===null?x.next=x:(x.next=D.next,D.next=x),M.pending=x,Mc(f,_)}return D=M.interleaved,D===null?(x.next=x,Qy(M)):(x.next=D.next,D.next=x),M.interleaved=x,Mc(f,_)}function Ll(f,x,_){if(x=x.updateQueue,x!==null&&(x=x.shared,(_&4194240)!==0)){var M=x.lanes;M&=f.pendingLanes,_|=M,x.lanes=_,fd(f,_)}}function nN(f,x){var _=f.updateQueue,M=f.alternate;if(M!==null&&(M=M.updateQueue,_===M)){var D=null,z=null;if(_=_.firstBaseUpdate,_!==null){do{var Z={eventTime:_.eventTime,lane:_.lane,tag:_.tag,payload:_.payload,callback:_.callback,next:null};z===null?D=z=Z:z=z.next=Z,_=_.next}while(_!==null);z===null?D=z=x:z=z.next=x}else D=z=x;_={baseState:M.baseState,firstBaseUpdate:D,lastBaseUpdate:z,shared:M.shared,effects:M.effects},f.updateQueue=_;return}f=_.lastBaseUpdate,f===null?_.firstBaseUpdate=x:f.next=x,_.lastBaseUpdate=x}function Ng(f,x,_,M){var D=f.updateQueue;Pc=!1;var z=D.firstBaseUpdate,Z=D.lastBaseUpdate,ve=D.shared.pending;if(ve!==null){D.shared.pending=null;var we=ve,ze=we.next;we.next=null,Z===null?z=ze:Z.next=ze,Z=we;var vt=f.alternate;vt!==null&&(vt=vt.updateQueue,ve=vt.lastBaseUpdate,ve!==Z&&(ve===null?vt.firstBaseUpdate=ze:ve.next=ze,vt.lastBaseUpdate=we))}if(z!==null){var ut=D.baseState;Z=0,vt=ze=we=null,ve=z;do{var Nt=ve.lane,Jt=ve.eventTime;if((M&Nt)===Nt){vt!==null&&(vt=vt.next={eventTime:Jt,lane:0,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null});e:{var pn=f,bn=ve;switch(Nt=x,Jt=_,bn.tag){case 1:if(pn=bn.payload,typeof pn=="function"){ut=pn.call(Jt,ut,Nt);break e}ut=pn;break e;case 3:pn.flags=pn.flags&-65537|128;case 0:if(pn=bn.payload,Nt=typeof pn=="function"?pn.call(Jt,ut,Nt):pn,Nt==null)break e;ut=fe({},ut,Nt);break e;case 2:Pc=!0}}ve.callback!==null&&ve.lane!==0&&(f.flags|=64,Nt=D.effects,Nt===null?D.effects=[ve]:Nt.push(ve))}else Jt={eventTime:Jt,lane:Nt,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null},vt===null?(ze=vt=Jt,we=ut):vt=vt.next=Jt,Z|=Nt;if(ve=ve.next,ve===null){if(ve=D.shared.pending,ve===null)break;Nt=ve,ve=Nt.next,Nt.next=null,D.lastBaseUpdate=Nt,D.shared.pending=null}}while(!0);if(vt===null&&(we=ut),D.baseState=we,D.firstBaseUpdate=ze,D.lastBaseUpdate=vt,x=D.shared.interleaved,x!==null){D=x;do Z|=D.lane,D=D.next;while(D!==x)}else z===null&&(D.shared.lanes=0);Hu|=Z,f.lanes=Z,f.memoizedState=ut}}function sN(f,x,_){if(f=x.effects,x.effects=null,f!==null)for(x=0;x<f.length;x++){var M=f[x],D=M.callback;if(D!==null){if(M.callback=null,M=_,typeof D!="function")throw Error(s(191,D));D.call(M)}}}var Oc={},Fl=Fi(Oc),zm=Fi(Oc),Bm=Fi(Oc);function rl(f){if(f===Oc)throw Error(s(174));return f}function tb(f,x){switch(Zs(Bm,x),Zs(zm,f),Zs(Fl,Oc),f=x.nodeType,f){case 9:case 11:x=(x=x.documentElement)?x.namespaceURI:nt(null,"");break;default:f=f===8?x.parentNode:x,x=f.namespaceURI||null,f=f.tagName,x=nt(x,f)}ur(Fl),Zs(Fl,x)}function Jh(){ur(Fl),ur(zm),ur(Bm)}function rN(f){rl(Bm.current);var x=rl(Fl.current),_=nt(x,f.type);x!==_&&(Zs(zm,f),Zs(Fl,_))}function nb(f){zm.current===f&&(ur(Fl),ur(zm))}var Pr=Fi(0);function Sg(f){for(var x=f;x!==null;){if(x.tag===13){var _=x.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||_.data==="$?"||_.data==="$!"))return x}else if(x.tag===19&&x.memoizedProps.revealOrder!==void 0){if((x.flags&128)!==0)return x}else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===f)break;for(;x.sibling===null;){if(x.return===null||x.return===f)return null;x=x.return}x.sibling.return=x.return,x=x.sibling}return null}var sb=[];function rb(){for(var f=0;f<sb.length;f++)sb[f]._workInProgressVersionPrimary=null;sb.length=0}var _g=w.ReactCurrentDispatcher,ab=w.ReactCurrentBatchConfig,Iu=0,Rr=null,ta=null,ba=null,Ag=!1,Vm=!1,Hm=0,VT=0;function oi(){throw Error(s(321))}function Cg(f,x){if(x===null)return!1;for(var _=0;_<x.length&&_<f.length;_++)if(!Ro(f[_],x[_]))return!1;return!0}function Tg(f,x,_,M,D,z){if(Iu=z,Rr=x,x.memoizedState=null,x.updateQueue=null,x.lanes=0,_g.current=f===null||f.memoizedState===null?jN:HT,f=_(M,D),Vm){z=0;do{if(Vm=!1,Hm=0,25<=z)throw Error(s(301));z+=1,ba=ta=null,x.updateQueue=null,_g.current=GT,f=_(M,D)}while(Vm)}if(_g.current=Wm,x=ta!==null&&ta.next!==null,Iu=0,ba=ta=Rr=null,Ag=!1,x)throw Error(s(300));return f}function ib(){var f=Hm!==0;return Hm=0,f}function al(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ba===null?Rr.memoizedState=ba=f:ba=ba.next=f,ba}function lo(){if(ta===null){var f=Rr.alternate;f=f!==null?f.memoizedState:null}else f=ta.next;var x=ba===null?Rr.memoizedState:ba.next;if(x!==null)ba=x,ta=f;else{if(f===null)throw Error(s(310));ta=f,f={memoizedState:ta.memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},ba===null?Rr.memoizedState=ba=f:ba=ba.next=f}return ba}function ef(f,x){return typeof x=="function"?x(f):x}function Gm(f){var x=lo(),_=x.queue;if(_===null)throw Error(s(311));_.lastRenderedReducer=f;var M=ta,D=M.baseQueue,z=_.pending;if(z!==null){if(D!==null){var Z=D.next;D.next=z.next,z.next=Z}M.baseQueue=D=z,_.pending=null}if(D!==null){z=D.next,M=M.baseState;var ve=Z=null,we=null,ze=z;do{var vt=ze.lane;if((Iu&vt)===vt)we!==null&&(we=we.next={lane:0,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null}),M=ze.hasEagerState?ze.eagerState:f(M,ze.action);else{var ut={lane:vt,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null};we===null?(ve=we=ut,Z=M):we=we.next=ut,Rr.lanes|=vt,Hu|=vt}ze=ze.next}while(ze!==null&&ze!==z);we===null?Z=M:we.next=ve,Ro(M,x.memoizedState)||(La=!0),x.memoizedState=M,x.baseState=Z,x.baseQueue=we,_.lastRenderedState=M}if(f=_.interleaved,f!==null){D=f;do z=D.lane,Rr.lanes|=z,Hu|=z,D=D.next;while(D!==f)}else D===null&&(_.lanes=0);return[x.memoizedState,_.dispatch]}function $m(f){var x=lo(),_=x.queue;if(_===null)throw Error(s(311));_.lastRenderedReducer=f;var M=_.dispatch,D=_.pending,z=x.memoizedState;if(D!==null){_.pending=null;var Z=D=D.next;do z=f(z,Z.action),Z=Z.next;while(Z!==D);Ro(z,x.memoizedState)||(La=!0),x.memoizedState=z,x.baseQueue===null&&(x.baseState=z),_.lastRenderedState=z}return[z,M]}function aN(){}function iN(f,x){var _=Rr,M=lo(),D=x(),z=!Ro(M.memoizedState,D);if(z&&(M.memoizedState=D,La=!0),M=M.queue,cb(ob.bind(null,_,M,f),[f]),M.getSnapshot!==x||z||ba!==null&&ba.memoizedState.tag&1){if(_.flags|=2048,qm(9,lN.bind(null,_,M,D,x),void 0,null),bs===null)throw Error(s(349));(Iu&30)!==0||oN(_,x,D)}return D}function oN(f,x,_){f.flags|=16384,f={getSnapshot:x,value:_},x=Rr.updateQueue,x===null?(x={lastEffect:null,stores:null},Rr.updateQueue=x,x.stores=[f]):(_=x.stores,_===null?x.stores=[f]:_.push(f))}function lN(f,x,_,M){x.value=_,x.getSnapshot=M,lb(x)&&cN(f)}function ob(f,x,_){return _(function(){lb(x)&&cN(f)})}function lb(f){var x=f.getSnapshot;f=f.value;try{var _=x();return!Ro(f,_)}catch{return!0}}function cN(f){var x=Mc(f,1);x!==null&&fa(x,f,1,-1)}function dN(f){var x=al();return typeof f=="function"&&(f=f()),x.memoizedState=x.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ef,lastRenderedState:f},x.queue=f,f=f.dispatch=yN.bind(null,Rr,f),[x.memoizedState,f]}function qm(f,x,_,M){return f={tag:f,create:x,destroy:_,deps:M,next:null},x=Rr.updateQueue,x===null?(x={lastEffect:null,stores:null},Rr.updateQueue=x,x.lastEffect=f.next=f):(_=x.lastEffect,_===null?x.lastEffect=f.next=f:(M=_.next,_.next=f,f.next=M,x.lastEffect=f)),f}function uN(){return lo().memoizedState}function Eg(f,x,_,M){var D=al();Rr.flags|=f,D.memoizedState=qm(1|x,_,void 0,M===void 0?null:M)}function Mg(f,x,_,M){var D=lo();M=M===void 0?null:M;var z=void 0;if(ta!==null){var Z=ta.memoizedState;if(z=Z.destroy,M!==null&&Cg(M,Z.deps)){D.memoizedState=qm(x,_,z,M);return}}Rr.flags|=f,D.memoizedState=qm(1|x,_,z,M)}function hN(f,x){return Eg(8390656,8,f,x)}function cb(f,x){return Mg(2048,8,f,x)}function fN(f,x){return Mg(4,2,f,x)}function mN(f,x){return Mg(4,4,f,x)}function pN(f,x){if(typeof x=="function")return f=f(),x(f),function(){x(null)};if(x!=null)return f=f(),x.current=f,function(){x.current=null}}function xN(f,x,_){return _=_!=null?_.concat([f]):null,Mg(4,4,pN.bind(null,x,f),_)}function db(){}function ub(f,x){var _=lo();x=x===void 0?null:x;var M=_.memoizedState;return M!==null&&x!==null&&Cg(x,M[1])?M[0]:(_.memoizedState=[f,x],f)}function gN(f,x){var _=lo();x=x===void 0?null:x;var M=_.memoizedState;return M!==null&&x!==null&&Cg(x,M[1])?M[0]:(f=f(),_.memoizedState=[f,x],f)}function vN(f,x,_){return(Iu&21)===0?(f.baseState&&(f.baseState=!1,La=!0),f.memoizedState=_):(Ro(_,x)||(_=qs(),Rr.lanes|=_,Hu|=_,f.baseState=!0),x)}function ko(f,x){var _=es;es=_!==0&&4>_?_:4,f(!0);var M=ab.transition;ab.transition={};try{f(!1),x()}finally{es=_,ab.transition=M}}function hb(){return lo().memoizedState}function fb(f,x,_){var M=Wi(f);if(_={lane:M,action:_,hasEagerState:!1,eagerState:null,next:null},mb(f))pb(x,_);else if(_=tN(f,x,_,M),_!==null){var D=ci();fa(_,f,M,D),bN(_,x,M)}}function yN(f,x,_){var M=Wi(f),D={lane:M,action:_,hasEagerState:!1,eagerState:null,next:null};if(mb(f))pb(x,D);else{var z=f.alternate;if(f.lanes===0&&(z===null||z.lanes===0)&&(z=x.lastRenderedReducer,z!==null))try{var Z=x.lastRenderedState,ve=z(Z,_);if(D.hasEagerState=!0,D.eagerState=ve,Ro(ve,Z)){var we=x.interleaved;we===null?(D.next=D,Qy(x)):(D.next=we.next,we.next=D),x.interleaved=D;return}}catch{}finally{}_=tN(f,x,D,M),_!==null&&(D=ci(),fa(_,f,M,D),bN(_,x,M))}}function mb(f){var x=f.alternate;return f===Rr||x!==null&&x===Rr}function pb(f,x){Vm=Ag=!0;var _=f.pending;_===null?x.next=x:(x.next=_.next,_.next=x),f.pending=x}function bN(f,x,_){if((_&4194240)!==0){var M=x.lanes;M&=f.pendingLanes,_|=M,x.lanes=_,fd(f,_)}}var Wm={readContext:ya,useCallback:oi,useContext:oi,useEffect:oi,useImperativeHandle:oi,useInsertionEffect:oi,useLayoutEffect:oi,useMemo:oi,useReducer:oi,useRef:oi,useState:oi,useDebugValue:oi,useDeferredValue:oi,useTransition:oi,useMutableSource:oi,useSyncExternalStore:oi,useId:oi,unstable_isNewReconciler:!1},jN={readContext:ya,useCallback:function(f,x){return al().memoizedState=[f,x===void 0?null:x],f},useContext:ya,useEffect:hN,useImperativeHandle:function(f,x,_){return _=_!=null?_.concat([f]):null,Eg(4194308,4,pN.bind(null,x,f),_)},useLayoutEffect:function(f,x){return Eg(4194308,4,f,x)},useInsertionEffect:function(f,x){return Eg(4,2,f,x)},useMemo:function(f,x){var _=al();return x=x===void 0?null:x,f=f(),_.memoizedState=[f,x],f},useReducer:function(f,x,_){var M=al();return x=_!==void 0?_(x):x,M.memoizedState=M.baseState=x,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:x},M.queue=f,f=f.dispatch=fb.bind(null,Rr,f),[M.memoizedState,f]},useRef:function(f){var x=al();return f={current:f},x.memoizedState=f},useState:dN,useDebugValue:db,useDeferredValue:function(f){return al().memoizedState=f},useTransition:function(){var f=dN(!1),x=f[0];return f=ko.bind(null,f[1]),al().memoizedState=f,[x,f]},useMutableSource:function(){},useSyncExternalStore:function(f,x,_){var M=Rr,D=al();if(gr){if(_===void 0)throw Error(s(407));_=_()}else{if(_=x(),bs===null)throw Error(s(349));(Iu&30)!==0||oN(M,x,_)}D.memoizedState=_;var z={value:_,getSnapshot:x};return D.queue=z,hN(ob.bind(null,M,z,f),[f]),M.flags|=2048,qm(9,lN.bind(null,M,z,_,x),void 0,null),_},useId:function(){var f=al(),x=bs.identifierPrefix;if(gr){var _=ii,M=sl;_=(M&~(1<<32-mn(M)-1)).toString(32)+_,x=":"+x+"R"+_,_=Hm++,0<_&&(x+="H"+_.toString(32)),x+=":"}else _=VT++,x=":"+x+"r"+_.toString(32)+":";return f.memoizedState=x},unstable_isNewReconciler:!1},HT={readContext:ya,useCallback:ub,useContext:ya,useEffect:cb,useImperativeHandle:xN,useInsertionEffect:fN,useLayoutEffect:mN,useMemo:gN,useReducer:Gm,useRef:uN,useState:function(){return Gm(ef)},useDebugValue:db,useDeferredValue:function(f){var x=lo();return vN(x,ta.memoizedState,f)},useTransition:function(){var f=Gm(ef)[0],x=lo().memoizedState;return[f,x]},useMutableSource:aN,useSyncExternalStore:iN,useId:hb,unstable_isNewReconciler:!1},GT={readContext:ya,useCallback:ub,useContext:ya,useEffect:cb,useImperativeHandle:xN,useInsertionEffect:fN,useLayoutEffect:mN,useMemo:gN,useReducer:$m,useRef:uN,useState:function(){return $m(ef)},useDebugValue:db,useDeferredValue:function(f){var x=lo();return ta===null?x.memoizedState=f:vN(x,ta.memoizedState,f)},useTransition:function(){var f=$m(ef)[0],x=lo().memoizedState;return[f,x]},useMutableSource:aN,useSyncExternalStore:iN,useId:hb,unstable_isNewReconciler:!1};function il(f,x){if(f&&f.defaultProps){x=fe({},x),f=f.defaultProps;for(var _ in f)x[_]===void 0&&(x[_]=f[_]);return x}return x}function Pg(f,x,_,M){x=f.memoizedState,_=_(M,x),_=_==null?x:fe({},x,_),f.memoizedState=_,f.lanes===0&&(f.updateQueue.baseState=_)}var Rg={isMounted:function(f){return(f=f._reactInternals)?ce(f)===f:!1},enqueueSetState:function(f,x,_){f=f._reactInternals;var M=ci(),D=Wi(f),z=Rc(M,D);z.payload=x,_!=null&&(z.callback=_),x=oo(f,z,D),x!==null&&(fa(x,f,D,M),Ll(x,f,D))},enqueueReplaceState:function(f,x,_){f=f._reactInternals;var M=ci(),D=Wi(f),z=Rc(M,D);z.tag=1,z.payload=x,_!=null&&(z.callback=_),x=oo(f,z,D),x!==null&&(fa(x,f,D,M),Ll(x,f,D))},enqueueForceUpdate:function(f,x){f=f._reactInternals;var _=ci(),M=Wi(f),D=Rc(_,M);D.tag=2,x!=null&&(D.callback=x),x=oo(f,D,M),x!==null&&(fa(x,f,M,_),Ll(x,f,M))}};function Da(f,x,_,M,D,z,Z){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(M,z,Z):x.prototype&&x.prototype.isPureReactComponent?!yi(_,M)||!yi(D,z):!0}function xb(f,x,_){var M=!1,D=Il,z=x.contextType;return typeof z=="object"&&z!==null?z=ya(z):(D=ji(x)?wd:ai.current,M=x.contextTypes,z=(M=M!=null)?Pu(f,D):Il),x=new x(_,z),f.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Rg,f.stateNode=x,x._reactInternals=f,M&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=D,f.__reactInternalMemoizedMaskedChildContext=z),x}function wN(f,x,_,M){f=x.state,typeof x.componentWillReceiveProps=="function"&&x.componentWillReceiveProps(_,M),typeof x.UNSAFE_componentWillReceiveProps=="function"&&x.UNSAFE_componentWillReceiveProps(_,M),x.state!==f&&Rg.enqueueReplaceState(x,x.state,null)}function gb(f,x,_,M){var D=f.stateNode;D.props=_,D.state=f.memoizedState,D.refs={},Jy(f);var z=x.contextType;typeof z=="object"&&z!==null?D.context=ya(z):(z=ji(x)?wd:ai.current,D.context=Pu(f,z)),D.state=f.memoizedState,z=x.getDerivedStateFromProps,typeof z=="function"&&(Pg(f,x,z,_),D.state=f.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(x=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),x!==D.state&&Rg.enqueueReplaceState(D,D.state,null),Ng(f,_,D,M),D.state=f.memoizedState),typeof D.componentDidMount=="function"&&(f.flags|=4194308)}function tf(f,x){try{var _="",M=x;do _+=dt(M),M=M.return;while(M);var D=_}catch(z){D=`
Error generating stack: `+z.message+`
`+z.stack}return{value:f,source:x,stack:D,digest:null}}function Og(f,x,_){return{value:f,source:null,stack:_??null,digest:x??null}}function Km(f,x){try{console.error(x.value)}catch(_){setTimeout(function(){throw _})}}var nf=typeof WeakMap=="function"?WeakMap:Map;function Du(f,x,_){_=Rc(-1,_),_.tag=3,_.payload={element:null};var M=x.value;return _.callback=function(){tp||(tp=!0,na=M),Km(f,x)},_}function Hi(f,x,_){_=Rc(-1,_),_.tag=3;var M=f.type.getDerivedStateFromError;if(typeof M=="function"){var D=x.value;_.payload=function(){return M(D)},_.callback=function(){Km(f,x)}}var z=f.stateNode;return z!==null&&typeof z.componentDidCatch=="function"&&(_.callback=function(){Km(f,x),typeof M!="function"&&($l===null?$l=new Set([this]):$l.add(this));var Z=x.stack;this.componentDidCatch(x.value,{componentStack:Z!==null?Z:""})}),_}function NN(f,x,_){var M=f.pingCache;if(M===null){M=f.pingCache=new nf;var D=new Set;M.set(x,D)}else D=M.get(x),D===void 0&&(D=new Set,M.set(x,D));D.has(_)||(D.add(_),f=df.bind(null,f,x,_),x.then(f,f))}function SN(f){do{var x;if((x=f.tag===13)&&(x=f.memoizedState,x=x!==null?x.dehydrated!==null:!0),x)return f;f=f.return}while(f!==null);return null}function Xm(f,x,_,M,D){return(f.mode&1)===0?(f===x?f.flags|=65536:(f.flags|=128,_.flags|=131072,_.flags&=-52805,_.tag===1&&(_.alternate===null?_.tag=17:(x=Rc(-1,1),x.tag=2,oo(_,x,1))),_.lanes|=1),f):(f.flags|=65536,f.lanes=D,f)}var kg=w.ReactCurrentOwner,La=!1;function Fa(f,x,_,M){x.child=f===null?eN(x,null,_,M):Yh(x,f.child,_,M)}function _N(f,x,_,M,D){_=_.render;var z=x.ref;return ca(x,D),M=Tg(f,x,_,M,z,D),_=ib(),f!==null&&!La?(x.updateQueue=f.updateQueue,x.flags&=-2053,f.lanes&=~D,Ua(f,x,D)):(gr&&_&&yg(x),x.flags|=1,Fa(f,x,M,D),x.child)}function AN(f,x,_,M,D){if(f===null){var z=_.type;return typeof z=="function"&&!Rd(z)&&z.defaultProps===void 0&&_.compare===null&&_.defaultProps===void 0?(x.tag=15,x.type=z,Io(f,x,z,M,D)):(f=uf(_.type,null,M,x,x.mode,D),f.ref=x.ref,f.return=x,x.child=f)}if(z=f.child,(f.lanes&D)===0){var Z=z.memoizedProps;if(_=_.compare,_=_!==null?_:yi,_(Z,M)&&f.ref===x.ref)return Ua(f,x,D)}return x.flags|=1,f=za(z,M),f.ref=x.ref,f.return=x,x.child=f}function Io(f,x,_,M,D){if(f!==null){var z=f.memoizedProps;if(yi(z,M)&&f.ref===x.ref)if(La=!1,x.pendingProps=M=z,(f.lanes&D)!==0)(f.flags&131072)!==0&&(La=!0);else return x.lanes=f.lanes,Ua(f,x,D)}return Zm(f,x,_,M,D)}function vb(f,x,_){var M=x.pendingProps,D=M.children,z=f!==null?f.memoizedState:null;if(M.mode==="hidden")if((x.mode&1)===0)x.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zs(Lc,ha),ha|=_;else{if((_&1073741824)===0)return f=z!==null?z.baseLanes|_:_,x.lanes=x.childLanes=1073741824,x.memoizedState={baseLanes:f,cachePool:null,transitions:null},x.updateQueue=null,Zs(Lc,ha),ha|=f,null;x.memoizedState={baseLanes:0,cachePool:null,transitions:null},M=z!==null?z.baseLanes:_,Zs(Lc,ha),ha|=M}else z!==null?(M=z.baseLanes|_,x.memoizedState=null):M=_,Zs(Lc,ha),ha|=M;return Fa(f,x,D,_),x.child}function CN(f,x){var _=x.ref;(f===null&&_!==null||f!==null&&f.ref!==_)&&(x.flags|=512,x.flags|=2097152)}function Zm(f,x,_,M,D){var z=ji(_)?wd:ai.current;return z=Pu(x,z),ca(x,D),_=Tg(f,x,_,M,z,D),M=ib(),f!==null&&!La?(x.updateQueue=f.updateQueue,x.flags&=-2053,f.lanes&=~D,Ua(f,x,D)):(gr&&M&&yg(x),x.flags|=1,Fa(f,x,_,D),x.child)}function TN(f,x,_,M,D){if(ji(_)){var z=!0;gg(x)}else z=!1;if(ca(x,D),x.stateNode===null)Ul(f,x),xb(x,_,M),gb(x,_,M,D),M=!0;else if(f===null){var Z=x.stateNode,ve=x.memoizedProps;Z.props=ve;var we=Z.context,ze=_.contextType;typeof ze=="object"&&ze!==null?ze=ya(ze):(ze=ji(_)?wd:ai.current,ze=Pu(x,ze));var vt=_.getDerivedStateFromProps,ut=typeof vt=="function"||typeof Z.getSnapshotBeforeUpdate=="function";ut||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(ve!==M||we!==ze)&&wN(x,Z,M,ze),Pc=!1;var Nt=x.memoizedState;Z.state=Nt,Ng(x,M,Z,D),we=x.memoizedState,ve!==M||Nt!==we||bi.current||Pc?(typeof vt=="function"&&(Pg(x,_,vt,M),we=x.memoizedState),(ve=Pc||Da(x,_,ve,M,Nt,we,ze))?(ut||typeof Z.UNSAFE_componentWillMount!="function"&&typeof Z.componentWillMount!="function"||(typeof Z.componentWillMount=="function"&&Z.componentWillMount(),typeof Z.UNSAFE_componentWillMount=="function"&&Z.UNSAFE_componentWillMount()),typeof Z.componentDidMount=="function"&&(x.flags|=4194308)):(typeof Z.componentDidMount=="function"&&(x.flags|=4194308),x.memoizedProps=M,x.memoizedState=we),Z.props=M,Z.state=we,Z.context=ze,M=ve):(typeof Z.componentDidMount=="function"&&(x.flags|=4194308),M=!1)}else{Z=x.stateNode,eb(f,x),ve=x.memoizedProps,ze=x.type===x.elementType?ve:il(x.type,ve),Z.props=ze,ut=x.pendingProps,Nt=Z.context,we=_.contextType,typeof we=="object"&&we!==null?we=ya(we):(we=ji(_)?wd:ai.current,we=Pu(x,we));var Jt=_.getDerivedStateFromProps;(vt=typeof Jt=="function"||typeof Z.getSnapshotBeforeUpdate=="function")||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(ve!==ut||Nt!==we)&&wN(x,Z,M,we),Pc=!1,Nt=x.memoizedState,Z.state=Nt,Ng(x,M,Z,D);var pn=x.memoizedState;ve!==ut||Nt!==pn||bi.current||Pc?(typeof Jt=="function"&&(Pg(x,_,Jt,M),pn=x.memoizedState),(ze=Pc||Da(x,_,ze,M,Nt,pn,we)||!1)?(vt||typeof Z.UNSAFE_componentWillUpdate!="function"&&typeof Z.componentWillUpdate!="function"||(typeof Z.componentWillUpdate=="function"&&Z.componentWillUpdate(M,pn,we),typeof Z.UNSAFE_componentWillUpdate=="function"&&Z.UNSAFE_componentWillUpdate(M,pn,we)),typeof Z.componentDidUpdate=="function"&&(x.flags|=4),typeof Z.getSnapshotBeforeUpdate=="function"&&(x.flags|=1024)):(typeof Z.componentDidUpdate!="function"||ve===f.memoizedProps&&Nt===f.memoizedState||(x.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||ve===f.memoizedProps&&Nt===f.memoizedState||(x.flags|=1024),x.memoizedProps=M,x.memoizedState=pn),Z.props=M,Z.state=pn,Z.context=we,M=ze):(typeof Z.componentDidUpdate!="function"||ve===f.memoizedProps&&Nt===f.memoizedState||(x.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||ve===f.memoizedProps&&Nt===f.memoizedState||(x.flags|=1024),M=!1)}return yb(f,x,_,M,z,D)}function yb(f,x,_,M,D,z){CN(f,x);var Z=(x.flags&128)!==0;if(!M&&!Z)return D&&Ui(x,_,!1),Ua(f,x,z);M=x.stateNode,kg.current=x;var ve=Z&&typeof _.getDerivedStateFromError!="function"?null:M.render();return x.flags|=1,f!==null&&Z?(x.child=Yh(x,f.child,null,z),x.child=Yh(x,null,ve,z)):Fa(f,x,ve,z),x.memoizedState=M.state,D&&Ui(x,_,!0),x.child}function EN(f){var x=f.stateNode;x.pendingContext?xg(f,x.pendingContext,x.pendingContext!==x.context):x.context&&xg(f,x.context,!1),tb(f,x.containerInfo)}function sf(f,x,_,M,D){return Zh(),Xy(D),x.flags|=256,Fa(f,x,_,M),x.child}var Ni={dehydrated:null,treeContext:null,retryLane:0};function Si(f){return{baseLanes:f,cachePool:null,transitions:null}}function bb(f,x,_){var M=x.pendingProps,D=Pr.current,z=!1,Z=(x.flags&128)!==0,ve;if((ve=Z)||(ve=f!==null&&f.memoizedState===null?!1:(D&2)!==0),ve?(z=!0,x.flags&=-129):(f===null||f.memoizedState!==null)&&(D|=1),Zs(Pr,D&1),f===null)return bg(x),f=x.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?((x.mode&1)===0?x.lanes=1:f.data==="$!"?x.lanes=8:x.lanes=1073741824,null):(Z=M.children,f=M.fallback,z?(M=x.mode,z=x.child,Z={mode:"hidden",children:Z},(M&1)===0&&z!==null?(z.childLanes=0,z.pendingProps=Z):z=Od(Z,M,0,null),f=Bc(f,M,_,null),z.return=x,f.return=x,z.sibling=f,x.child=z,x.child.memoizedState=Si(_),x.memoizedState=Ni,f):_d(x,Z));if(D=f.memoizedState,D!==null&&(ve=D.dehydrated,ve!==null))return Ig(f,x,Z,M,ve,D,_);if(z){z=M.fallback,Z=x.mode,D=f.child,ve=D.sibling;var we={mode:"hidden",children:M.children};return(Z&1)===0&&x.child!==D?(M=x.child,M.childLanes=0,M.pendingProps=we,x.deletions=null):(M=za(D,we),M.subtreeFlags=D.subtreeFlags&14680064),ve!==null?z=za(ve,z):(z=Bc(z,Z,_,null),z.flags|=2),z.return=x,M.return=x,M.sibling=z,x.child=M,M=z,z=x.child,Z=f.child.memoizedState,Z=Z===null?Si(_):{baseLanes:Z.baseLanes|_,cachePool:null,transitions:Z.transitions},z.memoizedState=Z,z.childLanes=f.childLanes&~_,x.memoizedState=Ni,M}return z=f.child,f=z.sibling,M=za(z,{mode:"visible",children:M.children}),(x.mode&1)===0&&(M.lanes=_),M.return=x,M.sibling=null,f!==null&&(_=x.deletions,_===null?(x.deletions=[f],x.flags|=16):_.push(f)),x.child=M,x.memoizedState=null,M}function _d(f,x){return x=Od({mode:"visible",children:x},f.mode,0,null),x.return=f,f.child=x}function kc(f,x,_,M){return M!==null&&Xy(M),Yh(x,f.child,null,_),f=_d(x,x.pendingProps.children),f.flags|=2,x.memoizedState=null,f}function Ig(f,x,_,M,D,z,Z){if(_)return x.flags&256?(x.flags&=-257,M=Og(Error(s(422))),kc(f,x,Z,M)):x.memoizedState!==null?(x.child=f.child,x.flags|=128,null):(z=M.fallback,D=x.mode,M=Od({mode:"visible",children:M.children},D,0,null),z=Bc(z,D,Z,null),z.flags|=2,M.return=x,z.return=x,M.sibling=z,x.child=M,(x.mode&1)!==0&&Yh(x,f.child,null,Z),x.child.memoizedState=Si(Z),x.memoizedState=Ni,z);if((x.mode&1)===0)return kc(f,x,Z,null);if(D.data==="$!"){if(M=D.nextSibling&&D.nextSibling.dataset,M)var ve=M.dgst;return M=ve,z=Error(s(419)),M=Og(z,M,void 0),kc(f,x,Z,M)}if(ve=(Z&f.childLanes)!==0,La||ve){if(M=bs,M!==null){switch(Z&-Z){case 4:D=2;break;case 16:D=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:D=32;break;case 536870912:D=268435456;break;default:D=0}D=(D&(M.suspendedLanes|Z))!==0?0:D,D!==0&&D!==z.retryLane&&(z.retryLane=D,Mc(f,D),fa(M,f,D,-1))}return cf(),M=Og(Error(s(421))),kc(f,x,Z,M)}return D.data==="$?"?(x.flags|=128,x.child=f.child,x=Uc.bind(null,f),D._reactRetry=x,null):(f=z.treeContext,wi=_c(D.nextSibling),Tn=x,gr=!0,io=null,f!==null&&(zi[Bi++]=sl,zi[Bi++]=ii,zi[Bi++]=Ec,sl=f.id,ii=f.overflow,Ec=x),x=_d(x,M.children),x.flags|=4096,x)}function Ym(f,x,_){f.lanes|=x;var M=f.alternate;M!==null&&(M.lanes|=x),Yy(f.return,x,_)}function Gi(f,x,_,M,D){var z=f.memoizedState;z===null?f.memoizedState={isBackwards:x,rendering:null,renderingStartTime:0,last:M,tail:_,tailMode:D}:(z.isBackwards=x,z.rendering=null,z.renderingStartTime=0,z.last=M,z.tail=_,z.tailMode=D)}function co(f,x,_){var M=x.pendingProps,D=M.revealOrder,z=M.tail;if(Fa(f,x,M.children,_),M=Pr.current,(M&2)!==0)M=M&1|2,x.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=x.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&Ym(f,_,x);else if(f.tag===19)Ym(f,_,x);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===x)break e;for(;f.sibling===null;){if(f.return===null||f.return===x)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}M&=1}if(Zs(Pr,M),(x.mode&1)===0)x.memoizedState=null;else switch(D){case"forwards":for(_=x.child,D=null;_!==null;)f=_.alternate,f!==null&&Sg(f)===null&&(D=_),_=_.sibling;_=D,_===null?(D=x.child,x.child=null):(D=_.sibling,_.sibling=null),Gi(x,!1,D,_,z);break;case"backwards":for(_=null,D=x.child,x.child=null;D!==null;){if(f=D.alternate,f!==null&&Sg(f)===null){x.child=D;break}f=D.sibling,D.sibling=_,_=D,D=f}Gi(x,!0,_,null,z);break;case"together":Gi(x,!1,null,null,void 0);break;default:x.memoizedState=null}return x.child}function Ul(f,x){(x.mode&1)===0&&f!==null&&(f.alternate=null,x.alternate=null,x.flags|=2)}function Ua(f,x,_){if(f!==null&&(x.dependencies=f.dependencies),Hu|=x.lanes,(_&x.childLanes)===0)return null;if(f!==null&&x.child!==f.child)throw Error(s(153));if(x.child!==null){for(f=x.child,_=za(f,f.pendingProps),x.child=_,_.return=x;f.sibling!==null;)f=f.sibling,_=_.sibling=za(f,f.pendingProps),_.return=x;_.sibling=null}return x.child}function Ic(f,x,_){switch(x.tag){case 3:EN(x),Zh();break;case 5:rN(x);break;case 1:ji(x.type)&&gg(x);break;case 4:tb(x,x.stateNode.containerInfo);break;case 10:var M=x.type._context,D=x.memoizedProps.value;Zs(Qh,M._currentValue),M._currentValue=D;break;case 13:if(M=x.memoizedState,M!==null)return M.dehydrated!==null?(Zs(Pr,Pr.current&1),x.flags|=128,null):(_&x.child.childLanes)!==0?bb(f,x,_):(Zs(Pr,Pr.current&1),f=Ua(f,x,_),f!==null?f.sibling:null);Zs(Pr,Pr.current&1);break;case 19:if(M=(_&x.childLanes)!==0,(f.flags&128)!==0){if(M)return co(f,x,_);x.flags|=128}if(D=x.memoizedState,D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),Zs(Pr,Pr.current),M)break;return null;case 22:case 23:return x.lanes=0,vb(f,x,_)}return Ua(f,x,_)}var ja,Lu,Dc,Qm;ja=function(f,x){for(var _=x.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===x)break;for(;_.sibling===null;){if(_.return===null||_.return===x)return;_=_.return}_.sibling.return=_.return,_=_.sibling}},Lu=function(){},Dc=function(f,x,_,M){var D=f.memoizedProps;if(D!==M){f=x.stateNode,rl(Fl.current);var z=null;switch(_){case"input":D=Ke(f,D),M=Ke(f,M),z=[];break;case"select":D=fe({},D,{value:void 0}),M=fe({},M,{value:void 0}),z=[];break;case"textarea":D=Ie(f,D),M=Ie(f,M),z=[];break;default:typeof D.onClick!="function"&&typeof M.onClick=="function"&&(f.onclick=ug)}Se(_,M);var Z;_=null;for(ze in D)if(!M.hasOwnProperty(ze)&&D.hasOwnProperty(ze)&&D[ze]!=null)if(ze==="style"){var ve=D[ze];for(Z in ve)ve.hasOwnProperty(Z)&&(_||(_={}),_[Z]="")}else ze!=="dangerouslySetInnerHTML"&&ze!=="children"&&ze!=="suppressContentEditableWarning"&&ze!=="suppressHydrationWarning"&&ze!=="autoFocus"&&(a.hasOwnProperty(ze)?z||(z=[]):(z=z||[]).push(ze,null));for(ze in M){var we=M[ze];if(ve=D?.[ze],M.hasOwnProperty(ze)&&we!==ve&&(we!=null||ve!=null))if(ze==="style")if(ve){for(Z in ve)!ve.hasOwnProperty(Z)||we&&we.hasOwnProperty(Z)||(_||(_={}),_[Z]="");for(Z in we)we.hasOwnProperty(Z)&&ve[Z]!==we[Z]&&(_||(_={}),_[Z]=we[Z])}else _||(z||(z=[]),z.push(ze,_)),_=we;else ze==="dangerouslySetInnerHTML"?(we=we?we.__html:void 0,ve=ve?ve.__html:void 0,we!=null&&ve!==we&&(z=z||[]).push(ze,we)):ze==="children"?typeof we!="string"&&typeof we!="number"||(z=z||[]).push(ze,""+we):ze!=="suppressContentEditableWarning"&&ze!=="suppressHydrationWarning"&&(a.hasOwnProperty(ze)?(we!=null&&ze==="onScroll"&&dr("scroll",f),z||ve===we||(z=[])):(z=z||[]).push(ze,we))}_&&(z=z||[]).push("style",_);var ze=z;(x.updateQueue=ze)&&(x.flags|=4)}},Qm=function(f,x,_,M){_!==M&&(x.flags|=4)};function da(f,x){if(!gr)switch(f.tailMode){case"hidden":x=f.tail;for(var _=null;x!==null;)x.alternate!==null&&(_=x),x=x.sibling;_===null?f.tail=null:_.sibling=null;break;case"collapsed":_=f.tail;for(var M=null;_!==null;)_.alternate!==null&&(M=_),_=_.sibling;M===null?x||f.tail===null?f.tail=null:f.tail.sibling=null:M.sibling=null}}function ks(f){var x=f.alternate!==null&&f.alternate.child===f.child,_=0,M=0;if(x)for(var D=f.child;D!==null;)_|=D.lanes|D.childLanes,M|=D.subtreeFlags&14680064,M|=D.flags&14680064,D.return=f,D=D.sibling;else for(D=f.child;D!==null;)_|=D.lanes|D.childLanes,M|=D.subtreeFlags,M|=D.flags,D.return=f,D=D.sibling;return f.subtreeFlags|=M,f.childLanes=_,x}function Rs(f,x,_){var M=x.pendingProps;switch(Wy(x),x.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ks(x),null;case 1:return ji(x.type)&&Im(),ks(x),null;case 3:return M=x.stateNode,Jh(),ur(bi),ur(ai),rb(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(f===null||f.child===null)&&(jg(x)?x.flags|=4:f===null||f.memoizedState.isDehydrated&&(x.flags&256)===0||(x.flags|=1024,io!==null&&(sa(io),io=null))),Lu(f,x),ks(x),null;case 5:nb(x);var D=rl(Bm.current);if(_=x.type,f!==null&&x.stateNode!=null)Dc(f,x,_,M,D),f.ref!==x.ref&&(x.flags|=512,x.flags|=2097152);else{if(!M){if(x.stateNode===null)throw Error(s(166));return ks(x),null}if(f=rl(Fl.current),jg(x)){M=x.stateNode,_=x.type;var z=x.memoizedProps;switch(M[gs]=x,M[Eu]=z,f=(x.mode&1)!==0,_){case"dialog":dr("cancel",M),dr("close",M);break;case"iframe":case"object":case"embed":dr("load",M);break;case"video":case"audio":for(D=0;D<_u.length;D++)dr(_u[D],M);break;case"source":dr("error",M);break;case"img":case"image":case"link":dr("error",M),dr("load",M);break;case"details":dr("toggle",M);break;case"input":et(M,z),dr("invalid",M);break;case"select":M._wrapperState={wasMultiple:!!z.multiple},dr("invalid",M);break;case"textarea":ne(M,z),dr("invalid",M)}Se(_,z),D=null;for(var Z in z)if(z.hasOwnProperty(Z)){var ve=z[Z];Z==="children"?typeof ve=="string"?M.textContent!==ve&&(z.suppressHydrationWarning!==!0&&Gh(M.textContent,ve,f),D=["children",ve]):typeof ve=="number"&&M.textContent!==""+ve&&(z.suppressHydrationWarning!==!0&&Gh(M.textContent,ve,f),D=["children",""+ve]):a.hasOwnProperty(Z)&&ve!=null&&Z==="onScroll"&&dr("scroll",M)}switch(_){case"input":rt(M),At(M,z,!0);break;case"textarea":rt(M),je(M);break;case"select":case"option":break;default:typeof z.onClick=="function"&&(M.onclick=ug)}M=D,x.updateQueue=M,M!==null&&(x.flags|=4)}else{Z=D.nodeType===9?D:D.ownerDocument,f==="http://www.w3.org/1999/xhtml"&&(f=Re(_)),f==="http://www.w3.org/1999/xhtml"?_==="script"?(f=Z.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild)):typeof M.is=="string"?f=Z.createElement(_,{is:M.is}):(f=Z.createElement(_),_==="select"&&(Z=f,M.multiple?Z.multiple=!0:M.size&&(Z.size=M.size))):f=Z.createElementNS(f,_),f[gs]=x,f[Eu]=M,ja(f,x,!1,!1),x.stateNode=f;e:{switch(Z=Be(_,M),_){case"dialog":dr("cancel",f),dr("close",f),D=M;break;case"iframe":case"object":case"embed":dr("load",f),D=M;break;case"video":case"audio":for(D=0;D<_u.length;D++)dr(_u[D],f);D=M;break;case"source":dr("error",f),D=M;break;case"img":case"image":case"link":dr("error",f),dr("load",f),D=M;break;case"details":dr("toggle",f),D=M;break;case"input":et(f,M),D=Ke(f,M),dr("invalid",f);break;case"option":D=M;break;case"select":f._wrapperState={wasMultiple:!!M.multiple},D=fe({},M,{value:void 0}),dr("invalid",f);break;case"textarea":ne(f,M),D=Ie(f,M),dr("invalid",f);break;default:D=M}Se(_,D),ve=D;for(z in ve)if(ve.hasOwnProperty(z)){var we=ve[z];z==="style"?_t(f,we):z==="dangerouslySetInnerHTML"?(we=we?we.__html:void 0,we!=null&&Ft(f,we)):z==="children"?typeof we=="string"?(_!=="textarea"||we!=="")&&Et(f,we):typeof we=="number"&&Et(f,""+we):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(a.hasOwnProperty(z)?we!=null&&z==="onScroll"&&dr("scroll",f):we!=null&&S(f,z,we,Z))}switch(_){case"input":rt(f),At(f,M,!1);break;case"textarea":rt(f),je(f);break;case"option":M.value!=null&&f.setAttribute("value",""+Ue(M.value));break;case"select":f.multiple=!!M.multiple,z=M.value,z!=null?Ee(f,!!M.multiple,z,!1):M.defaultValue!=null&&Ee(f,!!M.multiple,M.defaultValue,!0);break;default:typeof D.onClick=="function"&&(f.onclick=ug)}switch(_){case"button":case"input":case"select":case"textarea":M=!!M.autoFocus;break e;case"img":M=!0;break e;default:M=!1}}M&&(x.flags|=4)}x.ref!==null&&(x.flags|=512,x.flags|=2097152)}return ks(x),null;case 6:if(f&&x.stateNode!=null)Qm(f,x,f.memoizedProps,M);else{if(typeof M!="string"&&x.stateNode===null)throw Error(s(166));if(_=rl(Bm.current),rl(Fl.current),jg(x)){if(M=x.stateNode,_=x.memoizedProps,M[gs]=x,(z=M.nodeValue!==_)&&(f=Tn,f!==null))switch(f.tag){case 3:Gh(M.nodeValue,_,(f.mode&1)!==0);break;case 5:f.memoizedProps.suppressHydrationWarning!==!0&&Gh(M.nodeValue,_,(f.mode&1)!==0)}z&&(x.flags|=4)}else M=(_.nodeType===9?_:_.ownerDocument).createTextNode(M),M[gs]=x,x.stateNode=M}return ks(x),null;case 13:if(ur(Pr),M=x.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(gr&&wi!==null&&(x.mode&1)!==0&&(x.flags&128)===0)Jw(),Zh(),x.flags|=98560,z=!1;else if(z=jg(x),M!==null&&M.dehydrated!==null){if(f===null){if(!z)throw Error(s(318));if(z=x.memoizedState,z=z!==null?z.dehydrated:null,!z)throw Error(s(317));z[gs]=x}else Zh(),(x.flags&128)===0&&(x.memoizedState=null),x.flags|=4;ks(x),z=!1}else io!==null&&(sa(io),io=null),z=!0;if(!z)return x.flags&65536?x:null}return(x.flags&128)!==0?(x.lanes=_,x):(M=M!==null,M!==(f!==null&&f.memoizedState!==null)&&M&&(x.child.flags|=8192,(x.mode&1)!==0&&(f===null||(Pr.current&1)!==0?kr===0&&(kr=3):cf())),x.updateQueue!==null&&(x.flags|=4),ks(x),null);case 4:return Jh(),Lu(f,x),f===null&&Rm(x.stateNode.containerInfo),ks(x),null;case 10:return wg(x.type._context),ks(x),null;case 17:return ji(x.type)&&Im(),ks(x),null;case 19:if(ur(Pr),z=x.memoizedState,z===null)return ks(x),null;if(M=(x.flags&128)!==0,Z=z.rendering,Z===null)if(M)da(z,!1);else{if(kr!==0||f!==null&&(f.flags&128)!==0)for(f=x.child;f!==null;){if(Z=Sg(f),Z!==null){for(x.flags|=128,da(z,!1),M=Z.updateQueue,M!==null&&(x.updateQueue=M,x.flags|=4),x.subtreeFlags=0,M=_,_=x.child;_!==null;)z=_,f=M,z.flags&=14680066,Z=z.alternate,Z===null?(z.childLanes=0,z.lanes=f,z.child=null,z.subtreeFlags=0,z.memoizedProps=null,z.memoizedState=null,z.updateQueue=null,z.dependencies=null,z.stateNode=null):(z.childLanes=Z.childLanes,z.lanes=Z.lanes,z.child=Z.child,z.subtreeFlags=0,z.deletions=null,z.memoizedProps=Z.memoizedProps,z.memoizedState=Z.memoizedState,z.updateQueue=Z.updateQueue,z.type=Z.type,f=Z.dependencies,z.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),_=_.sibling;return Zs(Pr,Pr.current&1|2),x.child}f=f.sibling}z.tail!==null&&xe()>Md&&(x.flags|=128,M=!0,da(z,!1),x.lanes=4194304)}else{if(!M)if(f=Sg(Z),f!==null){if(x.flags|=128,M=!0,_=f.updateQueue,_!==null&&(x.updateQueue=_,x.flags|=4),da(z,!0),z.tail===null&&z.tailMode==="hidden"&&!Z.alternate&&!gr)return ks(x),null}else 2*xe()-z.renderingStartTime>Md&&_!==1073741824&&(x.flags|=128,M=!0,da(z,!1),x.lanes=4194304);z.isBackwards?(Z.sibling=x.child,x.child=Z):(_=z.last,_!==null?_.sibling=Z:x.child=Z,z.last=Z)}return z.tail!==null?(x=z.tail,z.rendering=x,z.tail=x.sibling,z.renderingStartTime=xe(),x.sibling=null,_=Pr.current,Zs(Pr,M?_&1|2:_&1),x):(ks(x),null);case 22:case 23:return Sb(),M=x.memoizedState!==null,f!==null&&f.memoizedState!==null!==M&&(x.flags|=8192),M&&(x.mode&1)!==0?(ha&1073741824)!==0&&(ks(x),x.subtreeFlags&6&&(x.flags|=8192)):ks(x),null;case 24:return null;case 25:return null}throw Error(s(156,x.tag))}function ol(f,x){switch(Wy(x),x.tag){case 1:return ji(x.type)&&Im(),f=x.flags,f&65536?(x.flags=f&-65537|128,x):null;case 3:return Jh(),ur(bi),ur(ai),rb(),f=x.flags,(f&65536)!==0&&(f&128)===0?(x.flags=f&-65537|128,x):null;case 5:return nb(x),null;case 13:if(ur(Pr),f=x.memoizedState,f!==null&&f.dehydrated!==null){if(x.alternate===null)throw Error(s(340));Zh()}return f=x.flags,f&65536?(x.flags=f&-65537|128,x):null;case 19:return ur(Pr),null;case 4:return Jh(),null;case 10:return wg(x.type._context),null;case 22:case 23:return Sb(),null;case 24:return null;default:return null}}var uo=!1,wa=!1,Do=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function Ad(f,x){var _=f.ref;if(_!==null)if(typeof _=="function")try{_(null)}catch(M){Us(f,x,M)}else _.current=null}function rf(f,x,_){try{_()}catch(M){Us(f,x,M)}}var Fu=!1;function jb(f,x){if(Gy=fm,f=ig(),si(f)){if("selectionStart"in f)var _={start:f.selectionStart,end:f.selectionEnd};else e:{_=(_=f.ownerDocument)&&_.defaultView||window;var M=_.getSelection&&_.getSelection();if(M&&M.rangeCount!==0){_=M.anchorNode;var D=M.anchorOffset,z=M.focusNode;M=M.focusOffset;try{_.nodeType,z.nodeType}catch{_=null;break e}var Z=0,ve=-1,we=-1,ze=0,vt=0,ut=f,Nt=null;t:for(;;){for(var Jt;ut!==_||D!==0&&ut.nodeType!==3||(ve=Z+D),ut!==z||M!==0&&ut.nodeType!==3||(we=Z+M),ut.nodeType===3&&(Z+=ut.nodeValue.length),(Jt=ut.firstChild)!==null;)Nt=ut,ut=Jt;for(;;){if(ut===f)break t;if(Nt===_&&++ze===D&&(ve=Z),Nt===z&&++vt===M&&(we=Z),(Jt=ut.nextSibling)!==null)break;ut=Nt,Nt=ut.parentNode}ut=Jt}_=ve===-1||we===-1?null:{start:ve,end:we}}else _=null}_=_||{start:0,end:0}}else _=null;for($y={focusedElem:f,selectionRange:_},fm=!1,Yt=x;Yt!==null;)if(x=Yt,f=x.child,(x.subtreeFlags&1028)!==0&&f!==null)f.return=x,Yt=f;else for(;Yt!==null;){x=Yt;try{var pn=x.alternate;if((x.flags&1024)!==0)switch(x.tag){case 0:case 11:case 15:break;case 1:if(pn!==null){var bn=pn.memoizedProps,ma=pn.memoizedState,Xe=x.stateNode,ke=Xe.getSnapshotBeforeUpdate(x.elementType===x.type?bn:il(x.type,bn),ma);Xe.__reactInternalSnapshotBeforeUpdate=ke}break;case 3:var Je=x.stateNode.containerInfo;Je.nodeType===1?Je.textContent="":Je.nodeType===9&&Je.documentElement&&Je.removeChild(Je.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(It){Us(x,x.return,It)}if(f=x.sibling,f!==null){f.return=x.return,Yt=f;break}Yt=x.return}return pn=Fu,Fu=!1,pn}function Cd(f,x,_){var M=x.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var D=M=M.next;do{if((D.tag&f)===f){var z=D.destroy;D.destroy=void 0,z!==void 0&&rf(x,_,z)}D=D.next}while(D!==M)}}function af(f,x){if(x=x.updateQueue,x=x!==null?x.lastEffect:null,x!==null){var _=x=x.next;do{if((_.tag&f)===f){var M=_.create;_.destroy=M()}_=_.next}while(_!==x)}}function Td(f){var x=f.ref;if(x!==null){var _=f.stateNode;switch(f.tag){case 5:f=_;break;default:f=_}typeof x=="function"?x(f):x.current=f}}function of(f){var x=f.alternate;x!==null&&(f.alternate=null,of(x)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(x=f.stateNode,x!==null&&(delete x[gs],delete x[Eu],delete x[mg],delete x[UT],delete x[zT])),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function Dg(f){return f.tag===5||f.tag===3||f.tag===4}function Uu(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||Dg(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function Ed(f,x,_){var M=f.tag;if(M===5||M===6)f=f.stateNode,x?_.nodeType===8?_.parentNode.insertBefore(f,x):_.insertBefore(f,x):(_.nodeType===8?(x=_.parentNode,x.insertBefore(f,_)):(x=_,x.appendChild(f)),_=_._reactRootContainer,_!=null||x.onclick!==null||(x.onclick=ug));else if(M!==4&&(f=f.child,f!==null))for(Ed(f,x,_),f=f.sibling;f!==null;)Ed(f,x,_),f=f.sibling}function zl(f,x,_){var M=f.tag;if(M===5||M===6)f=f.stateNode,x?_.insertBefore(f,x):_.appendChild(f);else if(M!==4&&(f=f.child,f!==null))for(zl(f,x,_),f=f.sibling;f!==null;)zl(f,x,_),f=f.sibling}var ua=null,ll=!1;function Lo(f,x,_){for(_=_.child;_!==null;)Lg(f,x,_),_=_.sibling}function Lg(f,x,_){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(Dt,_)}catch{}switch(_.tag){case 5:wa||Ad(_,x);case 6:var M=ua,D=ll;ua=null,Lo(f,x,_),ua=M,ll=D,ua!==null&&(ll?(f=ua,_=_.stateNode,f.nodeType===8?f.parentNode.removeChild(_):f.removeChild(_)):ua.removeChild(_.stateNode));break;case 18:ua!==null&&(ll?(f=ua,_=_.stateNode,f.nodeType===8?qy(f.parentNode,_):f.nodeType===1&&qy(f,_),bu(f)):qy(ua,_.stateNode));break;case 4:M=ua,D=ll,ua=_.stateNode.containerInfo,ll=!0,Lo(f,x,_),ua=M,ll=D;break;case 0:case 11:case 14:case 15:if(!wa&&(M=_.updateQueue,M!==null&&(M=M.lastEffect,M!==null))){D=M=M.next;do{var z=D,Z=z.destroy;z=z.tag,Z!==void 0&&((z&2)!==0||(z&4)!==0)&&rf(_,x,Z),D=D.next}while(D!==M)}Lo(f,x,_);break;case 1:if(!wa&&(Ad(_,x),M=_.stateNode,typeof M.componentWillUnmount=="function"))try{M.props=_.memoizedProps,M.state=_.memoizedState,M.componentWillUnmount()}catch(ve){Us(_,x,ve)}Lo(f,x,_);break;case 21:Lo(f,x,_);break;case 22:_.mode&1?(wa=(M=wa)||_.memoizedState!==null,Lo(f,x,_),wa=M):Lo(f,x,_);break;default:Lo(f,x,_)}}function Jm(f){var x=f.updateQueue;if(x!==null){f.updateQueue=null;var _=f.stateNode;_===null&&(_=f.stateNode=new Do),x.forEach(function(M){var D=Vr.bind(null,f,M);_.has(M)||(_.add(M),M.then(D,D))})}}function li(f,x){var _=x.deletions;if(_!==null)for(var M=0;M<_.length;M++){var D=_[M];try{var z=f,Z=x,ve=Z;e:for(;ve!==null;){switch(ve.tag){case 5:ua=ve.stateNode,ll=!1;break e;case 3:ua=ve.stateNode.containerInfo,ll=!0;break e;case 4:ua=ve.stateNode.containerInfo,ll=!0;break e}ve=ve.return}if(ua===null)throw Error(s(160));Lg(z,Z,D),ua=null,ll=!1;var we=D.alternate;we!==null&&(we.return=null),D.return=null}catch(ze){Us(D,x,ze)}}if(x.subtreeFlags&12854)for(x=x.child;x!==null;)zu(x,f),x=x.sibling}function zu(f,x){var _=f.alternate,M=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:if(li(x,f),$i(f),M&4){try{Cd(3,f,f.return),af(3,f)}catch(bn){Us(f,f.return,bn)}try{Cd(5,f,f.return)}catch(bn){Us(f,f.return,bn)}}break;case 1:li(x,f),$i(f),M&512&&_!==null&&Ad(_,_.return);break;case 5:if(li(x,f),$i(f),M&512&&_!==null&&Ad(_,_.return),f.flags&32){var D=f.stateNode;try{Et(D,"")}catch(bn){Us(f,f.return,bn)}}if(M&4&&(D=f.stateNode,D!=null)){var z=f.memoizedProps,Z=_!==null?_.memoizedProps:z,ve=f.type,we=f.updateQueue;if(f.updateQueue=null,we!==null)try{ve==="input"&&z.type==="radio"&&z.name!=null&&st(D,z),Be(ve,Z);var ze=Be(ve,z);for(Z=0;Z<we.length;Z+=2){var vt=we[Z],ut=we[Z+1];vt==="style"?_t(D,ut):vt==="dangerouslySetInnerHTML"?Ft(D,ut):vt==="children"?Et(D,ut):S(D,vt,ut,ze)}switch(ve){case"input":Qe(D,z);break;case"textarea":X(D,z);break;case"select":var Nt=D._wrapperState.wasMultiple;D._wrapperState.wasMultiple=!!z.multiple;var Jt=z.value;Jt!=null?Ee(D,!!z.multiple,Jt,!1):Nt!==!!z.multiple&&(z.defaultValue!=null?Ee(D,!!z.multiple,z.defaultValue,!0):Ee(D,!!z.multiple,z.multiple?[]:"",!1))}D[Eu]=z}catch(bn){Us(f,f.return,bn)}}break;case 6:if(li(x,f),$i(f),M&4){if(f.stateNode===null)throw Error(s(162));D=f.stateNode,z=f.memoizedProps;try{D.nodeValue=z}catch(bn){Us(f,f.return,bn)}}break;case 3:if(li(x,f),$i(f),M&4&&_!==null&&_.memoizedState.isDehydrated)try{bu(x.containerInfo)}catch(bn){Us(f,f.return,bn)}break;case 4:li(x,f),$i(f);break;case 13:li(x,f),$i(f),D=f.child,D.flags&8192&&(z=D.memoizedState!==null,D.stateNode.isHidden=z,!z||D.alternate!==null&&D.alternate.memoizedState!==null||(Fc=xe())),M&4&&Jm(f);break;case 22:if(vt=_!==null&&_.memoizedState!==null,f.mode&1?(wa=(ze=wa)||vt,li(x,f),wa=ze):li(x,f),$i(f),M&8192){if(ze=f.memoizedState!==null,(f.stateNode.isHidden=ze)&&!vt&&(f.mode&1)!==0)for(Yt=f,vt=f.child;vt!==null;){for(ut=Yt=vt;Yt!==null;){switch(Nt=Yt,Jt=Nt.child,Nt.tag){case 0:case 11:case 14:case 15:Cd(4,Nt,Nt.return);break;case 1:Ad(Nt,Nt.return);var pn=Nt.stateNode;if(typeof pn.componentWillUnmount=="function"){M=Nt,_=Nt.return;try{x=M,pn.props=x.memoizedProps,pn.state=x.memoizedState,pn.componentWillUnmount()}catch(bn){Us(M,_,bn)}}break;case 5:Ad(Nt,Nt.return);break;case 22:if(Nt.memoizedState!==null){ep(ut);continue}}Jt!==null?(Jt.return=Nt,Yt=Jt):ep(ut)}vt=vt.sibling}e:for(vt=null,ut=f;;){if(ut.tag===5){if(vt===null){vt=ut;try{D=ut.stateNode,ze?(z=D.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none"):(ve=ut.stateNode,we=ut.memoizedProps.style,Z=we!=null&&we.hasOwnProperty("display")?we.display:null,ve.style.display=wt("display",Z))}catch(bn){Us(f,f.return,bn)}}}else if(ut.tag===6){if(vt===null)try{ut.stateNode.nodeValue=ze?"":ut.memoizedProps}catch(bn){Us(f,f.return,bn)}}else if((ut.tag!==22&&ut.tag!==23||ut.memoizedState===null||ut===f)&&ut.child!==null){ut.child.return=ut,ut=ut.child;continue}if(ut===f)break e;for(;ut.sibling===null;){if(ut.return===null||ut.return===f)break e;vt===ut&&(vt=null),ut=ut.return}vt===ut&&(vt=null),ut.sibling.return=ut.return,ut=ut.sibling}}break;case 19:li(x,f),$i(f),M&4&&Jm(f);break;case 21:break;default:li(x,f),$i(f)}}function $i(f){var x=f.flags;if(x&2){try{e:{for(var _=f.return;_!==null;){if(Dg(_)){var M=_;break e}_=_.return}throw Error(s(160))}switch(M.tag){case 5:var D=M.stateNode;M.flags&32&&(Et(D,""),M.flags&=-33);var z=Uu(f);zl(f,z,D);break;case 3:case 4:var Z=M.stateNode.containerInfo,ve=Uu(f);Ed(f,ve,Z);break;default:throw Error(s(161))}}catch(we){Us(f,f.return,we)}f.flags&=-3}x&4096&&(f.flags&=-4097)}function Bu(f,x,_){Yt=f,wb(f)}function wb(f,x,_){for(var M=(f.mode&1)!==0;Yt!==null;){var D=Yt,z=D.child;if(D.tag===22&&M){var Z=D.memoizedState!==null||uo;if(!Z){var ve=D.alternate,we=ve!==null&&ve.memoizedState!==null||wa;ve=uo;var ze=wa;if(uo=Z,(wa=we)&&!ze)for(Yt=D;Yt!==null;)Z=Yt,we=Z.child,Z.tag===22&&Z.memoizedState!==null?ho(D):we!==null?(we.return=Z,Yt=we):ho(D);for(;z!==null;)Yt=z,wb(z),z=z.sibling;Yt=D,uo=ve,wa=ze}Vu(f)}else(D.subtreeFlags&8772)!==0&&z!==null?(z.return=D,Yt=z):Vu(f)}}function Vu(f){for(;Yt!==null;){var x=Yt;if((x.flags&8772)!==0){var _=x.alternate;try{if((x.flags&8772)!==0)switch(x.tag){case 0:case 11:case 15:wa||af(5,x);break;case 1:var M=x.stateNode;if(x.flags&4&&!wa)if(_===null)M.componentDidMount();else{var D=x.elementType===x.type?_.memoizedProps:il(x.type,_.memoizedProps);M.componentDidUpdate(D,_.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var z=x.updateQueue;z!==null&&sN(x,z,M);break;case 3:var Z=x.updateQueue;if(Z!==null){if(_=null,x.child!==null)switch(x.child.tag){case 5:_=x.child.stateNode;break;case 1:_=x.child.stateNode}sN(x,Z,_)}break;case 5:var ve=x.stateNode;if(_===null&&x.flags&4){_=ve;var we=x.memoizedProps;switch(x.type){case"button":case"input":case"select":case"textarea":we.autoFocus&&_.focus();break;case"img":we.src&&(_.src=we.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(x.memoizedState===null){var ze=x.alternate;if(ze!==null){var vt=ze.memoizedState;if(vt!==null){var ut=vt.dehydrated;ut!==null&&bu(ut)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}wa||x.flags&512&&Td(x)}catch(Nt){Us(x,x.return,Nt)}}if(x===f){Yt=null;break}if(_=x.sibling,_!==null){_.return=x.return,Yt=_;break}Yt=x.return}}function ep(f){for(;Yt!==null;){var x=Yt;if(x===f){Yt=null;break}var _=x.sibling;if(_!==null){_.return=x.return,Yt=_;break}Yt=x.return}}function ho(f){for(;Yt!==null;){var x=Yt;try{switch(x.tag){case 0:case 11:case 15:var _=x.return;try{af(4,x)}catch(we){Us(x,_,we)}break;case 1:var M=x.stateNode;if(typeof M.componentDidMount=="function"){var D=x.return;try{M.componentDidMount()}catch(we){Us(x,D,we)}}var z=x.return;try{Td(x)}catch(we){Us(x,z,we)}break;case 5:var Z=x.return;try{Td(x)}catch(we){Us(x,Z,we)}}}catch(we){Us(x,x.return,we)}if(x===f){Yt=null;break}var ve=x.sibling;if(ve!==null){ve.return=x.return,Yt=ve;break}Yt=x.return}}var Bl=Math.ceil,zr=w.ReactCurrentDispatcher,Vl=w.ReactCurrentOwner,Fn=w.ReactCurrentBatchConfig,yn=0,bs=null,Or=null,Br=0,ha=0,Lc=Fi(0),kr=0,Hl=null,Hu=0,lf=0,Fo=0,cl=null,Xr=null,Fc=0,Md=1/0,Gl=null,tp=!1,na=null,$l=null,Gu=!1,qi=null,Uo=0,np=0,Nb=null,Fg=-1,vr=0;function ci(){return(yn&6)!==0?xe():Fg!==-1?Fg:Fg=xe()}function Wi(f){return(f.mode&1)===0?1:(yn&2)!==0&&Br!==0?Br&-Br:BT.transition!==null?(vr===0&&(vr=qs()),vr):(f=es,f!==0||(f=window.event,f=f===void 0?16:pm(f.type)),f)}function fa(f,x,_,M){if(50<np)throw np=0,Nb=null,Error(s(185));ws(f,_,M),((yn&2)===0||f!==bs)&&(f===bs&&((yn&2)===0&&(lf|=_),kr===4&&tr(f,Br)),_s(f,M),_===1&&yn===0&&(x.mode&1)===0&&(Md=xe()+500,vg&&Tc()))}function _s(f,x){var _=f.callbackNode;Ms(f,x);var M=cs(f,f===bs?Br:0);if(M===0)_!==null&&ye(_),f.callbackNode=null,f.callbackPriority=0;else if(x=M&-M,f.callbackPriority!==x){if(_!=null&&ye(_),x===1)f.tag===0?Wh(Ki.bind(null,f)):Ru(Ki.bind(null,f)),Xw(function(){(yn&6)===0&&Tc()}),_=null;else{switch(gy(M)){case 1:_=at;break;case 4:_=ft;break;case 16:_=jt;break;case 536870912:_=Vt;break;default:_=jt}_=Pd(_,Ug.bind(null,f))}f.callbackPriority=x,f.callbackNode=_}}function Ug(f,x){if(Fg=-1,vr=0,(yn&6)!==0)throw Error(s(327));var _=f.callbackNode;if(Is()&&f.callbackNode!==_)return null;var M=cs(f,f===bs?Br:0);if(M===0)return null;if((M&30)!==0||(M&f.expiredLanes)!==0||x)x=$u(f,M);else{x=M;var D=yn;yn|=2;var z=rp();(bs!==f||Br!==x)&&(Gl=null,Md=xe()+500,ql(f,x));do try{$T();break}catch(ve){sp(f,ve)}while(!0);Vi(),zr.current=z,yn=D,Or!==null?x=0:(bs=null,Br=0,x=kr)}if(x!==0){if(x===2&&(D=Sn(f),D!==0&&(M=D,x=zg(f,D))),x===1)throw _=Hl,ql(f,0),tr(f,M),_s(f,xe()),_;if(x===6)tr(f,M);else{if(D=f.current.alternate,(M&30)===0&&!MN(D)&&(x=$u(f,M),x===2&&(z=Sn(f),z!==0&&(M=z,x=zg(f,z))),x===1))throw _=Hl,ql(f,0),tr(f,M),_s(f,xe()),_;switch(f.finishedWork=D,f.finishedLanes=M,x){case 0:case 1:throw Error(s(345));case 2:Jn(f,Xr,Gl);break;case 3:if(tr(f,M),(M&130023424)===M&&(x=Fc+500-xe(),10<x)){if(cs(f,0)!==0)break;if(D=f.suspendedLanes,(D&M)!==M){ci(),f.pingedLanes|=f.suspendedLanes&D;break}f.timeoutHandle=fg(Jn.bind(null,f,Xr,Gl),x);break}Jn(f,Xr,Gl);break;case 4:if(tr(f,M),(M&4194240)===M)break;for(x=f.eventTimes,D=-1;0<M;){var Z=31-mn(M);z=1<<Z,Z=x[Z],Z>D&&(D=Z),M&=~z}if(M=D,M=xe()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*Bl(M/1960))-M,10<M){f.timeoutHandle=fg(Jn.bind(null,f,Xr,Gl),M);break}Jn(f,Xr,Gl);break;case 5:Jn(f,Xr,Gl);break;default:throw Error(s(329))}}}return _s(f,xe()),f.callbackNode===_?Ug.bind(null,f):null}function zg(f,x){var _=cl;return f.current.memoizedState.isDehydrated&&(ql(f,x).flags|=256),f=$u(f,x),f!==2&&(x=Xr,Xr=_,x!==null&&sa(x)),f}function sa(f){Xr===null?Xr=f:Xr.push.apply(Xr,f)}function MN(f){for(var x=f;;){if(x.flags&16384){var _=x.updateQueue;if(_!==null&&(_=_.stores,_!==null))for(var M=0;M<_.length;M++){var D=_[M],z=D.getSnapshot;D=D.value;try{if(!Ro(z(),D))return!1}catch{return!1}}}if(_=x.child,x.subtreeFlags&16384&&_!==null)_.return=x,x=_;else{if(x===f)break;for(;x.sibling===null;){if(x.return===null||x.return===f)return!0;x=x.return}x.sibling.return=x.return,x=x.sibling}}return!0}function tr(f,x){for(x&=~Fo,x&=~lf,f.suspendedLanes|=x,f.pingedLanes&=~x,f=f.expirationTimes;0<x;){var _=31-mn(x),M=1<<_;f[_]=-1,x&=~M}}function Ki(f){if((yn&6)!==0)throw Error(s(327));Is();var x=cs(f,0);if((x&1)===0)return _s(f,xe()),null;var _=$u(f,x);if(f.tag!==0&&_===2){var M=Sn(f);M!==0&&(x=M,_=zg(f,M))}if(_===1)throw _=Hl,ql(f,0),tr(f,x),_s(f,xe()),_;if(_===6)throw Error(s(345));return f.finishedWork=f.current.alternate,f.finishedLanes=x,Jn(f,Xr,Gl),_s(f,xe()),null}function fo(f,x){var _=yn;yn|=1;try{return f(x)}finally{yn=_,yn===0&&(Md=xe()+500,vg&&Tc())}}function zo(f){qi!==null&&qi.tag===0&&(yn&6)===0&&Is();var x=yn;yn|=1;var _=Fn.transition,M=es;try{if(Fn.transition=null,es=1,f)return f()}finally{es=M,Fn.transition=_,yn=x,(yn&6)===0&&Tc()}}function Sb(){ha=Lc.current,ur(Lc)}function ql(f,x){f.finishedWork=null,f.finishedLanes=0;var _=f.timeoutHandle;if(_!==-1&&(f.timeoutHandle=-1,$h(_)),Or!==null)for(_=Or.return;_!==null;){var M=_;switch(Wy(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&Im();break;case 3:Jh(),ur(bi),ur(ai),rb();break;case 5:nb(M);break;case 4:Jh();break;case 13:ur(Pr);break;case 19:ur(Pr);break;case 10:wg(M.type._context);break;case 22:case 23:Sb()}_=_.return}if(bs=f,Or=f=za(f.current,null),Br=ha=x,kr=0,Hl=null,Fo=lf=Hu=0,Xr=cl=null,ku!==null){for(x=0;x<ku.length;x++)if(_=ku[x],M=_.interleaved,M!==null){_.interleaved=null;var D=M.next,z=_.pending;if(z!==null){var Z=z.next;z.next=D,M.next=Z}_.pending=M}ku=null}return f}function sp(f,x){do{var _=Or;try{if(Vi(),_g.current=Wm,Ag){for(var M=Rr.memoizedState;M!==null;){var D=M.queue;D!==null&&(D.pending=null),M=M.next}Ag=!1}if(Iu=0,ba=ta=Rr=null,Vm=!1,Hm=0,Vl.current=null,_===null||_.return===null){kr=1,Hl=x,Or=null;break}e:{var z=f,Z=_.return,ve=_,we=x;if(x=Br,ve.flags|=32768,we!==null&&typeof we=="object"&&typeof we.then=="function"){var ze=we,vt=ve,ut=vt.tag;if((vt.mode&1)===0&&(ut===0||ut===11||ut===15)){var Nt=vt.alternate;Nt?(vt.updateQueue=Nt.updateQueue,vt.memoizedState=Nt.memoizedState,vt.lanes=Nt.lanes):(vt.updateQueue=null,vt.memoizedState=null)}var Jt=SN(Z);if(Jt!==null){Jt.flags&=-257,Xm(Jt,Z,ve,z,x),Jt.mode&1&&NN(z,ze,x),x=Jt,we=ze;var pn=x.updateQueue;if(pn===null){var bn=new Set;bn.add(we),x.updateQueue=bn}else pn.add(we);break e}else{if((x&1)===0){NN(z,ze,x),cf();break e}we=Error(s(426))}}else if(gr&&ve.mode&1){var ma=SN(Z);if(ma!==null){(ma.flags&65536)===0&&(ma.flags|=256),Xm(ma,Z,ve,z,x),Xy(tf(we,ve));break e}}z=we=tf(we,ve),kr!==4&&(kr=2),cl===null?cl=[z]:cl.push(z),z=Z;do{switch(z.tag){case 3:z.flags|=65536,x&=-x,z.lanes|=x;var Xe=Du(z,we,x);nN(z,Xe);break e;case 1:ve=we;var ke=z.type,Je=z.stateNode;if((z.flags&128)===0&&(typeof ke.getDerivedStateFromError=="function"||Je!==null&&typeof Je.componentDidCatch=="function"&&($l===null||!$l.has(Je)))){z.flags|=65536,x&=-x,z.lanes|=x;var It=Hi(z,ve,x);nN(z,It);break e}}z=z.return}while(z!==null)}nr(_)}catch(_n){x=_n,Or===_&&_!==null&&(Or=_=_.return);continue}break}while(!0)}function rp(){var f=zr.current;return zr.current=Wm,f===null?Wm:f}function cf(){(kr===0||kr===3||kr===2)&&(kr=4),bs===null||(Hu&268435455)===0&&(lf&268435455)===0||tr(bs,Br)}function $u(f,x){var _=yn;yn|=2;var M=rp();(bs!==f||Br!==x)&&(Gl=null,ql(f,x));do try{ap();break}catch(D){sp(f,D)}while(!0);if(Vi(),yn=_,zr.current=M,Or!==null)throw Error(s(261));return bs=null,Br=0,kr}function ap(){for(;Or!==null;)Ws(Or)}function $T(){for(;Or!==null&&!Ne();)Ws(Or)}function Ws(f){var x=zc(f.alternate,f,ha);f.memoizedProps=f.pendingProps,x===null?nr(f):Or=x,Vl.current=null}function nr(f){var x=f;do{var _=x.alternate;if(f=x.return,(x.flags&32768)===0){if(_=Rs(_,x,ha),_!==null){Or=_;return}}else{if(_=ol(_,x),_!==null){_.flags&=32767,Or=_;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{kr=6,Or=null;return}}if(x=x.sibling,x!==null){Or=x;return}Or=x=f}while(x!==null);kr===0&&(kr=5)}function Jn(f,x,_){var M=es,D=Fn.transition;try{Fn.transition=null,es=1,Ts(f,x,_,M)}finally{Fn.transition=D,es=M}return null}function Ts(f,x,_,M){do Is();while(qi!==null);if((yn&6)!==0)throw Error(s(327));_=f.finishedWork;var D=f.finishedLanes;if(_===null)return null;if(f.finishedWork=null,f.finishedLanes=0,_===f.current)throw Error(s(177));f.callbackNode=null,f.callbackPriority=0;var z=_.lanes|_.childLanes;if(xr(f,z),f===bs&&(Or=bs=null,Br=0),(_.subtreeFlags&2064)===0&&(_.flags&2064)===0||Gu||(Gu=!0,Pd(jt,function(){return Is(),null})),z=(_.flags&15990)!==0,(_.subtreeFlags&15990)!==0||z){z=Fn.transition,Fn.transition=null;var Z=es;es=1;var ve=yn;yn|=4,Vl.current=null,jb(f,_),zu(_,f),$w($y),fm=!!Gy,$y=Gy=null,f.current=_,Bu(_),Te(),yn=ve,es=Z,Fn.transition=z}else f.current=_;if(Gu&&(Gu=!1,qi=f,Uo=D),z=f.pendingLanes,z===0&&($l=null),$n(_.stateNode),_s(f,xe()),x!==null)for(M=f.onRecoverableError,_=0;_<x.length;_++)D=x[_],M(D.value,{componentStack:D.stack,digest:D.digest});if(tp)throw tp=!1,f=na,na=null,f;return(Uo&1)!==0&&f.tag!==0&&Is(),z=f.pendingLanes,(z&1)!==0?f===Nb?np++:(np=0,Nb=f):np=0,Tc(),null}function Is(){if(qi!==null){var f=gy(Uo),x=Fn.transition,_=es;try{if(Fn.transition=null,es=16>f?16:f,qi===null)var M=!1;else{if(f=qi,qi=null,Uo=0,(yn&6)!==0)throw Error(s(331));var D=yn;for(yn|=4,Yt=f.current;Yt!==null;){var z=Yt,Z=z.child;if((Yt.flags&16)!==0){var ve=z.deletions;if(ve!==null){for(var we=0;we<ve.length;we++){var ze=ve[we];for(Yt=ze;Yt!==null;){var vt=Yt;switch(vt.tag){case 0:case 11:case 15:Cd(8,vt,z)}var ut=vt.child;if(ut!==null)ut.return=vt,Yt=ut;else for(;Yt!==null;){vt=Yt;var Nt=vt.sibling,Jt=vt.return;if(of(vt),vt===ze){Yt=null;break}if(Nt!==null){Nt.return=Jt,Yt=Nt;break}Yt=Jt}}}var pn=z.alternate;if(pn!==null){var bn=pn.child;if(bn!==null){pn.child=null;do{var ma=bn.sibling;bn.sibling=null,bn=ma}while(bn!==null)}}Yt=z}}if((z.subtreeFlags&2064)!==0&&Z!==null)Z.return=z,Yt=Z;else e:for(;Yt!==null;){if(z=Yt,(z.flags&2048)!==0)switch(z.tag){case 0:case 11:case 15:Cd(9,z,z.return)}var Xe=z.sibling;if(Xe!==null){Xe.return=z.return,Yt=Xe;break e}Yt=z.return}}var ke=f.current;for(Yt=ke;Yt!==null;){Z=Yt;var Je=Z.child;if((Z.subtreeFlags&2064)!==0&&Je!==null)Je.return=Z,Yt=Je;else e:for(Z=ke;Yt!==null;){if(ve=Yt,(ve.flags&2048)!==0)try{switch(ve.tag){case 0:case 11:case 15:af(9,ve)}}catch(_n){Us(ve,ve.return,_n)}if(ve===Z){Yt=null;break e}var It=ve.sibling;if(It!==null){It.return=ve.return,Yt=It;break e}Yt=ve.return}}if(yn=D,Tc(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(Dt,f)}catch{}M=!0}return M}finally{es=_,Fn.transition=x}}return!1}function Xi(f,x,_){x=tf(_,x),x=Du(f,x,1),f=oo(f,x,1),x=ci(),f!==null&&(ws(f,1,x),_s(f,x))}function Us(f,x,_){if(f.tag===3)Xi(f,f,_);else for(;x!==null;){if(x.tag===3){Xi(x,f,_);break}else if(x.tag===1){var M=x.stateNode;if(typeof x.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&($l===null||!$l.has(M))){f=tf(_,f),f=Hi(x,f,1),x=oo(x,f,1),f=ci(),x!==null&&(ws(x,1,f),_s(x,f));break}}x=x.return}}function df(f,x,_){var M=f.pingCache;M!==null&&M.delete(x),x=ci(),f.pingedLanes|=f.suspendedLanes&_,bs===f&&(Br&_)===_&&(kr===4||kr===3&&(Br&130023424)===Br&&500>xe()-Fc?ql(f,0):Fo|=_),_s(f,x)}function Bg(f,x){x===0&&((f.mode&1)===0?x=1:(x=Qn,Qn<<=1,(Qn&130023424)===0&&(Qn=4194304)));var _=ci();f=Mc(f,x),f!==null&&(ws(f,x,_),_s(f,_))}function Uc(f){var x=f.memoizedState,_=0;x!==null&&(_=x.retryLane),Bg(f,_)}function Vr(f,x){var _=0;switch(f.tag){case 13:var M=f.stateNode,D=f.memoizedState;D!==null&&(_=D.retryLane);break;case 19:M=f.stateNode;break;default:throw Error(s(314))}M!==null&&M.delete(x),Bg(f,_)}var zc;zc=function(f,x,_){if(f!==null)if(f.memoizedProps!==x.pendingProps||bi.current)La=!0;else{if((f.lanes&_)===0&&(x.flags&128)===0)return La=!1,Ic(f,x,_);La=(f.flags&131072)!==0}else La=!1,gr&&(x.flags&1048576)!==0&&Yw(x,nl,x.index);switch(x.lanes=0,x.tag){case 2:var M=x.type;Ul(f,x),f=x.pendingProps;var D=Pu(x,ai.current);ca(x,_),D=Tg(null,x,M,f,D,_);var z=ib();return x.flags|=1,typeof D=="object"&&D!==null&&typeof D.render=="function"&&D.$$typeof===void 0?(x.tag=1,x.memoizedState=null,x.updateQueue=null,ji(M)?(z=!0,gg(x)):z=!1,x.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,Jy(x),D.updater=Rg,x.stateNode=D,D._reactInternals=x,gb(x,M,f,_),x=yb(null,x,M,!0,z,_)):(x.tag=0,gr&&z&&yg(x),Fa(null,x,D,_),x=x.child),x;case 16:M=x.elementType;e:{switch(Ul(f,x),f=x.pendingProps,D=M._init,M=D(M._payload),x.type=M,D=x.tag=ip(M),f=il(M,f),D){case 0:x=Zm(null,x,M,f,_);break e;case 1:x=TN(null,x,M,f,_);break e;case 11:x=_N(null,x,M,f,_);break e;case 14:x=AN(null,x,M,il(M.type,f),_);break e}throw Error(s(306,M,""))}return x;case 0:return M=x.type,D=x.pendingProps,D=x.elementType===M?D:il(M,D),Zm(f,x,M,D,_);case 1:return M=x.type,D=x.pendingProps,D=x.elementType===M?D:il(M,D),TN(f,x,M,D,_);case 3:e:{if(EN(x),f===null)throw Error(s(387));M=x.pendingProps,z=x.memoizedState,D=z.element,eb(f,x),Ng(x,M,null,_);var Z=x.memoizedState;if(M=Z.element,z.isDehydrated)if(z={element:M,isDehydrated:!1,cache:Z.cache,pendingSuspenseBoundaries:Z.pendingSuspenseBoundaries,transitions:Z.transitions},x.updateQueue.baseState=z,x.memoizedState=z,x.flags&256){D=tf(Error(s(423)),x),x=sf(f,x,M,_,D);break e}else if(M!==D){D=tf(Error(s(424)),x),x=sf(f,x,M,_,D);break e}else for(wi=_c(x.stateNode.containerInfo.firstChild),Tn=x,gr=!0,io=null,_=eN(x,null,M,_),x.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(Zh(),M===D){x=Ua(f,x,_);break e}Fa(f,x,M,_)}x=x.child}return x;case 5:return rN(x),f===null&&bg(x),M=x.type,D=x.pendingProps,z=f!==null?f.memoizedProps:null,Z=D.children,hg(M,D)?Z=null:z!==null&&hg(M,z)&&(x.flags|=32),CN(f,x),Fa(f,x,Z,_),x.child;case 6:return f===null&&bg(x),null;case 13:return bb(f,x,_);case 4:return tb(x,x.stateNode.containerInfo),M=x.pendingProps,f===null?x.child=Yh(x,null,M,_):Fa(f,x,M,_),x.child;case 11:return M=x.type,D=x.pendingProps,D=x.elementType===M?D:il(M,D),_N(f,x,M,D,_);case 7:return Fa(f,x,x.pendingProps,_),x.child;case 8:return Fa(f,x,x.pendingProps.children,_),x.child;case 12:return Fa(f,x,x.pendingProps.children,_),x.child;case 10:e:{if(M=x.type._context,D=x.pendingProps,z=x.memoizedProps,Z=D.value,Zs(Qh,M._currentValue),M._currentValue=Z,z!==null)if(Ro(z.value,Z)){if(z.children===D.children&&!bi.current){x=Ua(f,x,_);break e}}else for(z=x.child,z!==null&&(z.return=x);z!==null;){var ve=z.dependencies;if(ve!==null){Z=z.child;for(var we=ve.firstContext;we!==null;){if(we.context===M){if(z.tag===1){we=Rc(-1,_&-_),we.tag=2;var ze=z.updateQueue;if(ze!==null){ze=ze.shared;var vt=ze.pending;vt===null?we.next=we:(we.next=vt.next,vt.next=we),ze.pending=we}}z.lanes|=_,we=z.alternate,we!==null&&(we.lanes|=_),Yy(z.return,_,x),ve.lanes|=_;break}we=we.next}}else if(z.tag===10)Z=z.type===x.type?null:z.child;else if(z.tag===18){if(Z=z.return,Z===null)throw Error(s(341));Z.lanes|=_,ve=Z.alternate,ve!==null&&(ve.lanes|=_),Yy(Z,_,x),Z=z.sibling}else Z=z.child;if(Z!==null)Z.return=z;else for(Z=z;Z!==null;){if(Z===x){Z=null;break}if(z=Z.sibling,z!==null){z.return=Z.return,Z=z;break}Z=Z.return}z=Z}Fa(f,x,D.children,_),x=x.child}return x;case 9:return D=x.type,M=x.pendingProps.children,ca(x,_),D=ya(D),M=M(D),x.flags|=1,Fa(f,x,M,_),x.child;case 14:return M=x.type,D=il(M,x.pendingProps),D=il(M.type,D),AN(f,x,M,D,_);case 15:return Io(f,x,x.type,x.pendingProps,_);case 17:return M=x.type,D=x.pendingProps,D=x.elementType===M?D:il(M,D),Ul(f,x),x.tag=1,ji(M)?(f=!0,gg(x)):f=!1,ca(x,_),xb(x,M,D),gb(x,M,D,_),yb(null,x,M,!0,f,_);case 19:return co(f,x,_);case 22:return vb(f,x,_)}throw Error(s(156,x.tag))};function Pd(f,x){return Y(f,x)}function _b(f,x,_,M){this.tag=f,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=x,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(f,x,_,M){return new _b(f,x,_,M)}function Rd(f){return f=f.prototype,!(!f||!f.isReactComponent)}function ip(f){if(typeof f=="function")return Rd(f)?1:0;if(f!=null){if(f=f.$$typeof,f===H)return 11;if(f===J)return 14}return 2}function za(f,x){var _=f.alternate;return _===null?(_=Ir(f.tag,x,f.key,f.mode),_.elementType=f.elementType,_.type=f.type,_.stateNode=f.stateNode,_.alternate=f,f.alternate=_):(_.pendingProps=x,_.type=f.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=f.flags&14680064,_.childLanes=f.childLanes,_.lanes=f.lanes,_.child=f.child,_.memoizedProps=f.memoizedProps,_.memoizedState=f.memoizedState,_.updateQueue=f.updateQueue,x=f.dependencies,_.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext},_.sibling=f.sibling,_.index=f.index,_.ref=f.ref,_}function uf(f,x,_,M,D,z){var Z=2;if(M=f,typeof f=="function")Rd(f)&&(Z=1);else if(typeof f=="string")Z=5;else e:switch(f){case P:return Bc(_.children,D,z,x);case k:Z=8,D|=8;break;case I:return f=Ir(12,_,x,D|2),f.elementType=I,f.lanes=z,f;case B:return f=Ir(13,_,x,D),f.elementType=B,f.lanes=z,f;case K:return f=Ir(19,_,x,D),f.elementType=K,f.lanes=z,f;case ee:return Od(_,D,z,x);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case L:Z=10;break e;case U:Z=9;break e;case H:Z=11;break e;case J:Z=14;break e;case W:Z=16,M=null;break e}throw Error(s(130,f==null?f:typeof f,""))}return x=Ir(Z,_,x,D),x.elementType=f,x.type=M,x.lanes=z,x}function Bc(f,x,_,M){return f=Ir(7,f,M,x),f.lanes=_,f}function Od(f,x,_,M){return f=Ir(22,f,M,x),f.elementType=ee,f.lanes=_,f.stateNode={isHidden:!1},f}function hf(f,x,_){return f=Ir(6,f,null,x),f.lanes=_,f}function Wl(f,x,_){return x=Ir(4,f.children!==null?f.children:[],f.key,x),x.lanes=_,x.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},x}function Vg(f,x,_,M,D){this.tag=x,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pr(0),this.expirationTimes=pr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pr(0),this.identifierPrefix=M,this.onRecoverableError=D,this.mutableSourceEagerHydrationData=null}function Vc(f,x,_,M,D,z,Z,ve,we){return f=new Vg(f,x,_,ve,we),x===1?(x=1,z===!0&&(x|=8)):x=0,z=Ir(3,null,null,x),f.current=z,z.stateNode=f,z.memoizedState={element:M,isDehydrated:_,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jy(z),f}function op(f,x,_){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:M==null?null:""+M,children:f,containerInfo:x,implementation:_}}function Hg(f){if(!f)return Il;f=f._reactInternals;e:{if(ce(f)!==f||f.tag!==1)throw Error(s(170));var x=f;do{switch(x.tag){case 3:x=x.stateNode.context;break e;case 1:if(ji(x.type)){x=x.stateNode.__reactInternalMemoizedMergedChildContext;break e}}x=x.return}while(x!==null);throw Error(s(171))}if(f.tag===1){var _=f.type;if(ji(_))return vs(f,_,x)}return x}function Gg(f,x,_,M,D,z,Z,ve,we){return f=Vc(_,M,!0,f,D,z,Z,ve,we),f.context=Hg(null),_=f.current,M=ci(),D=Wi(_),z=Rc(M,D),z.callback=x??null,oo(_,z,D),f.current.lanes=D,ws(f,D,M),_s(f,M),f}function kd(f,x,_,M){var D=x.current,z=ci(),Z=Wi(D);return _=Hg(_),x.context===null?x.context=_:x.pendingContext=_,x=Rc(z,Z),x.payload={element:f},M=M===void 0?null:M,M!==null&&(x.callback=M),f=oo(D,x,Z),f!==null&&(fa(f,D,Z,z),Ll(f,D,Z)),Z}function ff(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return f.child.stateNode;default:return f.child.stateNode}}function p(f,x){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var _=f.retryLane;f.retryLane=_!==0&&_<x?_:x}}function g(f,x){p(f,x),(f=f.alternate)&&p(f,x)}function C(){return null}var O=typeof reportError=="function"?reportError:function(f){console.error(f)};function F(f){this._internalRoot=f}V.prototype.render=F.prototype.render=function(f){var x=this._internalRoot;if(x===null)throw Error(s(409));kd(f,x,null,null)},V.prototype.unmount=F.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var x=f.containerInfo;zo(function(){kd(null,f,null,null)}),x[Ac]=null}};function V(f){this._internalRoot=f}V.prototype.unstable_scheduleHydration=function(f){if(f){var x=Ux();f={blockedOn:null,target:f,priority:x};for(var _=0;_<pc.length&&x!==0&&x<pc[_].priority;_++);pc.splice(_,0,f),_===0&&jy(f)}};function ie(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function Ae(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11&&(f.nodeType!==8||f.nodeValue!==" react-mount-point-unstable "))}function Ge(){}function pt(f,x,_,M,D){if(D){if(typeof M=="function"){var z=M;M=function(){var ze=ff(Z);z.call(ze)}}var Z=Gg(x,M,f,0,null,!1,!1,"",Ge);return f._reactRootContainer=Z,f[Ac]=Z.current,Rm(f.nodeType===8?f.parentNode:f),zo(),Z}for(;D=f.lastChild;)f.removeChild(D);if(typeof M=="function"){var ve=M;M=function(){var ze=ff(we);ve.call(ze)}}var we=Vc(f,0,!1,null,null,!1,!1,"",Ge);return f._reactRootContainer=we,f[Ac]=we.current,Rm(f.nodeType===8?f.parentNode:f),zo(function(){kd(x,we,_,M)}),we}function Rt(f,x,_,M,D){var z=_._reactRootContainer;if(z){var Z=z;if(typeof D=="function"){var ve=D;D=function(){var we=ff(Z);ve.call(we)}}kd(x,Z,f,D)}else Z=pt(_,x,f,D,M);return ff(Z)}um=function(f){switch(f.tag){case 3:var x=f.stateNode;if(x.current.memoizedState.isDehydrated){var _=Es(x.pendingLanes);_!==0&&(fd(x,_|1),_s(x,xe()),(yn&6)===0&&(Md=xe()+500,Tc()))}break;case 13:zo(function(){var M=Mc(f,1);if(M!==null){var D=ci();fa(M,f,1,D)}}),g(f,1)}},Lh=function(f){if(f.tag===13){var x=Mc(f,134217728);if(x!==null){var _=ci();fa(x,f,134217728,_)}g(f,134217728)}},vy=function(f){if(f.tag===13){var x=Wi(f),_=Mc(f,x);if(_!==null){var M=ci();fa(_,f,x,M)}g(f,x)}},Ux=function(){return es},yy=function(f,x){var _=es;try{return es=f,x()}finally{es=_}},Le=function(f,x,_){switch(x){case"input":if(Qe(f,_),x=_.name,_.type==="radio"&&x!=null){for(_=f;_.parentNode;)_=_.parentNode;for(_=_.querySelectorAll("input[name="+JSON.stringify(""+x)+'][type="radio"]'),x=0;x<_.length;x++){var M=_[x];if(M!==f&&M.form===f.form){var D=el(M);if(!D)throw Error(s(90));$e(M),Qe(M,D)}}}break;case"textarea":X(f,_);break;case"select":x=_.value,x!=null&&Ee(f,!!_.multiple,x,!1)}},gn=fo,as=zo;var Zt={usingClientEntryPoint:!1,Events:[km,jd,el,yt,Ht,fo]},qt={findFiberByHostInstance:Mu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ts={bundleType:qt.bundleType,version:qt.version,rendererPackageName:qt.rendererPackageName,rendererConfig:qt.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(f){return f=it(f),f===null?null:f.stateNode},findFiberByHostInstance:qt.findFiberByHostInstance||C,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _i=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_i.isDisabled&&_i.supportsFiber)try{Dt=_i.inject(ts),an=_i}catch{}}return Bo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zt,Bo.createPortal=function(f,x){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ie(x))throw Error(s(200));return op(f,x,null,_)},Bo.createRoot=function(f,x){if(!ie(f))throw Error(s(299));var _=!1,M="",D=O;return x!=null&&(x.unstable_strictMode===!0&&(_=!0),x.identifierPrefix!==void 0&&(M=x.identifierPrefix),x.onRecoverableError!==void 0&&(D=x.onRecoverableError)),x=Vc(f,1,!1,null,null,_,!1,M,D),f[Ac]=x.current,Rm(f.nodeType===8?f.parentNode:f),new F(x)},Bo.findDOMNode=function(f){if(f==null)return null;if(f.nodeType===1)return f;var x=f._reactInternals;if(x===void 0)throw typeof f.render=="function"?Error(s(188)):(f=Object.keys(f).join(","),Error(s(268,f)));return f=it(x),f=f===null?null:f.stateNode,f},Bo.flushSync=function(f){return zo(f)},Bo.hydrate=function(f,x,_){if(!Ae(x))throw Error(s(200));return Rt(null,f,x,!0,_)},Bo.hydrateRoot=function(f,x,_){if(!ie(f))throw Error(s(405));var M=_!=null&&_.hydratedSources||null,D=!1,z="",Z=O;if(_!=null&&(_.unstable_strictMode===!0&&(D=!0),_.identifierPrefix!==void 0&&(z=_.identifierPrefix),_.onRecoverableError!==void 0&&(Z=_.onRecoverableError)),x=Gg(x,null,f,1,_??null,D,!1,z,Z),f[Ac]=x.current,Rm(f),M)for(f=0;f<M.length;f++)_=M[f],D=_._getVersion,D=D(_._source),x.mutableSourceEagerHydrationData==null?x.mutableSourceEagerHydrationData=[_,D]:x.mutableSourceEagerHydrationData.push(_,D);return new V(x)},Bo.render=function(f,x,_){if(!Ae(x))throw Error(s(200));return Rt(null,f,x,!1,_)},Bo.unmountComponentAtNode=function(f){if(!Ae(f))throw Error(s(40));return f._reactRootContainer?(zo(function(){Rt(null,null,f,!1,function(){f._reactRootContainer=null,f[Ac]=null})}),!0):!1},Bo.unstable_batchedUpdates=fo,Bo.unstable_renderSubtreeIntoContainer=function(f,x,_,M){if(!Ae(_))throw Error(s(200));if(f==null||f._reactInternals===void 0)throw Error(s(38));return Rt(f,x,_,!1,M)},Bo.version="18.3.1-next-f1338f8080-20240426",Bo}var PL;function TG(){if(PL)return KT.exports;PL=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),KT.exports=One(),KT.exports}var RL;function kne(){if(RL)return RN;RL=1;var n=TG();return RN.createRoot=n.createRoot,RN.hydrateRoot=n.hydrateRoot,RN}var EG=kne();function Ine(n,e){if(n instanceof RegExp)return{keys:!1,pattern:n};var s,r,a,i,o=[],l="",c=n.split("/");for(c[0]||c.shift();a=c.shift();)s=a[0],s==="*"?(o.push(s),l+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):s===":"?(r=a.indexOf("?",1),i=a.indexOf(".",1),o.push(a.substring(1,~r?r:~i?i:a.length)),l+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~r?"?":"")+"\\"+a.substring(i))):l+="/"+a;return{keys:o,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var R=X0();const ge=Gs(R),dk=Cne({__proto__:null,default:ge},[R]);var YT={exports:{}},QT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OL;function Dne(){if(OL)return QT;OL=1;var n=X0();function e(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var s=typeof Object.is=="function"?Object.is:e,r=n.useState,a=n.useEffect,i=n.useLayoutEffect,o=n.useDebugValue;function l(h,m){var y=m(),N=r({inst:{value:y,getSnapshot:m}}),j=N[0].inst,v=N[1];return i(function(){j.value=y,j.getSnapshot=m,c(j)&&v({inst:j})},[h,y,m]),a(function(){return c(j)&&v({inst:j}),h(function(){c(j)&&v({inst:j})})},[h]),o(y),y}function c(h){var m=h.getSnapshot;h=h.value;try{var y=m();return!s(h,y)}catch{return!0}}function d(h,m){return m()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return QT.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:u,QT}var kL;function MG(){return kL||(kL=1,YT.exports=Dne()),YT.exports}var PG=MG();const Lne=dk.useInsertionEffect,Fne=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Une=Fne?R.useLayoutEffect:R.useEffect,zne=Lne||Une,RG=n=>{const e=R.useRef([n,(...s)=>e[0](...s)]).current;return zne(()=>{e[0]=n}),e[1]},Bne="popstate",uk="pushState",hk="replaceState",Vne="hashchange",IL=[Bne,uk,hk,Vne],Hne=n=>{for(const e of IL)addEventListener(e,n);return()=>{for(const e of IL)removeEventListener(e,n)}},OG=(n,e)=>PG.useSyncExternalStore(Hne,n,e),Gne=()=>location.search,$ne=({ssrSearch:n=""}={})=>OG(Gne,()=>n),DL=()=>location.pathname,qne=({ssrPath:n}={})=>OG(DL,n?()=>n:DL),Wne=(n,{replace:e=!1,state:s=null}={})=>history[e?hk:uk](s,"",n),Kne=(n={})=>[qne(n),Wne],LL=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[LL]>"u"){for(const n of[uk,hk]){const e=history[n];history[n]=function(){const s=e.apply(this,arguments),r=new Event(n);return r.arguments=arguments,dispatchEvent(r),s}}Object.defineProperty(window,LL,{value:!0})}const Xne=(n,e)=>e.toLowerCase().indexOf(n.toLowerCase())?"~"+e:e.slice(n.length)||"/",kG=(n="")=>n==="/"?"":n,Zne=(n,e)=>n[0]==="~"?n.slice(1):kG(e)+n,Yne=(n="",e)=>Xne(FL(kG(n)),FL(e)),FL=n=>{try{return decodeURI(n)}catch{return n}},IG={hook:Kne,searchHook:$ne,parser:Ine,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:n=>n},DG=R.createContext(IG),q1=()=>R.useContext(DG),LG={},FG=R.createContext(LG),LA=()=>R.useContext(FG),FA=n=>{const[e,s]=n.hook(n);return[Yne(n.base,e),RG((r,a)=>s(Zne(r,n.base),a))]},Tx=()=>FA(q1()),UG=(n,e,s,r)=>{const{pattern:a,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:n(e||"*",r),o=a.exec(s)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((h,m)=>[h,c[m]])):o.groups;let u={...c};return d&&Object.assign(u,d),u})(),...r?[l]:[]]:[!1,null]},Qne=({children:n,...e})=>{const s=q1(),r=e.hook?IG:s;let a=r;const[i,o]=e.ssrPath?.split("?")??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??e.hook?.hrefs;let l=R.useRef({}),c=l.current,d=c;for(let u in r){const h=u==="base"?r[u]+(e[u]||""):e[u]||r[u];c===d&&h!==d[u]&&(l.current=d={...d}),d[u]=h,(h!==r[u]||h!==a[u])&&(a=d)}return R.createElement(DG.Provider,{value:a,children:n})},UL=({children:n,component:e},s)=>e?R.createElement(e,{params:s}):typeof n=="function"?n(s):n,Jne=n=>{let e=R.useRef(LG);const s=e.current;return e.current=Object.keys(n).length!==Object.keys(s).length||Object.entries(n).some(([r,a])=>a!==s[r])?n:s},$t=({path:n,nest:e,match:s,...r})=>{const a=q1(),[i]=FA(a),[o,l,c]=s??UG(a.parser,n,i,e),d=Jne({...LA(),...l});if(!o)return null;const u=c?R.createElement(Qne,{base:c},UL(r,d)):UL(r,d);return R.createElement(FG.Provider,{value:d,children:u})},vn=R.forwardRef((n,e)=>{const s=q1(),[r,a]=FA(s),{to:i="",href:o=i,onClick:l,asChild:c,children:d,className:u,replace:h,state:m,...y}=n,N=RG(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(l?.(v),v.defaultPrevented||(v.preventDefault(),a(o,n)))}),j=s.hrefs(o[0]==="~"?o.slice(1):s.base+o,s);return c&&R.isValidElement(d)?R.cloneElement(d,{onClick:N,href:j}):R.createElement("a",{...y,onClick:N,href:j,className:u?.call?u(r===o):u,children:d,ref:e})}),zG=n=>Array.isArray(n)?n.flatMap(e=>zG(e&&e.type===R.Fragment?e.props.children:e)):[n],ese=({children:n,location:e})=>{const s=q1(),[r]=FA(s);for(const a of zG(n)){let i=0;if(R.isValidElement(a)&&(i=UG(s.parser,a.props.path,e||r,a.props.nest))[0])return R.cloneElement(a,{match:i})}return null};var Z0=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},tse={setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n),setInterval:(n,e)=>setInterval(n,e),clearInterval:n=>clearInterval(n)},nse=class{#e=tse;#t=!1;setTimeoutProvider(n){this.#e=n}setTimeout(n,e){return this.#e.setTimeout(n,e)}clearTimeout(n){this.#e.clearTimeout(n)}setInterval(n,e){return this.#e.setInterval(n,e)}clearInterval(n){this.#e.clearInterval(n)}},Ip=new nse;function sse(n){setTimeout(n,0)}var lx=typeof window>"u"||"Deno"in globalThis;function xo(){}function rse(n,e){return typeof n=="function"?n(e):n}function R3(n){return typeof n=="number"&&n>=0&&n!==1/0}function BG(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Lf(n,e){return typeof n=="function"?n(e):n}function Ql(n,e){return typeof n=="function"?n(e):n}function zL(n,e){const{type:s="all",exact:r,fetchStatus:a,predicate:i,queryKey:o,stale:l}=n;if(o){if(r){if(e.queryHash!==fk(o,e.options))return!1}else if(!Ij(e.queryKey,o))return!1}if(s!=="all"){const c=e.isActive();if(s==="active"&&!c||s==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||a&&a!==e.state.fetchStatus||i&&!i(e))}function BL(n,e){const{exact:s,status:r,predicate:a,mutationKey:i}=n;if(i){if(!e.options.mutationKey)return!1;if(s){if(cx(e.options.mutationKey)!==cx(i))return!1}else if(!Ij(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||a&&!a(e))}function fk(n,e){return(e?.queryKeyHashFn||cx)(n)}function cx(n){return JSON.stringify(n,(e,s)=>O3(s)?Object.keys(s).sort().reduce((r,a)=>(r[a]=s[a],r),{}):s)}function Ij(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(s=>Ij(n[s],e[s])):!1}var ase=Object.prototype.hasOwnProperty;function VG(n,e){if(n===e)return n;const s=VL(n)&&VL(e);if(!s&&!(O3(n)&&O3(e)))return e;const a=(s?n:Object.keys(n)).length,i=s?e:Object.keys(e),o=i.length,l=s?new Array(o):{};let c=0;for(let d=0;d<o;d++){const u=s?d:i[d],h=n[u],m=e[u];if(h===m){l[u]=h,(s?d<a:ase.call(n,u))&&c++;continue}if(h===null||m===null||typeof h!="object"||typeof m!="object"){l[u]=m;continue}const y=VG(h,m);l[u]=y,y===h&&c++}return a===o&&c===a?n:l}function x_(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const s in n)if(n[s]!==e[s])return!1;return!0}function VL(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function O3(n){if(!HL(n))return!1;const e=n.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!HL(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function HL(n){return Object.prototype.toString.call(n)==="[object Object]"}function ise(n){return new Promise(e=>{Ip.setTimeout(e,n)})}function k3(n,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(n,e):s.structuralSharing!==!1?VG(n,e):e}function ose(n,e,s=0){const r=[...n,e];return s&&r.length>s?r.slice(1):r}function lse(n,e,s=0){const r=[e,...n];return s&&r.length>s?r.slice(0,-1):r}var mk=Symbol();function HG(n,e){return!n.queryFn&&e?.initialPromise?()=>e.initialPromise:!n.queryFn||n.queryFn===mk?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function GG(n,e){return typeof n=="function"?n(...e):!!n}var cse=class extends Z0{#e;#t;#n;constructor(){super(),this.#n=n=>{if(!lx&&window.addEventListener){const e=()=>n();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#n=n,this.#t?.(),this.#t=n(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(n){this.#e!==n&&(this.#e=n,this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(e=>{e(n)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},pk=new cse;function I3(){let n,e;const s=new Promise((a,i)=>{n=a,e=i});s.status="pending",s.catch(()=>{});function r(a){Object.assign(s,a),delete s.resolve,delete s.reject}return s.resolve=a=>{r({status:"fulfilled",value:a}),n(a)},s.reject=a=>{r({status:"rejected",reason:a}),e(a)},s}var dse=sse;function use(){let n=[],e=0,s=l=>{l()},r=l=>{l()},a=dse;const i=l=>{e?n.push(l):a(()=>{s(l)})},o=()=>{const l=n;n=[],l.length&&a(()=>{r(()=>{l.forEach(c=>{s(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{s=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{a=l}}}var Ga=use(),hse=class extends Z0{#e=!0;#t;#n;constructor(){super(),this.#n=n=>{if(!lx&&window.addEventListener){const e=()=>n(!0),s=()=>n(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#n=n,this.#t?.(),this.#t=n(this.setOnline.bind(this))}setOnline(n){this.#e!==n&&(this.#e=n,this.listeners.forEach(s=>{s(n)}))}isOnline(){return this.#e}},g_=new hse;function fse(n){return Math.min(1e3*2**n,3e4)}function $G(n){return(n??"online")==="online"?g_.isOnline():!0}var D3=class extends Error{constructor(n){super("CancelledError"),this.revert=n?.revert,this.silent=n?.silent}};function qG(n){let e=!1,s=0,r;const a=I3(),i=()=>a.status!=="pending",o=j=>{if(!i()){const v=new D3(j);m(v),n.onCancel?.(v)}},l=()=>{e=!0},c=()=>{e=!1},d=()=>pk.isFocused()&&(n.networkMode==="always"||g_.isOnline())&&n.canRun(),u=()=>$G(n.networkMode)&&n.canRun(),h=j=>{i()||(r?.(),a.resolve(j))},m=j=>{i()||(r?.(),a.reject(j))},y=()=>new Promise(j=>{r=v=>{(i()||d())&&j(v)},n.onPause?.()}).then(()=>{r=void 0,i()||n.onContinue?.()}),N=()=>{if(i())return;let j;const v=s===0?n.initialPromise:void 0;try{j=v??n.fn()}catch(b){j=Promise.reject(b)}Promise.resolve(j).then(h).catch(b=>{if(i())return;const A=n.retry??(lx?0:3),S=n.retryDelay??fse,w=typeof S=="function"?S(s,b):S,E=A===!0||typeof A=="number"&&s<A||typeof A=="function"&&A(s,b);if(e||!E){m(b);return}s++,n.onFail?.(s,b),ise(w).then(()=>d()?void 0:y()).then(()=>{e?m(b):N()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(r?.(),a),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?N():y().then(N),a)}}var WG=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),R3(this.gcTime)&&(this.#e=Ip.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(lx?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Ip.clearTimeout(this.#e),this.#e=void 0)}},mse=class extends WG{#e;#t;#n;#r;#s;#i;#o;constructor(n){super(),this.#o=!1,this.#i=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.#r=n.client,this.#n=this.#r.getQueryCache(),this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.#e=GL(this.options),this.state=n.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(n){if(this.options={...this.#i,...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=GL(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(n,e){const s=k3(this.state.data,n,this.options);return this.#a({data:s,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),s}setState(n,e){this.#a({type:"setState",state:n,setStateOptions:e})}cancel(n){const e=this.#s?.promise;return this.#s?.cancel(n),e?e.then(xo).catch(xo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(n=>Ql(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===mk||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Lf(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!BG(this.state.dataUpdatedAt,n)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(e=>e!==n),this.observers.length||(this.#s&&(this.#o?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(n,e){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(n&&this.setOptions(n),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const s=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#o=!0,s.signal)})},a=()=>{const l=HG(this.options,e),d=(()=>{const u={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(u),u})();return this.#o=!1,this.options.persister?this.options.persister(l,d,this):l(d)},o=(()=>{const l={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:a};return r(l),l})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#a({type:"fetch",meta:o.fetchOptions?.meta}),this.#s=qG({initialPromise:e?.initialPromise,fn:o.fetchFn,onCancel:l=>{l instanceof D3&&l.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(l,c)=>{this.#a({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const l=await this.#s.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof D3){if(l.silent)return this.#s.promise;if(l.revert){if(this.state.data===void 0)throw l;return this.state.data}}throw this.#a({type:"error",error:l}),this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#a(n){const e=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...KG(s.data,this.options),fetchMeta:n.meta??null};case"success":const r={...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=n.manual?r:void 0,r;case"error":const a=n.error;return{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=e(this.state),Ga.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:n})})}};function KG(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:$G(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function GL(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,s=e!==void 0,r=s?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var pse=class extends Z0{constructor(n,e){super(),this.options=e,this.#e=n,this.#a=null,this.#o=I3(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#s;#i;#o;#a;#p;#h;#f;#c;#d;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),$L(this.#t,this.options)?this.#u():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return L3(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return L3(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#j(),this.#t.removeObserver(this)}setOptions(n){const e=this.options,s=this.#t;if(this.options=this.#e.defaultQueryOptions(n),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ql(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),e._defaulted&&!x_(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&qL(this.#t,s,this.options,e)&&this.#u(),this.updateResult(),r&&(this.#t!==s||Ql(this.options.enabled,this.#t)!==Ql(e.enabled,this.#t)||Lf(this.options.staleTime,this.#t)!==Lf(e.staleTime,this.#t))&&this.#x();const a=this.#g();r&&(this.#t!==s||Ql(this.options.enabled,this.#t)!==Ql(e.enabled,this.#t)||a!==this.#l)&&this.#v(a)}getOptimisticResult(n){const e=this.#e.getQueryCache().build(this.#e,n),s=this.createResult(e,n);return gse(this,s)&&(this.#r=s,this.#i=this.options,this.#s=this.#t.state),s}getCurrentResult(){return this.#r}trackResult(n,e){return new Proxy(n,{get:(s,r)=>(this.trackProp(r),e?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,r))})}trackProp(n){this.#m.add(n)}getCurrentQuery(){return this.#t}refetch({...n}={}){return this.fetch({...n})}fetchOptimistic(n){const e=this.#e.defaultQueryOptions(n),s=this.#e.getQueryCache().build(this.#e,e);return s.fetch().then(()=>this.createResult(s,e))}fetch(n){return this.#u({...n,cancelRefetch:n.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#u(n){this.#w();let e=this.#t.fetch(this.options,n);return n?.throwOnError||(e=e.catch(xo)),e}#x(){this.#b();const n=Lf(this.options.staleTime,this.#t);if(lx||this.#r.isStale||!R3(n))return;const s=BG(this.#r.dataUpdatedAt,n)+1;this.#c=Ip.setTimeout(()=>{this.#r.isStale||this.updateResult()},s)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(n){this.#j(),this.#l=n,!(lx||Ql(this.options.enabled,this.#t)===!1||!R3(this.#l)||this.#l===0)&&(this.#d=Ip.setInterval(()=>{(this.options.refetchIntervalInBackground||pk.isFocused())&&this.#u()},this.#l))}#y(){this.#x(),this.#v(this.#g())}#b(){this.#c&&(Ip.clearTimeout(this.#c),this.#c=void 0)}#j(){this.#d&&(Ip.clearInterval(this.#d),this.#d=void 0)}createResult(n,e){const s=this.#t,r=this.options,a=this.#r,i=this.#s,o=this.#i,c=n!==s?n.state:this.#n,{state:d}=n;let u={...d},h=!1,m;if(e._optimisticResults){const k=this.hasListeners(),I=!k&&$L(n,e),L=k&&qL(n,s,e,r);(I||L)&&(u={...u,...KG(d.data,n.options)}),e._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:y,errorUpdatedAt:N,status:j}=u;m=u.data;let v=!1;if(e.placeholderData!==void 0&&m===void 0&&j==="pending"){let k;a?.isPlaceholderData&&e.placeholderData===o?.placeholderData?(k=a.data,v=!0):k=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,k!==void 0&&(j="success",m=k3(a?.data,k,e),h=!0)}if(e.select&&m!==void 0&&!v)if(a&&m===i?.data&&e.select===this.#p)m=this.#h;else try{this.#p=e.select,m=e.select(m),m=k3(a?.data,m,e),this.#h=m,this.#a=null}catch(k){this.#a=k}this.#a&&(y=this.#a,m=this.#h,N=Date.now(),j="error");const b=u.fetchStatus==="fetching",A=j==="pending",S=j==="error",w=A&&b,E=m!==void 0,P={status:j,fetchStatus:u.fetchStatus,isPending:A,isSuccess:j==="success",isError:S,isInitialLoading:w,isLoading:w,data:m,dataUpdatedAt:u.dataUpdatedAt,error:y,errorUpdatedAt:N,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>c.dataUpdateCount||u.errorUpdateCount>c.errorUpdateCount,isFetching:b,isRefetching:b&&!A,isLoadingError:S&&!E,isPaused:u.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:S&&E,isStale:xk(n,e),refetch:this.refetch,promise:this.#o,isEnabled:Ql(e.enabled,n)!==!1};if(this.options.experimental_prefetchInRender){const k=U=>{P.status==="error"?U.reject(P.error):P.data!==void 0&&U.resolve(P.data)},I=()=>{const U=this.#o=P.promise=I3();k(U)},L=this.#o;switch(L.status){case"pending":n.queryHash===s.queryHash&&k(L);break;case"fulfilled":(P.status==="error"||P.data!==L.value)&&I();break;case"rejected":(P.status!=="error"||P.error!==L.reason)&&I();break}}return P}updateResult(){const n=this.#r,e=this.createResult(this.#t,this.options);if(this.#s=this.#t.state,this.#i=this.options,this.#s.data!==void 0&&(this.#f=this.#t),x_(e,n))return;this.#r=e;const s=()=>{if(!n)return!0;const{notifyOnChangeProps:r}=this.options,a=typeof r=="function"?r():r;if(a==="all"||!a&&!this.#m.size)return!0;const i=new Set(a??this.#m);return this.options.throwOnError&&i.add("error"),Object.keys(this.#r).some(o=>{const l=o;return this.#r[l]!==n[l]&&i.has(l)})};this.#N({listeners:s()})}#w(){const n=this.#e.getQueryCache().build(this.#e,this.options);if(n===this.#t)return;const e=this.#t;this.#t=n,this.#n=n.state,this.hasListeners()&&(e?.removeObserver(this),n.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#N(n){Ga.batch(()=>{n.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function xse(n,e){return Ql(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function $L(n,e){return xse(n,e)||n.state.data!==void 0&&L3(n,e,e.refetchOnMount)}function L3(n,e,s){if(Ql(e.enabled,n)!==!1&&Lf(e.staleTime,n)!=="static"){const r=typeof s=="function"?s(n):s;return r==="always"||r!==!1&&xk(n,e)}return!1}function qL(n,e,s,r){return(n!==e||Ql(r.enabled,n)===!1)&&(!s.suspense||n.state.status!=="error")&&xk(n,s)}function xk(n,e){return Ql(e.enabled,n)!==!1&&n.isStaleByTime(Lf(e.staleTime,n))}function gse(n,e){return!x_(n.getCurrentResult(),e)}function WL(n){return{onFetch:(e,s)=>{const r=e.options,a=e.fetchOptions?.meta?.fetchMore?.direction,i=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let u=!1;const h=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(e.signal.aborted?u=!0:e.signal.addEventListener("abort",()=>{u=!0}),e.signal)})},m=HG(e.options,e.fetchOptions),y=async(N,j,v)=>{if(u)return Promise.reject();if(j==null&&N.pages.length)return Promise.resolve(N);const A=(()=>{const T={client:e.client,queryKey:e.queryKey,pageParam:j,direction:v?"backward":"forward",meta:e.options.meta};return h(T),T})(),S=await m(A),{maxPages:w}=e.options,E=v?lse:ose;return{pages:E(N.pages,S,w),pageParams:E(N.pageParams,j,w)}};if(a&&i.length){const N=a==="backward",j=N?vse:KL,v={pages:i,pageParams:o},b=j(r,v);l=await y(v,b,N)}else{const N=n??i.length;do{const j=c===0?o[0]??r.initialPageParam:KL(r,l);if(c>0&&j==null)break;l=await y(l,j),c++}while(c<N)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s):e.fetchFn=d}}}function KL(n,{pages:e,pageParams:s}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,s[r],s):void 0}function vse(n,{pages:e,pageParams:s}){return e.length>0?n.getPreviousPageParam?.(e[0],e,s[0],s):void 0}var yse=class extends WG{#e;#t;#n;#r;constructor(n){super(),this.#e=n.client,this.mutationId=n.mutationId,this.#n=n.mutationCache,this.#t=[],this.state=n.state||XG(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){this.#t.includes(n)||(this.#t.push(n),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){this.#t=this.#t.filter(e=>e!==n),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(n){const e=()=>{this.#s({type:"continue"})},s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#r=qG({fn:()=>this.options.mutationFn?this.options.mutationFn(n,s):Promise.reject(new Error("No mutationFn found")),onFail:(i,o)=>{this.#s({type:"failed",failureCount:i,error:o})},onPause:()=>{this.#s({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",a=!this.#r.canStart();try{if(r)e();else{this.#s({type:"pending",variables:n,isPaused:a}),await this.#n.config.onMutate?.(n,this,s);const o=await this.options.onMutate?.(n,s);o!==this.state.context&&this.#s({type:"pending",context:o,variables:n,isPaused:a})}const i=await this.#r.start();return await this.#n.config.onSuccess?.(i,n,this.state.context,this,s),await this.options.onSuccess?.(i,n,this.state.context,s),await this.#n.config.onSettled?.(i,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(i,null,n,this.state.context,s),this.#s({type:"success",data:i}),i}catch(i){try{throw await this.#n.config.onError?.(i,n,this.state.context,this,s),await this.options.onError?.(i,n,this.state.context,s),await this.#n.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(void 0,i,n,this.state.context,s),i}finally{this.#s({type:"error",error:i})}}finally{this.#n.runNext(this)}}#s(n){const e=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Ga.batch(()=>{this.#t.forEach(s=>{s.onMutationUpdate(n)}),this.#n.notify({mutation:this,type:"updated",action:n})})}};function XG(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var bse=class extends Z0{constructor(n={}){super(),this.config=n,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(n,e,s){const r=new yse({client:n,mutationCache:this,mutationId:++this.#n,options:n.defaultMutationOptions(e),state:s});return this.add(r),r}add(n){this.#e.add(n);const e=ON(n);if(typeof e=="string"){const s=this.#t.get(e);s?s.push(n):this.#t.set(e,[n])}this.notify({type:"added",mutation:n})}remove(n){if(this.#e.delete(n)){const e=ON(n);if(typeof e=="string"){const s=this.#t.get(e);if(s)if(s.length>1){const r=s.indexOf(n);r!==-1&&s.splice(r,1)}else s[0]===n&&this.#t.delete(e)}}this.notify({type:"removed",mutation:n})}canRun(n){const e=ON(n);if(typeof e=="string"){const r=this.#t.get(e)?.find(a=>a.state.status==="pending");return!r||r===n}else return!0}runNext(n){const e=ON(n);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==n&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Ga.batch(()=>{this.#e.forEach(n=>{this.notify({type:"removed",mutation:n})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(n){const e={exact:!0,...n};return this.getAll().find(s=>BL(e,s))}findAll(n={}){return this.getAll().filter(e=>BL(n,e))}notify(n){Ga.batch(()=>{this.listeners.forEach(e=>{e(n)})})}resumePausedMutations(){const n=this.getAll().filter(e=>e.state.isPaused);return Ga.batch(()=>Promise.all(n.map(e=>e.continue().catch(xo))))}};function ON(n){return n.options.scope?.id}var jse=class extends Z0{#e;#t=void 0;#n;#r;constructor(e,s){super(),this.#e=e,this.setOptions(s),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const s=this.options;this.options=this.#e.defaultMutationOptions(e),x_(this.options,s)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),s?.mutationKey&&this.options.mutationKey&&cx(s.mutationKey)!==cx(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#s(),this.#i(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#s(),this.#i()}mutate(e,s){return this.#r=s,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#s(){const e=this.#n?.state??XG();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#i(e){Ga.batch(()=>{if(this.#r&&this.hasListeners()){const s=this.#t.variables,r=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#r.onSuccess?.(e.data,s,r,a),this.#r.onSettled?.(e.data,null,s,r,a)):e?.type==="error"&&(this.#r.onError?.(e.error,s,r,a),this.#r.onSettled?.(void 0,e.error,s,r,a))}this.listeners.forEach(s=>{s(this.#t)})})}},wse=class extends Z0{constructor(n={}){super(),this.config=n,this.#e=new Map}#e;build(n,e,s){const r=e.queryKey,a=e.queryHash??fk(r,e);let i=this.get(a);return i||(i=new mse({client:n,queryKey:r,queryHash:a,options:n.defaultQueryOptions(e),state:s,defaultOptions:n.getQueryDefaults(r)}),this.add(i)),i}add(n){this.#e.has(n.queryHash)||(this.#e.set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const e=this.#e.get(n.queryHash);e&&(n.destroy(),e===n&&this.#e.delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){Ga.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return this.#e.get(n)}getAll(){return[...this.#e.values()]}find(n){const e={exact:!0,...n};return this.getAll().find(s=>zL(e,s))}findAll(n={}){const e=this.getAll();return Object.keys(n).length>0?e.filter(s=>zL(n,s)):e}notify(n){Ga.batch(()=>{this.listeners.forEach(e=>{e(n)})})}onFocus(){Ga.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){Ga.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},Nse=class{#e;#t;#n;#r;#s;#i;#o;#a;constructor(n={}){this.#e=n.queryCache||new wse,this.#t=n.mutationCache||new bse,this.#n=n.defaultOptions||{},this.#r=new Map,this.#s=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#o=pk.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=g_.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(n){return this.#e.findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return this.#t.findAll({...n,status:"pending"}).length}getQueryData(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),s=this.#e.build(this,e),r=s.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&s.isStaleByTime(Lf(e.staleTime,s))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return this.#e.findAll(n).map(({queryKey:e,state:s})=>{const r=s.data;return[e,r]})}setQueryData(n,e,s){const r=this.defaultQueryOptions({queryKey:n}),i=this.#e.get(r.queryHash)?.state.data,o=rse(e,i);if(o!==void 0)return this.#e.build(this,r).setData(o,{...s,manual:!0})}setQueriesData(n,e,s){return Ga.batch(()=>this.#e.findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,s)]))}getQueryState(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state}removeQueries(n){const e=this.#e;Ga.batch(()=>{e.findAll(n).forEach(s=>{e.remove(s)})})}resetQueries(n,e){const s=this.#e;return Ga.batch(()=>(s.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const s={revert:!0,...e},r=Ga.batch(()=>this.#e.findAll(n).map(a=>a.cancel(s)));return Promise.all(r).then(xo).catch(xo)}invalidateQueries(n,e={}){return Ga.batch(()=>(this.#e.findAll(n).forEach(s=>{s.invalidate()}),n?.refetchType==="none"?Promise.resolve():this.refetchQueries({...n,type:n?.refetchType??n?.type??"active"},e)))}refetchQueries(n,e={}){const s={...e,cancelRefetch:e.cancelRefetch??!0},r=Ga.batch(()=>this.#e.findAll(n).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,s);return s.throwOnError||(i=i.catch(xo)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(xo)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const s=this.#e.build(this,e);return s.isStaleByTime(Lf(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(xo).catch(xo)}fetchInfiniteQuery(n){return n.behavior=WL(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(xo).catch(xo)}ensureInfiniteQueryData(n){return n.behavior=WL(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return g_.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(n){this.#n=n}setQueryDefaults(n,e){this.#r.set(cx(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...this.#r.values()],s={};return e.forEach(r=>{Ij(n,r.queryKey)&&Object.assign(s,r.defaultOptions)}),s}setMutationDefaults(n,e){this.#s.set(cx(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...this.#s.values()],s={};return e.forEach(r=>{Ij(n,r.mutationKey)&&Object.assign(s,r.defaultOptions)}),s}defaultQueryOptions(n){if(n._defaulted)return n;const e={...this.#n.queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=fk(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===mk&&(e.enabled=!1),e}defaultMutationOptions(n){return n?._defaulted?n:{...this.#n.mutations,...n?.mutationKey&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},ZG=R.createContext(void 0),ps=n=>{const e=R.useContext(ZG);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Sse=({client:n,children:e})=>(R.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),t.jsx(ZG.Provider,{value:n,children:e})),YG=R.createContext(!1),_se=()=>R.useContext(YG);YG.Provider;function Ase(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var Cse=R.createContext(Ase()),Tse=()=>R.useContext(Cse),Ese=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},Mse=n=>{R.useEffect(()=>{n.clearReset()},[n])},Pse=({result:n,errorResetBoundary:e,throwOnError:s,query:r,suspense:a})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&(a&&n.data===void 0||GG(s,[n.error,r])),Rse=n=>{if(n.suspense){const s=a=>a==="static"?a:Math.max(a??1e3,1e3),r=n.staleTime;n.staleTime=typeof r=="function"?(...a)=>s(r(...a)):s(r),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3))}},Ose=(n,e)=>n.isLoading&&n.isFetching&&!e,kse=(n,e)=>n?.suspense&&e.isPending,XL=(n,e,s)=>e.fetchOptimistic(n).catch(()=>{s.clearReset()});function Ise(n,e,s){const r=_se(),a=Tse(),i=ps(),o=i.defaultQueryOptions(n);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=r?"isRestoring":"optimistic",Rse(o),Ese(o,a),Mse(a);const l=!i.getQueryCache().get(o.queryHash),[c]=R.useState(()=>new e(i,o)),d=c.getOptimisticResult(o),u=!r&&n.subscribed!==!1;if(R.useSyncExternalStore(R.useCallback(h=>{const m=u?c.subscribe(Ga.batchCalls(h)):xo;return c.updateResult(),m},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),R.useEffect(()=>{c.setOptions(o)},[o,c]),kse(o,d))throw XL(o,c,a);if(Pse({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(o,d),o.experimental_prefetchInRender&&!lx&&Ose(d,r)&&(l?XL(o,c,a):i.getQueryCache().get(o.queryHash)?.promise)?.catch(xo).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?d:c.trackResult(d)}function wn(n,e){return Ise(n,pse)}function kt(n,e){const s=ps(),[r]=R.useState(()=>new jse(s,n));R.useEffect(()=>{r.setOptions(n)},[r,n]);const a=R.useSyncExternalStore(R.useCallback(o=>r.subscribe(Ga.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=R.useCallback((o,l)=>{r.mutate(o,l).catch(xo)},[r]);if(a.error&&GG(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}async function QG(n){if(!n.ok){const e=await n.text()||n.statusText;throw new Error(`${n.status}: ${e}`)}}async function Kt(n,e,s){const r=await fetch(e,{method:n,headers:s?{"Content-Type":"application/json"}:{},body:s?JSON.stringify(s):void 0,credentials:"include"});return await QG(r),r}const Dse=({on401:n})=>async({queryKey:e})=>{const s=await fetch(e.join("/"),{credentials:"include"});return await QG(s),await s.json()},v_=new Nse({defaultOptions:{queries:{queryFn:Dse({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),Lse=1,Fse=1e6;let JT=0;function Use(){return JT=(JT+1)%Number.MAX_SAFE_INTEGER,JT.toString()}const eE=new Map,ZL=n=>{if(eE.has(n))return;const e=setTimeout(()=>{eE.delete(n),dj({type:"REMOVE_TOAST",toastId:n})},Fse);eE.set(n,e)},zse=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,Lse)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=e;return s?ZL(s):n.toasts.forEach(r=>{ZL(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===s||s===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(s=>s.id!==e.toastId)}}},t_=[];let n_={toasts:[]};function dj(n){n_=zse(n_,n),t_.forEach(e=>{e(n_)})}function Bse({...n}){const e=Use(),s=a=>dj({type:"UPDATE_TOAST",toast:{...a,id:e}}),r=()=>dj({type:"DISMISS_TOAST",toastId:e});return dj({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:a=>{a||r()}}}),{id:e,dismiss:r,update:s}}function Dn(){const[n,e]=R.useState(n_);return R.useEffect(()=>(t_.push(e),()=>{const s=t_.indexOf(e);s>-1&&t_.splice(s,1)}),[n]),{...n,toast:Bse,dismiss:s=>dj({type:"DISMISS_TOAST",toastId:s})}}var Y0=TG();const Vse=Gs(Y0);function cn(n,e,{checkForDefaultPrevented:s=!0}={}){return function(a){if(n?.(a),s===!1||!a.defaultPrevented)return e?.(a)}}function YL(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function JG(...n){return e=>{let s=!1;const r=n.map(a=>{const i=YL(a,e);return!s&&typeof i=="function"&&(s=!0),i});if(s)return()=>{for(let a=0;a<r.length;a++){const i=r[a];typeof i=="function"?i():YL(n[a],null)}}}}function rs(...n){return R.useCallback(JG(...n),n)}function Hse(n,e){const s=R.createContext(e),r=i=>{const{children:o,...l}=i,c=R.useMemo(()=>l,Object.values(l));return t.jsx(s.Provider,{value:c,children:o})};r.displayName=n+"Provider";function a(i){const o=R.useContext(s);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${n}\``)}return[r,a]}function Co(n,e=[]){let s=[];function r(i,o){const l=R.createContext(o),c=s.length;s=[...s,o];const d=h=>{const{scope:m,children:y,...N}=h,j=m?.[n]?.[c]||l,v=R.useMemo(()=>N,Object.values(N));return t.jsx(j.Provider,{value:v,children:y})};d.displayName=i+"Provider";function u(h,m){const y=m?.[n]?.[c]||l,N=R.useContext(y);if(N)return N;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=s.map(o=>R.createContext(o));return function(l){const c=l?.[n]||i;return R.useMemo(()=>({[`__scope${n}`]:{...l,[n]:c}}),[l,c])}};return a.scopeName=n,[r,Gse(a,...e)]}function Gse(...n){const e=n[0];if(n.length===1)return e;const s=()=>{const r=n.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return R.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return s.scopeName=e.scopeName,s}function Kv(n){const e=$se(n),s=R.forwardRef((r,a)=>{const{children:i,...o}=r,l=R.Children.toArray(i),c=l.find(qse);if(c){const d=c.props.children,u=l.map(h=>h===c?R.Children.count(d)>1?R.Children.only(null):R.isValidElement(d)?d.props.children:null:h);return t.jsx(e,{...o,ref:a,children:R.isValidElement(d)?R.cloneElement(d,void 0,u):null})}return t.jsx(e,{...o,ref:a,children:i})});return s.displayName=`${n}.Slot`,s}var e$=Kv("Slot");function $se(n){const e=R.forwardRef((s,r)=>{const{children:a,...i}=s;if(R.isValidElement(a)){const o=Kse(a),l=Wse(i,a.props);return a.type!==R.Fragment&&(l.ref=r?JG(r,o):o),R.cloneElement(a,l)}return R.Children.count(a)>1?R.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var t$=Symbol("radix.slottable");function n$(n){const e=({children:s})=>t.jsx(t.Fragment,{children:s});return e.displayName=`${n}.Slottable`,e.__radixId=t$,e}function qse(n){return R.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===t$}function Wse(n,e){const s={...e};for(const r in e){const a=n[r],i=e[r];/^on[A-Z]/.test(r)?a&&i?s[r]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(s[r]=a):r==="style"?s[r]={...a,...i}:r==="className"&&(s[r]=[a,i].filter(Boolean).join(" "))}return{...n,...s}}function Kse(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,s=e&&"isReactWarning"in e&&e.isReactWarning;return s?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,s=e&&"isReactWarning"in e&&e.isReactWarning,s?n.props.ref:n.props.ref||n.ref)}function UA(n){const e=n+"CollectionProvider",[s,r]=Co(e),[a,i]=s(e,{collectionRef:{current:null},itemMap:new Map}),o=j=>{const{scope:v,children:b}=j,A=ge.useRef(null),S=ge.useRef(new Map).current;return t.jsx(a,{scope:v,itemMap:S,collectionRef:A,children:b})};o.displayName=e;const l=n+"CollectionSlot",c=Kv(l),d=ge.forwardRef((j,v)=>{const{scope:b,children:A}=j,S=i(l,b),w=rs(v,S.collectionRef);return t.jsx(c,{ref:w,children:A})});d.displayName=l;const u=n+"CollectionItemSlot",h="data-radix-collection-item",m=Kv(u),y=ge.forwardRef((j,v)=>{const{scope:b,children:A,...S}=j,w=ge.useRef(null),E=rs(v,w),T=i(u,b);return ge.useEffect(()=>(T.itemMap.set(w,{ref:w,...S}),()=>void T.itemMap.delete(w))),t.jsx(m,{[h]:"",ref:E,children:A})});y.displayName=u;function N(j){const v=i(n+"CollectionConsumer",j);return ge.useCallback(()=>{const A=v.collectionRef.current;if(!A)return[];const S=Array.from(A.querySelectorAll(`[${h}]`));return Array.from(v.itemMap.values()).sort((T,P)=>S.indexOf(T.ref.current)-S.indexOf(P.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:d,ItemSlot:y},N,r]}var Xse=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Nn=Xse.reduce((n,e)=>{const s=Kv(`Primitive.${e}`),r=R.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?s:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function s$(n,e){n&&Y0.flushSync(()=>n.dispatchEvent(e))}function Ca(n){const e=R.useRef(n);return R.useEffect(()=>{e.current=n}),R.useMemo(()=>(...s)=>e.current?.(...s),[])}function Zse(n,e=globalThis?.document){const s=Ca(n);R.useEffect(()=>{const r=a=>{a.key==="Escape"&&s(a)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[s,e])}var Yse="DismissableLayer",F3="dismissableLayer.update",Qse="dismissableLayer.pointerDownOutside",Jse="dismissableLayer.focusOutside",QL,r$=R.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),W1=R.forwardRef((n,e)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=n,d=R.useContext(r$),[u,h]=R.useState(null),m=u?.ownerDocument??globalThis?.document,[,y]=R.useState({}),N=rs(e,P=>h(P)),j=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=j.indexOf(v),A=u?j.indexOf(u):-1,S=d.layersWithOutsidePointerEventsDisabled.size>0,w=A>=b,E=tre(P=>{const k=P.target,I=[...d.branches].some(L=>L.contains(k));!w||I||(a?.(P),o?.(P),P.defaultPrevented||l?.())},m),T=nre(P=>{const k=P.target;[...d.branches].some(L=>L.contains(k))||(i?.(P),o?.(P),P.defaultPrevented||l?.())},m);return Zse(P=>{A===d.layers.size-1&&(r?.(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},m),R.useEffect(()=>{if(u)return s&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(QL=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),JL(),()=>{s&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=QL)}},[u,m,s,d]),R.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),JL())},[u,d]),R.useEffect(()=>{const P=()=>y({});return document.addEventListener(F3,P),()=>document.removeEventListener(F3,P)},[]),t.jsx(Nn.div,{...c,ref:N,style:{pointerEvents:S?w?"auto":"none":void 0,...n.style},onFocusCapture:cn(n.onFocusCapture,T.onFocusCapture),onBlurCapture:cn(n.onBlurCapture,T.onBlurCapture),onPointerDownCapture:cn(n.onPointerDownCapture,E.onPointerDownCapture)})});W1.displayName=Yse;var ere="DismissableLayerBranch",a$=R.forwardRef((n,e)=>{const s=R.useContext(r$),r=R.useRef(null),a=rs(e,r);return R.useEffect(()=>{const i=r.current;if(i)return s.branches.add(i),()=>{s.branches.delete(i)}},[s.branches]),t.jsx(Nn.div,{...n,ref:a})});a$.displayName=ere;function tre(n,e=globalThis?.document){const s=Ca(n),r=R.useRef(!1),a=R.useRef(()=>{});return R.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){i$(Qse,s,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=c,e.addEventListener("click",a.current,{once:!0})):c()}else e.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",a.current)}},[e,s]),{onPointerDownCapture:()=>r.current=!0}}function nre(n,e=globalThis?.document){const s=Ca(n),r=R.useRef(!1);return R.useEffect(()=>{const a=i=>{i.target&&!r.current&&i$(Jse,s,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,s]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function JL(){const n=new CustomEvent(F3);document.dispatchEvent(n)}function i$(n,e,s,{discrete:r}){const a=s.originalEvent.target,i=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:s});e&&a.addEventListener(n,e,{once:!0}),r?s$(a,i):a.dispatchEvent(i)}var sre=W1,rre=a$,ga=globalThis?.document?R.useLayoutEffect:()=>{},are="Portal",zA=R.forwardRef((n,e)=>{const{container:s,...r}=n,[a,i]=R.useState(!1);ga(()=>i(!0),[]);const o=s||a&&globalThis?.document?.body;return o?Vse.createPortal(t.jsx(Nn.div,{...r,ref:e}),o):null});zA.displayName=are;function ire(n,e){return R.useReducer((s,r)=>e[s][r]??s,n)}var oc=n=>{const{present:e,children:s}=n,r=ore(e),a=typeof s=="function"?s({present:r.isPresent}):R.Children.only(s),i=rs(r.ref,lre(a));return typeof s=="function"||r.isPresent?R.cloneElement(a,{ref:i}):null};oc.displayName="Presence";function ore(n){const[e,s]=R.useState(),r=R.useRef(null),a=R.useRef(n),i=R.useRef("none"),o=n?"mounted":"unmounted",[l,c]=ire(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return R.useEffect(()=>{const d=kN(r.current);i.current=l==="mounted"?d:"none"},[l]),ga(()=>{const d=r.current,u=a.current;if(u!==n){const m=i.current,y=kN(d);n?c("MOUNT"):y==="none"||d?.display==="none"?c("UNMOUNT"):c(u&&m!==y?"ANIMATION_OUT":"UNMOUNT"),a.current=n}},[n,c]),ga(()=>{if(e){let d;const u=e.ownerDocument.defaultView??window,h=y=>{const j=kN(r.current).includes(CSS.escape(y.animationName));if(y.target===e&&j&&(c("ANIMATION_END"),!a.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",d=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},m=y=>{y.target===e&&(i.current=kN(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:R.useCallback(d=>{r.current=d?getComputedStyle(d):null,s(d)},[])}}function kN(n){return n?.animationName||"none"}function lre(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,s=e&&"isReactWarning"in e&&e.isReactWarning;return s?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,s=e&&"isReactWarning"in e&&e.isReactWarning,s?n.props.ref:n.props.ref||n.ref)}var cre=dk[" useInsertionEffect ".trim().toString()]||ga;function gh({prop:n,defaultProp:e,onChange:s=()=>{},caller:r}){const[a,i,o]=dre({defaultProp:e,onChange:s}),l=n!==void 0,c=l?n:a;{const u=R.useRef(n!==void 0);R.useEffect(()=>{const h=u.current;h!==l&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,r])}const d=R.useCallback(u=>{if(l){const h=ure(u)?u(n):u;h!==n&&o.current?.(h)}else i(u)},[l,n,i,o]);return[c,d]}function dre({defaultProp:n,onChange:e}){const[s,r]=R.useState(n),a=R.useRef(s),i=R.useRef(e);return cre(()=>{i.current=e},[e]),R.useEffect(()=>{a.current!==s&&(i.current?.(s),a.current=s)},[s,a]),[s,r,i]}function ure(n){return typeof n=="function"}var o$=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),hre="VisuallyHidden",BA=R.forwardRef((n,e)=>t.jsx(Nn.span,{...n,ref:e,style:{...o$,...n.style}}));BA.displayName=hre;var fre=BA,gk="ToastProvider",[vk,mre,pre]=UA("Toast"),[l$]=Co("Toast",[pre]),[xre,VA]=l$(gk),c$=n=>{const{__scopeToast:e,label:s="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=n,[l,c]=R.useState(null),[d,u]=R.useState(0),h=R.useRef(!1),m=R.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${gk}\`. Expected non-empty \`string\`.`),t.jsx(vk.Provider,{scope:e,children:t.jsx(xre,{scope:e,label:s,duration:r,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:R.useCallback(()=>u(y=>y+1),[]),onToastRemove:R.useCallback(()=>u(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:o})})};c$.displayName=gk;var d$="ToastViewport",gre=["F8"],U3="toast.viewportPause",z3="toast.viewportResume",u$=R.forwardRef((n,e)=>{const{__scopeToast:s,hotkey:r=gre,label:a="Notifications ({hotkey})",...i}=n,o=VA(d$,s),l=mre(s),c=R.useRef(null),d=R.useRef(null),u=R.useRef(null),h=R.useRef(null),m=rs(e,h,o.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=o.toastCount>0;R.useEffect(()=>{const v=b=>{r.length!==0&&r.every(S=>b[S]||b.code===S)&&h.current?.focus()};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),R.useEffect(()=>{const v=c.current,b=h.current;if(N&&v&&b){const A=()=>{if(!o.isClosePausedRef.current){const T=new CustomEvent(U3);b.dispatchEvent(T),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const T=new CustomEvent(z3);b.dispatchEvent(T),o.isClosePausedRef.current=!1}},w=T=>{!v.contains(T.relatedTarget)&&S()},E=()=>{v.contains(document.activeElement)||S()};return v.addEventListener("focusin",A),v.addEventListener("focusout",w),v.addEventListener("pointermove",A),v.addEventListener("pointerleave",E),window.addEventListener("blur",A),window.addEventListener("focus",S),()=>{v.removeEventListener("focusin",A),v.removeEventListener("focusout",w),v.removeEventListener("pointermove",A),v.removeEventListener("pointerleave",E),window.removeEventListener("blur",A),window.removeEventListener("focus",S)}}},[N,o.isClosePausedRef]);const j=R.useCallback(({tabbingDirection:v})=>{const A=l().map(S=>{const w=S.ref.current,E=[w,...Mre(w)];return v==="forwards"?E:E.reverse()});return(v==="forwards"?A.reverse():A).flat()},[l]);return R.useEffect(()=>{const v=h.current;if(v){const b=A=>{const S=A.altKey||A.ctrlKey||A.metaKey;if(A.key==="Tab"&&!S){const E=document.activeElement,T=A.shiftKey;if(A.target===v&&T){d.current?.focus();return}const I=j({tabbingDirection:T?"backwards":"forwards"}),L=I.findIndex(U=>U===E);tE(I.slice(L+1))?A.preventDefault():T?d.current?.focus():u.current?.focus()}};return v.addEventListener("keydown",b),()=>v.removeEventListener("keydown",b)}},[l,j]),t.jsxs(rre,{ref:c,role:"region","aria-label":a.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:N?void 0:"none"},children:[N&&t.jsx(B3,{ref:d,onFocusFromOutsideViewport:()=>{const v=j({tabbingDirection:"forwards"});tE(v)}}),t.jsx(vk.Slot,{scope:s,children:t.jsx(Nn.ol,{tabIndex:-1,...i,ref:m})}),N&&t.jsx(B3,{ref:u,onFocusFromOutsideViewport:()=>{const v=j({tabbingDirection:"backwards"});tE(v)}})]})});u$.displayName=d$;var h$="ToastFocusProxy",B3=R.forwardRef((n,e)=>{const{__scopeToast:s,onFocusFromOutsideViewport:r,...a}=n,i=VA(h$,s);return t.jsx(BA,{tabIndex:0,...a,ref:e,style:{position:"fixed"},onFocus:o=>{const l=o.relatedTarget;!i.viewport?.contains(l)&&r()}})});B3.displayName=h$;var K1="Toast",vre="toast.swipeStart",yre="toast.swipeMove",bre="toast.swipeCancel",jre="toast.swipeEnd",f$=R.forwardRef((n,e)=>{const{forceMount:s,open:r,defaultOpen:a,onOpenChange:i,...o}=n,[l,c]=gh({prop:r,defaultProp:a??!0,onChange:i,caller:K1});return t.jsx(oc,{present:s||l,children:t.jsx(Sre,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:Ca(n.onPause),onResume:Ca(n.onResume),onSwipeStart:cn(n.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:cn(n.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:cn(n.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:cn(n.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});f$.displayName=K1;var[wre,Nre]=l$(K1,{onClose(){}}),Sre=R.forwardRef((n,e)=>{const{__scopeToast:s,type:r="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:y,...N}=n,j=VA(K1,s),[v,b]=R.useState(null),A=rs(e,K=>b(K)),S=R.useRef(null),w=R.useRef(null),E=a||j.duration,T=R.useRef(0),P=R.useRef(E),k=R.useRef(0),{onToastAdd:I,onToastRemove:L}=j,U=Ca(()=>{v?.contains(document.activeElement)&&j.viewport?.focus(),o()}),H=R.useCallback(K=>{!K||K===1/0||(window.clearTimeout(k.current),T.current=new Date().getTime(),k.current=window.setTimeout(U,K))},[U]);R.useEffect(()=>{const K=j.viewport;if(K){const J=()=>{H(P.current),d?.()},W=()=>{const ee=new Date().getTime()-T.current;P.current=P.current-ee,window.clearTimeout(k.current),c?.()};return K.addEventListener(U3,W),K.addEventListener(z3,J),()=>{K.removeEventListener(U3,W),K.removeEventListener(z3,J)}}},[j.viewport,E,c,d,H]),R.useEffect(()=>{i&&!j.isClosePausedRef.current&&H(E)},[i,E,j.isClosePausedRef,H]),R.useEffect(()=>(I(),()=>L()),[I,L]);const B=R.useMemo(()=>v?b$(v):null,[v]);return j.viewport?t.jsxs(t.Fragment,{children:[B&&t.jsx(_re,{__scopeToast:s,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:B}),t.jsx(wre,{scope:s,onClose:U,children:Y0.createPortal(t.jsx(vk.ItemSlot,{scope:s,children:t.jsx(sre,{asChild:!0,onEscapeKeyDown:cn(l,()=>{j.isFocusedToastEscapeKeyDownRef.current||U(),j.isFocusedToastEscapeKeyDownRef.current=!1}),children:t.jsx(Nn.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":j.swipeDirection,...N,ref:A,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:cn(n.onKeyDown,K=>{K.key==="Escape"&&(l?.(K.nativeEvent),K.nativeEvent.defaultPrevented||(j.isFocusedToastEscapeKeyDownRef.current=!0,U()))}),onPointerDown:cn(n.onPointerDown,K=>{K.button===0&&(S.current={x:K.clientX,y:K.clientY})}),onPointerMove:cn(n.onPointerMove,K=>{if(!S.current)return;const J=K.clientX-S.current.x,W=K.clientY-S.current.y,ee=!!w.current,G=["left","right"].includes(j.swipeDirection),ae=["left","up"].includes(j.swipeDirection)?Math.min:Math.max,fe=G?ae(0,J):0,se=G?0:ae(0,W),me=K.pointerType==="touch"?10:2,Oe={x:fe,y:se},Ye={originalEvent:K,delta:Oe};ee?(w.current=Oe,IN(yre,h,Ye,{discrete:!1})):eF(Oe,j.swipeDirection,me)?(w.current=Oe,IN(vre,u,Ye,{discrete:!1}),K.target.setPointerCapture(K.pointerId)):(Math.abs(J)>me||Math.abs(W)>me)&&(S.current=null)}),onPointerUp:cn(n.onPointerUp,K=>{const J=w.current,W=K.target;if(W.hasPointerCapture(K.pointerId)&&W.releasePointerCapture(K.pointerId),w.current=null,S.current=null,J){const ee=K.currentTarget,G={originalEvent:K,delta:J};eF(J,j.swipeDirection,j.swipeThreshold)?IN(jre,y,G,{discrete:!0}):IN(bre,m,G,{discrete:!0}),ee.addEventListener("click",ae=>ae.preventDefault(),{once:!0})}})})})}),j.viewport)})]}):null}),_re=n=>{const{__scopeToast:e,children:s,...r}=n,a=VA(K1,e),[i,o]=R.useState(!1),[l,c]=R.useState(!1);return Tre(()=>o(!0)),R.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:t.jsx(zA,{asChild:!0,children:t.jsx(BA,{...r,children:i&&t.jsxs(t.Fragment,{children:[a.label," ",s]})})})},Are="ToastTitle",m$=R.forwardRef((n,e)=>{const{__scopeToast:s,...r}=n;return t.jsx(Nn.div,{...r,ref:e})});m$.displayName=Are;var Cre="ToastDescription",p$=R.forwardRef((n,e)=>{const{__scopeToast:s,...r}=n;return t.jsx(Nn.div,{...r,ref:e})});p$.displayName=Cre;var x$="ToastAction",g$=R.forwardRef((n,e)=>{const{altText:s,...r}=n;return s.trim()?t.jsx(y$,{altText:s,asChild:!0,children:t.jsx(yk,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${x$}\`. Expected non-empty \`string\`.`),null)});g$.displayName=x$;var v$="ToastClose",yk=R.forwardRef((n,e)=>{const{__scopeToast:s,...r}=n,a=Nre(v$,s);return t.jsx(y$,{asChild:!0,children:t.jsx(Nn.button,{type:"button",...r,ref:e,onClick:cn(n.onClick,a.onClose)})})});yk.displayName=v$;var y$=R.forwardRef((n,e)=>{const{__scopeToast:s,altText:r,...a}=n;return t.jsx(Nn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:e})});function b$(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Ere(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...b$(r))}}),e}function IN(n,e,s,{discrete:r}){const a=s.originalEvent.currentTarget,i=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:s});e&&a.addEventListener(n,e,{once:!0}),r?s$(a,i):a.dispatchEvent(i)}var eF=(n,e,s=0)=>{const r=Math.abs(n.x),a=Math.abs(n.y),i=r>a;return e==="left"||e==="right"?i&&r>s:!i&&a>s};function Tre(n=()=>{}){const e=Ca(n);ga(()=>{let s=0,r=0;return s=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(r)}},[e])}function Ere(n){return n.nodeType===n.ELEMENT_NODE}function Mre(n){const e=[],s=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)e.push(s.currentNode);return e}function tE(n){const e=document.activeElement;return n.some(s=>s===e?!0:(s.focus(),document.activeElement!==e))}var Pre=c$,j$=u$,w$=f$,N$=m$,S$=p$,_$=g$,A$=yk;function C$(n){var e,s,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(s=C$(n[e]))&&(r&&(r+=" "),r+=s)}else for(s in n)n[s]&&(r&&(r+=" "),r+=s);return r}function os(){for(var n,e,s=0,r="",a=arguments.length;s<a;s++)(n=arguments[s])&&(e=C$(n))&&(r&&(r+=" "),r+=e);return r}const tF=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,nF=os,X1=(n,e)=>s=>{var r;if(e?.variants==null)return nF(n,s?.class,s?.className);const{variants:a,defaultVariants:i}=e,o=Object.keys(a).map(d=>{const u=s?.[d],h=i?.[d];if(u===null)return null;const m=tF(u)||tF(h);return a[d][m]}),l=s&&Object.entries(s).reduce((d,u)=>{let[h,m]=u;return m===void 0||(d[h]=m),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,u)=>{let{class:h,className:m,...y}=u;return Object.entries(y).every(N=>{let[j,v]=N;return Array.isArray(v)?v.includes({...i,...l}[j]):{...i,...l}[j]===v})?[...d,h,m]:d},[]);return nF(n,o,c,s?.class,s?.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rre=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),T$=(...n)=>n.filter((e,s,r)=>!!e&&r.indexOf(e)===s).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ore={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kre=R.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:o,...l},c)=>R.createElement("svg",{ref:c,...Ore,width:e,height:e,stroke:n,strokeWidth:r?Number(s)*24/Number(e):s,className:T$("lucide",a),...l},[...o.map(([d,u])=>R.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=(n,e)=>{const s=R.forwardRef(({className:r,...a},i)=>R.createElement(kre,{ref:i,iconNode:e,className:T$(`lucide-${Rre(n)}`,r),...a}));return s.displayName=`${n}`,s};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=Ze("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=Ze("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=Ze("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ire=Ze("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dre=Ze("Atom",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M20.2 20.2c2.04-2.03.02-7.36-4.5-11.9-4.54-4.52-9.87-6.54-11.9-4.5-2.04 2.03-.02 7.36 4.5 11.9 4.54 4.52 9.87 6.54 11.9 4.5Z",key:"1l2ple"}],["path",{d:"M15.7 15.7c4.52-4.54 6.54-9.87 4.5-11.9-2.03-2.04-7.36-.02-11.9 4.5-4.52 4.54-6.54 9.87-4.5 11.9 2.03 2.04 7.36.02 11.9-4.5Z",key:"1wam0m"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=Ze("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=Ze("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=Ze("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=Ze("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=Ze("Bitcoin",[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=Ze("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lre=Ze("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=Ze("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=Ze("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fre=Ze("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=Ze("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=Ze("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=Ze("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=Ze("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=Ze("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=Ze("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=Ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=Ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=Ze("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=Ze("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ure=Ze("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=Ze("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=Ze("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=Ze("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=Ze("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=Ze("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=Ze("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=Ze("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=Ze("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=Ze("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zre=Ze("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bre=Ze("Contrast",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 18a6 6 0 0 0 0-12v12z",key:"j4l70d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=Ze("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=Ze("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=Ze("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=Ze("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=Ze("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=Ze("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=Ze("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vre=Ze("Earth",[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=Ze("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=Ze("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=Ze("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=Ze("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=Ze("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=Ze("FileArchive",[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hre=Ze("FileAudio",[["path",{d:"M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"rslqgf"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0",key:"9f7x3i"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=Ze("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gre=Ze("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=Ze("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=Ze("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=Ze("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=Ze("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=Ze("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $re=Ze("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qre=Ze("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=Ze("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=Ze("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wre=Ze("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=Ze("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=Ze("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kre=Ze("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=Ze("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=Ze("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=Ze("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=Ze("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=Ze("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=Ze("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xre=Ze("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zre=Ze("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=Ze("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=Ze("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=Ze("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yre=Ze("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=Ze("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=Ze("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qre=Ze("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=Ze("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jre=Ze("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=Ze("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=Ze("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eae=Ze("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tae=Ze("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nae=Ze("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sae=Ze("MessageCircleQuestion",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=Ze("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=Ze("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=Ze("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rae=Ze("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=Ze("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aae=Ze("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iae=Ze("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oae=Ze("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lae=Ze("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=Ze("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=Ze("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=Ze("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cae=Ze("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dae=Ze("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=Ze("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=Ze("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=Ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uae=Ze("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hae=Ze("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=Ze("Puzzle",[["path",{d:"M19.439 7.85c-.049.322.059.648.289.878l1.568 1.568c.47.47.706 1.087.706 1.704s-.235 1.233-.706 1.704l-1.611 1.611a.98.98 0 0 1-.837.276c-.47-.07-.802-.48-.968-.925a2.501 2.501 0 1 0-3.214 3.214c.446.166.855.497.925.968a.979.979 0 0 1-.276.837l-1.61 1.61a2.404 2.404 0 0 1-1.705.707 2.402 2.402 0 0 1-1.704-.706l-1.568-1.568a1.026 1.026 0 0 0-.877-.29c-.493.074-.84.504-1.02.968a2.5 2.5 0 1 1-3.237-3.237c.464-.18.894-.527.967-1.02a1.026 1.026 0 0 0-.289-.877l-1.568-1.568A2.402 2.402 0 0 1 1.998 12c0-.617.236-1.234.706-1.704L4.23 8.77c.24-.24.581-.353.917-.303.515.077.877.528 1.073 1.01a2.5 2.5 0 1 0 3.259-3.259c-.482-.196-.933-.558-1.01-1.073-.05-.336.062-.676.303-.917l1.525-1.525A2.402 2.402 0 0 1 12 1.998c.617 0 1.234.236 1.704.706l1.568 1.568c.23.23.556.338.877.29.493-.074.84-.504 1.02-.968a2.5 2.5 0 1 1 3.237 3.237c-.464.18-.894.527-.967 1.02Z",key:"i0oyt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=Ze("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fae=Ze("Rainbow",[["path",{d:"M22 17a10 10 0 0 0-20 0",key:"ozegv"}],["path",{d:"M6 17a6 6 0 0 1 12 0",key:"5giftw"}],["path",{d:"M10 17a2 2 0 0 1 4 0",key:"gnsikk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=Ze("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=Ze("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=Ze("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=Ze("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mae=Ze("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=Ze("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=Ze("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=Ze("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=Ze("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=Ze("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=Ze("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=Ze("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=Ze("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pae=Ze("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=Ze("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xae=Ze("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=Ze("Siren",[["path",{d:"M7 18v-6a5 5 0 1 1 10 0v6",key:"pcx96s"}],["path",{d:"M5 21a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2z",key:"1b4s83"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gae=Ze("Slash",[["path",{d:"M22 2 2 22",key:"y4kqgn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vae=Ze("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=Ze("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=Ze("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=Ze("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=Ze("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=Ze("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=Ze("Sticker",[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M14 3v4a2 2 0 0 0 2 2h4",key:"36rjfy"}],["path",{d:"M8 13h.01",key:"1sbv64"}],["path",{d:"M16 13h.01",key:"wip0gl"}],["path",{d:"M10 16s.8 1 2 1c1.3 0 2-1 2-1",key:"1vvgv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=Ze("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=Ze("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=Ze("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yae=Ze("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=Ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=Ze("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=Ze("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=Ze("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=Ze("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=Ze("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bae=Ze("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=Ze("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=Ze("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=Ze("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jae=Ze("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=Ze("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=Ze("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=Ze("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=Ze("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=Ze("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wae=Ze("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=Ze("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=Ze("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nae=Ze("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=Ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sae=Ze("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=Ze("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Nk="-",_ae=n=>{const e=Cae(n),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:o=>{const l=o.split(Nk);return l[0]===""&&l.length!==1&&l.shift(),Q$(l,e)||Aae(o)},getConflictingClassGroupIds:(o,l)=>{const c=s[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},Q$=(n,e)=>{if(n.length===0)return e.classGroupId;const s=n[0],r=e.nextPart.get(s),a=r?Q$(n.slice(1),r):void 0;if(a)return a;if(e.validators.length===0)return;const i=n.join(Nk);return e.validators.find(({validator:o})=>o(i))?.classGroupId},mF=/^\[(.+)\]$/,Aae=n=>{if(mF.test(n)){const e=mF.exec(n)[1],s=e?.substring(0,e.indexOf(":"));if(s)return"arbitrary.."+s}},Cae=n=>{const{theme:e,prefix:s}=n,r={nextPart:new Map,validators:[]};return Eae(Object.entries(n.classGroups),s).forEach(([i,o])=>{X3(o,r,i,e)}),r},X3=(n,e,s,r)=>{n.forEach(a=>{if(typeof a=="string"){const i=a===""?e:pF(e,a);i.classGroupId=s;return}if(typeof a=="function"){if(Tae(a)){X3(a(r),e,s,r);return}e.validators.push({validator:a,classGroupId:s});return}Object.entries(a).forEach(([i,o])=>{X3(o,pF(e,i),s,r)})})},pF=(n,e)=>{let s=n;return e.split(Nk).forEach(r=>{s.nextPart.has(r)||s.nextPart.set(r,{nextPart:new Map,validators:[]}),s=s.nextPart.get(r)}),s},Tae=n=>n.isThemeGetter,Eae=(n,e)=>e?n.map(([s,r])=>{const a=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[s,a]}):n,Mae=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,s=new Map,r=new Map;const a=(i,o)=>{s.set(i,o),e++,e>n&&(e=0,r=s,s=new Map)};return{get(i){let o=s.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return a(i,o),o},set(i,o){s.has(i)?s.set(i,o):a(i,o)}}},J$="!",Pae=n=>{const{separator:e,experimentalParseClassName:s}=n,r=e.length===1,a=e[0],i=e.length,o=l=>{const c=[];let d=0,u=0,h;for(let v=0;v<l.length;v++){let b=l[v];if(d===0){if(b===a&&(r||l.slice(v,v+i)===e)){c.push(l.slice(u,v)),u=v+i;continue}if(b==="/"){h=v;continue}}b==="["?d++:b==="]"&&d--}const m=c.length===0?l:l.substring(u),y=m.startsWith(J$),N=y?m.substring(1):m,j=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:N,maybePostfixModifierPosition:j}};return s?l=>s({className:l,parseClassName:o}):o},Rae=n=>{if(n.length<=1)return n;const e=[];let s=[];return n.forEach(r=>{r[0]==="["?(e.push(...s.sort(),r),s=[]):s.push(r)}),e.push(...s.sort()),e},Oae=n=>({cache:Mae(n.cacheSize),parseClassName:Pae(n),..._ae(n)}),kae=/\s+/,Iae=(n,e)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:a}=e,i=[],o=n.trim().split(kae);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:y}=s(d);let N=!!y,j=r(N?m.substring(0,y):m);if(!j){if(!N){l=d+(l.length>0?" "+l:l);continue}if(j=r(m),!j){l=d+(l.length>0?" "+l:l);continue}N=!1}const v=Rae(u).join(":"),b=h?v+J$:v,A=b+j;if(i.includes(A))continue;i.push(A);const S=a(j,N);for(let w=0;w<S.length;++w){const E=S[w];i.push(b+E)}l=d+(l.length>0?" "+l:l)}return l};function Dae(){let n=0,e,s,r="";for(;n<arguments.length;)(e=arguments[n++])&&(s=eq(e))&&(r&&(r+=" "),r+=s);return r}const eq=n=>{if(typeof n=="string")return n;let e,s="";for(let r=0;r<n.length;r++)n[r]&&(e=eq(n[r]))&&(s&&(s+=" "),s+=e);return s};function Lae(n,...e){let s,r,a,i=o;function o(c){const d=e.reduce((u,h)=>h(u),n());return s=Oae(d),r=s.cache.get,a=s.cache.set,i=l,l(c)}function l(c){const d=r(c);if(d)return d;const u=Iae(c,s);return a(c,u),u}return function(){return i(Dae.apply(null,arguments))}}const Dr=n=>{const e=s=>s[n]||[];return e.isThemeGetter=!0,e},tq=/^\[(?:([a-z-]+):)?(.+)\]$/i,Fae=/^\d+\/\d+$/,Uae=new Set(["px","full","screen"]),zae=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Bae=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Vae=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Hae=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Gae=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,qu=n=>Iv(n)||Uae.has(n)||Fae.test(n),pf=n=>J0(n,"length",Qae),Iv=n=>!!n&&!Number.isNaN(Number(n)),nE=n=>J0(n,"number",Iv),Cb=n=>!!n&&Number.isInteger(Number(n)),$ae=n=>n.endsWith("%")&&Iv(n.slice(0,-1)),fs=n=>tq.test(n),xf=n=>zae.test(n),qae=new Set(["length","size","percentage"]),Wae=n=>J0(n,qae,nq),Kae=n=>J0(n,"position",nq),Xae=new Set(["image","url"]),Zae=n=>J0(n,Xae,eie),Yae=n=>J0(n,"",Jae),Tb=()=>!0,J0=(n,e,s)=>{const r=tq.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):s(r[2]):!1},Qae=n=>Bae.test(n)&&!Vae.test(n),nq=()=>!1,Jae=n=>Hae.test(n),eie=n=>Gae.test(n),tie=()=>{const n=Dr("colors"),e=Dr("spacing"),s=Dr("blur"),r=Dr("brightness"),a=Dr("borderColor"),i=Dr("borderRadius"),o=Dr("borderSpacing"),l=Dr("borderWidth"),c=Dr("contrast"),d=Dr("grayscale"),u=Dr("hueRotate"),h=Dr("invert"),m=Dr("gap"),y=Dr("gradientColorStops"),N=Dr("gradientColorStopPositions"),j=Dr("inset"),v=Dr("margin"),b=Dr("opacity"),A=Dr("padding"),S=Dr("saturate"),w=Dr("scale"),E=Dr("sepia"),T=Dr("skew"),P=Dr("space"),k=Dr("translate"),I=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",fs,e],H=()=>[fs,e],B=()=>["",qu,pf],K=()=>["auto",Iv,fs],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>["start","end","center","between","around","evenly","stretch"],ae=()=>["","0",fs],fe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>[Iv,fs];return{cacheSize:500,separator:":",theme:{colors:[Tb],spacing:[qu,pf],blur:["none","",xf,fs],brightness:se(),borderColor:[n],borderRadius:["none","","full",xf,fs],borderSpacing:H(),borderWidth:B(),contrast:se(),grayscale:ae(),hueRotate:se(),invert:ae(),gap:H(),gradientColorStops:[n],gradientColorStopPositions:[$ae,pf],inset:U(),margin:U(),opacity:se(),padding:H(),saturate:se(),scale:se(),sepia:ae(),skew:se(),space:H(),translate:H()},classGroups:{aspect:[{aspect:["auto","square","video",fs]}],container:["container"],columns:[{columns:[xf]}],"break-after":[{"break-after":fe()}],"break-before":[{"break-before":fe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),fs]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[j]}],"inset-x":[{"inset-x":[j]}],"inset-y":[{"inset-y":[j]}],start:[{start:[j]}],end:[{end:[j]}],top:[{top:[j]}],right:[{right:[j]}],bottom:[{bottom:[j]}],left:[{left:[j]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Cb,fs]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",fs]}],grow:[{grow:ae()}],shrink:[{shrink:ae()}],order:[{order:["first","last","none",Cb,fs]}],"grid-cols":[{"grid-cols":[Tb]}],"col-start-end":[{col:["auto",{span:["full",Cb,fs]},fs]}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":[Tb]}],"row-start-end":[{row:["auto",{span:[Cb,fs]},fs]}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",fs]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",fs]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...G()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...G(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...G(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[A]}],px:[{px:[A]}],py:[{py:[A]}],ps:[{ps:[A]}],pe:[{pe:[A]}],pt:[{pt:[A]}],pr:[{pr:[A]}],pb:[{pb:[A]}],pl:[{pl:[A]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",fs,e]}],"min-w":[{"min-w":[fs,e,"min","max","fit"]}],"max-w":[{"max-w":[fs,e,"none","full","min","max","fit","prose",{screen:[xf]},xf]}],h:[{h:[fs,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[fs,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[fs,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[fs,e,"auto","min","max","fit"]}],"font-size":[{text:["base",xf,pf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",nE]}],"font-family":[{font:[Tb]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",fs]}],"line-clamp":[{"line-clamp":["none",Iv,nE]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",qu,fs]}],"list-image":[{"list-image":["none",fs]}],"list-style-type":[{list:["none","disc","decimal",fs]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",qu,pf]}],"underline-offset":[{"underline-offset":["auto",qu,fs]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:H()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fs]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fs]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),Kae]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Wae]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Zae]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[N]}],"gradient-via-pos":[{via:[N]}],"gradient-to-pos":[{to:[N]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:W()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[qu,fs]}],"outline-w":[{outline:[qu,pf]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[qu,pf]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",xf,Yae]}],"shadow-color":[{shadow:[Tb]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...ee(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ee()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",xf,fs]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[S]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",fs]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",fs]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",fs]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Cb,fs]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",fs]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fs]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":H()}],"scroll-mx":[{"scroll-mx":H()}],"scroll-my":[{"scroll-my":H()}],"scroll-ms":[{"scroll-ms":H()}],"scroll-me":[{"scroll-me":H()}],"scroll-mt":[{"scroll-mt":H()}],"scroll-mr":[{"scroll-mr":H()}],"scroll-mb":[{"scroll-mb":H()}],"scroll-ml":[{"scroll-ml":H()}],"scroll-p":[{"scroll-p":H()}],"scroll-px":[{"scroll-px":H()}],"scroll-py":[{"scroll-py":H()}],"scroll-ps":[{"scroll-ps":H()}],"scroll-pe":[{"scroll-pe":H()}],"scroll-pt":[{"scroll-pt":H()}],"scroll-pr":[{"scroll-pr":H()}],"scroll-pb":[{"scroll-pb":H()}],"scroll-pl":[{"scroll-pl":H()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fs]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[qu,pf,nE]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},nie=Lae(tie);function Bt(...n){return nie(os(n))}const sie=Pre,sq=R.forwardRef(({className:n,...e},s)=>t.jsx(j$,{ref:s,className:Bt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));sq.displayName=j$.displayName;const rie=X1("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),rq=R.forwardRef(({className:n,variant:e,...s},r)=>t.jsx(w$,{ref:r,className:Bt(rie({variant:e}),n),...s}));rq.displayName=w$.displayName;const aie=R.forwardRef(({className:n,...e},s)=>t.jsx(_$,{ref:s,className:Bt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));aie.displayName=_$.displayName;const aq=R.forwardRef(({className:n,...e},s)=>t.jsx(A$,{ref:s,className:Bt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:t.jsx(td,{className:"h-4 w-4"})}));aq.displayName=A$.displayName;const iq=R.forwardRef(({className:n,...e},s)=>t.jsx(N$,{ref:s,className:Bt("text-sm font-semibold",n),...e}));iq.displayName=N$.displayName;const oq=R.forwardRef(({className:n,...e},s)=>t.jsx(S$,{ref:s,className:Bt("text-sm opacity-90",n),...e}));oq.displayName=S$.displayName;function iie(){const{toasts:n}=Dn();return t.jsxs(sie,{children:[n.map(function({id:e,title:s,description:r,action:a,...i}){return t.jsxs(rq,{...i,children:[t.jsxs("div",{className:"grid gap-1",children:[s&&t.jsx(iq,{children:s}),r&&t.jsx(oq,{children:r})]}),a,t.jsx(aq,{})]},e)}),t.jsx(sq,{})]})}var oie=dk[" useId ".trim().toString()]||(()=>{}),lie=0;function Uf(n){const[e,s]=R.useState(oie());return ga(()=>{s(r=>r??String(lie++))},[n]),e?`radix-${e}`:""}const cie=["top","right","bottom","left"],qf=Math.min,xl=Math.max,N_=Math.round,DN=Math.floor,Xd=n=>({x:n,y:n}),die={left:"right",right:"left",bottom:"top",top:"bottom"},uie={start:"end",end:"start"};function Z3(n,e,s){return xl(n,qf(e,s))}function bh(n,e){return typeof n=="function"?n(e):n}function jh(n){return n.split("-")[0]}function ey(n){return n.split("-")[1]}function Sk(n){return n==="x"?"y":"x"}function _k(n){return n==="y"?"height":"width"}const hie=new Set(["top","bottom"]);function Vd(n){return hie.has(jh(n))?"y":"x"}function Ak(n){return Sk(Vd(n))}function fie(n,e,s){s===void 0&&(s=!1);const r=ey(n),a=Ak(n),i=_k(a);let o=a==="x"?r===(s?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=S_(o)),[o,S_(o)]}function mie(n){const e=S_(n);return[Y3(n),e,Y3(e)]}function Y3(n){return n.replace(/start|end/g,e=>uie[e])}const xF=["left","right"],gF=["right","left"],pie=["top","bottom"],xie=["bottom","top"];function gie(n,e,s){switch(n){case"top":case"bottom":return s?e?gF:xF:e?xF:gF;case"left":case"right":return e?pie:xie;default:return[]}}function vie(n,e,s,r){const a=ey(n);let i=gie(jh(n),s==="start",r);return a&&(i=i.map(o=>o+"-"+a),e&&(i=i.concat(i.map(Y3)))),i}function S_(n){return n.replace(/left|right|bottom|top/g,e=>die[e])}function yie(n){return{top:0,right:0,bottom:0,left:0,...n}}function lq(n){return typeof n!="number"?yie(n):{top:n,right:n,bottom:n,left:n}}function __(n){const{x:e,y:s,width:r,height:a}=n;return{width:r,height:a,top:s,left:e,right:e+r,bottom:s+a,x:e,y:s}}function vF(n,e,s){let{reference:r,floating:a}=n;const i=Vd(e),o=Ak(e),l=_k(o),c=jh(e),d=i==="y",u=r.x+r.width/2-a.width/2,h=r.y+r.height/2-a.height/2,m=r[l]/2-a[l]/2;let y;switch(c){case"top":y={x:u,y:r.y-a.height};break;case"bottom":y={x:u,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:h};break;case"left":y={x:r.x-a.width,y:h};break;default:y={x:r.x,y:r.y}}switch(ey(e)){case"start":y[o]-=m*(s&&d?-1:1);break;case"end":y[o]+=m*(s&&d?-1:1);break}return y}const bie=async(n,e,s)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:o}=s,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:n,floating:e,strategy:a}),{x:u,y:h}=vF(d,r,c),m=r,y={},N=0;for(let j=0;j<l.length;j++){const{name:v,fn:b}=l[j],{x:A,y:S,data:w,reset:E}=await b({x:u,y:h,initialPlacement:r,placement:m,strategy:a,middlewareData:y,rects:d,platform:o,elements:{reference:n,floating:e}});u=A??u,h=S??h,y={...y,[v]:{...y[v],...w}},E&&N<=50&&(N++,typeof E=="object"&&(E.placement&&(m=E.placement),E.rects&&(d=E.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:a}):E.rects),{x:u,y:h}=vF(d,m,c)),j=-1)}return{x:u,y:h,placement:m,strategy:a,middlewareData:y}};async function Bj(n,e){var s;e===void 0&&(e={});const{x:r,y:a,platform:i,rects:o,elements:l,strategy:c}=n,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:m=!1,padding:y=0}=bh(e,n),N=lq(y),v=l[m?h==="floating"?"reference":"floating":h],b=__(await i.getClippingRect({element:(s=await(i.isElement==null?void 0:i.isElement(v)))==null||s?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),A=h==="floating"?{x:r,y:a,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),w=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},E=__(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:A,offsetParent:S,strategy:c}):A);return{top:(b.top-E.top+N.top)/w.y,bottom:(E.bottom-b.bottom+N.bottom)/w.y,left:(b.left-E.left+N.left)/w.x,right:(E.right-b.right+N.right)/w.x}}const jie=n=>({name:"arrow",options:n,async fn(e){const{x:s,y:r,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:u=0}=bh(n,e)||{};if(d==null)return{};const h=lq(u),m={x:s,y:r},y=Ak(a),N=_k(y),j=await o.getDimensions(d),v=y==="y",b=v?"top":"left",A=v?"bottom":"right",S=v?"clientHeight":"clientWidth",w=i.reference[N]+i.reference[y]-m[y]-i.floating[N],E=m[y]-i.reference[y],T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let P=T?T[S]:0;(!P||!await(o.isElement==null?void 0:o.isElement(T)))&&(P=l.floating[S]||i.floating[N]);const k=w/2-E/2,I=P/2-j[N]/2-1,L=qf(h[b],I),U=qf(h[A],I),H=L,B=P-j[N]-U,K=P/2-j[N]/2+k,J=Z3(H,K,B),W=!c.arrow&&ey(a)!=null&&K!==J&&i.reference[N]/2-(K<H?L:U)-j[N]/2<0,ee=W?K<H?K-H:K-B:0;return{[y]:m[y]+ee,data:{[y]:J,centerOffset:K-J-ee,...W&&{alignmentOffset:ee}},reset:W}}}),wie=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var s,r;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:j=!0,...v}=bh(n,e);if((s=i.arrow)!=null&&s.alignmentOffset)return{};const b=jh(a),A=Vd(l),S=jh(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(d.floating)),E=m||(S||!j?[S_(l)]:mie(l)),T=N!=="none";!m&&T&&E.push(...vie(l,j,N,w));const P=[l,...E],k=await Bj(e,v),I=[];let L=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&I.push(k[b]),h){const K=fie(a,o,w);I.push(k[K[0]],k[K[1]])}if(L=[...L,{placement:a,overflows:I}],!I.every(K=>K<=0)){var U,H;const K=(((U=i.flip)==null?void 0:U.index)||0)+1,J=P[K];if(J&&(!(h==="alignment"?A!==Vd(J):!1)||L.every(G=>Vd(G.placement)===A?G.overflows[0]>0:!0)))return{data:{index:K,overflows:L},reset:{placement:J}};let W=(H=L.filter(ee=>ee.overflows[0]<=0).sort((ee,G)=>ee.overflows[1]-G.overflows[1])[0])==null?void 0:H.placement;if(!W)switch(y){case"bestFit":{var B;const ee=(B=L.filter(G=>{if(T){const ae=Vd(G.placement);return ae===A||ae==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(ae=>ae>0).reduce((ae,fe)=>ae+fe,0)]).sort((G,ae)=>G[1]-ae[1])[0])==null?void 0:B[0];ee&&(W=ee);break}case"initialPlacement":W=l;break}if(a!==W)return{reset:{placement:W}}}return{}}}};function yF(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function bF(n){return cie.some(e=>n[e]>=0)}const Nie=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:s}=e,{strategy:r="referenceHidden",...a}=bh(n,e);switch(r){case"referenceHidden":{const i=await Bj(e,{...a,elementContext:"reference"}),o=yF(i,s.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:bF(o)}}}case"escaped":{const i=await Bj(e,{...a,altBoundary:!0}),o=yF(i,s.floating);return{data:{escapedOffsets:o,escaped:bF(o)}}}default:return{}}}}},cq=new Set(["left","top"]);async function Sie(n,e){const{placement:s,platform:r,elements:a}=n,i=await(r.isRTL==null?void 0:r.isRTL(a.floating)),o=jh(s),l=ey(s),c=Vd(s)==="y",d=cq.has(o)?-1:1,u=i&&c?-1:1,h=bh(e,n);let{mainAxis:m,crossAxis:y,alignmentAxis:N}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof N=="number"&&(y=l==="end"?N*-1:N),c?{x:y*u,y:m*d}:{x:m*d,y:y*u}}const _ie=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var s,r;const{x:a,y:i,placement:o,middlewareData:l}=e,c=await Sie(e,n);return o===((s=l.offset)==null?void 0:s.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},Aie=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:s,y:r,placement:a}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:b,y:A}=v;return{x:b,y:A}}},...c}=bh(n,e),d={x:s,y:r},u=await Bj(e,c),h=Vd(jh(a)),m=Sk(h);let y=d[m],N=d[h];if(i){const v=m==="y"?"top":"left",b=m==="y"?"bottom":"right",A=y+u[v],S=y-u[b];y=Z3(A,y,S)}if(o){const v=h==="y"?"top":"left",b=h==="y"?"bottom":"right",A=N+u[v],S=N-u[b];N=Z3(A,N,S)}const j=l.fn({...e,[m]:y,[h]:N});return{...j,data:{x:j.x-s,y:j.y-r,enabled:{[m]:i,[h]:o}}}}}},Cie=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:s,y:r,placement:a,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=bh(n,e),u={x:s,y:r},h=Vd(a),m=Sk(h);let y=u[m],N=u[h];const j=bh(l,e),v=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(c){const S=m==="y"?"height":"width",w=i.reference[m]-i.floating[S]+v.mainAxis,E=i.reference[m]+i.reference[S]-v.mainAxis;y<w?y=w:y>E&&(y=E)}if(d){var b,A;const S=m==="y"?"width":"height",w=cq.has(jh(a)),E=i.reference[h]-i.floating[S]+(w&&((b=o.offset)==null?void 0:b[h])||0)+(w?0:v.crossAxis),T=i.reference[h]+i.reference[S]+(w?0:((A=o.offset)==null?void 0:A[h])||0)-(w?v.crossAxis:0);N<E?N=E:N>T&&(N=T)}return{[m]:y,[h]:N}}}},Tie=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var s,r;const{placement:a,rects:i,platform:o,elements:l}=e,{apply:c=()=>{},...d}=bh(n,e),u=await Bj(e,d),h=jh(a),m=ey(a),y=Vd(a)==="y",{width:N,height:j}=i.floating;let v,b;h==="top"||h==="bottom"?(v=h,b=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=h,v=m==="end"?"top":"bottom");const A=j-u.top-u.bottom,S=N-u.left-u.right,w=qf(j-u[v],A),E=qf(N-u[b],S),T=!e.middlewareData.shift;let P=w,k=E;if((s=e.middlewareData.shift)!=null&&s.enabled.x&&(k=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=A),T&&!m){const L=xl(u.left,0),U=xl(u.right,0),H=xl(u.top,0),B=xl(u.bottom,0);y?k=N-2*(L!==0||U!==0?L+U:xl(u.left,u.right)):P=j-2*(H!==0||B!==0?H+B:xl(u.top,u.bottom))}await c({...e,availableWidth:k,availableHeight:P});const I=await o.getDimensions(l.floating);return N!==I.width||j!==I.height?{reset:{rects:!0}}:{}}}};function XA(){return typeof window<"u"}function ty(n){return dq(n)?(n.nodeName||"").toLowerCase():"#document"}function wl(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function uu(n){var e;return(e=(dq(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function dq(n){return XA()?n instanceof Node||n instanceof wl(n).Node:!1}function id(n){return XA()?n instanceof Element||n instanceof wl(n).Element:!1}function iu(n){return XA()?n instanceof HTMLElement||n instanceof wl(n).HTMLElement:!1}function jF(n){return!XA()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof wl(n).ShadowRoot}const Eie=new Set(["inline","contents"]);function ew(n){const{overflow:e,overflowX:s,overflowY:r,display:a}=od(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+s)&&!Eie.has(a)}const Mie=new Set(["table","td","th"]);function Pie(n){return Mie.has(ty(n))}const Rie=[":popover-open",":modal"];function ZA(n){return Rie.some(e=>{try{return n.matches(e)}catch{return!1}})}const Oie=["transform","translate","scale","rotate","perspective"],kie=["transform","translate","scale","rotate","perspective","filter"],Iie=["paint","layout","strict","content"];function Ck(n){const e=Tk(),s=id(n)?od(n):n;return Oie.some(r=>s[r]?s[r]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!e&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!e&&(s.filter?s.filter!=="none":!1)||kie.some(r=>(s.willChange||"").includes(r))||Iie.some(r=>(s.contain||"").includes(r))}function Die(n){let e=Wf(n);for(;iu(e)&&!e0(e);){if(Ck(e))return e;if(ZA(e))return null;e=Wf(e)}return null}function Tk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Lie=new Set(["html","body","#document"]);function e0(n){return Lie.has(ty(n))}function od(n){return wl(n).getComputedStyle(n)}function YA(n){return id(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Wf(n){if(ty(n)==="html")return n;const e=n.assignedSlot||n.parentNode||jF(n)&&n.host||uu(n);return jF(e)?e.host:e}function uq(n){const e=Wf(n);return e0(e)?n.ownerDocument?n.ownerDocument.body:n.body:iu(e)&&ew(e)?e:uq(e)}function Vj(n,e,s){var r;e===void 0&&(e=[]),s===void 0&&(s=!0);const a=uq(n),i=a===((r=n.ownerDocument)==null?void 0:r.body),o=wl(a);if(i){const l=Q3(o);return e.concat(o,o.visualViewport||[],ew(a)?a:[],l&&s?Vj(l):[])}return e.concat(a,Vj(a,[],s))}function Q3(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function hq(n){const e=od(n);let s=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const a=iu(n),i=a?n.offsetWidth:s,o=a?n.offsetHeight:r,l=N_(s)!==i||N_(r)!==o;return l&&(s=i,r=o),{width:s,height:r,$:l}}function Ek(n){return id(n)?n:n.contextElement}function Dv(n){const e=Ek(n);if(!iu(e))return Xd(1);const s=e.getBoundingClientRect(),{width:r,height:a,$:i}=hq(e);let o=(i?N_(s.width):s.width)/r,l=(i?N_(s.height):s.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Fie=Xd(0);function fq(n){const e=wl(n);return!Tk()||!e.visualViewport?Fie:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Uie(n,e,s){return e===void 0&&(e=!1),!s||e&&s!==wl(n)?!1:e}function hx(n,e,s,r){e===void 0&&(e=!1),s===void 0&&(s=!1);const a=n.getBoundingClientRect(),i=Ek(n);let o=Xd(1);e&&(r?id(r)&&(o=Dv(r)):o=Dv(n));const l=Uie(i,s,r)?fq(i):Xd(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,h=a.height/o.y;if(i){const m=wl(i),y=r&&id(r)?wl(r):r;let N=m,j=Q3(N);for(;j&&r&&y!==N;){const v=Dv(j),b=j.getBoundingClientRect(),A=od(j),S=b.left+(j.clientLeft+parseFloat(A.paddingLeft))*v.x,w=b.top+(j.clientTop+parseFloat(A.paddingTop))*v.y;c*=v.x,d*=v.y,u*=v.x,h*=v.y,c+=S,d+=w,N=wl(j),j=Q3(N)}}return __({width:u,height:h,x:c,y:d})}function QA(n,e){const s=YA(n).scrollLeft;return e?e.left+s:hx(uu(n)).left+s}function mq(n,e){const s=n.getBoundingClientRect(),r=s.left+e.scrollLeft-QA(n,s),a=s.top+e.scrollTop;return{x:r,y:a}}function zie(n){let{elements:e,rect:s,offsetParent:r,strategy:a}=n;const i=a==="fixed",o=uu(r),l=e?ZA(e.floating):!1;if(r===o||l&&i)return s;let c={scrollLeft:0,scrollTop:0},d=Xd(1);const u=Xd(0),h=iu(r);if((h||!h&&!i)&&((ty(r)!=="body"||ew(o))&&(c=YA(r)),iu(r))){const y=hx(r);d=Dv(r),u.x=y.x+r.clientLeft,u.y=y.y+r.clientTop}const m=o&&!h&&!i?mq(o,c):Xd(0);return{width:s.width*d.x,height:s.height*d.y,x:s.x*d.x-c.scrollLeft*d.x+u.x+m.x,y:s.y*d.y-c.scrollTop*d.y+u.y+m.y}}function Bie(n){return Array.from(n.getClientRects())}function Vie(n){const e=uu(n),s=YA(n),r=n.ownerDocument.body,a=xl(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=xl(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-s.scrollLeft+QA(n);const l=-s.scrollTop;return od(r).direction==="rtl"&&(o+=xl(e.clientWidth,r.clientWidth)-a),{width:a,height:i,x:o,y:l}}const wF=25;function Hie(n,e){const s=wl(n),r=uu(n),a=s.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=Tk();(!u||u&&e==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const d=QA(r);if(d<=0){const u=r.ownerDocument,h=u.body,m=getComputedStyle(h),y=u.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,N=Math.abs(r.clientWidth-h.clientWidth-y);N<=wF&&(i-=N)}else d<=wF&&(i+=d);return{width:i,height:o,x:l,y:c}}const Gie=new Set(["absolute","fixed"]);function $ie(n,e){const s=hx(n,!0,e==="fixed"),r=s.top+n.clientTop,a=s.left+n.clientLeft,i=iu(n)?Dv(n):Xd(1),o=n.clientWidth*i.x,l=n.clientHeight*i.y,c=a*i.x,d=r*i.y;return{width:o,height:l,x:c,y:d}}function NF(n,e,s){let r;if(e==="viewport")r=Hie(n,s);else if(e==="document")r=Vie(uu(n));else if(id(e))r=$ie(e,s);else{const a=fq(n);r={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return __(r)}function pq(n,e){const s=Wf(n);return s===e||!id(s)||e0(s)?!1:od(s).position==="fixed"||pq(s,e)}function qie(n,e){const s=e.get(n);if(s)return s;let r=Vj(n,[],!1).filter(l=>id(l)&&ty(l)!=="body"),a=null;const i=od(n).position==="fixed";let o=i?Wf(n):n;for(;id(o)&&!e0(o);){const l=od(o),c=Ck(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&Gie.has(a.position)||ew(o)&&!c&&pq(n,o))?r=r.filter(u=>u!==o):a=l,o=Wf(o)}return e.set(n,r),r}function Wie(n){let{element:e,boundary:s,rootBoundary:r,strategy:a}=n;const o=[...s==="clippingAncestors"?ZA(e)?[]:qie(e,this._c):[].concat(s),r],l=o[0],c=o.reduce((d,u)=>{const h=NF(e,u,a);return d.top=xl(h.top,d.top),d.right=qf(h.right,d.right),d.bottom=qf(h.bottom,d.bottom),d.left=xl(h.left,d.left),d},NF(e,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Kie(n){const{width:e,height:s}=hq(n);return{width:e,height:s}}function Xie(n,e,s){const r=iu(e),a=uu(e),i=s==="fixed",o=hx(n,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=Xd(0);function d(){c.x=QA(a)}if(r||!r&&!i)if((ty(e)!=="body"||ew(a))&&(l=YA(e)),r){const y=hx(e,!0,i,e);c.x=y.x+e.clientLeft,c.y=y.y+e.clientTop}else a&&d();i&&!r&&a&&d();const u=a&&!r&&!i?mq(a,l):Xd(0),h=o.left+l.scrollLeft-c.x-u.x,m=o.top+l.scrollTop-c.y-u.y;return{x:h,y:m,width:o.width,height:o.height}}function sE(n){return od(n).position==="static"}function SF(n,e){if(!iu(n)||od(n).position==="fixed")return null;if(e)return e(n);let s=n.offsetParent;return uu(n)===s&&(s=s.ownerDocument.body),s}function xq(n,e){const s=wl(n);if(ZA(n))return s;if(!iu(n)){let a=Wf(n);for(;a&&!e0(a);){if(id(a)&&!sE(a))return a;a=Wf(a)}return s}let r=SF(n,e);for(;r&&Pie(r)&&sE(r);)r=SF(r,e);return r&&e0(r)&&sE(r)&&!Ck(r)?s:r||Die(n)||s}const Zie=async function(n){const e=this.getOffsetParent||xq,s=this.getDimensions,r=await s(n.floating);return{reference:Xie(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Yie(n){return od(n).direction==="rtl"}const Qie={convertOffsetParentRelativeRectToViewportRelativeRect:zie,getDocumentElement:uu,getClippingRect:Wie,getOffsetParent:xq,getElementRects:Zie,getClientRects:Bie,getDimensions:Kie,getScale:Dv,isElement:id,isRTL:Yie};function gq(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function Jie(n,e){let s=null,r;const a=uu(n);function i(){var l;clearTimeout(r),(l=s)==null||l.disconnect(),s=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=n.getBoundingClientRect(),{left:u,top:h,width:m,height:y}=d;if(l||e(),!m||!y)return;const N=DN(h),j=DN(a.clientWidth-(u+m)),v=DN(a.clientHeight-(h+y)),b=DN(u),S={rootMargin:-N+"px "+-j+"px "+-v+"px "+-b+"px",threshold:xl(0,qf(1,c))||1};let w=!0;function E(T){const P=T[0].intersectionRatio;if(P!==c){if(!w)return o();P?o(!1,P):r=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!gq(d,n.getBoundingClientRect())&&o(),w=!1}try{s=new IntersectionObserver(E,{...S,root:a.ownerDocument})}catch{s=new IntersectionObserver(E,S)}s.observe(n)}return o(!0),i}function eoe(n,e,s,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=Ek(n),u=a||i?[...d?Vj(d):[],...Vj(e)]:[];u.forEach(b=>{a&&b.addEventListener("scroll",s,{passive:!0}),i&&b.addEventListener("resize",s)});const h=d&&l?Jie(d,s):null;let m=-1,y=null;o&&(y=new ResizeObserver(b=>{let[A]=b;A&&A.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var S;(S=y)==null||S.observe(e)})),s()}),d&&!c&&y.observe(d),y.observe(e));let N,j=c?hx(n):null;c&&v();function v(){const b=hx(n);j&&!gq(j,b)&&s(),j=b,N=requestAnimationFrame(v)}return s(),()=>{var b;u.forEach(A=>{a&&A.removeEventListener("scroll",s),i&&A.removeEventListener("resize",s)}),h?.(),(b=y)==null||b.disconnect(),y=null,c&&cancelAnimationFrame(N)}}const toe=_ie,noe=Aie,soe=wie,roe=Tie,aoe=Nie,_F=jie,ioe=Cie,ooe=(n,e,s)=>{const r=new Map,a={platform:Qie,...s},i={...a.platform,_c:r};return bie(n,e,{...a,platform:i})};var loe=typeof document<"u",coe=function(){},r_=loe?R.useLayoutEffect:coe;function A_(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let s,r,a;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(s=n.length,s!==e.length)return!1;for(r=s;r--!==0;)if(!A_(n[r],e[r]))return!1;return!0}if(a=Object.keys(n),s=a.length,s!==Object.keys(e).length)return!1;for(r=s;r--!==0;)if(!{}.hasOwnProperty.call(e,a[r]))return!1;for(r=s;r--!==0;){const i=a[r];if(!(i==="_owner"&&n.$$typeof)&&!A_(n[i],e[i]))return!1}return!0}return n!==n&&e!==e}function vq(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function AF(n,e){const s=vq(n);return Math.round(e*s)/s}function rE(n){const e=R.useRef(n);return r_(()=>{e.current=n}),e}function doe(n){n===void 0&&(n={});const{placement:e="bottom",strategy:s="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=n,[u,h]=R.useState({x:0,y:0,strategy:s,placement:e,middlewareData:{},isPositioned:!1}),[m,y]=R.useState(r);A_(m,r)||y(r);const[N,j]=R.useState(null),[v,b]=R.useState(null),A=R.useCallback(G=>{G!==T.current&&(T.current=G,j(G))},[]),S=R.useCallback(G=>{G!==P.current&&(P.current=G,b(G))},[]),w=i||N,E=o||v,T=R.useRef(null),P=R.useRef(null),k=R.useRef(u),I=c!=null,L=rE(c),U=rE(a),H=rE(d),B=R.useCallback(()=>{if(!T.current||!P.current)return;const G={placement:e,strategy:s,middleware:m};U.current&&(G.platform=U.current),ooe(T.current,P.current,G).then(ae=>{const fe={...ae,isPositioned:H.current!==!1};K.current&&!A_(k.current,fe)&&(k.current=fe,Y0.flushSync(()=>{h(fe)}))})},[m,e,s,U,H]);r_(()=>{d===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,h(G=>({...G,isPositioned:!1})))},[d]);const K=R.useRef(!1);r_(()=>(K.current=!0,()=>{K.current=!1}),[]),r_(()=>{if(w&&(T.current=w),E&&(P.current=E),w&&E){if(L.current)return L.current(w,E,B);B()}},[w,E,B,L,I]);const J=R.useMemo(()=>({reference:T,floating:P,setReference:A,setFloating:S}),[A,S]),W=R.useMemo(()=>({reference:w,floating:E}),[w,E]),ee=R.useMemo(()=>{const G={position:s,left:0,top:0};if(!W.floating)return G;const ae=AF(W.floating,u.x),fe=AF(W.floating,u.y);return l?{...G,transform:"translate("+ae+"px, "+fe+"px)",...vq(W.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:ae,top:fe}},[s,l,W.floating,u.x,u.y]);return R.useMemo(()=>({...u,update:B,refs:J,elements:W,floatingStyles:ee}),[u,B,J,W,ee])}const uoe=n=>{function e(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:n,fn(s){const{element:r,padding:a}=typeof n=="function"?n(s):n;return r&&e(r)?r.current!=null?_F({element:r.current,padding:a}).fn(s):{}:r?_F({element:r,padding:a}).fn(s):{}}}},hoe=(n,e)=>({...toe(n),options:[n,e]}),foe=(n,e)=>({...noe(n),options:[n,e]}),moe=(n,e)=>({...ioe(n),options:[n,e]}),poe=(n,e)=>({...soe(n),options:[n,e]}),xoe=(n,e)=>({...roe(n),options:[n,e]}),goe=(n,e)=>({...aoe(n),options:[n,e]}),voe=(n,e)=>({...uoe(n),options:[n,e]});var yoe="Arrow",yq=R.forwardRef((n,e)=>{const{children:s,width:r=10,height:a=5,...i}=n;return t.jsx(Nn.svg,{...i,ref:e,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?s:t.jsx("polygon",{points:"0,0 30,0 15,10"})})});yq.displayName=yoe;var boe=yq;function JA(n){const[e,s]=R.useState(void 0);return ga(()=>{if(n){s({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=n.offsetWidth,l=n.offsetHeight;s({width:o,height:l})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else s(void 0)},[n]),e}var Mk="Popper",[bq,eC]=Co(Mk),[joe,jq]=bq(Mk),wq=n=>{const{__scopePopper:e,children:s}=n,[r,a]=R.useState(null);return t.jsx(joe,{scope:e,anchor:r,onAnchorChange:a,children:s})};wq.displayName=Mk;var Nq="PopperAnchor",Sq=R.forwardRef((n,e)=>{const{__scopePopper:s,virtualRef:r,...a}=n,i=jq(Nq,s),o=R.useRef(null),l=rs(e,o),c=R.useRef(null);return R.useEffect(()=>{const d=c.current;c.current=r?.current||o.current,d!==c.current&&i.onAnchorChange(c.current)}),r?null:t.jsx(Nn.div,{...a,ref:l})});Sq.displayName=Nq;var Pk="PopperContent",[woe,Noe]=bq(Pk),_q=R.forwardRef((n,e)=>{const{__scopePopper:s,side:r="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:y="optimized",onPlaced:N,...j}=n,v=jq(Pk,s),[b,A]=R.useState(null),S=rs(e,Ce=>A(Ce)),[w,E]=R.useState(null),T=JA(w),P=T?.width??0,k=T?.height??0,I=r+(i!=="center"?"-"+i:""),L=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},U=Array.isArray(d)?d:[d],H=U.length>0,B={padding:L,boundary:U.filter(_oe),altBoundary:H},{refs:K,floatingStyles:J,placement:W,isPositioned:ee,middlewareData:G}=doe({strategy:"fixed",placement:I,whileElementsMounted:(...Ce)=>eoe(...Ce,{animationFrame:y==="always"}),elements:{reference:v.anchor},middleware:[hoe({mainAxis:a+k,alignmentAxis:o}),c&&foe({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?moe():void 0,...B}),c&&poe({...B}),xoe({...B,apply:({elements:Ce,rects:Ue,availableWidth:De,availableHeight:qe})=>{const{width:rt,height:$e}=Ue.reference,pe=Ce.floating.style;pe.setProperty("--radix-popper-available-width",`${De}px`),pe.setProperty("--radix-popper-available-height",`${qe}px`),pe.setProperty("--radix-popper-anchor-width",`${rt}px`),pe.setProperty("--radix-popper-anchor-height",`${$e}px`)}}),w&&voe({element:w,padding:l}),Aoe({arrowWidth:P,arrowHeight:k}),m&&goe({strategy:"referenceHidden",...B})]}),[ae,fe]=Tq(W),se=Ca(N);ga(()=>{ee&&se?.()},[ee,se]);const me=G.arrow?.x,Oe=G.arrow?.y,Ye=G.arrow?.centerOffset!==0,[dt,be]=R.useState();return ga(()=>{b&&be(window.getComputedStyle(b).zIndex)},[b]),t.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:ee?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:dt,"--radix-popper-transform-origin":[G.transformOrigin?.x,G.transformOrigin?.y].join(" "),...G.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:t.jsx(woe,{scope:s,placedSide:ae,onArrowChange:E,arrowX:me,arrowY:Oe,shouldHideArrow:Ye,children:t.jsx(Nn.div,{"data-side":ae,"data-align":fe,...j,ref:S,style:{...j.style,animation:ee?void 0:"none"}})})})});_q.displayName=Pk;var Aq="PopperArrow",Soe={top:"bottom",right:"left",bottom:"top",left:"right"},Cq=R.forwardRef(function(e,s){const{__scopePopper:r,...a}=e,i=Noe(Aq,r),o=Soe[i.placedSide];return t.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:t.jsx(boe,{...a,ref:s,style:{...a.style,display:"block"}})})});Cq.displayName=Aq;function _oe(n){return n!==null}var Aoe=n=>({name:"transformOrigin",options:n,fn(e){const{placement:s,rects:r,middlewareData:a}=e,o=a.arrow?.centerOffset!==0,l=o?0:n.arrowWidth,c=o?0:n.arrowHeight,[d,u]=Tq(s),h={start:"0%",center:"50%",end:"100%"}[u],m=(a.arrow?.x??0)+l/2,y=(a.arrow?.y??0)+c/2;let N="",j="";return d==="bottom"?(N=o?h:`${m}px`,j=`${-c}px`):d==="top"?(N=o?h:`${m}px`,j=`${r.floating.height+c}px`):d==="right"?(N=`${-c}px`,j=o?h:`${y}px`):d==="left"&&(N=`${r.floating.width+c}px`,j=o?h:`${y}px`),{data:{x:N,y:j}}}});function Tq(n){const[e,s="center"]=n.split("-");return[e,s]}var Coe=wq,Eq=Sq,Mq=_q,Pq=Cq,[tC]=Co("Tooltip",[eC]),Rk=eC(),Rq="TooltipProvider",Toe=700,CF="tooltip.open",[Eoe,Oq]=tC(Rq),kq=n=>{const{__scopeTooltip:e,delayDuration:s=Toe,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:i}=n,o=R.useRef(!0),l=R.useRef(!1),c=R.useRef(0);return R.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),t.jsx(Eoe,{scope:e,isOpenDelayedRef:o,delayDuration:s,onOpen:R.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:R.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:R.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:i})};kq.displayName=Rq;var Iq="Tooltip",[qLe,nC]=tC(Iq),J3="TooltipTrigger",Moe=R.forwardRef((n,e)=>{const{__scopeTooltip:s,...r}=n,a=nC(J3,s),i=Oq(J3,s),o=Rk(s),l=R.useRef(null),c=rs(e,l,a.onTriggerChange),d=R.useRef(!1),u=R.useRef(!1),h=R.useCallback(()=>d.current=!1,[]);return R.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),t.jsx(Eq,{asChild:!0,...o,children:t.jsx(Nn.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:c,onPointerMove:cn(n.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:cn(n.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:cn(n.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:cn(n.onFocus,()=>{d.current||a.onOpen()}),onBlur:cn(n.onBlur,a.onClose),onClick:cn(n.onClick,a.onClose)})})});Moe.displayName=J3;var Poe="TooltipPortal",[WLe,Roe]=tC(Poe,{forceMount:void 0}),t0="TooltipContent",Dq=R.forwardRef((n,e)=>{const s=Roe(t0,n.__scopeTooltip),{forceMount:r=s.forceMount,side:a="top",...i}=n,o=nC(t0,n.__scopeTooltip);return t.jsx(oc,{present:r||o.open,children:o.disableHoverableContent?t.jsx(Lq,{side:a,...i,ref:e}):t.jsx(Ooe,{side:a,...i,ref:e})})}),Ooe=R.forwardRef((n,e)=>{const s=nC(t0,n.__scopeTooltip),r=Oq(t0,n.__scopeTooltip),a=R.useRef(null),i=rs(e,a),[o,l]=R.useState(null),{trigger:c,onClose:d}=s,u=a.current,{onPointerInTransitChange:h}=r,m=R.useCallback(()=>{l(null),h(!1)},[h]),y=R.useCallback((N,j)=>{const v=N.currentTarget,b={x:N.clientX,y:N.clientY},A=Foe(b,v.getBoundingClientRect()),S=Uoe(b,A),w=zoe(j.getBoundingClientRect()),E=Voe([...S,...w]);l(E),h(!0)},[h]);return R.useEffect(()=>()=>m(),[m]),R.useEffect(()=>{if(c&&u){const N=v=>y(v,u),j=v=>y(v,c);return c.addEventListener("pointerleave",N),u.addEventListener("pointerleave",j),()=>{c.removeEventListener("pointerleave",N),u.removeEventListener("pointerleave",j)}}},[c,u,y,m]),R.useEffect(()=>{if(o){const N=j=>{const v=j.target,b={x:j.clientX,y:j.clientY},A=c?.contains(v)||u?.contains(v),S=!Boe(b,o);A?m():S&&(m(),d())};return document.addEventListener("pointermove",N),()=>document.removeEventListener("pointermove",N)}},[c,u,o,d,m]),t.jsx(Lq,{...n,ref:i})}),[koe,Ioe]=tC(Iq,{isInside:!1}),Doe=n$("TooltipContent"),Lq=R.forwardRef((n,e)=>{const{__scopeTooltip:s,children:r,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=n,c=nC(t0,s),d=Rk(s),{onClose:u}=c;return R.useEffect(()=>(document.addEventListener(CF,u),()=>document.removeEventListener(CF,u)),[u]),R.useEffect(()=>{if(c.trigger){const h=m=>{m.target?.contains(c.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,u]),t.jsx(W1,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:t.jsxs(Mq,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[t.jsx(Doe,{children:r}),t.jsx(koe,{scope:s,isInside:!0,children:t.jsx(fre,{id:c.contentId,role:"tooltip",children:a||r})})]})})});Dq.displayName=t0;var Fq="TooltipArrow",Loe=R.forwardRef((n,e)=>{const{__scopeTooltip:s,...r}=n,a=Rk(s);return Ioe(Fq,s).isInside?null:t.jsx(Pq,{...a,...r,ref:e})});Loe.displayName=Fq;function Foe(n,e){const s=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),a=Math.abs(e.right-n.x),i=Math.abs(e.left-n.x);switch(Math.min(s,r,a,i)){case i:return"left";case a:return"right";case s:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Uoe(n,e,s=5){const r=[];switch(e){case"top":r.push({x:n.x-s,y:n.y+s},{x:n.x+s,y:n.y+s});break;case"bottom":r.push({x:n.x-s,y:n.y-s},{x:n.x+s,y:n.y-s});break;case"left":r.push({x:n.x+s,y:n.y-s},{x:n.x+s,y:n.y+s});break;case"right":r.push({x:n.x-s,y:n.y-s},{x:n.x-s,y:n.y+s});break}return r}function zoe(n){const{top:e,right:s,bottom:r,left:a}=n;return[{x:a,y:e},{x:s,y:e},{x:s,y:r},{x:a,y:r}]}function Boe(n,e){const{x:s,y:r}=n;let a=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i],c=e[o],d=l.x,u=l.y,h=c.x,m=c.y;u>r!=m>r&&s<(h-d)*(r-u)/(m-u)+d&&(a=!a)}return a}function Voe(n){const e=n.slice();return e.sort((s,r)=>s.x<r.x?-1:s.x>r.x?1:s.y<r.y?-1:s.y>r.y?1:0),Hoe(e)}function Hoe(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const a=n[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))e.pop();else break}e.push(a)}e.pop();const s=[];for(let r=n.length-1;r>=0;r--){const a=n[r];for(;s.length>=2;){const i=s[s.length-1],o=s[s.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))s.pop();else break}s.push(a)}return s.pop(),e.length===1&&s.length===1&&e[0].x===s[0].x&&e[0].y===s[0].y?e:e.concat(s)}var Goe=kq,Uq=Dq;const $oe=Goe,qoe=R.forwardRef(({className:n,sideOffset:e=4,...s},r)=>t.jsx(Uq,{ref:r,sideOffset:e,className:Bt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",n),...s}));qoe.displayName=Uq.displayName;const Ok=X1("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),te=R.forwardRef(({className:n,variant:e,size:s,asChild:r=!1,...a},i)=>{const o=r?e$:"button";return t.jsx(o,{className:Bt(Ok({variant:e,size:s,className:n})),ref:i,...a})});te.displayName="Button";const Woe=X1("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function de({className:n,variant:e,...s}){return t.jsx("div",{className:Bt(Woe({variant:e}),n),...s})}const Koe=[{id:"media-content",name:"MEDIA/CONTENT",icon:Mn,description:"Content moderation & review workflows",items:[{name:"Content Moderation Hub",href:"/content-moderation-hub",icon:En,description:"AI-powered content moderation with 2257 compliance",requiresCompliance:!0,complianceLevel:"2257_OFFICER"},{name:"Media Review Queue",href:"/content-review",icon:Mn,description:"Manual approval workflows with audit trails",requiresCompliance:!0,complianceLevel:"MODERATOR"},{name:"Live Stream Monitoring",href:"/live-monitoring",icon:Ks,description:"Real-time stream surveillance & moderation",requiresCompliance:!0,complianceLevel:"MODERATOR"},{name:"Co-Star Verification",href:"/verification-management",icon:Wp,description:"18 U.S.C. § 2257 co-star verification system",requiresCompliance:!0,complianceLevel:"2257_OFFICER",requiresSuperAdmin:!0}]},{id:"compliance-legal",name:"COMPLIANCE/LEGAL",icon:Xv,description:"Legal compliance & regulatory monitoring",items:[{name:"Legal Compliance Center",href:"/compliance-center",icon:En,description:"Military-grade compliance bot with violation prevention",requiresCompliance:!0,complianceLevel:"COMPLIANCE_OFFICER"},{name:"Compliance Monitoring",href:"/compliance-monitoring",icon:Xv,description:"GDPR, CCPA, 2257 compliance tracking",requiresCompliance:!0,complianceLevel:"COMPLIANCE_OFFICER"},{name:"Audit Logs",href:"/audit",icon:Pi,description:"Immutable 7-year audit trail system",requiresCompliance:!0,complianceLevel:"COMPLIANCE_OFFICER"},{name:"Crisis Management",href:"/crisis-management",icon:tj,description:"Emergency response & CSAM escalation",requiresCompliance:!0,complianceLevel:"CRISIS_MANAGER",requiresSuperAdmin:!0},{name:"Legal Library",href:"/legal-library",icon:E$,description:"Comprehensive legal framework & compliance documentation",requiresCompliance:!0,complianceLevel:"COMPLIANCE_OFFICER"},{name:"Legal Hold Management",href:"/legal-holds",icon:Ii,description:"Data preservation during investigations",requiresCompliance:!0,complianceLevel:"LEGAL_TEAM",requiresSuperAdmin:!0}]},{id:"database-storage",name:"DATABASE/STORAGE",icon:jl,description:"Data management & retention policies",items:[{name:"Data Management",href:"/data",icon:jl,description:"Database operations with retention policies"},{name:"Storage Settings",href:"/storage-settings",icon:hl,description:"Cloud storage & secure deletion protocols"},{name:"Security Vault",href:"/vault",icon:Ii,description:"Encrypted forensic content storage",requiresCompliance:!0,complianceLevel:"SECURITY_OFFICER"}]},{id:"platform-connections",name:"PLATFORM/CONNECTIONS",icon:Vre,description:"Multi-platform & API management",items:[{name:"Platform Manager",href:"/platforms",icon:Er,description:"Fanz ecosystem platform management"},{name:"API Integration Management",href:"/api-integration-management",icon:wae,description:"External API connections & monitoring"},{name:"Plugin Management",href:"/plugin-management",icon:H$,description:"FanzOS plugins and integrations"}]},{id:"ai-intelligence",name:"AI/INTELLIGENCE",icon:Gr,description:"AI analysis & threat detection",items:[{name:"AI Analysis Engine",href:"/ai-analysis",icon:Gr,description:"ChatGPT-4o/GPT-5 content analysis"},{name:"Threat Center",href:"/threats",icon:ln,description:"AI-powered threat detection & CSAM scanning",requiresCompliance:!0,complianceLevel:"SECURITY_OFFICER"},{name:"Risk Management",href:"/risk-management",icon:ln,description:"Predictive threat assessment"},{name:"AI CFO & Financial Copilot",href:"/ai-cfo",icon:hj,description:"AI-powered financial analysis and automated ecosystem maintenance"},{name:"Starz Studio Admin Panel",href:"/starz-studio",icon:G3,description:"AI-powered content production service for multi-platform publishing"}]},{id:"user-financial",name:"USER/FINANCIAL",icon:er,description:"User accounts & financial operations",items:[{name:"User Management",href:"/users",icon:er,description:"Creator & subscriber account management"},{name:"Transaction Management",href:"/transaction-management",icon:Ff,description:"Payment processing & financial audits"},{name:"Withdrawal Management",href:"/withdrawal-management",icon:Ff,description:"Creator payout verification & processing"}]},{id:"system-admin",name:"SYSTEM/ADMIN",icon:lr,description:"System configuration & administration",items:[{name:"Neural Dashboard",href:"/",icon:En,description:"Main command center with real-time metrics"},{name:"Quantum War Room",href:"/quantum-war-room",icon:k$,description:"Revolutionary 4D holographic executive command interface with god-mode control",requiresCompliance:!0,complianceLevel:"SUPER_ADMIN",requiresSuperAdmin:!0},{name:"Analytics Dashboard",href:"/analytics",icon:la,description:"Performance metrics & compliance reporting"},{name:"SEO Configuration",href:"/seo-configuration",icon:jr,description:"Search engine optimization settings"},{name:"AEO Configuration",href:"/aeo-configuration",icon:Gr,description:"Answer Engine Optimization for AI platforms"},{name:"System Settings",href:"/settings",icon:lr,description:"Platform configuration & security settings",requiresSuperAdmin:!0}]}];function Xoe(){const[n]=Tx(),[e,s]=R.useState(["media-content","compliance-legal"]),r=o=>{s(l=>l.includes(o)?l.filter(c=>c!==o):[...l,o])},a="SUPER_ADMIN",i=o=>{if(o.requiresSuperAdmin,!o.requiresCompliance)return!0;const l={MODERATOR:1,"2257_OFFICER":2,COMPLIANCE_OFFICER:3,SECURITY_OFFICER:3,CRISIS_MANAGER:4,LEGAL_TEAM:5,SUPER_ADMIN:6},c=l[a],d=l[o.complianceLevel]||1;return c>=d};return t.jsx("nav",{className:"w-80 min-h-screen bg-black/90 border-r border-primary/20 backdrop-blur-xl cyber-border",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-secondary rounded-lg flex items-center justify-center cyber-pulse",children:t.jsx(En,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-bold cyber-text-glow",children:"FanzDash"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Enterprise Creator Platform"}),t.jsx(de,{variant:"outline",className:"text-xs text-cyan-400 border-cyan-400 mt-1",children:a.replace("_"," ")})]})]}),t.jsx("div",{className:"space-y-2",children:Koe.map(o=>{const l=e.includes(o.id),c=o.icon;return t.jsxs("div",{className:"space-y-1",children:[t.jsx(te,{variant:"ghost",onClick:()=>r(o.id),className:"w-full justify-start p-3 text-left hover:bg-primary/10 cyber-border-subtle",children:t.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[t.jsx(c,{className:"w-4 h-4 text-cyan-400"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-sm font-semibold text-cyan-400",children:o.name}),t.jsx("div",{className:"text-xs text-gray-500",children:o.description})]}),l?t.jsx(GA,{className:"w-4 h-4 text-gray-400"}):t.jsx(R$,{className:"w-4 h-4 text-gray-400"})]})}),l&&t.jsx("div",{className:"ml-4 space-y-1 border-l border-primary/20",children:o.items.map(d=>{if(!i(d))return null;const u=n===d.href,h=d.icon;return t.jsx(vn,{href:d.href,children:t.jsx(te,{variant:u?"default":"ghost",className:Bt("w-full justify-start ml-4 h-auto py-2 px-3 text-left group transition-all duration-300",u?"bg-gradient-to-r from-primary/20 to-secondary/20 border border-primary/50 cyber-glow":"hover:bg-primary/10 hover:border-primary/30",d.requiresCompliance&&"border-l-2 border-l-amber-500",d.requiresSuperAdmin&&"border-l-2 border-l-red-500"),"data-testid":`nav-${d.href.replace("/","")}`,children:t.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[t.jsx(h,{className:Bt("w-4 h-4 transition-colors duration-200",u?"text-white":"text-gray-400 group-hover:text-cyan-400")}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:Bt("text-sm font-medium truncate transition-colors duration-200",u?"text-white cyber-text-glow":"text-gray-300 group-hover:text-white"),children:d.name}),t.jsx("div",{className:"text-xs text-gray-500 truncate",children:d.description}),(d.requiresCompliance||d.requiresSuperAdmin)&&t.jsxs("div",{className:"flex gap-1 mt-1",children:[d.requiresCompliance&&t.jsx(de,{variant:"outline",className:"text-xs py-0 px-1 text-amber-400 border-amber-400",children:d.complianceLevel?.replace("_"," ")||"COMPLIANCE"}),d.requiresSuperAdmin&&t.jsx(de,{variant:"outline",className:"text-xs py-0 px-1 text-red-400 border-red-400",children:"SUPER ADMIN"})]})]})]})})},d.href)})})]},o.id)})}),t.jsx("div",{className:"mt-8 p-4 border border-amber-500/30 rounded-lg bg-amber-500/5",children:t.jsxs("div",{className:"flex items-start space-x-2",children:[t.jsx(ln,{className:"w-4 h-4 text-amber-500 mt-0.5"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs font-semibold text-amber-400",children:"COMPLIANCE NOTICE"}),t.jsx("div",{className:"text-xs text-amber-300 mt-1",children:"Actions marked with compliance badges require proper authorization and create immutable audit logs per 18 U.S.C. § 2257 requirements."})]})]})})]})})}const $=R.forwardRef(({className:n,...e},s)=>t.jsx("div",{ref:s,className:Bt("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));$.displayName="Card";const oe=R.forwardRef(({className:n,...e},s)=>t.jsx("div",{ref:s,className:Bt("flex flex-col space-y-1.5 p-6",n),...e}));oe.displayName="CardHeader";const le=R.forwardRef(({className:n,...e},s)=>t.jsx("div",{ref:s,className:Bt("text-2xl font-semibold leading-none tracking-tight",n),...e}));le.displayName="CardTitle";const Ct=R.forwardRef(({className:n,...e},s)=>t.jsx("div",{ref:s,className:Bt("text-sm text-muted-foreground",n),...e}));Ct.displayName="CardDescription";const q=R.forwardRef(({className:n,...e},s)=>t.jsx("div",{ref:s,className:Bt("p-6 pt-0",n),...e}));q.displayName="CardContent";const zq=R.forwardRef(({className:n,...e},s)=>t.jsx("div",{ref:s,className:Bt("flex items-center p-6 pt-0",n),...e}));zq.displayName="CardFooter";var kk="Progress",Ik=100,[Zoe]=Co(kk),[Yoe,Qoe]=Zoe(kk),Bq=R.forwardRef((n,e)=>{const{__scopeProgress:s,value:r=null,max:a,getValueLabel:i=Joe,...o}=n;(a||a===0)&&!TF(a)&&console.error(ele(`${a}`,"Progress"));const l=TF(a)?a:Ik;r!==null&&!EF(r,l)&&console.error(tle(`${r}`,"Progress"));const c=EF(r,l)?r:null,d=C_(c)?i(c,l):void 0;return t.jsx(Yoe,{scope:s,value:c,max:l,children:t.jsx(Nn.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":C_(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":Gq(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});Bq.displayName=kk;var Vq="ProgressIndicator",Hq=R.forwardRef((n,e)=>{const{__scopeProgress:s,...r}=n,a=Qoe(Vq,s);return t.jsx(Nn.div,{"data-state":Gq(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...r,ref:e})});Hq.displayName=Vq;function Joe(n,e){return`${Math.round(n/e*100)}%`}function Gq(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function C_(n){return typeof n=="number"}function TF(n){return C_(n)&&!isNaN(n)&&n>0}function EF(n,e){return C_(n)&&!isNaN(n)&&n<=e&&n>=0}function ele(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Ik}\`.`}function tle(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Ik} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var $q=Bq,nle=Hq;const Xn=R.forwardRef(({className:n,value:e,...s},r)=>t.jsx($q,{ref:r,className:Bt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",n),...s,children:t.jsx(nle,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Xn.displayName=$q.displayName;var sle=R.createContext(void 0);function tw(n){const e=R.useContext(sle);return n||e||"ltr"}var aE="rovingFocusGroup.onEntryFocus",rle={bubbles:!1,cancelable:!0},nw="RovingFocusGroup",[eO,qq,ale]=UA(nw),[ile,Wq]=Co(nw,[ale]),[ole,lle]=ile(nw),Kq=R.forwardRef((n,e)=>t.jsx(eO.Provider,{scope:n.__scopeRovingFocusGroup,children:t.jsx(eO.Slot,{scope:n.__scopeRovingFocusGroup,children:t.jsx(cle,{...n,ref:e})})}));Kq.displayName=nw;var cle=R.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:s,orientation:r,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=n,m=R.useRef(null),y=rs(e,m),N=tw(i),[j,v]=gh({prop:o,defaultProp:l??null,onChange:c,caller:nw}),[b,A]=R.useState(!1),S=Ca(d),w=qq(s),E=R.useRef(!1),[T,P]=R.useState(0);return R.useEffect(()=>{const k=m.current;if(k)return k.addEventListener(aE,S),()=>k.removeEventListener(aE,S)},[S]),t.jsx(ole,{scope:s,orientation:r,dir:N,loop:a,currentTabStopId:j,onItemFocus:R.useCallback(k=>v(k),[v]),onItemShiftTab:R.useCallback(()=>A(!0),[]),onFocusableItemAdd:R.useCallback(()=>P(k=>k+1),[]),onFocusableItemRemove:R.useCallback(()=>P(k=>k-1),[]),children:t.jsx(Nn.div,{tabIndex:b||T===0?-1:0,"data-orientation":r,...h,ref:y,style:{outline:"none",...n.style},onMouseDown:cn(n.onMouseDown,()=>{E.current=!0}),onFocus:cn(n.onFocus,k=>{const I=!E.current;if(k.target===k.currentTarget&&I&&!b){const L=new CustomEvent(aE,rle);if(k.currentTarget.dispatchEvent(L),!L.defaultPrevented){const U=w().filter(W=>W.focusable),H=U.find(W=>W.active),B=U.find(W=>W.id===j),J=[H,B,...U].filter(Boolean).map(W=>W.ref.current);Yq(J,u)}}E.current=!1}),onBlur:cn(n.onBlur,()=>A(!1))})})}),Xq="RovingFocusGroupItem",Zq=R.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:s,focusable:r=!0,active:a=!1,tabStopId:i,children:o,...l}=n,c=Uf(),d=i||c,u=lle(Xq,s),h=u.currentTabStopId===d,m=qq(s),{onFocusableItemAdd:y,onFocusableItemRemove:N,currentTabStopId:j}=u;return R.useEffect(()=>{if(r)return y(),()=>N()},[r,y,N]),t.jsx(eO.ItemSlot,{scope:s,id:d,focusable:r,active:a,children:t.jsx(Nn.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...l,ref:e,onMouseDown:cn(n.onMouseDown,v=>{r?u.onItemFocus(d):v.preventDefault()}),onFocus:cn(n.onFocus,()=>u.onItemFocus(d)),onKeyDown:cn(n.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const b=hle(v,u.orientation,u.dir);if(b!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let S=m().filter(w=>w.focusable).map(w=>w.ref.current);if(b==="last")S.reverse();else if(b==="prev"||b==="next"){b==="prev"&&S.reverse();const w=S.indexOf(v.currentTarget);S=u.loop?fle(S,w+1):S.slice(w+1)}setTimeout(()=>Yq(S))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:j!=null}):o})})});Zq.displayName=Xq;var dle={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ule(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function hle(n,e,s){const r=ule(n.key,s);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return dle[r]}function Yq(n,e=!1){const s=document.activeElement;for(const r of n)if(r===s||(r.focus({preventScroll:e}),document.activeElement!==s))return}function fle(n,e){return n.map((s,r)=>n[(e+r)%n.length])}var mle=Kq,ple=Zq,sC="Tabs",[xle]=Co(sC,[Wq]),Qq=Wq(),[gle,Dk]=xle(sC),Jq=R.forwardRef((n,e)=>{const{__scopeTabs:s,value:r,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=n,u=tw(l),[h,m]=gh({prop:r,onChange:a,defaultProp:i??"",caller:sC});return t.jsx(gle,{scope:s,baseId:Uf(),value:h,onValueChange:m,orientation:o,dir:u,activationMode:c,children:t.jsx(Nn.div,{dir:u,"data-orientation":o,...d,ref:e})})});Jq.displayName=sC;var eW="TabsList",tW=R.forwardRef((n,e)=>{const{__scopeTabs:s,loop:r=!0,...a}=n,i=Dk(eW,s),o=Qq(s);return t.jsx(mle,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:t.jsx(Nn.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:e})})});tW.displayName=eW;var nW="TabsTrigger",sW=R.forwardRef((n,e)=>{const{__scopeTabs:s,value:r,disabled:a=!1,...i}=n,o=Dk(nW,s),l=Qq(s),c=iW(o.baseId,r),d=oW(o.baseId,r),u=r===o.value;return t.jsx(ple,{asChild:!0,...l,focusable:!a,active:u,children:t.jsx(Nn.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:e,onMouseDown:cn(n.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:cn(n.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:cn(n.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!a&&h&&o.onValueChange(r)})})})});sW.displayName=nW;var rW="TabsContent",aW=R.forwardRef((n,e)=>{const{__scopeTabs:s,value:r,forceMount:a,children:i,...o}=n,l=Dk(rW,s),c=iW(l.baseId,r),d=oW(l.baseId,r),u=r===l.value,h=R.useRef(u);return R.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),t.jsx(oc,{present:a||u,children:({present:m})=>t.jsx(Nn.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:e,style:{...n.style,animationDuration:h.current?"0s":void 0},children:m&&i})})});aW.displayName=rW;function iW(n,e){return`${n}-trigger-${e}`}function oW(n,e){return`${n}-content-${e}`}var vle=Jq,lW=tW,cW=sW,dW=aW;const Xs=vle,$s=R.forwardRef(({className:n,...e},s)=>t.jsx(lW,{ref:s,className:Bt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n),...e}));$s.displayName=lW.displayName;const lt=R.forwardRef(({className:n,...e},s)=>t.jsx(cW,{ref:s,className:Bt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",n),...e}));lt.displayName=cW.displayName;const ct=R.forwardRef(({className:n,...e},s)=>t.jsx(dW,{ref:s,className:Bt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...e}));ct.displayName=dW.displayName;var iE,MF;function Yo(){if(MF)return iE;MF=1;var n=Array.isArray;return iE=n,iE}var oE,PF;function uW(){if(PF)return oE;PF=1;var n=typeof PN=="object"&&PN&&PN.Object===Object&&PN;return oE=n,oE}var lE,RF;function hu(){if(RF)return lE;RF=1;var n=uW(),e=typeof self=="object"&&self&&self.Object===Object&&self,s=n||e||Function("return this")();return lE=s,lE}var cE,OF;function sw(){if(OF)return cE;OF=1;var n=hu(),e=n.Symbol;return cE=e,cE}var dE,kF;function yle(){if(kF)return dE;kF=1;var n=sw(),e=Object.prototype,s=e.hasOwnProperty,r=e.toString,a=n?n.toStringTag:void 0;function i(o){var l=s.call(o,a),c=o[a];try{o[a]=void 0;var d=!0}catch{}var u=r.call(o);return d&&(l?o[a]=c:delete o[a]),u}return dE=i,dE}var uE,IF;function ble(){if(IF)return uE;IF=1;var n=Object.prototype,e=n.toString;function s(r){return e.call(r)}return uE=s,uE}var hE,DF;function Mh(){if(DF)return hE;DF=1;var n=sw(),e=yle(),s=ble(),r="[object Null]",a="[object Undefined]",i=n?n.toStringTag:void 0;function o(l){return l==null?l===void 0?a:r:i&&i in Object(l)?e(l):s(l)}return hE=o,hE}var fE,LF;function Ph(){if(LF)return fE;LF=1;function n(e){return e!=null&&typeof e=="object"}return fE=n,fE}var mE,FF;function ny(){if(FF)return mE;FF=1;var n=Mh(),e=Ph(),s="[object Symbol]";function r(a){return typeof a=="symbol"||e(a)&&n(a)==s}return mE=r,mE}var pE,UF;function Lk(){if(UF)return pE;UF=1;var n=Yo(),e=ny(),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(i,o){if(n(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||e(i)?!0:r.test(i)||!s.test(i)||o!=null&&i in Object(o)}return pE=a,pE}var xE,zF;function tm(){if(zF)return xE;zF=1;function n(e){var s=typeof e;return e!=null&&(s=="object"||s=="function")}return xE=n,xE}var gE,BF;function Fk(){if(BF)return gE;BF=1;var n=Mh(),e=tm(),s="[object AsyncFunction]",r="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!e(l))return!1;var c=n(l);return c==r||c==a||c==s||c==i}return gE=o,gE}var vE,VF;function jle(){if(VF)return vE;VF=1;var n=hu(),e=n["__core-js_shared__"];return vE=e,vE}var yE,HF;function wle(){if(HF)return yE;HF=1;var n=jle(),e=(function(){var r=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function s(r){return!!e&&e in r}return yE=s,yE}var bE,GF;function hW(){if(GF)return bE;GF=1;var n=Function.prototype,e=n.toString;function s(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return bE=s,bE}var jE,$F;function Nle(){if($F)return jE;$F=1;var n=Fk(),e=wle(),s=tm(),r=hW(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,d=l.hasOwnProperty,u=RegExp("^"+c.call(d).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(m){if(!s(m)||e(m))return!1;var y=n(m)?u:i;return y.test(r(m))}return jE=h,jE}var wE,qF;function Sle(){if(qF)return wE;qF=1;function n(e,s){return e?.[s]}return wE=n,wE}var NE,WF;function Ex(){if(WF)return NE;WF=1;var n=Nle(),e=Sle();function s(r,a){var i=e(r,a);return n(i)?i:void 0}return NE=s,NE}var SE,KF;function rC(){if(KF)return SE;KF=1;var n=Ex(),e=n(Object,"create");return SE=e,SE}var _E,XF;function _le(){if(XF)return _E;XF=1;var n=rC();function e(){this.__data__=n?n(null):{},this.size=0}return _E=e,_E}var AE,ZF;function Ale(){if(ZF)return AE;ZF=1;function n(e){var s=this.has(e)&&delete this.__data__[e];return this.size-=s?1:0,s}return AE=n,AE}var CE,YF;function Cle(){if(YF)return CE;YF=1;var n=rC(),e="__lodash_hash_undefined__",s=Object.prototype,r=s.hasOwnProperty;function a(i){var o=this.__data__;if(n){var l=o[i];return l===e?void 0:l}return r.call(o,i)?o[i]:void 0}return CE=a,CE}var TE,QF;function Tle(){if(QF)return TE;QF=1;var n=rC(),e=Object.prototype,s=e.hasOwnProperty;function r(a){var i=this.__data__;return n?i[a]!==void 0:s.call(i,a)}return TE=r,TE}var EE,JF;function Ele(){if(JF)return EE;JF=1;var n=rC(),e="__lodash_hash_undefined__";function s(r,a){var i=this.__data__;return this.size+=this.has(r)?0:1,i[r]=n&&a===void 0?e:a,this}return EE=s,EE}var ME,e6;function Mle(){if(e6)return ME;e6=1;var n=_le(),e=Ale(),s=Cle(),r=Tle(),a=Ele();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=n,i.prototype.delete=e,i.prototype.get=s,i.prototype.has=r,i.prototype.set=a,ME=i,ME}var PE,t6;function Ple(){if(t6)return PE;t6=1;function n(){this.__data__=[],this.size=0}return PE=n,PE}var RE,n6;function Uk(){if(n6)return RE;n6=1;function n(e,s){return e===s||e!==e&&s!==s}return RE=n,RE}var OE,s6;function aC(){if(s6)return OE;s6=1;var n=Uk();function e(s,r){for(var a=s.length;a--;)if(n(s[a][0],r))return a;return-1}return OE=e,OE}var kE,r6;function Rle(){if(r6)return kE;r6=1;var n=aC(),e=Array.prototype,s=e.splice;function r(a){var i=this.__data__,o=n(i,a);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():s.call(i,o,1),--this.size,!0}return kE=r,kE}var IE,a6;function Ole(){if(a6)return IE;a6=1;var n=aC();function e(s){var r=this.__data__,a=n(r,s);return a<0?void 0:r[a][1]}return IE=e,IE}var DE,i6;function kle(){if(i6)return DE;i6=1;var n=aC();function e(s){return n(this.__data__,s)>-1}return DE=e,DE}var LE,o6;function Ile(){if(o6)return LE;o6=1;var n=aC();function e(s,r){var a=this.__data__,i=n(a,s);return i<0?(++this.size,a.push([s,r])):a[i][1]=r,this}return LE=e,LE}var FE,l6;function iC(){if(l6)return FE;l6=1;var n=Ple(),e=Rle(),s=Ole(),r=kle(),a=Ile();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=n,i.prototype.delete=e,i.prototype.get=s,i.prototype.has=r,i.prototype.set=a,FE=i,FE}var UE,c6;function zk(){if(c6)return UE;c6=1;var n=Ex(),e=hu(),s=n(e,"Map");return UE=s,UE}var zE,d6;function Dle(){if(d6)return zE;d6=1;var n=Mle(),e=iC(),s=zk();function r(){this.size=0,this.__data__={hash:new n,map:new(s||e),string:new n}}return zE=r,zE}var BE,u6;function Lle(){if(u6)return BE;u6=1;function n(e){var s=typeof e;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?e!=="__proto__":e===null}return BE=n,BE}var VE,h6;function oC(){if(h6)return VE;h6=1;var n=Lle();function e(s,r){var a=s.__data__;return n(r)?a[typeof r=="string"?"string":"hash"]:a.map}return VE=e,VE}var HE,f6;function Fle(){if(f6)return HE;f6=1;var n=oC();function e(s){var r=n(this,s).delete(s);return this.size-=r?1:0,r}return HE=e,HE}var GE,m6;function Ule(){if(m6)return GE;m6=1;var n=oC();function e(s){return n(this,s).get(s)}return GE=e,GE}var $E,p6;function zle(){if(p6)return $E;p6=1;var n=oC();function e(s){return n(this,s).has(s)}return $E=e,$E}var qE,x6;function Ble(){if(x6)return qE;x6=1;var n=oC();function e(s,r){var a=n(this,s),i=a.size;return a.set(s,r),this.size+=a.size==i?0:1,this}return qE=e,qE}var WE,g6;function Bk(){if(g6)return WE;g6=1;var n=Dle(),e=Fle(),s=Ule(),r=zle(),a=Ble();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=n,i.prototype.delete=e,i.prototype.get=s,i.prototype.has=r,i.prototype.set=a,WE=i,WE}var KE,v6;function fW(){if(v6)return KE;v6=1;var n=Bk(),e="Expected a function";function s(r,a){if(typeof r!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var o=arguments,l=a?a.apply(this,o):o[0],c=i.cache;if(c.has(l))return c.get(l);var d=r.apply(this,o);return i.cache=c.set(l,d)||c,d};return i.cache=new(s.Cache||n),i}return s.Cache=n,KE=s,KE}var XE,y6;function Vle(){if(y6)return XE;y6=1;var n=fW(),e=500;function s(r){var a=n(r,function(o){return i.size===e&&i.clear(),o}),i=a.cache;return a}return XE=s,XE}var ZE,b6;function Hle(){if(b6)return ZE;b6=1;var n=Vle(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,r=n(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(o,l,c,d){i.push(c?d.replace(s,"$1"):l||o)}),i});return ZE=r,ZE}var YE,j6;function Vk(){if(j6)return YE;j6=1;function n(e,s){for(var r=-1,a=e==null?0:e.length,i=Array(a);++r<a;)i[r]=s(e[r],r,e);return i}return YE=n,YE}var QE,w6;function Gle(){if(w6)return QE;w6=1;var n=sw(),e=Vk(),s=Yo(),r=ny(),a=n?n.prototype:void 0,i=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(s(l))return e(l,o)+"";if(r(l))return i?i.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return QE=o,QE}var JE,N6;function mW(){if(N6)return JE;N6=1;var n=Gle();function e(s){return s==null?"":n(s)}return JE=e,JE}var eM,S6;function pW(){if(S6)return eM;S6=1;var n=Yo(),e=Lk(),s=Hle(),r=mW();function a(i,o){return n(i)?i:e(i,o)?[i]:s(r(i))}return eM=a,eM}var tM,_6;function lC(){if(_6)return tM;_6=1;var n=ny();function e(s){if(typeof s=="string"||n(s))return s;var r=s+"";return r=="0"&&1/s==-1/0?"-0":r}return tM=e,tM}var nM,A6;function Hk(){if(A6)return nM;A6=1;var n=pW(),e=lC();function s(r,a){a=n(a,r);for(var i=0,o=a.length;r!=null&&i<o;)r=r[e(a[i++])];return i&&i==o?r:void 0}return nM=s,nM}var sM,C6;function xW(){if(C6)return sM;C6=1;var n=Hk();function e(s,r,a){var i=s==null?void 0:n(s,r);return i===void 0?a:i}return sM=e,sM}var $le=xW();const Nl=Gs($le);var rM,T6;function qle(){if(T6)return rM;T6=1;function n(e){return e==null}return rM=n,rM}var Wle=qle();const ls=Gs(Wle);var aM,E6;function Kle(){if(E6)return aM;E6=1;var n=Mh(),e=Yo(),s=Ph(),r="[object String]";function a(i){return typeof i=="string"||!e(i)&&s(i)&&n(i)==r}return aM=a,aM}var Xle=Kle();const fx=Gs(Xle);var Zle=Fk();const qn=Gs(Zle);var Yle=tm();const sy=Gs(Yle);var iM={exports:{}},Ys={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M6;function Qle(){if(M6)return Ys;M6=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),N;N=Symbol.for("react.module.reference");function j(v){if(typeof v=="object"&&v!==null){var b=v.$$typeof;switch(b){case n:switch(v=v.type,v){case s:case a:case r:case d:case u:return v;default:switch(v=v&&v.$$typeof,v){case l:case o:case c:case m:case h:case i:return v;default:return b}}case e:return b}}}return Ys.ContextConsumer=o,Ys.ContextProvider=i,Ys.Element=n,Ys.ForwardRef=c,Ys.Fragment=s,Ys.Lazy=m,Ys.Memo=h,Ys.Portal=e,Ys.Profiler=a,Ys.StrictMode=r,Ys.Suspense=d,Ys.SuspenseList=u,Ys.isAsyncMode=function(){return!1},Ys.isConcurrentMode=function(){return!1},Ys.isContextConsumer=function(v){return j(v)===o},Ys.isContextProvider=function(v){return j(v)===i},Ys.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===n},Ys.isForwardRef=function(v){return j(v)===c},Ys.isFragment=function(v){return j(v)===s},Ys.isLazy=function(v){return j(v)===m},Ys.isMemo=function(v){return j(v)===h},Ys.isPortal=function(v){return j(v)===e},Ys.isProfiler=function(v){return j(v)===a},Ys.isStrictMode=function(v){return j(v)===r},Ys.isSuspense=function(v){return j(v)===d},Ys.isSuspenseList=function(v){return j(v)===u},Ys.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===s||v===a||v===r||v===d||v===u||v===y||typeof v=="object"&&v!==null&&(v.$$typeof===m||v.$$typeof===h||v.$$typeof===i||v.$$typeof===o||v.$$typeof===c||v.$$typeof===N||v.getModuleId!==void 0)},Ys.typeOf=j,Ys}var P6;function Jle(){return P6||(P6=1,iM.exports=Qle()),iM.exports}var ece=Jle(),oM,R6;function gW(){if(R6)return oM;R6=1;var n=Mh(),e=Ph(),s="[object Number]";function r(a){return typeof a=="number"||e(a)&&n(a)==s}return oM=r,oM}var lM,O6;function tce(){if(O6)return lM;O6=1;var n=gW();function e(s){return n(s)&&s!=+s}return lM=e,lM}var nce=tce();const ry=Gs(nce);var sce=gW();const rce=Gs(sce);var jo=function(e){return e===0?0:e>0?1:-1},Dp=function(e){return fx(e)&&e.indexOf("%")===e.length-1},Ot=function(e){return rce(e)&&!ry(e)},ace=function(e){return ls(e)},qa=function(e){return Ot(e)||fx(e)},ice=0,ay=function(e){var s=++ice;return"".concat(e||"").concat(s)},wo=function(e,s){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ot(e)&&!fx(e))return r;var i;if(Dp(e)){var o=e.indexOf("%");i=s*parseFloat(e.slice(0,o))/100}else i=+e;return ry(i)&&(i=r),a&&i>s&&(i=s),i},Pf=function(e){if(!e)return null;var s=Object.keys(e);return s&&s.length?e[s[0]]:null},oce=function(e){if(!Array.isArray(e))return!1;for(var s=e.length,r={},a=0;a<s;a++)if(!r[e[a]])r[e[a]]=!0;else return!0;return!1},qo=function(e,s){return Ot(e)&&Ot(s)?function(r){return e+r*(s-e)}:function(){return s}};function T_(n,e,s){return!n||!n.length?null:n.find(function(r){return r&&(typeof e=="function"?e(r):Nl(r,e))===s})}var lce=function(e,s){return Ot(e)&&Ot(s)?e-s:fx(e)&&fx(s)?e.localeCompare(s):e instanceof Date&&s instanceof Date?e.getTime()-s.getTime():String(e).localeCompare(String(s))};function Lv(n,e){for(var s in n)if({}.hasOwnProperty.call(n,s)&&(!{}.hasOwnProperty.call(e,s)||n[s]!==e[s]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(n,r))return!1;return!0}function tO(n){"@babel/helpers - typeof";return tO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tO(n)}var cce=["viewBox","children"],dce=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],k6=["points","pathLength"],cM={svg:cce,polygon:k6,polyline:k6},Gk=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],E_=function(e,s){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(R.isValidElement(e)&&(r=e.props),!sy(r))return null;var a={};return Object.keys(r).forEach(function(i){Gk.includes(i)&&(a[i]=s||function(o){return r[i](r,o)})}),a},uce=function(e,s,r){return function(a){return e(s,r,a),null}},mx=function(e,s,r){if(!sy(e)||tO(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var o=e[i];Gk.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=uce(o,s,r))}),a},hce=["children"],fce=["children"];function I6(n,e){if(n==null)return{};var s=mce(n,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(s[r]=n[r])}return s}function mce(n,e){if(n==null)return{};var s={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;s[r]=n[r]}return s}function nO(n){"@babel/helpers - typeof";return nO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nO(n)}var D6={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},uh=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},L6=null,dM=null,$k=function n(e){if(e===L6&&Array.isArray(dM))return dM;var s=[];return R.Children.forEach(e,function(r){ls(r)||(ece.isFragment(r)?s=s.concat(n(r.props.children)):s.push(r))}),dM=s,L6=e,s};function rc(n,e){var s=[],r=[];return Array.isArray(e)?r=e.map(function(a){return uh(a)}):r=[uh(e)],$k(n).forEach(function(a){var i=Nl(a,"type.displayName")||Nl(a,"type.name");r.indexOf(i)!==-1&&s.push(a)}),s}function ml(n,e){var s=rc(n,e);return s&&s[0]}var F6=function(e){if(!e||!e.props)return!1;var s=e.props,r=s.width,a=s.height;return!(!Ot(r)||r<=0||!Ot(a)||a<=0)},pce=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],xce=function(e){return e&&e.type&&fx(e.type)&&pce.indexOf(e.type)>=0},gce=function(e){return e&&nO(e)==="object"&&"clipDot"in e},vce=function(e,s,r,a){var i,o=(i=cM?.[a])!==null&&i!==void 0?i:[];return s.startsWith("data-")||!qn(e)&&(a&&o.includes(s)||dce.includes(s))||r&&Gk.includes(s)},In=function(e,s,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(R.isValidElement(e)&&(a=e.props),!sy(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;vce((l=a)===null||l===void 0?void 0:l[o],o,s,r)&&(i[o]=a[o])}),i},sO=function n(e,s){if(e===s)return!0;var r=R.Children.count(e);if(r!==R.Children.count(s))return!1;if(r===0)return!0;if(r===1)return U6(Array.isArray(e)?e[0]:e,Array.isArray(s)?s[0]:s);for(var a=0;a<r;a++){var i=e[a],o=s[a];if(Array.isArray(i)||Array.isArray(o)){if(!n(i,o))return!1}else if(!U6(i,o))return!1}return!0},U6=function(e,s){if(ls(e)&&ls(s))return!0;if(!ls(e)&&!ls(s)){var r=e.props||{},a=r.children,i=I6(r,hce),o=s.props||{},l=o.children,c=I6(o,fce);return a&&l?Lv(i,c)&&sO(a,l):!a&&!l?Lv(i,c):!1}return!1},z6=function(e,s){var r=[],a={};return $k(e).forEach(function(i,o){if(xce(i))r.push(i);else if(i){var l=uh(i.type),c=s[l]||{},d=c.handler,u=c.once;if(d&&(!u||!a[l])){var h=d(i,l,o);r.push(h),a[l]=!0}}}),r},yce=function(e){var s=e&&e.type;return s&&D6[s]?D6[s]:null},bce=function(e,s){return $k(s).indexOf(e)},jce=["children","width","height","viewBox","className","style","title","desc"];function rO(){return rO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},rO.apply(this,arguments)}function wce(n,e){if(n==null)return{};var s=Nce(n,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(s[r]=n[r])}return s}function Nce(n,e){if(n==null)return{};var s={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;s[r]=n[r]}return s}function aO(n){var e=n.children,s=n.width,r=n.height,a=n.viewBox,i=n.className,o=n.style,l=n.title,c=n.desc,d=wce(n,jce),u=a||{width:s,height:r,x:0,y:0},h=os("recharts-surface",i);return ge.createElement("svg",rO({},In(d,!0,"svg"),{className:h,width:s,height:r,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),ge.createElement("title",null,l),ge.createElement("desc",null,c),e)}var Sce=["children","className"];function iO(){return iO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},iO.apply(this,arguments)}function _ce(n,e){if(n==null)return{};var s=Ace(n,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(s[r]=n[r])}return s}function Ace(n,e){if(n==null)return{};var s={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;s[r]=n[r]}return s}var Os=ge.forwardRef(function(n,e){var s=n.children,r=n.className,a=_ce(n,Sce),i=os("recharts-layer",r);return ge.createElement("g",iO({className:i},In(a,!0),{ref:e}),s)}),sd=function(e,s){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i]},uM,B6;function Cce(){if(B6)return uM;B6=1;function n(e,s,r){var a=-1,i=e.length;s<0&&(s=-s>i?0:i+s),r=r>i?i:r,r<0&&(r+=i),i=s>r?0:r-s>>>0,s>>>=0;for(var o=Array(i);++a<i;)o[a]=e[a+s];return o}return uM=n,uM}var hM,V6;function Tce(){if(V6)return hM;V6=1;var n=Cce();function e(s,r,a){var i=s.length;return a=a===void 0?i:a,!r&&a>=i?s:n(s,r,a)}return hM=e,hM}var fM,H6;function vW(){if(H6)return fM;H6=1;var n="\\ud800-\\udfff",e="\\u0300-\\u036f",s="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=e+s+r,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+n+a+i+"]");function c(d){return l.test(d)}return fM=c,fM}var mM,G6;function Ece(){if(G6)return mM;G6=1;function n(e){return e.split("")}return mM=n,mM}var pM,$6;function Mce(){if($6)return pM;$6=1;var n="\\ud800-\\udfff",e="\\u0300-\\u036f",s="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=e+s+r,i="\\ufe0e\\ufe0f",o="["+n+"]",l="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+c+")",u="[^"+n+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",N=d+"?",j="["+i+"]?",v="(?:"+y+"(?:"+[u,h,m].join("|")+")"+j+N+")*",b=j+N+v,A="(?:"+[u+l+"?",l,h,m,o].join("|")+")",S=RegExp(c+"(?="+c+")|"+A+b,"g");function w(E){return E.match(S)||[]}return pM=w,pM}var xM,q6;function Pce(){if(q6)return xM;q6=1;var n=Ece(),e=vW(),s=Mce();function r(a){return e(a)?s(a):n(a)}return xM=r,xM}var gM,W6;function Rce(){if(W6)return gM;W6=1;var n=Tce(),e=vW(),s=Pce(),r=mW();function a(i){return function(o){o=r(o);var l=e(o)?s(o):void 0,c=l?l[0]:o.charAt(0),d=l?n(l,1).join(""):o.slice(1);return c[i]()+d}}return gM=a,gM}var vM,K6;function Oce(){if(K6)return vM;K6=1;var n=Rce(),e=n("toUpperCase");return vM=e,vM}var kce=Oce();const cC=Gs(kce);function Sr(n){return function(){return n}}const yW=Math.cos,M_=Math.sin,dd=Math.sqrt,P_=Math.PI,dC=2*P_,oO=Math.PI,lO=2*oO,Ap=1e-6,Ice=lO-Ap;function bW(n){this._+=n[0];for(let e=1,s=n.length;e<s;++e)this._+=arguments[e]+n[e]}function Dce(n){let e=Math.floor(n);if(!(e>=0))throw new Error(`invalid digits: ${n}`);if(e>15)return bW;const s=10**e;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*s)/s+r[a]}}let Lce=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?bW:Dce(e)}moveTo(e,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+s}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,s){this._append`L${this._x1=+e},${this._y1=+s}`}quadraticCurveTo(e,s,r,a){this._append`Q${+e},${+s},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,s,r,a,i,o){this._append`C${+e},${+s},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(e,s,r,a,i){if(e=+e,s=+s,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=r-e,d=a-s,u=o-e,h=l-s,m=u*u+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=s}`;else if(m>Ap)if(!(Math.abs(h*c-d*u)>Ap)||!i)this._append`L${this._x1=e},${this._y1=s}`;else{let y=r-o,N=a-l,j=c*c+d*d,v=y*y+N*N,b=Math.sqrt(j),A=Math.sqrt(m),S=i*Math.tan((oO-Math.acos((j+m-v)/(2*b*A)))/2),w=S/A,E=S/b;Math.abs(w-1)>Ap&&this._append`L${e+w*u},${s+w*h}`,this._append`A${i},${i},0,0,${+(h*y>u*N)},${this._x1=e+E*c},${this._y1=s+E*d}`}}arc(e,s,r,a,i,o){if(e=+e,s=+s,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(a),c=r*Math.sin(a),d=e+l,u=s+c,h=1^o,m=o?a-i:i-a;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>Ap||Math.abs(this._y1-u)>Ap)&&this._append`L${d},${u}`,r&&(m<0&&(m=m%lO+lO),m>Ice?this._append`A${r},${r},0,1,${h},${e-l},${s-c}A${r},${r},0,1,${h},${this._x1=d},${this._y1=u}`:m>Ap&&this._append`A${r},${r},0,${+(m>=oO)},${h},${this._x1=e+r*Math.cos(i)},${this._y1=s+r*Math.sin(i)}`)}rect(e,s,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+s}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}};function qk(n){let e=3;return n.digits=function(s){if(!arguments.length)return e;if(s==null)e=null;else{const r=Math.floor(s);if(!(r>=0))throw new RangeError(`invalid digits: ${s}`);e=r}return n},()=>new Lce(e)}function Wk(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function jW(n){this._context=n}jW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:this._context.lineTo(n,e);break}}};function uC(n){return new jW(n)}function wW(n){return n[0]}function NW(n){return n[1]}function SW(n,e){var s=Sr(!0),r=null,a=uC,i=null,o=qk(l);n=typeof n=="function"?n:n===void 0?wW:Sr(n),e=typeof e=="function"?e:e===void 0?NW:Sr(e);function l(c){var d,u=(c=Wk(c)).length,h,m=!1,y;for(r==null&&(i=a(y=o())),d=0;d<=u;++d)!(d<u&&s(h=c[d],d,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+n(h,d,c),+e(h,d,c));if(y)return i=null,y+""||null}return l.x=function(c){return arguments.length?(n=typeof c=="function"?c:Sr(+c),l):n},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Sr(+c),l):e},l.defined=function(c){return arguments.length?(s=typeof c=="function"?c:Sr(!!c),l):s},l.curve=function(c){return arguments.length?(a=c,r!=null&&(i=a(r)),l):a},l.context=function(c){return arguments.length?(c==null?r=i=null:i=a(r=c),l):r},l}function LN(n,e,s){var r=null,a=Sr(!0),i=null,o=uC,l=null,c=qk(d);n=typeof n=="function"?n:n===void 0?wW:Sr(+n),e=typeof e=="function"?e:Sr(e===void 0?0:+e),s=typeof s=="function"?s:s===void 0?NW:Sr(+s);function d(h){var m,y,N,j=(h=Wk(h)).length,v,b=!1,A,S=new Array(j),w=new Array(j);for(i==null&&(l=o(A=c())),m=0;m<=j;++m){if(!(m<j&&a(v=h[m],m,h))===b)if(b=!b)y=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),N=m-1;N>=y;--N)l.point(S[N],w[N]);l.lineEnd(),l.areaEnd()}b&&(S[m]=+n(v,m,h),w[m]=+e(v,m,h),l.point(r?+r(v,m,h):S[m],s?+s(v,m,h):w[m]))}if(A)return l=null,A+""||null}function u(){return SW().defined(a).curve(o).context(i)}return d.x=function(h){return arguments.length?(n=typeof h=="function"?h:Sr(+h),r=null,d):n},d.x0=function(h){return arguments.length?(n=typeof h=="function"?h:Sr(+h),d):n},d.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Sr(+h),d):r},d.y=function(h){return arguments.length?(e=typeof h=="function"?h:Sr(+h),s=null,d):e},d.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Sr(+h),d):e},d.y1=function(h){return arguments.length?(s=h==null?null:typeof h=="function"?h:Sr(+h),d):s},d.lineX0=d.lineY0=function(){return u().x(n).y(e)},d.lineY1=function(){return u().x(n).y(s)},d.lineX1=function(){return u().x(r).y(e)},d.defined=function(h){return arguments.length?(a=typeof h=="function"?h:Sr(!!h),d):a},d.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),d):o},d.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),d):i},d}class _W{constructor(e,s){this._context=e,this._x=s}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,s){switch(e=+e,s=+s,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,s):this._context.moveTo(e,s);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,s,e,s):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+s)/2,e,this._y0,e,s);break}}this._x0=e,this._y0=s}}function Fce(n){return new _W(n,!0)}function Uce(n){return new _W(n,!1)}const Kk={draw(n,e){const s=dd(e/P_);n.moveTo(s,0),n.arc(0,0,s,0,dC)}},zce={draw(n,e){const s=dd(e/5)/2;n.moveTo(-3*s,-s),n.lineTo(-s,-s),n.lineTo(-s,-3*s),n.lineTo(s,-3*s),n.lineTo(s,-s),n.lineTo(3*s,-s),n.lineTo(3*s,s),n.lineTo(s,s),n.lineTo(s,3*s),n.lineTo(-s,3*s),n.lineTo(-s,s),n.lineTo(-3*s,s),n.closePath()}},AW=dd(1/3),Bce=AW*2,Vce={draw(n,e){const s=dd(e/Bce),r=s*AW;n.moveTo(0,-s),n.lineTo(r,0),n.lineTo(0,s),n.lineTo(-r,0),n.closePath()}},Hce={draw(n,e){const s=dd(e),r=-s/2;n.rect(r,r,s,s)}},Gce=.8908130915292852,CW=M_(P_/10)/M_(7*P_/10),$ce=M_(dC/10)*CW,qce=-yW(dC/10)*CW,Wce={draw(n,e){const s=dd(e*Gce),r=$ce*s,a=qce*s;n.moveTo(0,-s),n.lineTo(r,a);for(let i=1;i<5;++i){const o=dC*i/5,l=yW(o),c=M_(o);n.lineTo(c*s,-l*s),n.lineTo(l*r-c*a,c*r+l*a)}n.closePath()}},yM=dd(3),Kce={draw(n,e){const s=-dd(e/(yM*3));n.moveTo(0,s*2),n.lineTo(-yM*s,-s),n.lineTo(yM*s,-s),n.closePath()}},Kl=-.5,Xl=dd(3)/2,cO=1/dd(12),Xce=(cO/2+1)*3,Zce={draw(n,e){const s=dd(e/Xce),r=s/2,a=s*cO,i=r,o=s*cO+s,l=-i,c=o;n.moveTo(r,a),n.lineTo(i,o),n.lineTo(l,c),n.lineTo(Kl*r-Xl*a,Xl*r+Kl*a),n.lineTo(Kl*i-Xl*o,Xl*i+Kl*o),n.lineTo(Kl*l-Xl*c,Xl*l+Kl*c),n.lineTo(Kl*r+Xl*a,Kl*a-Xl*r),n.lineTo(Kl*i+Xl*o,Kl*o-Xl*i),n.lineTo(Kl*l+Xl*c,Kl*c-Xl*l),n.closePath()}};function Yce(n,e){let s=null,r=qk(a);n=typeof n=="function"?n:Sr(n||Kk),e=typeof e=="function"?e:Sr(e===void 0?64:+e);function a(){let i;if(s||(s=i=r()),n.apply(this,arguments).draw(s,+e.apply(this,arguments)),i)return s=null,i+""||null}return a.type=function(i){return arguments.length?(n=typeof i=="function"?i:Sr(i),a):n},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:Sr(+i),a):e},a.context=function(i){return arguments.length?(s=i??null,a):s},a}function R_(){}function O_(n,e,s){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+e)/6,(n._y0+4*n._y1+s)/6)}function TW(n){this._context=n}TW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:O_(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:O_(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function Qce(n){return new TW(n)}function EW(n){this._context=n}EW.prototype={areaStart:R_,areaEnd:R_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._x2=n,this._y2=e;break;case 1:this._point=2,this._x3=n,this._y3=e;break;case 2:this._point=3,this._x4=n,this._y4=e,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+e)/6);break;default:O_(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function Jce(n){return new EW(n)}function MW(n){this._context=n}MW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var s=(this._x0+4*this._x1+n)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(s,r):this._context.moveTo(s,r);break;case 3:this._point=4;default:O_(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function ede(n){return new MW(n)}function PW(n){this._context=n}PW.prototype={areaStart:R_,areaEnd:R_,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,e){n=+n,e=+e,this._point?this._context.lineTo(n,e):(this._point=1,this._context.moveTo(n,e))}};function tde(n){return new PW(n)}function X6(n){return n<0?-1:1}function Z6(n,e,s){var r=n._x1-n._x0,a=e-n._x1,i=(n._y1-n._y0)/(r||a<0&&-0),o=(s-n._y1)/(a||r<0&&-0),l=(i*a+o*r)/(r+a);return(X6(i)+X6(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function Y6(n,e){var s=n._x1-n._x0;return s?(3*(n._y1-n._y0)/s-e)/2:e}function bM(n,e,s){var r=n._x0,a=n._y0,i=n._x1,o=n._y1,l=(i-r)/3;n._context.bezierCurveTo(r+l,a+l*e,i-l,o-l*s,i,o)}function k_(n){this._context=n}k_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:bM(this,this._t0,Y6(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){var s=NaN;if(n=+n,e=+e,!(n===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,bM(this,Y6(this,s=Z6(this,n,e)),s);break;default:bM(this,this._t0,s=Z6(this,n,e));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e,this._t0=s}}};function RW(n){this._context=new OW(n)}(RW.prototype=Object.create(k_.prototype)).point=function(n,e){k_.prototype.point.call(this,e,n)};function OW(n){this._context=n}OW.prototype={moveTo:function(n,e){this._context.moveTo(e,n)},closePath:function(){this._context.closePath()},lineTo:function(n,e){this._context.lineTo(e,n)},bezierCurveTo:function(n,e,s,r,a,i){this._context.bezierCurveTo(e,n,r,s,i,a)}};function nde(n){return new k_(n)}function sde(n){return new RW(n)}function kW(n){this._context=n}kW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,e=this._y,s=n.length;if(s)if(this._line?this._context.lineTo(n[0],e[0]):this._context.moveTo(n[0],e[0]),s===2)this._context.lineTo(n[1],e[1]);else for(var r=Q6(n),a=Q6(e),i=0,o=1;o<s;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],n[o],e[o]);(this._line||this._line!==0&&s===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,e){this._x.push(+n),this._y.push(+e)}};function Q6(n){var e,s=n.length-1,r,a=new Array(s),i=new Array(s),o=new Array(s);for(a[0]=0,i[0]=2,o[0]=n[0]+2*n[1],e=1;e<s-1;++e)a[e]=1,i[e]=4,o[e]=4*n[e]+2*n[e+1];for(a[s-1]=2,i[s-1]=7,o[s-1]=8*n[s-1]+n[s],e=1;e<s;++e)r=a[e]/i[e-1],i[e]-=r,o[e]-=r*o[e-1];for(a[s-1]=o[s-1]/i[s-1],e=s-2;e>=0;--e)a[e]=(o[e]-a[e+1])/i[e];for(i[s-1]=(n[s]+a[s-1])/2,e=0;e<s-1;++e)i[e]=2*n[e+1]-a[e+1];return[a,i]}function rde(n){return new kW(n)}function hC(n,e){this._context=n,this._t=e}hC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(n,e);else{var s=this._x*(1-this._t)+n*this._t;this._context.lineTo(s,this._y),this._context.lineTo(s,e)}break}}this._x=n,this._y=e}};function ade(n){return new hC(n,.5)}function ide(n){return new hC(n,0)}function ode(n){return new hC(n,1)}function n0(n,e){if((o=n.length)>1)for(var s=1,r,a,i=n[e[0]],o,l=i.length;s<o;++s)for(a=i,i=n[e[s]],r=0;r<l;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function dO(n){for(var e=n.length,s=new Array(e);--e>=0;)s[e]=e;return s}function lde(n,e){return n[e]}function cde(n){const e=[];return e.key=n,e}function dde(){var n=Sr([]),e=dO,s=n0,r=lde;function a(i){var o=Array.from(n.apply(this,arguments),cde),l,c=o.length,d=-1,u;for(const h of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+r(h,o[l].key,d,i)]).data=h;for(l=0,u=Wk(e(o));l<c;++l)o[u[l]].index=l;return s(o,u),o}return a.keys=function(i){return arguments.length?(n=typeof i=="function"?i:Sr(Array.from(i)),a):n},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:Sr(+i),a):r},a.order=function(i){return arguments.length?(e=i==null?dO:typeof i=="function"?i:Sr(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(s=i??n0,a):s},a}function ude(n,e){if((r=n.length)>0){for(var s,r,a=0,i=n[0].length,o;a<i;++a){for(o=s=0;s<r;++s)o+=n[s][a][1]||0;if(o)for(s=0;s<r;++s)n[s][a][1]/=o}n0(n,e)}}function hde(n,e){if((a=n.length)>0){for(var s=0,r=n[e[0]],a,i=r.length;s<i;++s){for(var o=0,l=0;o<a;++o)l+=n[o][s][1]||0;r[s][1]+=r[s][0]=-l/2}n0(n,e)}}function fde(n,e){if(!(!((o=n.length)>0)||!((i=(a=n[e[0]]).length)>0))){for(var s=0,r=1,a,i,o;r<i;++r){for(var l=0,c=0,d=0;l<o;++l){for(var u=n[e[l]],h=u[r][1]||0,m=u[r-1][1]||0,y=(h-m)/2,N=0;N<l;++N){var j=n[e[N]],v=j[r][1]||0,b=j[r-1][1]||0;y+=v-b}c+=h,d+=y*h}a[r-1][1]+=a[r-1][0]=s,c&&(s-=d/c)}a[r-1][1]+=a[r-1][0]=s,n0(n,e)}}function Hj(n){"@babel/helpers - typeof";return Hj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hj(n)}var mde=["type","size","sizeType"];function uO(){return uO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},uO.apply(this,arguments)}function J6(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function eU(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?J6(Object(s),!0).forEach(function(r){pde(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):J6(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function pde(n,e,s){return e=xde(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function xde(n){var e=gde(n,"string");return Hj(e)=="symbol"?e:e+""}function gde(n,e){if(Hj(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(Hj(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function vde(n,e){if(n==null)return{};var s=yde(n,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(s[r]=n[r])}return s}function yde(n,e){if(n==null)return{};var s={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;s[r]=n[r]}return s}var IW={symbolCircle:Kk,symbolCross:zce,symbolDiamond:Vce,symbolSquare:Hce,symbolStar:Wce,symbolTriangle:Kce,symbolWye:Zce},bde=Math.PI/180,jde=function(e){var s="symbol".concat(cC(e));return IW[s]||Kk},wde=function(e,s,r){if(s==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*bde;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Nde=function(e,s){IW["symbol".concat(cC(e))]=s},Xk=function(e){var s=e.type,r=s===void 0?"circle":s,a=e.size,i=a===void 0?64:a,o=e.sizeType,l=o===void 0?"area":o,c=vde(e,mde),d=eU(eU({},c),{},{type:r,size:i,sizeType:l}),u=function(){var v=jde(r),b=Yce().type(v).size(wde(i,l,r));return b()},h=d.className,m=d.cx,y=d.cy,N=In(d,!0);return m===+m&&y===+y&&i===+i?ge.createElement("path",uO({},N,{className:os("recharts-symbols",h),transform:"translate(".concat(m,", ").concat(y,")"),d:u()})):null};Xk.registerSymbol=Nde;function s0(n){"@babel/helpers - typeof";return s0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s0(n)}function hO(){return hO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},hO.apply(this,arguments)}function tU(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function Sde(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?tU(Object(s),!0).forEach(function(r){Gj(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):tU(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function _de(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ade(n,e){for(var s=0;s<e.length;s++){var r=e[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,LW(r.key),r)}}function Cde(n,e,s){return e&&Ade(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Tde(n,e,s){return e=I_(e),Ede(n,DW()?Reflect.construct(e,s||[],I_(n).constructor):e.apply(n,s))}function Ede(n,e){if(e&&(s0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mde(n)}function Mde(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function DW(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DW=function(){return!!n})()}function I_(n){return I_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},I_(n)}function Pde(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&fO(n,e)}function fO(n,e){return fO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},fO(n,e)}function Gj(n,e,s){return e=LW(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function LW(n){var e=Rde(n,"string");return s0(e)=="symbol"?e:e+""}function Rde(n,e){if(s0(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(s0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var Zl=32,Zk=(function(n){function e(){return _de(this,e),Tde(this,e,arguments)}return Pde(e,n),Cde(e,[{key:"renderIcon",value:function(r){var a=this.props.inactiveColor,i=Zl/2,o=Zl/6,l=Zl/3,c=r.inactive?a:r.color;if(r.type==="plainline")return ge.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:i,x2:Zl,y2:i,className:"recharts-legend-icon"});if(r.type==="line")return ge.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Zl,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(r.type==="rect")return ge.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Zl/8,"h").concat(Zl,"v").concat(Zl*3/4,"h").concat(-Zl,"z"),className:"recharts-legend-icon"});if(ge.isValidElement(r.legendIcon)){var d=Sde({},r);return delete d.legendIcon,ge.cloneElement(r.legendIcon,d)}return ge.createElement(Xk,{fill:c,cx:i,cy:i,size:Zl,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,d=a.inactiveColor,u={x:0,y:0,width:Zl,height:Zl},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(y,N){var j=y.formatter||c,v=os(Gj(Gj({"recharts-legend-item":!0},"legend-item-".concat(N),!0),"inactive",y.inactive));if(y.type==="none")return null;var b=qn(y.value)?null:y.value;sd(!qn(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var A=y.inactive?d:y.color;return ge.createElement("li",hO({className:v,style:h,key:"legend-item-".concat(N)},mx(r.props,y,N)),ge.createElement(aO,{width:o,height:o,viewBox:u,style:m},r.renderIcon(y)),ge.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},j?j(b,y,N):b))})}},{key:"render",value:function(){var r=this.props,a=r.payload,i=r.layout,o=r.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return ge.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(R.PureComponent);Gj(Zk,"displayName","Legend");Gj(Zk,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var jM,nU;function Ode(){if(nU)return jM;nU=1;var n=iC();function e(){this.__data__=new n,this.size=0}return jM=e,jM}var wM,sU;function kde(){if(sU)return wM;sU=1;function n(e){var s=this.__data__,r=s.delete(e);return this.size=s.size,r}return wM=n,wM}var NM,rU;function Ide(){if(rU)return NM;rU=1;function n(e){return this.__data__.get(e)}return NM=n,NM}var SM,aU;function Dde(){if(aU)return SM;aU=1;function n(e){return this.__data__.has(e)}return SM=n,SM}var _M,iU;function Lde(){if(iU)return _M;iU=1;var n=iC(),e=zk(),s=Bk(),r=200;function a(i,o){var l=this.__data__;if(l instanceof n){var c=l.__data__;if(!e||c.length<r-1)return c.push([i,o]),this.size=++l.size,this;l=this.__data__=new s(c)}return l.set(i,o),this.size=l.size,this}return _M=a,_M}var AM,oU;function FW(){if(oU)return AM;oU=1;var n=iC(),e=Ode(),s=kde(),r=Ide(),a=Dde(),i=Lde();function o(l){var c=this.__data__=new n(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=s,o.prototype.get=r,o.prototype.has=a,o.prototype.set=i,AM=o,AM}var CM,lU;function Fde(){if(lU)return CM;lU=1;var n="__lodash_hash_undefined__";function e(s){return this.__data__.set(s,n),this}return CM=e,CM}var TM,cU;function Ude(){if(cU)return TM;cU=1;function n(e){return this.__data__.has(e)}return TM=n,TM}var EM,dU;function UW(){if(dU)return EM;dU=1;var n=Bk(),e=Fde(),s=Ude();function r(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new n;++i<o;)this.add(a[i])}return r.prototype.add=r.prototype.push=e,r.prototype.has=s,EM=r,EM}var MM,uU;function zW(){if(uU)return MM;uU=1;function n(e,s){for(var r=-1,a=e==null?0:e.length;++r<a;)if(s(e[r],r,e))return!0;return!1}return MM=n,MM}var PM,hU;function BW(){if(hU)return PM;hU=1;function n(e,s){return e.has(s)}return PM=n,PM}var RM,fU;function VW(){if(fU)return RM;fU=1;var n=UW(),e=zW(),s=BW(),r=1,a=2;function i(o,l,c,d,u,h){var m=c&r,y=o.length,N=l.length;if(y!=N&&!(m&&N>y))return!1;var j=h.get(o),v=h.get(l);if(j&&v)return j==l&&v==o;var b=-1,A=!0,S=c&a?new n:void 0;for(h.set(o,l),h.set(l,o);++b<y;){var w=o[b],E=l[b];if(d)var T=m?d(E,w,b,l,o,h):d(w,E,b,o,l,h);if(T!==void 0){if(T)continue;A=!1;break}if(S){if(!e(l,function(P,k){if(!s(S,k)&&(w===P||u(w,P,c,d,h)))return S.push(k)})){A=!1;break}}else if(!(w===E||u(w,E,c,d,h))){A=!1;break}}return h.delete(o),h.delete(l),A}return RM=i,RM}var OM,mU;function zde(){if(mU)return OM;mU=1;var n=hu(),e=n.Uint8Array;return OM=e,OM}var kM,pU;function Bde(){if(pU)return kM;pU=1;function n(e){var s=-1,r=Array(e.size);return e.forEach(function(a,i){r[++s]=[i,a]}),r}return kM=n,kM}var IM,xU;function Yk(){if(xU)return IM;xU=1;function n(e){var s=-1,r=Array(e.size);return e.forEach(function(a){r[++s]=a}),r}return IM=n,IM}var DM,gU;function Vde(){if(gU)return DM;gU=1;var n=sw(),e=zde(),s=Uk(),r=VW(),a=Bde(),i=Yk(),o=1,l=2,c="[object Boolean]",d="[object Date]",u="[object Error]",h="[object Map]",m="[object Number]",y="[object RegExp]",N="[object Set]",j="[object String]",v="[object Symbol]",b="[object ArrayBuffer]",A="[object DataView]",S=n?n.prototype:void 0,w=S?S.valueOf:void 0;function E(T,P,k,I,L,U,H){switch(k){case A:if(T.byteLength!=P.byteLength||T.byteOffset!=P.byteOffset)return!1;T=T.buffer,P=P.buffer;case b:return!(T.byteLength!=P.byteLength||!U(new e(T),new e(P)));case c:case d:case m:return s(+T,+P);case u:return T.name==P.name&&T.message==P.message;case y:case j:return T==P+"";case h:var B=a;case N:var K=I&o;if(B||(B=i),T.size!=P.size&&!K)return!1;var J=H.get(T);if(J)return J==P;I|=l,H.set(T,P);var W=r(B(T),B(P),I,L,U,H);return H.delete(T),W;case v:if(w)return w.call(T)==w.call(P)}return!1}return DM=E,DM}var LM,vU;function HW(){if(vU)return LM;vU=1;function n(e,s){for(var r=-1,a=s.length,i=e.length;++r<a;)e[i+r]=s[r];return e}return LM=n,LM}var FM,yU;function Hde(){if(yU)return FM;yU=1;var n=HW(),e=Yo();function s(r,a,i){var o=a(r);return e(r)?o:n(o,i(r))}return FM=s,FM}var UM,bU;function Gde(){if(bU)return UM;bU=1;function n(e,s){for(var r=-1,a=e==null?0:e.length,i=0,o=[];++r<a;){var l=e[r];s(l,r,e)&&(o[i++]=l)}return o}return UM=n,UM}var zM,jU;function $de(){if(jU)return zM;jU=1;function n(){return[]}return zM=n,zM}var BM,wU;function qde(){if(wU)return BM;wU=1;var n=Gde(),e=$de(),s=Object.prototype,r=s.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),n(a(o),function(l){return r.call(o,l)}))}:e;return BM=i,BM}var VM,NU;function Wde(){if(NU)return VM;NU=1;function n(e,s){for(var r=-1,a=Array(e);++r<e;)a[r]=s(r);return a}return VM=n,VM}var HM,SU;function Kde(){if(SU)return HM;SU=1;var n=Mh(),e=Ph(),s="[object Arguments]";function r(a){return e(a)&&n(a)==s}return HM=r,HM}var GM,_U;function Qk(){if(_U)return GM;_U=1;var n=Kde(),e=Ph(),s=Object.prototype,r=s.hasOwnProperty,a=s.propertyIsEnumerable,i=n((function(){return arguments})())?n:function(o){return e(o)&&r.call(o,"callee")&&!a.call(o,"callee")};return GM=i,GM}var nj={exports:{}},$M,AU;function Xde(){if(AU)return $M;AU=1;function n(){return!1}return $M=n,$M}nj.exports;var CU;function GW(){return CU||(CU=1,(function(n,e){var s=hu(),r=Xde(),a=e&&!e.nodeType&&e,i=a&&!0&&n&&!n.nodeType&&n,o=i&&i.exports===a,l=o?s.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||r;n.exports=d})(nj,nj.exports)),nj.exports}var qM,TU;function Jk(){if(TU)return qM;TU=1;var n=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function s(r,a){var i=typeof r;return a=a??n,!!a&&(i=="number"||i!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<a}return qM=s,qM}var WM,EU;function eI(){if(EU)return WM;EU=1;var n=9007199254740991;function e(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=n}return WM=e,WM}var KM,MU;function Zde(){if(MU)return KM;MU=1;var n=Mh(),e=eI(),s=Ph(),r="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",d="[object Map]",u="[object Number]",h="[object Object]",m="[object RegExp]",y="[object Set]",N="[object String]",j="[object WeakMap]",v="[object ArrayBuffer]",b="[object DataView]",A="[object Float32Array]",S="[object Float64Array]",w="[object Int8Array]",E="[object Int16Array]",T="[object Int32Array]",P="[object Uint8Array]",k="[object Uint8ClampedArray]",I="[object Uint16Array]",L="[object Uint32Array]",U={};U[A]=U[S]=U[w]=U[E]=U[T]=U[P]=U[k]=U[I]=U[L]=!0,U[r]=U[a]=U[v]=U[i]=U[b]=U[o]=U[l]=U[c]=U[d]=U[u]=U[h]=U[m]=U[y]=U[N]=U[j]=!1;function H(B){return s(B)&&e(B.length)&&!!U[n(B)]}return KM=H,KM}var XM,PU;function $W(){if(PU)return XM;PU=1;function n(e){return function(s){return e(s)}}return XM=n,XM}var sj={exports:{}};sj.exports;var RU;function Yde(){return RU||(RU=1,(function(n,e){var s=uW(),r=e&&!e.nodeType&&e,a=r&&!0&&n&&!n.nodeType&&n,i=a&&a.exports===r,o=i&&s.process,l=(function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();n.exports=l})(sj,sj.exports)),sj.exports}var ZM,OU;function qW(){if(OU)return ZM;OU=1;var n=Zde(),e=$W(),s=Yde(),r=s&&s.isTypedArray,a=r?e(r):n;return ZM=a,ZM}var YM,kU;function Qde(){if(kU)return YM;kU=1;var n=Wde(),e=Qk(),s=Yo(),r=GW(),a=Jk(),i=qW(),o=Object.prototype,l=o.hasOwnProperty;function c(d,u){var h=s(d),m=!h&&e(d),y=!h&&!m&&r(d),N=!h&&!m&&!y&&i(d),j=h||m||y||N,v=j?n(d.length,String):[],b=v.length;for(var A in d)(u||l.call(d,A))&&!(j&&(A=="length"||y&&(A=="offset"||A=="parent")||N&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||a(A,b)))&&v.push(A);return v}return YM=c,YM}var QM,IU;function Jde(){if(IU)return QM;IU=1;var n=Object.prototype;function e(s){var r=s&&s.constructor,a=typeof r=="function"&&r.prototype||n;return s===a}return QM=e,QM}var JM,DU;function WW(){if(DU)return JM;DU=1;function n(e,s){return function(r){return e(s(r))}}return JM=n,JM}var e4,LU;function eue(){if(LU)return e4;LU=1;var n=WW(),e=n(Object.keys,Object);return e4=e,e4}var t4,FU;function tue(){if(FU)return t4;FU=1;var n=Jde(),e=eue(),s=Object.prototype,r=s.hasOwnProperty;function a(i){if(!n(i))return e(i);var o=[];for(var l in Object(i))r.call(i,l)&&l!="constructor"&&o.push(l);return o}return t4=a,t4}var n4,UU;function rw(){if(UU)return n4;UU=1;var n=Fk(),e=eI();function s(r){return r!=null&&e(r.length)&&!n(r)}return n4=s,n4}var s4,zU;function fC(){if(zU)return s4;zU=1;var n=Qde(),e=tue(),s=rw();function r(a){return s(a)?n(a):e(a)}return s4=r,s4}var r4,BU;function nue(){if(BU)return r4;BU=1;var n=Hde(),e=qde(),s=fC();function r(a){return n(a,s,e)}return r4=r,r4}var a4,VU;function sue(){if(VU)return a4;VU=1;var n=nue(),e=1,s=Object.prototype,r=s.hasOwnProperty;function a(i,o,l,c,d,u){var h=l&e,m=n(i),y=m.length,N=n(o),j=N.length;if(y!=j&&!h)return!1;for(var v=y;v--;){var b=m[v];if(!(h?b in o:r.call(o,b)))return!1}var A=u.get(i),S=u.get(o);if(A&&S)return A==o&&S==i;var w=!0;u.set(i,o),u.set(o,i);for(var E=h;++v<y;){b=m[v];var T=i[b],P=o[b];if(c)var k=h?c(P,T,b,o,i,u):c(T,P,b,i,o,u);if(!(k===void 0?T===P||d(T,P,l,c,u):k)){w=!1;break}E||(E=b=="constructor")}if(w&&!E){var I=i.constructor,L=o.constructor;I!=L&&"constructor"in i&&"constructor"in o&&!(typeof I=="function"&&I instanceof I&&typeof L=="function"&&L instanceof L)&&(w=!1)}return u.delete(i),u.delete(o),w}return a4=a,a4}var i4,HU;function rue(){if(HU)return i4;HU=1;var n=Ex(),e=hu(),s=n(e,"DataView");return i4=s,i4}var o4,GU;function aue(){if(GU)return o4;GU=1;var n=Ex(),e=hu(),s=n(e,"Promise");return o4=s,o4}var l4,$U;function KW(){if($U)return l4;$U=1;var n=Ex(),e=hu(),s=n(e,"Set");return l4=s,l4}var c4,qU;function iue(){if(qU)return c4;qU=1;var n=Ex(),e=hu(),s=n(e,"WeakMap");return c4=s,c4}var d4,WU;function oue(){if(WU)return d4;WU=1;var n=rue(),e=zk(),s=aue(),r=KW(),a=iue(),i=Mh(),o=hW(),l="[object Map]",c="[object Object]",d="[object Promise]",u="[object Set]",h="[object WeakMap]",m="[object DataView]",y=o(n),N=o(e),j=o(s),v=o(r),b=o(a),A=i;return(n&&A(new n(new ArrayBuffer(1)))!=m||e&&A(new e)!=l||s&&A(s.resolve())!=d||r&&A(new r)!=u||a&&A(new a)!=h)&&(A=function(S){var w=i(S),E=w==c?S.constructor:void 0,T=E?o(E):"";if(T)switch(T){case y:return m;case N:return l;case j:return d;case v:return u;case b:return h}return w}),d4=A,d4}var u4,KU;function lue(){if(KU)return u4;KU=1;var n=FW(),e=VW(),s=Vde(),r=sue(),a=oue(),i=Yo(),o=GW(),l=qW(),c=1,d="[object Arguments]",u="[object Array]",h="[object Object]",m=Object.prototype,y=m.hasOwnProperty;function N(j,v,b,A,S,w){var E=i(j),T=i(v),P=E?u:a(j),k=T?u:a(v);P=P==d?h:P,k=k==d?h:k;var I=P==h,L=k==h,U=P==k;if(U&&o(j)){if(!o(v))return!1;E=!0,I=!1}if(U&&!I)return w||(w=new n),E||l(j)?e(j,v,b,A,S,w):s(j,v,P,b,A,S,w);if(!(b&c)){var H=I&&y.call(j,"__wrapped__"),B=L&&y.call(v,"__wrapped__");if(H||B){var K=H?j.value():j,J=B?v.value():v;return w||(w=new n),S(K,J,b,A,w)}}return U?(w||(w=new n),r(j,v,b,A,S,w)):!1}return u4=N,u4}var h4,XU;function tI(){if(XU)return h4;XU=1;var n=lue(),e=Ph();function s(r,a,i,o,l){return r===a?!0:r==null||a==null||!e(r)&&!e(a)?r!==r&&a!==a:n(r,a,i,o,s,l)}return h4=s,h4}var f4,ZU;function cue(){if(ZU)return f4;ZU=1;var n=FW(),e=tI(),s=1,r=2;function a(i,o,l,c){var d=l.length,u=d,h=!c;if(i==null)return!u;for(i=Object(i);d--;){var m=l[d];if(h&&m[2]?m[1]!==i[m[0]]:!(m[0]in i))return!1}for(;++d<u;){m=l[d];var y=m[0],N=i[y],j=m[1];if(h&&m[2]){if(N===void 0&&!(y in i))return!1}else{var v=new n;if(c)var b=c(N,j,y,i,o,v);if(!(b===void 0?e(j,N,s|r,c,v):b))return!1}}return!0}return f4=a,f4}var m4,YU;function XW(){if(YU)return m4;YU=1;var n=tm();function e(s){return s===s&&!n(s)}return m4=e,m4}var p4,QU;function due(){if(QU)return p4;QU=1;var n=XW(),e=fC();function s(r){for(var a=e(r),i=a.length;i--;){var o=a[i],l=r[o];a[i]=[o,l,n(l)]}return a}return p4=s,p4}var x4,JU;function ZW(){if(JU)return x4;JU=1;function n(e,s){return function(r){return r==null?!1:r[e]===s&&(s!==void 0||e in Object(r))}}return x4=n,x4}var g4,ez;function uue(){if(ez)return g4;ez=1;var n=cue(),e=due(),s=ZW();function r(a){var i=e(a);return i.length==1&&i[0][2]?s(i[0][0],i[0][1]):function(o){return o===a||n(o,a,i)}}return g4=r,g4}var v4,tz;function hue(){if(tz)return v4;tz=1;function n(e,s){return e!=null&&s in Object(e)}return v4=n,v4}var y4,nz;function fue(){if(nz)return y4;nz=1;var n=pW(),e=Qk(),s=Yo(),r=Jk(),a=eI(),i=lC();function o(l,c,d){c=n(c,l);for(var u=-1,h=c.length,m=!1;++u<h;){var y=i(c[u]);if(!(m=l!=null&&d(l,y)))break;l=l[y]}return m||++u!=h?m:(h=l==null?0:l.length,!!h&&a(h)&&r(y,h)&&(s(l)||e(l)))}return y4=o,y4}var b4,sz;function mue(){if(sz)return b4;sz=1;var n=hue(),e=fue();function s(r,a){return r!=null&&e(r,a,n)}return b4=s,b4}var j4,rz;function pue(){if(rz)return j4;rz=1;var n=tI(),e=xW(),s=mue(),r=Lk(),a=XW(),i=ZW(),o=lC(),l=1,c=2;function d(u,h){return r(u)&&a(h)?i(o(u),h):function(m){var y=e(m,u);return y===void 0&&y===h?s(m,u):n(h,y,l|c)}}return j4=d,j4}var w4,az;function iy(){if(az)return w4;az=1;function n(e){return e}return w4=n,w4}var N4,iz;function xue(){if(iz)return N4;iz=1;function n(e){return function(s){return s?.[e]}}return N4=n,N4}var S4,oz;function gue(){if(oz)return S4;oz=1;var n=Hk();function e(s){return function(r){return n(r,s)}}return S4=e,S4}var _4,lz;function vue(){if(lz)return _4;lz=1;var n=xue(),e=gue(),s=Lk(),r=lC();function a(i){return s(i)?n(r(i)):e(i)}return _4=a,_4}var A4,cz;function fu(){if(cz)return A4;cz=1;var n=uue(),e=pue(),s=iy(),r=Yo(),a=vue();function i(o){return typeof o=="function"?o:o==null?s:typeof o=="object"?r(o)?e(o[0],o[1]):n(o):a(o)}return A4=i,A4}var C4,dz;function YW(){if(dz)return C4;dz=1;function n(e,s,r,a){for(var i=e.length,o=r+(a?1:-1);a?o--:++o<i;)if(s(e[o],o,e))return o;return-1}return C4=n,C4}var T4,uz;function yue(){if(uz)return T4;uz=1;function n(e){return e!==e}return T4=n,T4}var E4,hz;function bue(){if(hz)return E4;hz=1;function n(e,s,r){for(var a=r-1,i=e.length;++a<i;)if(e[a]===s)return a;return-1}return E4=n,E4}var M4,fz;function jue(){if(fz)return M4;fz=1;var n=YW(),e=yue(),s=bue();function r(a,i,o){return i===i?s(a,i,o):n(a,e,o)}return M4=r,M4}var P4,mz;function wue(){if(mz)return P4;mz=1;var n=jue();function e(s,r){var a=s==null?0:s.length;return!!a&&n(s,r,0)>-1}return P4=e,P4}var R4,pz;function Nue(){if(pz)return R4;pz=1;function n(e,s,r){for(var a=-1,i=e==null?0:e.length;++a<i;)if(r(s,e[a]))return!0;return!1}return R4=n,R4}var O4,xz;function Sue(){if(xz)return O4;xz=1;function n(){}return O4=n,O4}var k4,gz;function _ue(){if(gz)return k4;gz=1;var n=KW(),e=Sue(),s=Yk(),r=1/0,a=n&&1/s(new n([,-0]))[1]==r?function(i){return new n(i)}:e;return k4=a,k4}var I4,vz;function Aue(){if(vz)return I4;vz=1;var n=UW(),e=wue(),s=Nue(),r=BW(),a=_ue(),i=Yk(),o=200;function l(c,d,u){var h=-1,m=e,y=c.length,N=!0,j=[],v=j;if(u)N=!1,m=s;else if(y>=o){var b=d?null:a(c);if(b)return i(b);N=!1,m=r,v=new n}else v=d?[]:j;e:for(;++h<y;){var A=c[h],S=d?d(A):A;if(A=u||A!==0?A:0,N&&S===S){for(var w=v.length;w--;)if(v[w]===S)continue e;d&&v.push(S),j.push(A)}else m(v,S,u)||(v!==j&&v.push(S),j.push(A))}return j}return I4=l,I4}var D4,yz;function Cue(){if(yz)return D4;yz=1;var n=fu(),e=Aue();function s(r,a){return r&&r.length?e(r,n(a,2)):[]}return D4=s,D4}var Tue=Cue();const bz=Gs(Tue);function QW(n,e,s){return e===!0?bz(n,s):qn(e)?bz(n,e):n}function r0(n){"@babel/helpers - typeof";return r0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r0(n)}var Eue=["ref"];function jz(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function Wu(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?jz(Object(s),!0).forEach(function(r){mC(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):jz(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function Mue(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function wz(n,e){for(var s=0;s<e.length;s++){var r=e[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,eK(r.key),r)}}function Pue(n,e,s){return e&&wz(n.prototype,e),s&&wz(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n}function Rue(n,e,s){return e=D_(e),Oue(n,JW()?Reflect.construct(e,s||[],D_(n).constructor):e.apply(n,s))}function Oue(n,e){if(e&&(r0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kue(n)}function kue(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function JW(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JW=function(){return!!n})()}function D_(n){return D_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},D_(n)}function Iue(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&mO(n,e)}function mO(n,e){return mO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},mO(n,e)}function mC(n,e,s){return e=eK(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function eK(n){var e=Due(n,"string");return r0(e)=="symbol"?e:e+""}function Due(n,e){if(r0(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(r0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Lue(n,e){if(n==null)return{};var s=Fue(n,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(s[r]=n[r])}return s}function Fue(n,e){if(n==null)return{};var s={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;s[r]=n[r]}return s}function Uue(n){return n.value}function zue(n,e){if(ge.isValidElement(n))return ge.cloneElement(n,e);if(typeof n=="function")return ge.createElement(n,e);e.ref;var s=Lue(e,Eue);return ge.createElement(Zk,s)}var Nz=1,Fv=(function(n){function e(){var s;Mue(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return s=Rue(this,e,[].concat(a)),mC(s,"lastBoundingBox",{width:-1,height:-1}),s}return Iue(e,n),Pue(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>Nz||Math.abs(a.height-this.lastBoundingBox.height)>Nz)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,r&&r(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Wu({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,d=a.chartWidth,u=a.chartHeight,h,m;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&i==="vertical"){var y=this.getBBoxSnapshot();h={left:((d||0)-y.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var N=this.getBBoxSnapshot();m={top:((u||0)-N.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Wu(Wu({},h),m)}},{key:"render",value:function(){var r=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,d=a.payloadUniqBy,u=a.payload,h=Wu(Wu({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return ge.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(y){r.wrapperNode=y}},zue(i,Wu(Wu({},this.props),{},{payload:QW(u,d,Uue)})))}}],[{key:"getWithHeight",value:function(r,a){var i=Wu(Wu({},this.defaultProps),r.props),o=i.layout;return o==="vertical"&&Ot(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||a}:null}}])})(R.PureComponent);mC(Fv,"displayName","Legend");mC(Fv,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var L4,Sz;function Bue(){if(Sz)return L4;Sz=1;var n=sw(),e=Qk(),s=Yo(),r=n?n.isConcatSpreadable:void 0;function a(i){return s(i)||e(i)||!!(r&&i&&i[r])}return L4=a,L4}var F4,_z;function tK(){if(_z)return F4;_z=1;var n=HW(),e=Bue();function s(r,a,i,o,l){var c=-1,d=r.length;for(i||(i=e),l||(l=[]);++c<d;){var u=r[c];a>0&&i(u)?a>1?s(u,a-1,i,o,l):n(l,u):o||(l[l.length]=u)}return l}return F4=s,F4}var U4,Az;function Vue(){if(Az)return U4;Az=1;function n(e){return function(s,r,a){for(var i=-1,o=Object(s),l=a(s),c=l.length;c--;){var d=l[e?c:++i];if(r(o[d],d,o)===!1)break}return s}}return U4=n,U4}var z4,Cz;function Hue(){if(Cz)return z4;Cz=1;var n=Vue(),e=n();return z4=e,z4}var B4,Tz;function nK(){if(Tz)return B4;Tz=1;var n=Hue(),e=fC();function s(r,a){return r&&n(r,a,e)}return B4=s,B4}var V4,Ez;function Gue(){if(Ez)return V4;Ez=1;var n=rw();function e(s,r){return function(a,i){if(a==null)return a;if(!n(a))return s(a,i);for(var o=a.length,l=r?o:-1,c=Object(a);(r?l--:++l<o)&&i(c[l],l,c)!==!1;);return a}}return V4=e,V4}var H4,Mz;function nI(){if(Mz)return H4;Mz=1;var n=nK(),e=Gue(),s=e(n);return H4=s,H4}var G4,Pz;function sK(){if(Pz)return G4;Pz=1;var n=nI(),e=rw();function s(r,a){var i=-1,o=e(r)?Array(r.length):[];return n(r,function(l,c,d){o[++i]=a(l,c,d)}),o}return G4=s,G4}var $4,Rz;function $ue(){if(Rz)return $4;Rz=1;function n(e,s){var r=e.length;for(e.sort(s);r--;)e[r]=e[r].value;return e}return $4=n,$4}var q4,Oz;function que(){if(Oz)return q4;Oz=1;var n=ny();function e(s,r){if(s!==r){var a=s!==void 0,i=s===null,o=s===s,l=n(s),c=r!==void 0,d=r===null,u=r===r,h=n(r);if(!d&&!h&&!l&&s>r||l&&c&&u&&!d&&!h||i&&c&&u||!a&&u||!o)return 1;if(!i&&!l&&!h&&s<r||h&&a&&o&&!i&&!l||d&&a&&o||!c&&o||!u)return-1}return 0}return q4=e,q4}var W4,kz;function Wue(){if(kz)return W4;kz=1;var n=que();function e(s,r,a){for(var i=-1,o=s.criteria,l=r.criteria,c=o.length,d=a.length;++i<c;){var u=n(o[i],l[i]);if(u){if(i>=d)return u;var h=a[i];return u*(h=="desc"?-1:1)}}return s.index-r.index}return W4=e,W4}var K4,Iz;function Kue(){if(Iz)return K4;Iz=1;var n=Vk(),e=Hk(),s=fu(),r=sK(),a=$ue(),i=$W(),o=Wue(),l=iy(),c=Yo();function d(u,h,m){h.length?h=n(h,function(j){return c(j)?function(v){return e(v,j.length===1?j[0]:j)}:j}):h=[l];var y=-1;h=n(h,i(s));var N=r(u,function(j,v,b){var A=n(h,function(S){return S(j)});return{criteria:A,index:++y,value:j}});return a(N,function(j,v){return o(j,v,m)})}return K4=d,K4}var X4,Dz;function Xue(){if(Dz)return X4;Dz=1;function n(e,s,r){switch(r.length){case 0:return e.call(s);case 1:return e.call(s,r[0]);case 2:return e.call(s,r[0],r[1]);case 3:return e.call(s,r[0],r[1],r[2])}return e.apply(s,r)}return X4=n,X4}var Z4,Lz;function Zue(){if(Lz)return Z4;Lz=1;var n=Xue(),e=Math.max;function s(r,a,i){return a=e(a===void 0?r.length-1:a,0),function(){for(var o=arguments,l=-1,c=e(o.length-a,0),d=Array(c);++l<c;)d[l]=o[a+l];l=-1;for(var u=Array(a+1);++l<a;)u[l]=o[l];return u[a]=i(d),n(r,this,u)}}return Z4=s,Z4}var Y4,Fz;function Yue(){if(Fz)return Y4;Fz=1;function n(e){return function(){return e}}return Y4=n,Y4}var Q4,Uz;function rK(){if(Uz)return Q4;Uz=1;var n=Ex(),e=(function(){try{var s=n(Object,"defineProperty");return s({},"",{}),s}catch{}})();return Q4=e,Q4}var J4,zz;function Que(){if(zz)return J4;zz=1;var n=Yue(),e=rK(),s=iy(),r=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:n(i),writable:!0})}:s;return J4=r,J4}var eP,Bz;function Jue(){if(Bz)return eP;Bz=1;var n=800,e=16,s=Date.now;function r(a){var i=0,o=0;return function(){var l=s(),c=e-(l-o);if(o=l,c>0){if(++i>=n)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return eP=r,eP}var tP,Vz;function ehe(){if(Vz)return tP;Vz=1;var n=Que(),e=Jue(),s=e(n);return tP=s,tP}var nP,Hz;function the(){if(Hz)return nP;Hz=1;var n=iy(),e=Zue(),s=ehe();function r(a,i){return s(e(a,i,n),a+"")}return nP=r,nP}var sP,Gz;function pC(){if(Gz)return sP;Gz=1;var n=Uk(),e=rw(),s=Jk(),r=tm();function a(i,o,l){if(!r(l))return!1;var c=typeof o;return(c=="number"?e(l)&&s(o,l.length):c=="string"&&o in l)?n(l[o],i):!1}return sP=a,sP}var rP,$z;function nhe(){if($z)return rP;$z=1;var n=tK(),e=Kue(),s=the(),r=pC(),a=s(function(i,o){if(i==null)return[];var l=o.length;return l>1&&r(i,o[0],o[1])?o=[]:l>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),e(i,n(o,1),[])});return rP=a,rP}var she=nhe();const sI=Gs(she);function $j(n){"@babel/helpers - typeof";return $j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$j(n)}function pO(){return pO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},pO.apply(this,arguments)}function rhe(n,e){return lhe(n)||ohe(n,e)||ihe(n,e)||ahe()}function ahe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ihe(n,e){if(n){if(typeof n=="string")return qz(n,e);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return qz(n,e)}}function qz(n,e){(e==null||e>n.length)&&(e=n.length);for(var s=0,r=new Array(e);s<e;s++)r[s]=n[s];return r}function ohe(n,e){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var r,a,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(n)).next,e!==0)for(;!(c=(r=i.call(s)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function lhe(n){if(Array.isArray(n))return n}function Wz(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function aP(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?Wz(Object(s),!0).forEach(function(r){che(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):Wz(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function che(n,e,s){return e=dhe(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function dhe(n){var e=uhe(n,"string");return $j(e)=="symbol"?e:e+""}function uhe(n,e){if($j(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if($j(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function hhe(n){return Array.isArray(n)&&qa(n[0])&&qa(n[1])?n.join(" ~ "):n}var fhe=function(e){var s=e.separator,r=s===void 0?" : ":s,a=e.contentStyle,i=a===void 0?{}:a,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,d=c===void 0?{}:c,u=e.payload,h=e.formatter,m=e.itemSorter,y=e.wrapperClassName,N=e.labelClassName,j=e.label,v=e.labelFormatter,b=e.accessibilityLayer,A=b===void 0?!1:b,S=function(){if(u&&u.length){var H={padding:0,margin:0},B=(m?sI(u,m):u).map(function(K,J){if(K.type==="none")return null;var W=aP({display:"block",paddingTop:4,paddingBottom:4,color:K.color||"#000"},l),ee=K.formatter||h||hhe,G=K.value,ae=K.name,fe=G,se=ae;if(ee&&fe!=null&&se!=null){var me=ee(G,ae,K,J,u);if(Array.isArray(me)){var Oe=rhe(me,2);fe=Oe[0],se=Oe[1]}else fe=me}return ge.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(J),style:W},qa(se)?ge.createElement("span",{className:"recharts-tooltip-item-name"},se):null,qa(se)?ge.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,ge.createElement("span",{className:"recharts-tooltip-item-value"},fe),ge.createElement("span",{className:"recharts-tooltip-item-unit"},K.unit||""))});return ge.createElement("ul",{className:"recharts-tooltip-item-list",style:H},B)}return null},w=aP({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),E=aP({margin:0},d),T=!ls(j),P=T?j:"",k=os("recharts-default-tooltip",y),I=os("recharts-tooltip-label",N);T&&v&&u!==void 0&&u!==null&&(P=v(j,u));var L=A?{role:"status","aria-live":"assertive"}:{};return ge.createElement("div",pO({className:k,style:w},L),ge.createElement("p",{className:I,style:E},ge.isValidElement(P)?P:"".concat(P)),S())};function qj(n){"@babel/helpers - typeof";return qj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qj(n)}function FN(n,e,s){return e=mhe(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function mhe(n){var e=phe(n,"string");return qj(e)=="symbol"?e:e+""}function phe(n,e){if(qj(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(qj(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Eb="recharts-tooltip-wrapper",xhe={visibility:"hidden"};function ghe(n){var e=n.coordinate,s=n.translateX,r=n.translateY;return os(Eb,FN(FN(FN(FN({},"".concat(Eb,"-right"),Ot(s)&&e&&Ot(e.x)&&s>=e.x),"".concat(Eb,"-left"),Ot(s)&&e&&Ot(e.x)&&s<e.x),"".concat(Eb,"-bottom"),Ot(r)&&e&&Ot(e.y)&&r>=e.y),"".concat(Eb,"-top"),Ot(r)&&e&&Ot(e.y)&&r<e.y))}function Kz(n){var e=n.allowEscapeViewBox,s=n.coordinate,r=n.key,a=n.offsetTopLeft,i=n.position,o=n.reverseDirection,l=n.tooltipDimension,c=n.viewBox,d=n.viewBoxDimension;if(i&&Ot(i[r]))return i[r];var u=s[r]-l-a,h=s[r]+a;if(e[r])return o[r]?u:h;if(o[r]){var m=u,y=c[r];return m<y?Math.max(h,c[r]):Math.max(u,c[r])}var N=h+l,j=c[r]+d;return N>j?Math.max(u,c[r]):Math.max(h,c[r])}function vhe(n){var e=n.translateX,s=n.translateY,r=n.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(s,"px, 0)"):"translate(".concat(e,"px, ").concat(s,"px)")}}function yhe(n){var e=n.allowEscapeViewBox,s=n.coordinate,r=n.offsetTopLeft,a=n.position,i=n.reverseDirection,o=n.tooltipBox,l=n.useTranslate3d,c=n.viewBox,d,u,h;return o.height>0&&o.width>0&&s?(u=Kz({allowEscapeViewBox:e,coordinate:s,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=Kz({allowEscapeViewBox:e,coordinate:s,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=vhe({translateX:u,translateY:h,useTranslate3d:l})):d=xhe,{cssProperties:d,cssClasses:ghe({translateX:u,translateY:h,coordinate:s})}}function a0(n){"@babel/helpers - typeof";return a0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a0(n)}function Xz(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function Zz(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?Xz(Object(s),!0).forEach(function(r){gO(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):Xz(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function bhe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function jhe(n,e){for(var s=0;s<e.length;s++){var r=e[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,iK(r.key),r)}}function whe(n,e,s){return e&&jhe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Nhe(n,e,s){return e=L_(e),She(n,aK()?Reflect.construct(e,s||[],L_(n).constructor):e.apply(n,s))}function She(n,e){if(e&&(a0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _he(n)}function _he(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function aK(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aK=function(){return!!n})()}function L_(n){return L_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},L_(n)}function Ahe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&xO(n,e)}function xO(n,e){return xO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},xO(n,e)}function gO(n,e,s){return e=iK(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function iK(n){var e=Che(n,"string");return a0(e)=="symbol"?e:e+""}function Che(n,e){if(a0(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(a0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var Yz=1,The=(function(n){function e(){var s;bhe(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return s=Nhe(this,e,[].concat(a)),gO(s,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),gO(s,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;s.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=s.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=s.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),s}return Ahe(e,n),whe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>Yz||Math.abs(r.height-this.state.lastBoundingBox.height)>Yz)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.children,u=a.coordinate,h=a.hasPayload,m=a.isAnimationActive,y=a.offset,N=a.position,j=a.reverseDirection,v=a.useTranslate3d,b=a.viewBox,A=a.wrapperStyle,S=yhe({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:y,position:N,reverseDirection:j,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),w=S.cssClasses,E=S.cssProperties,T=Zz(Zz({transition:m&&i?"transform ".concat(l,"ms ").concat(c):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},A);return ge.createElement("div",{tabIndex:-1,className:w,style:T,ref:function(k){r.wrapperNode=k}},d)}}])})(R.PureComponent),Ehe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Mx={isSsr:Ehe()};function i0(n){"@babel/helpers - typeof";return i0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i0(n)}function Qz(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function Jz(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?Qz(Object(s),!0).forEach(function(r){rI(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):Qz(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function Mhe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Phe(n,e){for(var s=0;s<e.length;s++){var r=e[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,lK(r.key),r)}}function Rhe(n,e,s){return e&&Phe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Ohe(n,e,s){return e=F_(e),khe(n,oK()?Reflect.construct(e,s||[],F_(n).constructor):e.apply(n,s))}function khe(n,e){if(e&&(i0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ihe(n)}function Ihe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function oK(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oK=function(){return!!n})()}function F_(n){return F_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},F_(n)}function Dhe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&vO(n,e)}function vO(n,e){return vO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},vO(n,e)}function rI(n,e,s){return e=lK(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function lK(n){var e=Lhe(n,"string");return i0(e)=="symbol"?e:e+""}function Lhe(n,e){if(i0(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(i0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Fhe(n){return n.dataKey}function Uhe(n,e){return ge.isValidElement(n)?ge.cloneElement(n,e):typeof n=="function"?ge.createElement(n,e):ge.createElement(fhe,e)}var Jl=(function(n){function e(){return Mhe(this,e),Ohe(this,e,arguments)}return Dhe(e,n),Rhe(e,[{key:"render",value:function(){var r=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.content,u=a.coordinate,h=a.filterNull,m=a.isAnimationActive,y=a.offset,N=a.payload,j=a.payloadUniqBy,v=a.position,b=a.reverseDirection,A=a.useTranslate3d,S=a.viewBox,w=a.wrapperStyle,E=N??[];h&&E.length&&(E=QW(N.filter(function(P){return P.value!=null&&(P.hide!==!0||r.props.includeHidden)}),j,Fhe));var T=E.length>0;return ge.createElement(The,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:i,coordinate:u,hasPayload:T,offset:y,position:v,reverseDirection:b,useTranslate3d:A,viewBox:S,wrapperStyle:w},Uhe(d,Jz(Jz({},this.props),{},{payload:E})))}}])})(R.PureComponent);rI(Jl,"displayName","Tooltip");rI(Jl,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Mx.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var iP,e8;function zhe(){if(e8)return iP;e8=1;var n=hu(),e=function(){return n.Date.now()};return iP=e,iP}var oP,t8;function Bhe(){if(t8)return oP;t8=1;var n=/\s/;function e(s){for(var r=s.length;r--&&n.test(s.charAt(r)););return r}return oP=e,oP}var lP,n8;function Vhe(){if(n8)return lP;n8=1;var n=Bhe(),e=/^\s+/;function s(r){return r&&r.slice(0,n(r)+1).replace(e,"")}return lP=s,lP}var cP,s8;function cK(){if(s8)return cP;s8=1;var n=Vhe(),e=tm(),s=ny(),r=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(d){if(typeof d=="number")return d;if(s(d))return r;if(e(d)){var u=typeof d.valueOf=="function"?d.valueOf():d;d=e(u)?u+"":u}if(typeof d!="string")return d===0?d:+d;d=n(d);var h=i.test(d);return h||o.test(d)?l(d.slice(2),h?2:8):a.test(d)?r:+d}return cP=c,cP}var dP,r8;function Hhe(){if(r8)return dP;r8=1;var n=tm(),e=zhe(),s=cK(),r="Expected a function",a=Math.max,i=Math.min;function o(l,c,d){var u,h,m,y,N,j,v=0,b=!1,A=!1,S=!0;if(typeof l!="function")throw new TypeError(r);c=s(c)||0,n(d)&&(b=!!d.leading,A="maxWait"in d,m=A?a(s(d.maxWait)||0,c):m,S="trailing"in d?!!d.trailing:S);function w(B){var K=u,J=h;return u=h=void 0,v=B,y=l.apply(J,K),y}function E(B){return v=B,N=setTimeout(k,c),b?w(B):y}function T(B){var K=B-j,J=B-v,W=c-K;return A?i(W,m-J):W}function P(B){var K=B-j,J=B-v;return j===void 0||K>=c||K<0||A&&J>=m}function k(){var B=e();if(P(B))return I(B);N=setTimeout(k,T(B))}function I(B){return N=void 0,S&&u?w(B):(u=h=void 0,y)}function L(){N!==void 0&&clearTimeout(N),v=0,u=j=h=N=void 0}function U(){return N===void 0?y:I(e())}function H(){var B=e(),K=P(B);if(u=arguments,h=this,j=B,K){if(N===void 0)return E(j);if(A)return clearTimeout(N),N=setTimeout(k,c),w(j)}return N===void 0&&(N=setTimeout(k,c)),y}return H.cancel=L,H.flush=U,H}return dP=o,dP}var uP,a8;function Ghe(){if(a8)return uP;a8=1;var n=Hhe(),e=tm(),s="Expected a function";function r(a,i,o){var l=!0,c=!0;if(typeof a!="function")throw new TypeError(s);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),n(a,i,{leading:l,maxWait:i,trailing:c})}return uP=r,uP}var $he=Ghe();const dK=Gs($he);function Wj(n){"@babel/helpers - typeof";return Wj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wj(n)}function i8(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function UN(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?i8(Object(s),!0).forEach(function(r){qhe(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):i8(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function qhe(n,e,s){return e=Whe(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function Whe(n){var e=Khe(n,"string");return Wj(e)=="symbol"?e:e+""}function Khe(n,e){if(Wj(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(Wj(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Xhe(n,e){return Jhe(n)||Qhe(n,e)||Yhe(n,e)||Zhe()}function Zhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yhe(n,e){if(n){if(typeof n=="string")return o8(n,e);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return o8(n,e)}}function o8(n,e){(e==null||e>n.length)&&(e=n.length);for(var s=0,r=new Array(e);s<e;s++)r[s]=n[s];return r}function Qhe(n,e){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var r,a,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(n)).next,e!==0)for(;!(c=(r=i.call(s)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Jhe(n){if(Array.isArray(n))return n}var hP=R.forwardRef(function(n,e){var s=n.aspect,r=n.initialDimension,a=r===void 0?{width:-1,height:-1}:r,i=n.width,o=i===void 0?"100%":i,l=n.height,c=l===void 0?"100%":l,d=n.minWidth,u=d===void 0?0:d,h=n.minHeight,m=n.maxHeight,y=n.children,N=n.debounce,j=N===void 0?0:N,v=n.id,b=n.className,A=n.onResize,S=n.style,w=S===void 0?{}:S,E=R.useRef(null),T=R.useRef();T.current=A,R.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var P=R.useState({containerWidth:a.width,containerHeight:a.height}),k=Xhe(P,2),I=k[0],L=k[1],U=R.useCallback(function(B,K){L(function(J){var W=Math.round(B),ee=Math.round(K);return J.containerWidth===W&&J.containerHeight===ee?J:{containerWidth:W,containerHeight:ee}})},[]);R.useEffect(function(){var B=function(ae){var fe,se=ae[0].contentRect,me=se.width,Oe=se.height;U(me,Oe),(fe=T.current)===null||fe===void 0||fe.call(T,me,Oe)};j>0&&(B=dK(B,j,{trailing:!0,leading:!1}));var K=new ResizeObserver(B),J=E.current.getBoundingClientRect(),W=J.width,ee=J.height;return U(W,ee),K.observe(E.current),function(){K.disconnect()}},[U,j]);var H=R.useMemo(function(){var B=I.containerWidth,K=I.containerHeight;if(B<0||K<0)return null;sd(Dp(o)||Dp(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),sd(!s||s>0,"The aspect(%s) must be greater than zero.",s);var J=Dp(o)?B:o,W=Dp(c)?K:c;s&&s>0&&(J?W=J/s:W&&(J=W*s),m&&W>m&&(W=m)),sd(J>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,J,W,o,c,u,h,s);var ee=!Array.isArray(y)&&uh(y.type).endsWith("Chart");return ge.Children.map(y,function(G){return ge.isValidElement(G)?R.cloneElement(G,UN({width:J,height:W},ee?{style:UN({height:"100%",width:"100%",maxHeight:W,maxWidth:J},G.props.style)}:{})):G})},[s,y,c,m,h,u,I,o]);return ge.createElement("div",{id:v?"".concat(v):void 0,className:os("recharts-responsive-container",b),style:UN(UN({},w),{},{width:o,height:c,minWidth:u,minHeight:h,maxHeight:m}),ref:E},H)}),xC=function(e){return null};xC.displayName="Cell";function Kj(n){"@babel/helpers - typeof";return Kj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kj(n)}function l8(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function yO(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?l8(Object(s),!0).forEach(function(r){efe(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):l8(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function efe(n,e,s){return e=tfe(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function tfe(n){var e=nfe(n,"string");return Kj(e)=="symbol"?e:e+""}function nfe(n,e){if(Kj(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(Kj(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var $g={widthCache:{},cacheCount:0},sfe=2e3,rfe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},c8="recharts_measurement_span";function afe(n){var e=yO({},n);return Object.keys(e).forEach(function(s){e[s]||delete e[s]}),e}var xj=function(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Mx.isSsr)return{width:0,height:0};var r=afe(s),a=JSON.stringify({text:e,copyStyle:r});if($g.widthCache[a])return $g.widthCache[a];try{var i=document.getElementById(c8);i||(i=document.createElement("span"),i.setAttribute("id",c8),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=yO(yO({},rfe),r);Object.assign(i.style,o),i.textContent="".concat(e);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return $g.widthCache[a]=c,++$g.cacheCount>sfe&&($g.cacheCount=0,$g.widthCache={}),c}catch{return{width:0,height:0}}},ife=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Xj(n){"@babel/helpers - typeof";return Xj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xj(n)}function U_(n,e){return dfe(n)||cfe(n,e)||lfe(n,e)||ofe()}function ofe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lfe(n,e){if(n){if(typeof n=="string")return d8(n,e);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return d8(n,e)}}function d8(n,e){(e==null||e>n.length)&&(e=n.length);for(var s=0,r=new Array(e);s<e;s++)r[s]=n[s];return r}function cfe(n,e){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var r,a,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(n)).next,e===0){if(Object(s)!==s)return;c=!1}else for(;!(c=(r=i.call(s)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function dfe(n){if(Array.isArray(n))return n}function ufe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function u8(n,e){for(var s=0;s<e.length;s++){var r=e[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,ffe(r.key),r)}}function hfe(n,e,s){return e&&u8(n.prototype,e),s&&u8(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n}function ffe(n){var e=mfe(n,"string");return Xj(e)=="symbol"?e:e+""}function mfe(n,e){if(Xj(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(Xj(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var h8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,f8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pfe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,xfe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,uK={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},gfe=Object.keys(uK),_v="NaN";function vfe(n,e){return n*uK[e]}var zN=(function(){function n(e,s){ufe(this,n),this.num=e,this.unit=s,this.num=e,this.unit=s,Number.isNaN(e)&&(this.unit=""),s!==""&&!pfe.test(s)&&(this.num=NaN,this.unit=""),gfe.includes(s)&&(this.num=vfe(e,s),this.unit="px")}return hfe(n,[{key:"add",value:function(s){return this.unit!==s.unit?new n(NaN,""):new n(this.num+s.num,this.unit)}},{key:"subtract",value:function(s){return this.unit!==s.unit?new n(NaN,""):new n(this.num-s.num,this.unit)}},{key:"multiply",value:function(s){return this.unit!==""&&s.unit!==""&&this.unit!==s.unit?new n(NaN,""):new n(this.num*s.num,this.unit||s.unit)}},{key:"divide",value:function(s){return this.unit!==""&&s.unit!==""&&this.unit!==s.unit?new n(NaN,""):new n(this.num/s.num,this.unit||s.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(s){var r,a=(r=xfe.exec(s))!==null&&r!==void 0?r:[],i=U_(a,3),o=i[1],l=i[2];return new n(parseFloat(o),l??"")}}])})();function hK(n){if(n.includes(_v))return _v;for(var e=n;e.includes("*")||e.includes("/");){var s,r=(s=h8.exec(e))!==null&&s!==void 0?s:[],a=U_(r,4),i=a[1],o=a[2],l=a[3],c=zN.parse(i??""),d=zN.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return _v;e=e.replace(h8,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,m=(h=f8.exec(e))!==null&&h!==void 0?h:[],y=U_(m,4),N=y[1],j=y[2],v=y[3],b=zN.parse(N??""),A=zN.parse(v??""),S=j==="+"?b.add(A):b.subtract(A);if(S.isNaN())return _v;e=e.replace(f8,S.toString())}return e}var m8=/\(([^()]*)\)/;function yfe(n){for(var e=n;e.includes("(");){var s=m8.exec(e),r=U_(s,2),a=r[1];e=e.replace(m8,hK(a))}return e}function bfe(n){var e=n.replace(/\s+/g,"");return e=yfe(e),e=hK(e),e}function jfe(n){try{return bfe(n)}catch{return _v}}function fP(n){var e=jfe(n.slice(5,-1));return e===_v?"":e}var wfe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Nfe=["dx","dy","angle","className","breakAll"];function bO(){return bO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},bO.apply(this,arguments)}function p8(n,e){if(n==null)return{};var s=Sfe(n,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(s[r]=n[r])}return s}function Sfe(n,e){if(n==null)return{};var s={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;s[r]=n[r]}return s}function x8(n,e){return Tfe(n)||Cfe(n,e)||Afe(n,e)||_fe()}function _fe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Afe(n,e){if(n){if(typeof n=="string")return g8(n,e);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return g8(n,e)}}function g8(n,e){(e==null||e>n.length)&&(e=n.length);for(var s=0,r=new Array(e);s<e;s++)r[s]=n[s];return r}function Cfe(n,e){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var r,a,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(n)).next,e===0){if(Object(s)!==s)return;c=!1}else for(;!(c=(r=i.call(s)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Tfe(n){if(Array.isArray(n))return n}var fK=/[ \f\n\r\t\v\u2028\u2029]+/,mK=function(e){var s=e.children,r=e.breakAll,a=e.style;try{var i=[];ls(s)||(r?i=s.toString().split(""):i=s.toString().split(fK));var o=i.map(function(c){return{word:c,width:xj(c,a).width}}),l=r?0:xj(" ",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Efe=function(e,s,r,a,i){var o=e.maxLines,l=e.children,c=e.style,d=e.breakAll,u=Ot(o),h=l,m=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return J.reduce(function(W,ee){var G=ee.word,ae=ee.width,fe=W[W.length-1];if(fe&&(a==null||i||fe.width+ae+r<Number(a)))fe.words.push(G),fe.width+=ae+r;else{var se={words:[G],width:ae};W.push(se)}return W},[])},y=m(s),N=function(J){return J.reduce(function(W,ee){return W.width>ee.width?W:ee})};if(!u)return y;for(var j="…",v=function(J){var W=h.slice(0,J),ee=mK({breakAll:d,style:c,children:W+j}).wordsWithComputedWidth,G=m(ee),ae=G.length>o||N(G).width>Number(a);return[ae,G]},b=0,A=h.length-1,S=0,w;b<=A&&S<=h.length-1;){var E=Math.floor((b+A)/2),T=E-1,P=v(T),k=x8(P,2),I=k[0],L=k[1],U=v(E),H=x8(U,1),B=H[0];if(!I&&!B&&(b=E+1),I&&B&&(A=E-1),!I&&B){w=L;break}S++}return w||y},v8=function(e){var s=ls(e)?[]:e.toString().split(fK);return[{words:s}]},Mfe=function(e){var s=e.width,r=e.scaleToFit,a=e.children,i=e.style,o=e.breakAll,l=e.maxLines;if((s||r)&&!Mx.isSsr){var c,d,u=mK({breakAll:o,children:a,style:i});if(u){var h=u.wordsWithComputedWidth,m=u.spaceWidth;c=h,d=m}else return v8(a);return Efe({breakAll:o,children:a,maxLines:l,style:i},c,d,s,r)}return v8(a)},y8="#808080",px=function(e){var s=e.x,r=s===void 0?0:s,a=e.y,i=a===void 0?0:a,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,d=c===void 0?"0.71em":c,u=e.scaleToFit,h=u===void 0?!1:u,m=e.textAnchor,y=m===void 0?"start":m,N=e.verticalAnchor,j=N===void 0?"end":N,v=e.fill,b=v===void 0?y8:v,A=p8(e,wfe),S=R.useMemo(function(){return Mfe({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:h,style:A.style,width:A.width})},[A.breakAll,A.children,A.maxLines,h,A.style,A.width]),w=A.dx,E=A.dy,T=A.angle,P=A.className,k=A.breakAll,I=p8(A,Nfe);if(!qa(r)||!qa(i))return null;var L=r+(Ot(w)?w:0),U=i+(Ot(E)?E:0),H;switch(j){case"start":H=fP("calc(".concat(d,")"));break;case"middle":H=fP("calc(".concat((S.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:H=fP("calc(".concat(S.length-1," * -").concat(l,")"));break}var B=[];if(h){var K=S[0].width,J=A.width;B.push("scale(".concat((Ot(J)?J/K:1)/K,")"))}return T&&B.push("rotate(".concat(T,", ").concat(L,", ").concat(U,")")),B.length&&(I.transform=B.join(" ")),ge.createElement("text",bO({},In(I,!0),{x:L,y:U,className:os("recharts-text",P),textAnchor:y,fill:b.includes("url")?y8:b}),S.map(function(W,ee){var G=W.words.join(k?"":" ");return ge.createElement("tspan",{x:L,dy:ee===0?H:l,key:"".concat(G,"-").concat(ee)},G)}))};function zf(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function Pfe(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function aI(n){let e,s,r;n.length!==2?(e=zf,s=(l,c)=>zf(n(l),c),r=(l,c)=>n(l)-c):(e=n===zf||n===Pfe?n:Rfe,s=n,r=n);function a(l,c,d=0,u=l.length){if(d<u){if(e(c,c)!==0)return u;do{const h=d+u>>>1;s(l[h],c)<0?d=h+1:u=h}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(e(c,c)!==0)return u;do{const h=d+u>>>1;s(l[h],c)<=0?d=h+1:u=h}while(d<u)}return d}function o(l,c,d=0,u=l.length){const h=a(l,c,d,u-1);return h>d&&r(l[h-1],c)>-r(l[h],c)?h-1:h}return{left:a,center:o,right:i}}function Rfe(){return 0}function pK(n){return n===null?NaN:+n}function*Ofe(n,e){for(let s of n)s!=null&&(s=+s)>=s&&(yield s)}const kfe=aI(zf),aw=kfe.right;aI(pK).center;class b8 extends Map{constructor(e,s=Lfe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:s}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(j8(this,e))}has(e){return super.has(j8(this,e))}set(e,s){return super.set(Ife(this,e),s)}delete(e){return super.delete(Dfe(this,e))}}function j8({_intern:n,_key:e},s){const r=e(s);return n.has(r)?n.get(r):s}function Ife({_intern:n,_key:e},s){const r=e(s);return n.has(r)?n.get(r):(n.set(r,s),s)}function Dfe({_intern:n,_key:e},s){const r=e(s);return n.has(r)&&(s=n.get(r),n.delete(r)),s}function Lfe(n){return n!==null&&typeof n=="object"?n.valueOf():n}function Ffe(n=zf){if(n===zf)return xK;if(typeof n!="function")throw new TypeError("compare is not a function");return(e,s)=>{const r=n(e,s);return r||r===0?r:(n(s,s)===0)-(n(e,e)===0)}}function xK(n,e){return(n==null||!(n>=n))-(e==null||!(e>=e))||(n<e?-1:n>e?1:0)}const Ufe=Math.sqrt(50),zfe=Math.sqrt(10),Bfe=Math.sqrt(2);function z_(n,e,s){const r=(e-n)/Math.max(0,s),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=Ufe?10:i>=zfe?5:i>=Bfe?2:1;let l,c,d;return a<0?(d=Math.pow(10,-a)/o,l=Math.round(n*d),c=Math.round(e*d),l/d<n&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,a)*o,l=Math.round(n/d),c=Math.round(e/d),l*d<n&&++l,c*d>e&&--c),c<l&&.5<=s&&s<2?z_(n,e,s*2):[l,c,d]}function jO(n,e,s){if(e=+e,n=+n,s=+s,!(s>0))return[];if(n===e)return[n];const r=e<n,[a,i,o]=r?z_(e,n,s):z_(n,e,s);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(r)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(a+d)/-o;else for(let d=0;d<l;++d)c[d]=(a+d)*o;return c}function wO(n,e,s){return e=+e,n=+n,s=+s,z_(n,e,s)[2]}function NO(n,e,s){e=+e,n=+n,s=+s;const r=e<n,a=r?wO(e,n,s):wO(n,e,s);return(r?-1:1)*(a<0?1/-a:a)}function w8(n,e){let s;for(const r of n)r!=null&&(s<r||s===void 0&&r>=r)&&(s=r);return s}function N8(n,e){let s;for(const r of n)r!=null&&(s>r||s===void 0&&r>=r)&&(s=r);return s}function gK(n,e,s=0,r=1/0,a){if(e=Math.floor(e),s=Math.floor(Math.max(0,s)),r=Math.floor(Math.min(n.length-1,r)),!(s<=e&&e<=r))return n;for(a=a===void 0?xK:Ffe(a);r>s;){if(r-s>600){const c=r-s+1,d=e-s+1,u=Math.log(c),h=.5*Math.exp(2*u/3),m=.5*Math.sqrt(u*h*(c-h)/c)*(d-c/2<0?-1:1),y=Math.max(s,Math.floor(e-d*h/c+m)),N=Math.min(r,Math.floor(e+(c-d)*h/c+m));gK(n,e,y,N,a)}const i=n[e];let o=s,l=r;for(Mb(n,s,e),a(n[r],i)>0&&Mb(n,s,r);o<l;){for(Mb(n,o,l),++o,--l;a(n[o],i)<0;)++o;for(;a(n[l],i)>0;)--l}a(n[s],i)===0?Mb(n,s,l):(++l,Mb(n,l,r)),l<=e&&(s=l+1),e<=l&&(r=l-1)}return n}function Mb(n,e,s){const r=n[e];n[e]=n[s],n[s]=r}function Vfe(n,e,s){if(n=Float64Array.from(Ofe(n)),!(!(r=n.length)||isNaN(e=+e))){if(e<=0||r<2)return N8(n);if(e>=1)return w8(n);var r,a=(r-1)*e,i=Math.floor(a),o=w8(gK(n,i).subarray(0,i+1)),l=N8(n.subarray(i+1));return o+(l-o)*(a-i)}}function Hfe(n,e,s=pK){if(!(!(r=n.length)||isNaN(e=+e))){if(e<=0||r<2)return+s(n[0],0,n);if(e>=1)return+s(n[r-1],r-1,n);var r,a=(r-1)*e,i=Math.floor(a),o=+s(n[i],i,n),l=+s(n[i+1],i+1,n);return o+(l-o)*(a-i)}}function Gfe(n,e,s){n=+n,e=+e,s=(a=arguments.length)<2?(e=n,n=0,1):a<3?1:+s;for(var r=-1,a=Math.max(0,Math.ceil((e-n)/s))|0,i=new Array(a);++r<a;)i[r]=n+r*s;return i}function lc(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}function Rh(n,e){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const SO=Symbol("implicit");function iI(){var n=new b8,e=[],s=[],r=SO;function a(i){let o=n.get(i);if(o===void 0){if(r!==SO)return r;n.set(i,o=e.push(i)-1)}return s[o%s.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],n=new b8;for(const o of i)n.has(o)||n.set(o,e.push(o)-1);return a},a.range=function(i){return arguments.length?(s=Array.from(i),a):s.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return iI(e,s).unknown(r)},lc.apply(a,arguments),a}function Zj(){var n=iI().unknown(void 0),e=n.domain,s=n.range,r=0,a=1,i,o,l=!1,c=0,d=0,u=.5;delete n.unknown;function h(){var m=e().length,y=a<r,N=y?a:r,j=y?r:a;i=(j-N)/Math.max(1,m-c+d*2),l&&(i=Math.floor(i)),N+=(j-N-i*(m-c))*u,o=i*(1-c),l&&(N=Math.round(N),o=Math.round(o));var v=Gfe(m).map(function(b){return N+i*b});return s(y?v.reverse():v)}return n.domain=function(m){return arguments.length?(e(m),h()):e()},n.range=function(m){return arguments.length?([r,a]=m,r=+r,a=+a,h()):[r,a]},n.rangeRound=function(m){return[r,a]=m,r=+r,a=+a,l=!0,h()},n.bandwidth=function(){return o},n.step=function(){return i},n.round=function(m){return arguments.length?(l=!!m,h()):l},n.padding=function(m){return arguments.length?(c=Math.min(1,d=+m),h()):c},n.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),h()):c},n.paddingOuter=function(m){return arguments.length?(d=+m,h()):d},n.align=function(m){return arguments.length?(u=Math.max(0,Math.min(1,m)),h()):u},n.copy=function(){return Zj(e(),[r,a]).round(l).paddingInner(c).paddingOuter(d).align(u)},lc.apply(h(),arguments)}function vK(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return vK(e())},n}function gj(){return vK(Zj.apply(null,arguments).paddingInner(1))}function oI(n,e,s){n.prototype=e.prototype=s,s.constructor=n}function yK(n,e){var s=Object.create(n.prototype);for(var r in e)s[r]=e[r];return s}function iw(){}var Yj=.7,B_=1/Yj,Uv="\\s*([+-]?\\d+)\\s*",Qj="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$fe=/^#([0-9a-f]{3,8})$/,qfe=new RegExp(`^rgb\\(${Uv},${Uv},${Uv}\\)$`),Wfe=new RegExp(`^rgb\\(${Zd},${Zd},${Zd}\\)$`),Kfe=new RegExp(`^rgba\\(${Uv},${Uv},${Uv},${Qj}\\)$`),Xfe=new RegExp(`^rgba\\(${Zd},${Zd},${Zd},${Qj}\\)$`),Zfe=new RegExp(`^hsl\\(${Qj},${Zd},${Zd}\\)$`),Yfe=new RegExp(`^hsla\\(${Qj},${Zd},${Zd},${Qj}\\)$`),S8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};oI(iw,Jj,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:_8,formatHex:_8,formatHex8:Qfe,formatHsl:Jfe,formatRgb:A8,toString:A8});function _8(){return this.rgb().formatHex()}function Qfe(){return this.rgb().formatHex8()}function Jfe(){return bK(this).formatHsl()}function A8(){return this.rgb().formatRgb()}function Jj(n){var e,s;return n=(n+"").trim().toLowerCase(),(e=$fe.exec(n))?(s=e[1].length,e=parseInt(e[1],16),s===6?C8(e):s===3?new Xo(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):s===8?BN(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):s===4?BN(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=qfe.exec(n))?new Xo(e[1],e[2],e[3],1):(e=Wfe.exec(n))?new Xo(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Kfe.exec(n))?BN(e[1],e[2],e[3],e[4]):(e=Xfe.exec(n))?BN(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Zfe.exec(n))?M8(e[1],e[2]/100,e[3]/100,1):(e=Yfe.exec(n))?M8(e[1],e[2]/100,e[3]/100,e[4]):S8.hasOwnProperty(n)?C8(S8[n]):n==="transparent"?new Xo(NaN,NaN,NaN,0):null}function C8(n){return new Xo(n>>16&255,n>>8&255,n&255,1)}function BN(n,e,s,r){return r<=0&&(n=e=s=NaN),new Xo(n,e,s,r)}function eme(n){return n instanceof iw||(n=Jj(n)),n?(n=n.rgb(),new Xo(n.r,n.g,n.b,n.opacity)):new Xo}function _O(n,e,s,r){return arguments.length===1?eme(n):new Xo(n,e,s,r??1)}function Xo(n,e,s,r){this.r=+n,this.g=+e,this.b=+s,this.opacity=+r}oI(Xo,_O,yK(iw,{brighter(n){return n=n==null?B_:Math.pow(B_,n),new Xo(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?Yj:Math.pow(Yj,n),new Xo(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Xo(Kp(this.r),Kp(this.g),Kp(this.b),V_(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:T8,formatHex:T8,formatHex8:tme,formatRgb:E8,toString:E8}));function T8(){return`#${Lp(this.r)}${Lp(this.g)}${Lp(this.b)}`}function tme(){return`#${Lp(this.r)}${Lp(this.g)}${Lp(this.b)}${Lp((isNaN(this.opacity)?1:this.opacity)*255)}`}function E8(){const n=V_(this.opacity);return`${n===1?"rgb(":"rgba("}${Kp(this.r)}, ${Kp(this.g)}, ${Kp(this.b)}${n===1?")":`, ${n})`}`}function V_(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Kp(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Lp(n){return n=Kp(n),(n<16?"0":"")+n.toString(16)}function M8(n,e,s,r){return r<=0?n=e=s=NaN:s<=0||s>=1?n=e=NaN:e<=0&&(n=NaN),new Qc(n,e,s,r)}function bK(n){if(n instanceof Qc)return new Qc(n.h,n.s,n.l,n.opacity);if(n instanceof iw||(n=Jj(n)),!n)return new Qc;if(n instanceof Qc)return n;n=n.rgb();var e=n.r/255,s=n.g/255,r=n.b/255,a=Math.min(e,s,r),i=Math.max(e,s,r),o=NaN,l=i-a,c=(i+a)/2;return l?(e===i?o=(s-r)/l+(s<r)*6:s===i?o=(r-e)/l+2:o=(e-s)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Qc(o,l,c,n.opacity)}function nme(n,e,s,r){return arguments.length===1?bK(n):new Qc(n,e,s,r??1)}function Qc(n,e,s,r){this.h=+n,this.s=+e,this.l=+s,this.opacity=+r}oI(Qc,nme,yK(iw,{brighter(n){return n=n==null?B_:Math.pow(B_,n),new Qc(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Yj:Math.pow(Yj,n),new Qc(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,s=this.l,r=s+(s<.5?s:1-s)*e,a=2*s-r;return new Xo(mP(n>=240?n-240:n+120,a,r),mP(n,a,r),mP(n<120?n+240:n-120,a,r),this.opacity)},clamp(){return new Qc(P8(this.h),VN(this.s),VN(this.l),V_(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=V_(this.opacity);return`${n===1?"hsl(":"hsla("}${P8(this.h)}, ${VN(this.s)*100}%, ${VN(this.l)*100}%${n===1?")":`, ${n})`}`}}));function P8(n){return n=(n||0)%360,n<0?n+360:n}function VN(n){return Math.max(0,Math.min(1,n||0))}function mP(n,e,s){return(n<60?e+(s-e)*n/60:n<180?s:n<240?e+(s-e)*(240-n)/60:e)*255}const lI=n=>()=>n;function sme(n,e){return function(s){return n+s*e}}function rme(n,e,s){return n=Math.pow(n,s),e=Math.pow(e,s)-n,s=1/s,function(r){return Math.pow(n+r*e,s)}}function ame(n){return(n=+n)==1?jK:function(e,s){return s-e?rme(e,s,n):lI(isNaN(e)?s:e)}}function jK(n,e){var s=e-n;return s?sme(n,s):lI(isNaN(n)?e:n)}const R8=(function n(e){var s=ame(e);function r(a,i){var o=s((a=_O(a)).r,(i=_O(i)).r),l=s(a.g,i.g),c=s(a.b,i.b),d=jK(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=l(u),a.b=c(u),a.opacity=d(u),a+""}}return r.gamma=n,r})(1);function ime(n,e){e||(e=[]);var s=n?Math.min(e.length,n.length):0,r=e.slice(),a;return function(i){for(a=0;a<s;++a)r[a]=n[a]*(1-i)+e[a]*i;return r}}function ome(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function lme(n,e){var s=e?e.length:0,r=n?Math.min(s,n.length):0,a=new Array(r),i=new Array(s),o;for(o=0;o<r;++o)a[o]=oy(n[o],e[o]);for(;o<s;++o)i[o]=e[o];return function(l){for(o=0;o<r;++o)i[o]=a[o](l);return i}}function cme(n,e){var s=new Date;return n=+n,e=+e,function(r){return s.setTime(n*(1-r)+e*r),s}}function H_(n,e){return n=+n,e=+e,function(s){return n*(1-s)+e*s}}function dme(n,e){var s={},r={},a;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in n?s[a]=oy(n[a],e[a]):r[a]=e[a];return function(i){for(a in s)r[a]=s[a](i);return r}}var AO=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pP=new RegExp(AO.source,"g");function ume(n){return function(){return n}}function hme(n){return function(e){return n(e)+""}}function fme(n,e){var s=AO.lastIndex=pP.lastIndex=0,r,a,i,o=-1,l=[],c=[];for(n=n+"",e=e+"";(r=AO.exec(n))&&(a=pP.exec(e));)(i=a.index)>s&&(i=e.slice(s,i),l[o]?l[o]+=i:l[++o]=i),(r=r[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:H_(r,a)})),s=pP.lastIndex;return s<e.length&&(i=e.slice(s),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?hme(c[0].x):ume(e):(e=c.length,function(d){for(var u=0,h;u<e;++u)l[(h=c[u]).i]=h.x(d);return l.join("")})}function oy(n,e){var s=typeof e,r;return e==null||s==="boolean"?lI(e):(s==="number"?H_:s==="string"?(r=Jj(e))?(e=r,R8):fme:e instanceof Jj?R8:e instanceof Date?cme:ome(e)?ime:Array.isArray(e)?lme:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?dme:H_)(n,e)}function cI(n,e){return n=+n,e=+e,function(s){return Math.round(n*(1-s)+e*s)}}function mme(n,e){e===void 0&&(e=n,n=oy);for(var s=0,r=e.length-1,a=e[0],i=new Array(r<0?0:r);s<r;)i[s]=n(a,a=e[++s]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[l](o-l)}}function pme(n){return function(){return n}}function G_(n){return+n}var O8=[0,1];function No(n){return n}function CO(n,e){return(e-=n=+n)?function(s){return(s-n)/e}:pme(isNaN(e)?NaN:.5)}function xme(n,e){var s;return n>e&&(s=n,n=e,e=s),function(r){return Math.max(n,Math.min(e,r))}}function gme(n,e,s){var r=n[0],a=n[1],i=e[0],o=e[1];return a<r?(r=CO(a,r),i=s(o,i)):(r=CO(r,a),i=s(i,o)),function(l){return i(r(l))}}function vme(n,e,s){var r=Math.min(n.length,e.length)-1,a=new Array(r),i=new Array(r),o=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++o<r;)a[o]=CO(n[o],n[o+1]),i[o]=s(e[o],e[o+1]);return function(l){var c=aw(n,l,1,r)-1;return i[c](a[c](l))}}function ow(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function gC(){var n=O8,e=O8,s=oy,r,a,i,o=No,l,c,d;function u(){var m=Math.min(n.length,e.length);return o!==No&&(o=xme(n[0],n[m-1])),l=m>2?vme:gme,c=d=null,h}function h(m){return m==null||isNaN(m=+m)?i:(c||(c=l(n.map(r),e,s)))(r(o(m)))}return h.invert=function(m){return o(a((d||(d=l(e,n.map(r),H_)))(m)))},h.domain=function(m){return arguments.length?(n=Array.from(m,G_),u()):n.slice()},h.range=function(m){return arguments.length?(e=Array.from(m),u()):e.slice()},h.rangeRound=function(m){return e=Array.from(m),s=cI,u()},h.clamp=function(m){return arguments.length?(o=m?!0:No,u()):o!==No},h.interpolate=function(m){return arguments.length?(s=m,u()):s},h.unknown=function(m){return arguments.length?(i=m,h):i},function(m,y){return r=m,a=y,u()}}function dI(){return gC()(No,No)}function yme(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function $_(n,e){if((s=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var s,r=n.slice(0,s);return[r.length>1?r[0]+r.slice(2):r,+n.slice(s+1)]}function o0(n){return n=$_(Math.abs(n)),n?n[1]:NaN}function bme(n,e){return function(s,r){for(var a=s.length,i=[],o=0,l=n[0],c=0;a>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),i.push(s.substring(a-=l,a+l)),!((c+=l+1)>r));)l=n[o=(o+1)%n.length];return i.reverse().join(e)}}function jme(n){return function(e){return e.replace(/[0-9]/g,function(s){return n[+s]})}}var wme=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function e1(n){if(!(e=wme.exec(n)))throw new Error("invalid format: "+n);var e;return new uI({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}e1.prototype=uI.prototype;function uI(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}uI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Nme(n){e:for(var e=n.length,s=1,r=-1,a;s<e;++s)switch(n[s]){case".":r=a=s;break;case"0":r===0&&(r=s),a=s;break;default:if(!+n[s])break e;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(a+1):n}var wK;function Sme(n,e){var s=$_(n,e);if(!s)return n+"";var r=s[0],a=s[1],i=a-(wK=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+$_(n,Math.max(0,e+i-1))[0]}function k8(n,e){var s=$_(n,e);if(!s)return n+"";var r=s[0],a=s[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const I8={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:yme,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>k8(n*100,e),r:k8,s:Sme,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function D8(n){return n}var L8=Array.prototype.map,F8=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function _me(n){var e=n.grouping===void 0||n.thousands===void 0?D8:bme(L8.call(n.grouping,Number),n.thousands+""),s=n.currency===void 0?"":n.currency[0]+"",r=n.currency===void 0?"":n.currency[1]+"",a=n.decimal===void 0?".":n.decimal+"",i=n.numerals===void 0?D8:jme(L8.call(n.numerals,String)),o=n.percent===void 0?"%":n.percent+"",l=n.minus===void 0?"−":n.minus+"",c=n.nan===void 0?"NaN":n.nan+"";function d(h){h=e1(h);var m=h.fill,y=h.align,N=h.sign,j=h.symbol,v=h.zero,b=h.width,A=h.comma,S=h.precision,w=h.trim,E=h.type;E==="n"?(A=!0,E="g"):I8[E]||(S===void 0&&(S=12),w=!0,E="g"),(v||m==="0"&&y==="=")&&(v=!0,m="0",y="=");var T=j==="$"?s:j==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",P=j==="$"?r:/[%p]/.test(E)?o:"",k=I8[E],I=/[defgprs%]/.test(E);S=S===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function L(U){var H=T,B=P,K,J,W;if(E==="c")B=k(U)+B,U="";else{U=+U;var ee=U<0||1/U<0;if(U=isNaN(U)?c:k(Math.abs(U),S),w&&(U=Nme(U)),ee&&+U==0&&N!=="+"&&(ee=!1),H=(ee?N==="("?N:l:N==="-"||N==="("?"":N)+H,B=(E==="s"?F8[8+wK/3]:"")+B+(ee&&N==="("?")":""),I){for(K=-1,J=U.length;++K<J;)if(W=U.charCodeAt(K),48>W||W>57){B=(W===46?a+U.slice(K+1):U.slice(K))+B,U=U.slice(0,K);break}}}A&&!v&&(U=e(U,1/0));var G=H.length+U.length+B.length,ae=G<b?new Array(b-G+1).join(m):"";switch(A&&v&&(U=e(ae+U,ae.length?b-B.length:1/0),ae=""),y){case"<":U=H+U+B+ae;break;case"=":U=H+ae+U+B;break;case"^":U=ae.slice(0,G=ae.length>>1)+H+U+B+ae.slice(G);break;default:U=ae+H+U+B;break}return i(U)}return L.toString=function(){return h+""},L}function u(h,m){var y=d((h=e1(h),h.type="f",h)),N=Math.max(-8,Math.min(8,Math.floor(o0(m)/3)))*3,j=Math.pow(10,-N),v=F8[8+N/3];return function(b){return y(j*b)+v}}return{format:d,formatPrefix:u}}var HN,hI,NK;Ame({thousands:",",grouping:[3],currency:["$",""]});function Ame(n){return HN=_me(n),hI=HN.format,NK=HN.formatPrefix,HN}function Cme(n){return Math.max(0,-o0(Math.abs(n)))}function Tme(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(o0(e)/3)))*3-o0(Math.abs(n)))}function Eme(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,o0(e)-o0(n))+1}function SK(n,e,s,r){var a=NO(n,e,s),i;switch(r=e1(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(n),Math.abs(e));return r.precision==null&&!isNaN(i=Tme(a,o))&&(r.precision=i),NK(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=Eme(a,Math.max(Math.abs(n),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=Cme(a))&&(r.precision=i-(r.type==="%")*2);break}}return hI(r)}function nm(n){var e=n.domain;return n.ticks=function(s){var r=e();return jO(r[0],r[r.length-1],s??10)},n.tickFormat=function(s,r){var a=e();return SK(a[0],a[a.length-1],s??10,r)},n.nice=function(s){s==null&&(s=10);var r=e(),a=0,i=r.length-1,o=r[a],l=r[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=a,a=i,i=d);u-- >0;){if(d=wO(o,l,s),d===c)return r[a]=o,r[i]=l,e(r);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return n},n}function q_(){var n=dI();return n.copy=function(){return ow(n,q_())},lc.apply(n,arguments),nm(n)}function _K(n){var e;function s(r){return r==null||isNaN(r=+r)?e:r}return s.invert=s,s.domain=s.range=function(r){return arguments.length?(n=Array.from(r,G_),s):n.slice()},s.unknown=function(r){return arguments.length?(e=r,s):e},s.copy=function(){return _K(n).unknown(e)},n=arguments.length?Array.from(n,G_):[0,1],nm(s)}function AK(n,e){n=n.slice();var s=0,r=n.length-1,a=n[s],i=n[r],o;return i<a&&(o=s,s=r,r=o,o=a,a=i,i=o),n[s]=e.floor(a),n[r]=e.ceil(i),n}function U8(n){return Math.log(n)}function z8(n){return Math.exp(n)}function Mme(n){return-Math.log(-n)}function Pme(n){return-Math.exp(-n)}function Rme(n){return isFinite(n)?+("1e"+n):n<0?0:n}function Ome(n){return n===10?Rme:n===Math.E?Math.exp:e=>Math.pow(n,e)}function kme(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),e=>Math.log(e)/n)}function B8(n){return(e,s)=>-n(-e,s)}function fI(n){const e=n(U8,z8),s=e.domain;let r=10,a,i;function o(){return a=kme(r),i=Ome(r),s()[0]<0?(a=B8(a),i=B8(i),n(Mme,Pme)):n(U8,z8),e}return e.base=function(l){return arguments.length?(r=+l,o()):r},e.domain=function(l){return arguments.length?(s(l),o()):s()},e.ticks=l=>{const c=s();let d=c[0],u=c[c.length-1];const h=u<d;h&&([d,u]=[u,d]);let m=a(d),y=a(u),N,j;const v=l==null?10:+l;let b=[];if(!(r%1)&&y-m<v){if(m=Math.floor(m),y=Math.ceil(y),d>0){for(;m<=y;++m)for(N=1;N<r;++N)if(j=m<0?N/i(-m):N*i(m),!(j<d)){if(j>u)break;b.push(j)}}else for(;m<=y;++m)for(N=r-1;N>=1;--N)if(j=m>0?N/i(-m):N*i(m),!(j<d)){if(j>u)break;b.push(j)}b.length*2<v&&(b=jO(d,u,v))}else b=jO(m,y,Math.min(y-m,v)).map(i);return h?b.reverse():b},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=e1(c)).precision==null&&(c.trim=!0),c=hI(c)),l===1/0)return c;const d=Math.max(1,r*l/e.ticks().length);return u=>{let h=u/i(Math.round(a(u)));return h*r<r-.5&&(h*=r),h<=d?c(u):""}},e.nice=()=>s(AK(s(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),e}function CK(){const n=fI(gC()).domain([1,10]);return n.copy=()=>ow(n,CK()).base(n.base()),lc.apply(n,arguments),n}function V8(n){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/n))}}function H8(n){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*n}}function mI(n){var e=1,s=n(V8(e),H8(e));return s.constant=function(r){return arguments.length?n(V8(e=+r),H8(e)):e},nm(s)}function TK(){var n=mI(gC());return n.copy=function(){return ow(n,TK()).constant(n.constant())},lc.apply(n,arguments)}function G8(n){return function(e){return e<0?-Math.pow(-e,n):Math.pow(e,n)}}function Ime(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function Dme(n){return n<0?-n*n:n*n}function pI(n){var e=n(No,No),s=1;function r(){return s===1?n(No,No):s===.5?n(Ime,Dme):n(G8(s),G8(1/s))}return e.exponent=function(a){return arguments.length?(s=+a,r()):s},nm(e)}function xI(){var n=pI(gC());return n.copy=function(){return ow(n,xI()).exponent(n.exponent())},lc.apply(n,arguments),n}function Lme(){return xI.apply(null,arguments).exponent(.5)}function $8(n){return Math.sign(n)*n*n}function Fme(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function EK(){var n=dI(),e=[0,1],s=!1,r;function a(i){var o=Fme(n(i));return isNaN(o)?r:s?Math.round(o):o}return a.invert=function(i){return n.invert($8(i))},a.domain=function(i){return arguments.length?(n.domain(i),a):n.domain()},a.range=function(i){return arguments.length?(n.range((e=Array.from(i,G_)).map($8)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(s=!!i,a):s},a.clamp=function(i){return arguments.length?(n.clamp(i),a):n.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return EK(n.domain(),e).round(s).clamp(n.clamp()).unknown(r)},lc.apply(a,arguments),nm(a)}function MK(){var n=[],e=[],s=[],r;function a(){var o=0,l=Math.max(1,e.length);for(s=new Array(l-1);++o<l;)s[o-1]=Hfe(n,o/l);return i}function i(o){return o==null||isNaN(o=+o)?r:e[aw(s,o)]}return i.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?s[l-1]:n[0],l<s.length?s[l]:n[n.length-1]]},i.domain=function(o){if(!arguments.length)return n.slice();n=[];for(let l of o)l!=null&&!isNaN(l=+l)&&n.push(l);return n.sort(zf),a()},i.range=function(o){return arguments.length?(e=Array.from(o),a()):e.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return s.slice()},i.copy=function(){return MK().domain(n).range(e).unknown(r)},lc.apply(i,arguments)}function PK(){var n=0,e=1,s=1,r=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[aw(r,c,0,s)]:i}function l(){var c=-1;for(r=new Array(s);++c<s;)r[c]=((c+1)*e-(c-s)*n)/(s+1);return o}return o.domain=function(c){return arguments.length?([n,e]=c,n=+n,e=+e,l()):[n,e]},o.range=function(c){return arguments.length?(s=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[n,r[0]]:d>=s?[r[s-1],e]:[r[d-1],r[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return PK().domain([n,e]).range(a).unknown(i)},lc.apply(nm(o),arguments)}function RK(){var n=[.5],e=[0,1],s,r=1;function a(i){return i!=null&&i<=i?e[aw(n,i,0,r)]:s}return a.domain=function(i){return arguments.length?(n=Array.from(i),r=Math.min(n.length,e.length-1),a):n.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),r=Math.min(n.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var o=e.indexOf(i);return[n[o-1],n[o]]},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return RK().domain(n).range(e).unknown(s)},lc.apply(a,arguments)}const xP=new Date,gP=new Date;function ti(n,e,s,r){function a(i){return n(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(n(i=new Date(+i)),i),a.ceil=i=>(n(i=new Date(i-1)),e(i,1),n(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),e(i,l),n(i);while(d<i&&i<o);return c},a.filter=i=>ti(o=>{if(o>=o)for(;n(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!i(o););else for(;--l>=0;)for(;e(o,1),!i(o););}),s&&(a.count=(i,o)=>(xP.setTime(+i),gP.setTime(+o),n(xP),n(gP),Math.floor(s(xP,gP))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const W_=ti(()=>{},(n,e)=>{n.setTime(+n+e)},(n,e)=>e-n);W_.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?ti(e=>{e.setTime(Math.floor(e/n)*n)},(e,s)=>{e.setTime(+e+s*n)},(e,s)=>(s-e)/n):W_);W_.range;const oh=1e3,sc=oh*60,lh=sc*60,wh=lh*24,gI=wh*7,q8=wh*30,vP=wh*365,Fp=ti(n=>{n.setTime(n-n.getMilliseconds())},(n,e)=>{n.setTime(+n+e*oh)},(n,e)=>(e-n)/oh,n=>n.getUTCSeconds());Fp.range;const vI=ti(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*oh)},(n,e)=>{n.setTime(+n+e*sc)},(n,e)=>(e-n)/sc,n=>n.getMinutes());vI.range;const yI=ti(n=>{n.setUTCSeconds(0,0)},(n,e)=>{n.setTime(+n+e*sc)},(n,e)=>(e-n)/sc,n=>n.getUTCMinutes());yI.range;const bI=ti(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*oh-n.getMinutes()*sc)},(n,e)=>{n.setTime(+n+e*lh)},(n,e)=>(e-n)/lh,n=>n.getHours());bI.range;const jI=ti(n=>{n.setUTCMinutes(0,0,0)},(n,e)=>{n.setTime(+n+e*lh)},(n,e)=>(e-n)/lh,n=>n.getUTCHours());jI.range;const lw=ti(n=>n.setHours(0,0,0,0),(n,e)=>n.setDate(n.getDate()+e),(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*sc)/wh,n=>n.getDate()-1);lw.range;const vC=ti(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/wh,n=>n.getUTCDate()-1);vC.range;const OK=ti(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/wh,n=>Math.floor(n/wh));OK.range;function Px(n){return ti(e=>{e.setDate(e.getDate()-(e.getDay()+7-n)%7),e.setHours(0,0,0,0)},(e,s)=>{e.setDate(e.getDate()+s*7)},(e,s)=>(s-e-(s.getTimezoneOffset()-e.getTimezoneOffset())*sc)/gI)}const yC=Px(0),K_=Px(1),Ume=Px(2),zme=Px(3),l0=Px(4),Bme=Px(5),Vme=Px(6);yC.range;K_.range;Ume.range;zme.range;l0.range;Bme.range;Vme.range;function Rx(n){return ti(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-n)%7),e.setUTCHours(0,0,0,0)},(e,s)=>{e.setUTCDate(e.getUTCDate()+s*7)},(e,s)=>(s-e)/gI)}const bC=Rx(0),X_=Rx(1),Hme=Rx(2),Gme=Rx(3),c0=Rx(4),$me=Rx(5),qme=Rx(6);bC.range;X_.range;Hme.range;Gme.range;c0.range;$me.range;qme.range;const wI=ti(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,e)=>{n.setMonth(n.getMonth()+e)},(n,e)=>e.getMonth()-n.getMonth()+(e.getFullYear()-n.getFullYear())*12,n=>n.getMonth());wI.range;const NI=ti(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCMonth(n.getUTCMonth()+e)},(n,e)=>e.getUTCMonth()-n.getUTCMonth()+(e.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());NI.range;const Nh=ti(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e)},(n,e)=>e.getFullYear()-n.getFullYear(),n=>n.getFullYear());Nh.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:ti(e=>{e.setFullYear(Math.floor(e.getFullYear()/n)*n),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,s)=>{e.setFullYear(e.getFullYear()+s*n)});Nh.range;const Sh=ti(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e)},(n,e)=>e.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());Sh.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:ti(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/n)*n),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,s)=>{e.setUTCFullYear(e.getUTCFullYear()+s*n)});Sh.range;function kK(n,e,s,r,a,i){const o=[[Fp,1,oh],[Fp,5,5*oh],[Fp,15,15*oh],[Fp,30,30*oh],[i,1,sc],[i,5,5*sc],[i,15,15*sc],[i,30,30*sc],[a,1,lh],[a,3,3*lh],[a,6,6*lh],[a,12,12*lh],[r,1,wh],[r,2,2*wh],[s,1,gI],[e,1,q8],[e,3,3*q8],[n,1,vP]];function l(d,u,h){const m=u<d;m&&([d,u]=[u,d]);const y=h&&typeof h.range=="function"?h:c(d,u,h),N=y?y.range(d,+u+1):[];return m?N.reverse():N}function c(d,u,h){const m=Math.abs(u-d)/h,y=aI(([,,v])=>v).right(o,m);if(y===o.length)return n.every(NO(d/vP,u/vP,h));if(y===0)return W_.every(Math.max(NO(d,u,h),1));const[N,j]=o[m/o[y-1][2]<o[y][2]/m?y-1:y];return N.every(j)}return[l,c]}const[Wme,Kme]=kK(Sh,NI,bC,OK,jI,yI),[Xme,Zme]=kK(Nh,wI,yC,lw,bI,vI);function yP(n){if(0<=n.y&&n.y<100){var e=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return e.setFullYear(n.y),e}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function bP(n){if(0<=n.y&&n.y<100){var e=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return e.setUTCFullYear(n.y),e}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function Pb(n,e,s){return{y:n,m:e,d:s,H:0,M:0,S:0,L:0}}function Yme(n){var e=n.dateTime,s=n.date,r=n.time,a=n.periods,i=n.days,o=n.shortDays,l=n.months,c=n.shortMonths,d=Rb(a),u=Ob(a),h=Rb(i),m=Ob(i),y=Rb(o),N=Ob(o),j=Rb(l),v=Ob(l),b=Rb(c),A=Ob(c),S={a:ee,A:G,b:ae,B:fe,c:null,d:Q8,e:Q8,f:bpe,g:Mpe,G:Rpe,H:gpe,I:vpe,j:ype,L:IK,m:jpe,M:wpe,p:se,q:me,Q:tB,s:nB,S:Npe,u:Spe,U:_pe,V:Ape,w:Cpe,W:Tpe,x:null,X:null,y:Epe,Y:Ppe,Z:Ope,"%":eB},w={a:Oe,A:Ye,b:dt,B:be,c:null,d:J8,e:J8,f:Lpe,g:Wpe,G:Xpe,H:kpe,I:Ipe,j:Dpe,L:LK,m:Fpe,M:Upe,p:Ce,q:Ue,Q:tB,s:nB,S:zpe,u:Bpe,U:Vpe,V:Hpe,w:Gpe,W:$pe,x:null,X:null,y:qpe,Y:Kpe,Z:Zpe,"%":eB},E={a:L,A:U,b:H,B,c:K,d:Z8,e:Z8,f:fpe,g:X8,G:K8,H:Y8,I:Y8,j:cpe,L:hpe,m:lpe,M:dpe,p:I,q:ope,Q:ppe,s:xpe,S:upe,u:npe,U:spe,V:rpe,w:tpe,W:ape,x:J,X:W,y:X8,Y:K8,Z:ipe,"%":mpe};S.x=T(s,S),S.X=T(r,S),S.c=T(e,S),w.x=T(s,w),w.X=T(r,w),w.c=T(e,w);function T(De,qe){return function(rt){var $e=[],pe=-1,Ke=0,et=De.length,st,Qe,At;for(rt instanceof Date||(rt=new Date(+rt));++pe<et;)De.charCodeAt(pe)===37&&($e.push(De.slice(Ke,pe)),(Qe=W8[st=De.charAt(++pe)])!=null?st=De.charAt(++pe):Qe=st==="e"?" ":"0",(At=qe[st])&&(st=At(rt,Qe)),$e.push(st),Ke=pe+1);return $e.push(De.slice(Ke,pe)),$e.join("")}}function P(De,qe){return function(rt){var $e=Pb(1900,void 0,1),pe=k($e,De,rt+="",0),Ke,et;if(pe!=rt.length)return null;if("Q"in $e)return new Date($e.Q);if("s"in $e)return new Date($e.s*1e3+("L"in $e?$e.L:0));if(qe&&!("Z"in $e)&&($e.Z=0),"p"in $e&&($e.H=$e.H%12+$e.p*12),$e.m===void 0&&($e.m="q"in $e?$e.q:0),"V"in $e){if($e.V<1||$e.V>53)return null;"w"in $e||($e.w=1),"Z"in $e?(Ke=bP(Pb($e.y,0,1)),et=Ke.getUTCDay(),Ke=et>4||et===0?X_.ceil(Ke):X_(Ke),Ke=vC.offset(Ke,($e.V-1)*7),$e.y=Ke.getUTCFullYear(),$e.m=Ke.getUTCMonth(),$e.d=Ke.getUTCDate()+($e.w+6)%7):(Ke=yP(Pb($e.y,0,1)),et=Ke.getDay(),Ke=et>4||et===0?K_.ceil(Ke):K_(Ke),Ke=lw.offset(Ke,($e.V-1)*7),$e.y=Ke.getFullYear(),$e.m=Ke.getMonth(),$e.d=Ke.getDate()+($e.w+6)%7)}else("W"in $e||"U"in $e)&&("w"in $e||($e.w="u"in $e?$e.u%7:"W"in $e?1:0),et="Z"in $e?bP(Pb($e.y,0,1)).getUTCDay():yP(Pb($e.y,0,1)).getDay(),$e.m=0,$e.d="W"in $e?($e.w+6)%7+$e.W*7-(et+5)%7:$e.w+$e.U*7-(et+6)%7);return"Z"in $e?($e.H+=$e.Z/100|0,$e.M+=$e.Z%100,bP($e)):yP($e)}}function k(De,qe,rt,$e){for(var pe=0,Ke=qe.length,et=rt.length,st,Qe;pe<Ke;){if($e>=et)return-1;if(st=qe.charCodeAt(pe++),st===37){if(st=qe.charAt(pe++),Qe=E[st in W8?qe.charAt(pe++):st],!Qe||($e=Qe(De,rt,$e))<0)return-1}else if(st!=rt.charCodeAt($e++))return-1}return $e}function I(De,qe,rt){var $e=d.exec(qe.slice(rt));return $e?(De.p=u.get($e[0].toLowerCase()),rt+$e[0].length):-1}function L(De,qe,rt){var $e=y.exec(qe.slice(rt));return $e?(De.w=N.get($e[0].toLowerCase()),rt+$e[0].length):-1}function U(De,qe,rt){var $e=h.exec(qe.slice(rt));return $e?(De.w=m.get($e[0].toLowerCase()),rt+$e[0].length):-1}function H(De,qe,rt){var $e=b.exec(qe.slice(rt));return $e?(De.m=A.get($e[0].toLowerCase()),rt+$e[0].length):-1}function B(De,qe,rt){var $e=j.exec(qe.slice(rt));return $e?(De.m=v.get($e[0].toLowerCase()),rt+$e[0].length):-1}function K(De,qe,rt){return k(De,e,qe,rt)}function J(De,qe,rt){return k(De,s,qe,rt)}function W(De,qe,rt){return k(De,r,qe,rt)}function ee(De){return o[De.getDay()]}function G(De){return i[De.getDay()]}function ae(De){return c[De.getMonth()]}function fe(De){return l[De.getMonth()]}function se(De){return a[+(De.getHours()>=12)]}function me(De){return 1+~~(De.getMonth()/3)}function Oe(De){return o[De.getUTCDay()]}function Ye(De){return i[De.getUTCDay()]}function dt(De){return c[De.getUTCMonth()]}function be(De){return l[De.getUTCMonth()]}function Ce(De){return a[+(De.getUTCHours()>=12)]}function Ue(De){return 1+~~(De.getUTCMonth()/3)}return{format:function(De){var qe=T(De+="",S);return qe.toString=function(){return De},qe},parse:function(De){var qe=P(De+="",!1);return qe.toString=function(){return De},qe},utcFormat:function(De){var qe=T(De+="",w);return qe.toString=function(){return De},qe},utcParse:function(De){var qe=P(De+="",!0);return qe.toString=function(){return De},qe}}}var W8={"-":"",_:" ",0:"0"},gi=/^\s*\d+/,Qme=/^%/,Jme=/[\\^$*+?|[\]().{}]/g;function Hs(n,e,s){var r=n<0?"-":"",a=(r?-n:n)+"",i=a.length;return r+(i<s?new Array(s-i+1).join(e)+a:a)}function epe(n){return n.replace(Jme,"\\$&")}function Rb(n){return new RegExp("^(?:"+n.map(epe).join("|")+")","i")}function Ob(n){return new Map(n.map((e,s)=>[e.toLowerCase(),s]))}function tpe(n,e,s){var r=gi.exec(e.slice(s,s+1));return r?(n.w=+r[0],s+r[0].length):-1}function npe(n,e,s){var r=gi.exec(e.slice(s,s+1));return r?(n.u=+r[0],s+r[0].length):-1}function spe(n,e,s){var r=gi.exec(e.slice(s,s+2));return r?(n.U=+r[0],s+r[0].length):-1}function rpe(n,e,s){var r=gi.exec(e.slice(s,s+2));return r?(n.V=+r[0],s+r[0].length):-1}function ape(n,e,s){var r=gi.exec(e.slice(s,s+2));return r?(n.W=+r[0],s+r[0].length):-1}function K8(n,e,s){var r=gi.exec(e.slice(s,s+4));return r?(n.y=+r[0],s+r[0].length):-1}function X8(n,e,s){var r=gi.exec(e.slice(s,s+2));return r?(n.y=+r[0]+(+r[0]>68?1900:2e3),s+r[0].length):-1}function ipe(n,e,s){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(s,s+6));return r?(n.Z=r[1]?0:-(r[2]+(r[3]||"00")),s+r[0].length):-1}function ope(n,e,s){var r=gi.exec(e.slice(s,s+1));return r?(n.q=r[0]*3-3,s+r[0].length):-1}function lpe(n,e,s){var r=gi.exec(e.slice(s,s+2));return r?(n.m=r[0]-1,s+r[0].length):-1}function Z8(n,e,s){var r=gi.exec(e.slice(s,s+2));return r?(n.d=+r[0],s+r[0].length):-1}function cpe(n,e,s){var r=gi.exec(e.slice(s,s+3));return r?(n.m=0,n.d=+r[0],s+r[0].length):-1}function Y8(n,e,s){var r=gi.exec(e.slice(s,s+2));return r?(n.H=+r[0],s+r[0].length):-1}function dpe(n,e,s){var r=gi.exec(e.slice(s,s+2));return r?(n.M=+r[0],s+r[0].length):-1}function upe(n,e,s){var r=gi.exec(e.slice(s,s+2));return r?(n.S=+r[0],s+r[0].length):-1}function hpe(n,e,s){var r=gi.exec(e.slice(s,s+3));return r?(n.L=+r[0],s+r[0].length):-1}function fpe(n,e,s){var r=gi.exec(e.slice(s,s+6));return r?(n.L=Math.floor(r[0]/1e3),s+r[0].length):-1}function mpe(n,e,s){var r=Qme.exec(e.slice(s,s+1));return r?s+r[0].length:-1}function ppe(n,e,s){var r=gi.exec(e.slice(s));return r?(n.Q=+r[0],s+r[0].length):-1}function xpe(n,e,s){var r=gi.exec(e.slice(s));return r?(n.s=+r[0],s+r[0].length):-1}function Q8(n,e){return Hs(n.getDate(),e,2)}function gpe(n,e){return Hs(n.getHours(),e,2)}function vpe(n,e){return Hs(n.getHours()%12||12,e,2)}function ype(n,e){return Hs(1+lw.count(Nh(n),n),e,3)}function IK(n,e){return Hs(n.getMilliseconds(),e,3)}function bpe(n,e){return IK(n,e)+"000"}function jpe(n,e){return Hs(n.getMonth()+1,e,2)}function wpe(n,e){return Hs(n.getMinutes(),e,2)}function Npe(n,e){return Hs(n.getSeconds(),e,2)}function Spe(n){var e=n.getDay();return e===0?7:e}function _pe(n,e){return Hs(yC.count(Nh(n)-1,n),e,2)}function DK(n){var e=n.getDay();return e>=4||e===0?l0(n):l0.ceil(n)}function Ape(n,e){return n=DK(n),Hs(l0.count(Nh(n),n)+(Nh(n).getDay()===4),e,2)}function Cpe(n){return n.getDay()}function Tpe(n,e){return Hs(K_.count(Nh(n)-1,n),e,2)}function Epe(n,e){return Hs(n.getFullYear()%100,e,2)}function Mpe(n,e){return n=DK(n),Hs(n.getFullYear()%100,e,2)}function Ppe(n,e){return Hs(n.getFullYear()%1e4,e,4)}function Rpe(n,e){var s=n.getDay();return n=s>=4||s===0?l0(n):l0.ceil(n),Hs(n.getFullYear()%1e4,e,4)}function Ope(n){var e=n.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Hs(e/60|0,"0",2)+Hs(e%60,"0",2)}function J8(n,e){return Hs(n.getUTCDate(),e,2)}function kpe(n,e){return Hs(n.getUTCHours(),e,2)}function Ipe(n,e){return Hs(n.getUTCHours()%12||12,e,2)}function Dpe(n,e){return Hs(1+vC.count(Sh(n),n),e,3)}function LK(n,e){return Hs(n.getUTCMilliseconds(),e,3)}function Lpe(n,e){return LK(n,e)+"000"}function Fpe(n,e){return Hs(n.getUTCMonth()+1,e,2)}function Upe(n,e){return Hs(n.getUTCMinutes(),e,2)}function zpe(n,e){return Hs(n.getUTCSeconds(),e,2)}function Bpe(n){var e=n.getUTCDay();return e===0?7:e}function Vpe(n,e){return Hs(bC.count(Sh(n)-1,n),e,2)}function FK(n){var e=n.getUTCDay();return e>=4||e===0?c0(n):c0.ceil(n)}function Hpe(n,e){return n=FK(n),Hs(c0.count(Sh(n),n)+(Sh(n).getUTCDay()===4),e,2)}function Gpe(n){return n.getUTCDay()}function $pe(n,e){return Hs(X_.count(Sh(n)-1,n),e,2)}function qpe(n,e){return Hs(n.getUTCFullYear()%100,e,2)}function Wpe(n,e){return n=FK(n),Hs(n.getUTCFullYear()%100,e,2)}function Kpe(n,e){return Hs(n.getUTCFullYear()%1e4,e,4)}function Xpe(n,e){var s=n.getUTCDay();return n=s>=4||s===0?c0(n):c0.ceil(n),Hs(n.getUTCFullYear()%1e4,e,4)}function Zpe(){return"+0000"}function eB(){return"%"}function tB(n){return+n}function nB(n){return Math.floor(+n/1e3)}var qg,UK,zK;Ype({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ype(n){return qg=Yme(n),UK=qg.format,qg.parse,zK=qg.utcFormat,qg.utcParse,qg}function Qpe(n){return new Date(n)}function Jpe(n){return n instanceof Date?+n:+new Date(+n)}function SI(n,e,s,r,a,i,o,l,c,d){var u=dI(),h=u.invert,m=u.domain,y=d(".%L"),N=d(":%S"),j=d("%I:%M"),v=d("%I %p"),b=d("%a %d"),A=d("%b %d"),S=d("%B"),w=d("%Y");function E(T){return(c(T)<T?y:l(T)<T?N:o(T)<T?j:i(T)<T?v:r(T)<T?a(T)<T?b:A:s(T)<T?S:w)(T)}return u.invert=function(T){return new Date(h(T))},u.domain=function(T){return arguments.length?m(Array.from(T,Jpe)):m().map(Qpe)},u.ticks=function(T){var P=m();return n(P[0],P[P.length-1],T??10)},u.tickFormat=function(T,P){return P==null?E:d(P)},u.nice=function(T){var P=m();return(!T||typeof T.range!="function")&&(T=e(P[0],P[P.length-1],T??10)),T?m(AK(P,T)):u},u.copy=function(){return ow(u,SI(n,e,s,r,a,i,o,l,c,d))},u}function exe(){return lc.apply(SI(Xme,Zme,Nh,wI,yC,lw,bI,vI,Fp,UK).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function txe(){return lc.apply(SI(Wme,Kme,Sh,NI,bC,vC,jI,yI,Fp,zK).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function jC(){var n=0,e=1,s,r,a,i,o=No,l=!1,c;function d(h){return h==null||isNaN(h=+h)?c:o(a===0?.5:(h=(i(h)-s)*a,l?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([n,e]=h,s=i(n=+n),r=i(e=+e),a=s===r?0:1/(r-s),d):[n,e]},d.clamp=function(h){return arguments.length?(l=!!h,d):l},d.interpolator=function(h){return arguments.length?(o=h,d):o};function u(h){return function(m){var y,N;return arguments.length?([y,N]=m,o=h(y,N),d):[o(0),o(1)]}}return d.range=u(oy),d.rangeRound=u(cI),d.unknown=function(h){return arguments.length?(c=h,d):c},function(h){return i=h,s=h(n),r=h(e),a=s===r?0:1/(r-s),d}}function sm(n,e){return e.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function BK(){var n=nm(jC()(No));return n.copy=function(){return sm(n,BK())},Rh.apply(n,arguments)}function VK(){var n=fI(jC()).domain([1,10]);return n.copy=function(){return sm(n,VK()).base(n.base())},Rh.apply(n,arguments)}function HK(){var n=mI(jC());return n.copy=function(){return sm(n,HK()).constant(n.constant())},Rh.apply(n,arguments)}function _I(){var n=pI(jC());return n.copy=function(){return sm(n,_I()).exponent(n.exponent())},Rh.apply(n,arguments)}function nxe(){return _I.apply(null,arguments).exponent(.5)}function GK(){var n=[],e=No;function s(r){if(r!=null&&!isNaN(r=+r))return e((aw(n,r,1)-1)/(n.length-1))}return s.domain=function(r){if(!arguments.length)return n.slice();n=[];for(let a of r)a!=null&&!isNaN(a=+a)&&n.push(a);return n.sort(zf),s},s.interpolator=function(r){return arguments.length?(e=r,s):e},s.range=function(){return n.map((r,a)=>e(a/(n.length-1)))},s.quantiles=function(r){return Array.from({length:r+1},(a,i)=>Vfe(n,i/r))},s.copy=function(){return GK(e).domain(n)},Rh.apply(s,arguments)}function wC(){var n=0,e=.5,s=1,r=1,a,i,o,l,c,d=No,u,h=!1,m;function y(j){return isNaN(j=+j)?m:(j=.5+((j=+u(j))-i)*(r*j<r*i?l:c),d(h?Math.max(0,Math.min(1,j)):j))}y.domain=function(j){return arguments.length?([n,e,s]=j,a=u(n=+n),i=u(e=+e),o=u(s=+s),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),r=i<a?-1:1,y):[n,e,s]},y.clamp=function(j){return arguments.length?(h=!!j,y):h},y.interpolator=function(j){return arguments.length?(d=j,y):d};function N(j){return function(v){var b,A,S;return arguments.length?([b,A,S]=v,d=mme(j,[b,A,S]),y):[d(0),d(.5),d(1)]}}return y.range=N(oy),y.rangeRound=N(cI),y.unknown=function(j){return arguments.length?(m=j,y):m},function(j){return u=j,a=j(n),i=j(e),o=j(s),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),r=i<a?-1:1,y}}function $K(){var n=nm(wC()(No));return n.copy=function(){return sm(n,$K())},Rh.apply(n,arguments)}function qK(){var n=fI(wC()).domain([.1,1,10]);return n.copy=function(){return sm(n,qK()).base(n.base())},Rh.apply(n,arguments)}function WK(){var n=mI(wC());return n.copy=function(){return sm(n,WK()).constant(n.constant())},Rh.apply(n,arguments)}function AI(){var n=pI(wC());return n.copy=function(){return sm(n,AI()).exponent(n.exponent())},Rh.apply(n,arguments)}function sxe(){return AI.apply(null,arguments).exponent(.5)}const sB=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Zj,scaleDiverging:$K,scaleDivergingLog:qK,scaleDivergingPow:AI,scaleDivergingSqrt:sxe,scaleDivergingSymlog:WK,scaleIdentity:_K,scaleImplicit:SO,scaleLinear:q_,scaleLog:CK,scaleOrdinal:iI,scalePoint:gj,scalePow:xI,scaleQuantile:MK,scaleQuantize:PK,scaleRadial:EK,scaleSequential:BK,scaleSequentialLog:VK,scaleSequentialPow:_I,scaleSequentialQuantile:GK,scaleSequentialSqrt:nxe,scaleSequentialSymlog:HK,scaleSqrt:Lme,scaleSymlog:TK,scaleThreshold:RK,scaleTime:exe,scaleUtc:txe,tickFormat:SK},Symbol.toStringTag,{value:"Module"}));var jP,rB;function NC(){if(rB)return jP;rB=1;var n=ny();function e(s,r,a){for(var i=-1,o=s.length;++i<o;){var l=s[i],c=r(l);if(c!=null&&(d===void 0?c===c&&!n(c):a(c,d)))var d=c,u=l}return u}return jP=e,jP}var wP,aB;function KK(){if(aB)return wP;aB=1;function n(e,s){return e>s}return wP=n,wP}var NP,iB;function rxe(){if(iB)return NP;iB=1;var n=NC(),e=KK(),s=iy();function r(a){return a&&a.length?n(a,s,e):void 0}return NP=r,NP}var axe=rxe();const Of=Gs(axe);var SP,oB;function XK(){if(oB)return SP;oB=1;function n(e,s){return e<s}return SP=n,SP}var _P,lB;function ixe(){if(lB)return _P;lB=1;var n=NC(),e=XK(),s=iy();function r(a){return a&&a.length?n(a,s,e):void 0}return _P=r,_P}var oxe=ixe();const SC=Gs(oxe);var AP,cB;function lxe(){if(cB)return AP;cB=1;var n=Vk(),e=fu(),s=sK(),r=Yo();function a(i,o){var l=r(i)?n:s;return l(i,e(o,3))}return AP=a,AP}var CP,dB;function cxe(){if(dB)return CP;dB=1;var n=tK(),e=lxe();function s(r,a){return n(e(r,a),1)}return CP=s,CP}var dxe=cxe();const uxe=Gs(dxe);var TP,uB;function hxe(){if(uB)return TP;uB=1;var n=tI();function e(s,r){return n(s,r)}return TP=e,TP}var fxe=hxe();const d0=Gs(fxe);var ly=1e9,mxe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},TI,$r=!0,ac="[DecimalError] ",Xp=ac+"Invalid argument: ",CI=ac+"Exponent out of range: ",cy=Math.floor,Cp=Math.pow,pxe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,gl,hi=1e7,Lr=7,ZK=9007199254740991,Z_=cy(ZK/Lr),dn={};dn.absoluteValue=dn.abs=function(){var n=new this.constructor(this);return n.s&&(n.s=1),n};dn.comparedTo=dn.cmp=function(n){var e,s,r,a,i=this;if(n=new i.constructor(n),i.s!==n.s)return i.s||-n.s;if(i.e!==n.e)return i.e>n.e^i.s<0?1:-1;for(r=i.d.length,a=n.d.length,e=0,s=r<a?r:a;e<s;++e)if(i.d[e]!==n.d[e])return i.d[e]>n.d[e]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};dn.decimalPlaces=dn.dp=function(){var n=this,e=n.d.length-1,s=(e-n.e)*Lr;if(e=n.d[e],e)for(;e%10==0;e/=10)s--;return s<0?0:s};dn.dividedBy=dn.div=function(n){return hh(this,new this.constructor(n))};dn.dividedToIntegerBy=dn.idiv=function(n){var e=this,s=e.constructor;return yr(hh(e,new s(n),0,1),s.precision)};dn.equals=dn.eq=function(n){return!this.cmp(n)};dn.exponent=function(){return Pa(this)};dn.greaterThan=dn.gt=function(n){return this.cmp(n)>0};dn.greaterThanOrEqualTo=dn.gte=function(n){return this.cmp(n)>=0};dn.isInteger=dn.isint=function(){return this.e>this.d.length-2};dn.isNegative=dn.isneg=function(){return this.s<0};dn.isPositive=dn.ispos=function(){return this.s>0};dn.isZero=function(){return this.s===0};dn.lessThan=dn.lt=function(n){return this.cmp(n)<0};dn.lessThanOrEqualTo=dn.lte=function(n){return this.cmp(n)<1};dn.logarithm=dn.log=function(n){var e,s=this,r=s.constructor,a=r.precision,i=a+5;if(n===void 0)n=new r(10);else if(n=new r(n),n.s<1||n.eq(gl))throw Error(ac+"NaN");if(s.s<1)throw Error(ac+(s.s?"NaN":"-Infinity"));return s.eq(gl)?new r(0):($r=!1,e=hh(t1(s,i),t1(n,i),i),$r=!0,yr(e,a))};dn.minus=dn.sub=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?JK(e,n):YK(e,(n.s=-n.s,n))};dn.modulo=dn.mod=function(n){var e,s=this,r=s.constructor,a=r.precision;if(n=new r(n),!n.s)throw Error(ac+"NaN");return s.s?($r=!1,e=hh(s,n,0,1).times(n),$r=!0,s.minus(e)):yr(new r(s),a)};dn.naturalExponential=dn.exp=function(){return QK(this)};dn.naturalLogarithm=dn.ln=function(){return t1(this)};dn.negated=dn.neg=function(){var n=new this.constructor(this);return n.s=-n.s||0,n};dn.plus=dn.add=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?YK(e,n):JK(e,(n.s=-n.s,n))};dn.precision=dn.sd=function(n){var e,s,r,a=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(Xp+n);if(e=Pa(a)+1,r=a.d.length-1,s=r*Lr+1,r=a.d[r],r){for(;r%10==0;r/=10)s--;for(r=a.d[0];r>=10;r/=10)s++}return n&&e>s?e:s};dn.squareRoot=dn.sqrt=function(){var n,e,s,r,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ac+"NaN")}for(n=Pa(l),$r=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=Hd(l.d),(e.length+n)%2==0&&(e+="0"),a=Math.sqrt(e),n=cy((n+1)/2)-(n<0||n%2),a==1/0?e="5e"+n:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+n),r=new c(e)):r=new c(a.toString()),s=c.precision,a=o=s+3;;)if(i=r,r=i.plus(hh(l,i,o+2)).times(.5),Hd(i.d).slice(0,o)===(e=Hd(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),a==o&&e=="4999"){if(yr(i,s+1,0),i.times(i).eq(l)){r=i;break}}else if(e!="9999")break;o+=4}return $r=!0,yr(r,s)};dn.times=dn.mul=function(n){var e,s,r,a,i,o,l,c,d,u=this,h=u.constructor,m=u.d,y=(n=new h(n)).d;if(!u.s||!n.s)return new h(0);for(n.s*=u.s,s=u.e+n.e,c=m.length,d=y.length,c<d&&(i=m,m=y,y=i,o=c,c=d,d=o),i=[],o=c+d,r=o;r--;)i.push(0);for(r=d;--r>=0;){for(e=0,a=c+r;a>r;)l=i[a]+y[r]*m[a-r-1]+e,i[a--]=l%hi|0,e=l/hi|0;i[a]=(i[a]+e)%hi|0}for(;!i[--o];)i.pop();return e?++s:i.shift(),n.d=i,n.e=s,$r?yr(n,h.precision):n};dn.toDecimalPlaces=dn.todp=function(n,e){var s=this,r=s.constructor;return s=new r(s),n===void 0?s:(ou(n,0,ly),e===void 0?e=r.rounding:ou(e,0,8),yr(s,n+Pa(s)+1,e))};dn.toExponential=function(n,e){var s,r=this,a=r.constructor;return n===void 0?s=xx(r,!0):(ou(n,0,ly),e===void 0?e=a.rounding:ou(e,0,8),r=yr(new a(r),n+1,e),s=xx(r,!0,n+1)),s};dn.toFixed=function(n,e){var s,r,a=this,i=a.constructor;return n===void 0?xx(a):(ou(n,0,ly),e===void 0?e=i.rounding:ou(e,0,8),r=yr(new i(a),n+Pa(a)+1,e),s=xx(r.abs(),!1,n+Pa(r)+1),a.isneg()&&!a.isZero()?"-"+s:s)};dn.toInteger=dn.toint=function(){var n=this,e=n.constructor;return yr(new e(n),Pa(n)+1,e.rounding)};dn.toNumber=function(){return+this};dn.toPower=dn.pow=function(n){var e,s,r,a,i,o,l=this,c=l.constructor,d=12,u=+(n=new c(n));if(!n.s)return new c(gl);if(l=new c(l),!l.s){if(n.s<1)throw Error(ac+"Infinity");return l}if(l.eq(gl))return l;if(r=c.precision,n.eq(gl))return yr(l,r);if(e=n.e,s=n.d.length-1,o=e>=s,i=l.s,o){if((s=u<0?-u:u)<=ZK){for(a=new c(gl),e=Math.ceil(r/Lr+4),$r=!1;s%2&&(a=a.times(l),fB(a.d,e)),s=cy(s/2),s!==0;)l=l.times(l),fB(l.d,e);return $r=!0,n.s<0?new c(gl).div(a):yr(a,r)}}else if(i<0)throw Error(ac+"NaN");return i=i<0&&n.d[Math.max(e,s)]&1?-1:1,l.s=1,$r=!1,a=n.times(t1(l,r+d)),$r=!0,a=QK(a),a.s=i,a};dn.toPrecision=function(n,e){var s,r,a=this,i=a.constructor;return n===void 0?(s=Pa(a),r=xx(a,s<=i.toExpNeg||s>=i.toExpPos)):(ou(n,1,ly),e===void 0?e=i.rounding:ou(e,0,8),a=yr(new i(a),n,e),s=Pa(a),r=xx(a,n<=s||s<=i.toExpNeg,n)),r};dn.toSignificantDigits=dn.tosd=function(n,e){var s=this,r=s.constructor;return n===void 0?(n=r.precision,e=r.rounding):(ou(n,1,ly),e===void 0?e=r.rounding:ou(e,0,8)),yr(new r(s),n,e)};dn.toString=dn.valueOf=dn.val=dn.toJSON=dn[Symbol.for("nodejs.util.inspect.custom")]=function(){var n=this,e=Pa(n),s=n.constructor;return xx(n,e<=s.toExpNeg||e>=s.toExpPos)};function YK(n,e){var s,r,a,i,o,l,c,d,u=n.constructor,h=u.precision;if(!n.s||!e.s)return e.s||(e=new u(n)),$r?yr(e,h):e;if(c=n.d,d=e.d,o=n.e,a=e.e,c=c.slice(),i=o-a,i){for(i<0?(r=c,i=-i,l=d.length):(r=d,a=o,l=c.length),o=Math.ceil(h/Lr),l=o>l?o+1:l+1,i>l&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,r=d,d=c,c=r),s=0;i;)s=(c[--i]=c[i]+d[i]+s)/hi|0,c[i]%=hi;for(s&&(c.unshift(s),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,$r?yr(e,h):e}function ou(n,e,s){if(n!==~~n||n<e||n>s)throw Error(Xp+n)}function Hd(n){var e,s,r,a=n.length-1,i="",o=n[0];if(a>0){for(i+=o,e=1;e<a;e++)r=n[e]+"",s=Lr-r.length,s&&(i+=Ef(s)),i+=r;o=n[e],r=o+"",s=Lr-r.length,s&&(i+=Ef(s))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var hh=(function(){function n(r,a){var i,o=0,l=r.length;for(r=r.slice();l--;)i=r[l]*a+o,r[l]=i%hi|0,o=i/hi|0;return o&&r.unshift(o),r}function e(r,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(r[l]!=a[l]){c=r[l]>a[l]?1:-1;break}return c}function s(r,a,i){for(var o=0;i--;)r[i]-=o,o=r[i]<a[i]?1:0,r[i]=o*hi+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,o){var l,c,d,u,h,m,y,N,j,v,b,A,S,w,E,T,P,k,I=r.constructor,L=r.s==a.s?1:-1,U=r.d,H=a.d;if(!r.s)return new I(r);if(!a.s)throw Error(ac+"Division by zero");for(c=r.e-a.e,P=H.length,E=U.length,y=new I(L),N=y.d=[],d=0;H[d]==(U[d]||0);)++d;if(H[d]>(U[d]||0)&&--c,i==null?A=i=I.precision:o?A=i+(Pa(r)-Pa(a))+1:A=i,A<0)return new I(0);if(A=A/Lr+2|0,d=0,P==1)for(u=0,H=H[0],A++;(d<E||u)&&A--;d++)S=u*hi+(U[d]||0),N[d]=S/H|0,u=S%H|0;else{for(u=hi/(H[0]+1)|0,u>1&&(H=n(H,u),U=n(U,u),P=H.length,E=U.length),w=P,j=U.slice(0,P),v=j.length;v<P;)j[v++]=0;k=H.slice(),k.unshift(0),T=H[0],H[1]>=hi/2&&++T;do u=0,l=e(H,j,P,v),l<0?(b=j[0],P!=v&&(b=b*hi+(j[1]||0)),u=b/T|0,u>1?(u>=hi&&(u=hi-1),h=n(H,u),m=h.length,v=j.length,l=e(h,j,m,v),l==1&&(u--,s(h,P<m?k:H,m))):(u==0&&(l=u=1),h=H.slice()),m=h.length,m<v&&h.unshift(0),s(j,h,v),l==-1&&(v=j.length,l=e(H,j,P,v),l<1&&(u++,s(j,P<v?k:H,v))),v=j.length):l===0&&(u++,j=[0]),N[d++]=u,l&&j[0]?j[v++]=U[w]||0:(j=[U[w]],v=1);while((w++<E||j[0]!==void 0)&&A--)}return N[0]||N.shift(),y.e=c,yr(y,o?i+Pa(y)+1:i)}})();function QK(n,e){var s,r,a,i,o,l,c=0,d=0,u=n.constructor,h=u.precision;if(Pa(n)>16)throw Error(CI+Pa(n));if(!n.s)return new u(gl);for($r=!1,l=h,o=new u(.03125);n.abs().gte(.1);)n=n.times(o),d+=5;for(r=Math.log(Cp(2,d))/Math.LN10*2+5|0,l+=r,s=a=i=new u(gl),u.precision=l;;){if(a=yr(a.times(n),l),s=s.times(++c),o=i.plus(hh(a,s,l)),Hd(o.d).slice(0,l)===Hd(i.d).slice(0,l)){for(;d--;)i=yr(i.times(i),l);return u.precision=h,e==null?($r=!0,yr(i,h)):i}i=o}}function Pa(n){for(var e=n.e*Lr,s=n.d[0];s>=10;s/=10)e++;return e}function EP(n,e,s){if(e>n.LN10.sd())throw $r=!0,s&&(n.precision=s),Error(ac+"LN10 precision limit exceeded");return yr(new n(n.LN10),e)}function Ef(n){for(var e="";n--;)e+="0";return e}function t1(n,e){var s,r,a,i,o,l,c,d,u,h=1,m=10,y=n,N=y.d,j=y.constructor,v=j.precision;if(y.s<1)throw Error(ac+(y.s?"NaN":"-Infinity"));if(y.eq(gl))return new j(0);if(e==null?($r=!1,d=v):d=e,y.eq(10))return e==null&&($r=!0),EP(j,d);if(d+=m,j.precision=d,s=Hd(N),r=s.charAt(0),i=Pa(y),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&s.charAt(1)>3;)y=y.times(n),s=Hd(y.d),r=s.charAt(0),h++;i=Pa(y),r>1?(y=new j("0."+s),i++):y=new j(r+"."+s.slice(1))}else return c=EP(j,d+2,v).times(i+""),y=t1(new j(r+"."+s.slice(1)),d-m).plus(c),j.precision=v,e==null?($r=!0,yr(y,v)):y;for(l=o=y=hh(y.minus(gl),y.plus(gl),d),u=yr(y.times(y),d),a=3;;){if(o=yr(o.times(u),d),c=l.plus(hh(o,new j(a),d)),Hd(c.d).slice(0,d)===Hd(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(EP(j,d+2,v).times(i+""))),l=hh(l,new j(h),d),j.precision=v,e==null?($r=!0,yr(l,v)):l;l=c,a+=2}}function hB(n,e){var s,r,a;for((s=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(s<0&&(s=r),s+=+e.slice(r+1),e=e.substring(0,r)):s<0&&(s=e.length),r=0;e.charCodeAt(r)===48;)++r;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(r,a),e){if(a-=r,s=s-r-1,n.e=cy(s/Lr),n.d=[],r=(s+1)%Lr,s<0&&(r+=Lr),r<a){for(r&&n.d.push(+e.slice(0,r)),a-=Lr;r<a;)n.d.push(+e.slice(r,r+=Lr));e=e.slice(r),r=Lr-e.length}else r-=a;for(;r--;)e+="0";if(n.d.push(+e),$r&&(n.e>Z_||n.e<-Z_))throw Error(CI+s)}else n.s=0,n.e=0,n.d=[0];return n}function yr(n,e,s){var r,a,i,o,l,c,d,u,h=n.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(r=e-o,r<0)r+=Lr,a=e,d=h[u=0];else{if(u=Math.ceil((r+1)/Lr),i=h.length,u>=i)return n;for(d=i=h[u],o=1;i>=10;i/=10)o++;r%=Lr,a=r-Lr+o}if(s!==void 0&&(i=Cp(10,o-a-1),l=d/i%10|0,c=e<0||h[u+1]!==void 0||d%i,c=s<4?(l||c)&&(s==0||s==(n.s<0?3:2)):l>5||l==5&&(s==4||c||s==6&&(r>0?a>0?d/Cp(10,o-a):0:h[u-1])%10&1||s==(n.s<0?8:7))),e<1||!h[0])return c?(i=Pa(n),h.length=1,e=e-i-1,h[0]=Cp(10,(Lr-e%Lr)%Lr),n.e=cy(-e/Lr)||0):(h.length=1,h[0]=n.e=n.s=0),n;if(r==0?(h.length=u,i=1,u--):(h.length=u+1,i=Cp(10,Lr-r),h[u]=a>0?(d/Cp(10,o-a)%Cp(10,a)|0)*i:0),c)for(;;)if(u==0){(h[0]+=i)==hi&&(h[0]=1,++n.e);break}else{if(h[u]+=i,h[u]!=hi)break;h[u--]=0,i=1}for(r=h.length;h[--r]===0;)h.pop();if($r&&(n.e>Z_||n.e<-Z_))throw Error(CI+Pa(n));return n}function JK(n,e){var s,r,a,i,o,l,c,d,u,h,m=n.constructor,y=m.precision;if(!n.s||!e.s)return e.s?e.s=-e.s:e=new m(n),$r?yr(e,y):e;if(c=n.d,h=e.d,r=e.e,d=n.e,c=c.slice(),o=d-r,o){for(u=o<0,u?(s=c,o=-o,l=h.length):(s=h,r=d,l=c.length),a=Math.max(Math.ceil(y/Lr),l)+2,o>a&&(o=a,s.length=1),s.reverse(),a=o;a--;)s.push(0);s.reverse()}else{for(a=c.length,l=h.length,u=a<l,u&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){u=c[a]<h[a];break}o=0}for(u&&(s=c,c=h,h=s,e.s=-e.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(i=a;i&&c[--i]===0;)c[i]=hi-1;--c[i],c[a]+=hi}c[a]-=h[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,$r?yr(e,y):e):new m(0)}function xx(n,e,s){var r,a=Pa(n),i=Hd(n.d),o=i.length;return e?(s&&(r=s-o)>0?i=i.charAt(0)+"."+i.slice(1)+Ef(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Ef(-a-1)+i,s&&(r=s-o)>0&&(i+=Ef(r))):a>=o?(i+=Ef(a+1-o),s&&(r=s-a-1)>0&&(i=i+"."+Ef(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),s&&(r=s-o)>0&&(a+1===o&&(i+="."),i+=Ef(r))),n.s<0?"-"+i:i}function fB(n,e){if(n.length>e)return n.length=e,!0}function eX(n){var e,s,r;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Xp+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return hB(o,i.toString())}else if(typeof i!="string")throw Error(Xp+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,pxe.test(i))hB(o,i);else throw Error(Xp+i)}if(a.prototype=dn,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=eX,a.config=a.set=xxe,n===void 0&&(n={}),n)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)n.hasOwnProperty(s=r[e++])||(n[s]=this[s]);return a.config(n),a}function xxe(n){if(!n||typeof n!="object")throw Error(ac+"Object expected");var e,s,r,a=["precision",1,ly,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((r=n[s=a[e]])!==void 0)if(cy(r)===r&&r>=a[e+1]&&r<=a[e+2])this[s]=r;else throw Error(Xp+s+": "+r);if((r=n[s="LN10"])!==void 0)if(r==Math.LN10)this[s]=new this(r);else throw Error(Xp+s+": "+r);return this}var TI=eX(mxe);gl=new TI(1);const hr=TI;function gxe(n){return jxe(n)||bxe(n)||yxe(n)||vxe()}function vxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yxe(n,e){if(n){if(typeof n=="string")return TO(n,e);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return TO(n,e)}}function bxe(n){if(typeof Symbol<"u"&&Symbol.iterator in Object(n))return Array.from(n)}function jxe(n){if(Array.isArray(n))return TO(n)}function TO(n,e){(e==null||e>n.length)&&(e=n.length);for(var s=0,r=new Array(e);s<e;s++)r[s]=n[s];return r}var wxe=function(e){return e},tX={},nX=function(e){return e===tX},mB=function(e){return function s(){return arguments.length===0||arguments.length===1&&nX(arguments.length<=0?void 0:arguments[0])?s:e.apply(void 0,arguments)}},Nxe=function n(e,s){return e===1?s:mB(function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==tX}).length;return o>=e?s.apply(void 0,a):n(e-o,mB(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=a.map(function(h){return nX(h)?c.shift():h});return s.apply(void 0,gxe(u).concat(c))}))})},_C=function(e){return Nxe(e.length,e)},EO=function(e,s){for(var r=[],a=e;a<s;++a)r[a-e]=a;return r},Sxe=_C(function(n,e){return Array.isArray(e)?e.map(n):Object.keys(e).map(function(s){return e[s]}).map(n)}),_xe=function(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];if(!s.length)return wxe;var a=s.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},MO=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},sX=function(e){var s=null,r=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return s&&i.every(function(l,c){return l===s[c]})||(s=i,r=e.apply(void 0,i)),r}};function Axe(n){var e;return n===0?e=1:e=Math.floor(new hr(n).abs().log(10).toNumber())+1,e}function Cxe(n,e,s){for(var r=new hr(n),a=0,i=[];r.lt(e)&&a<1e5;)i.push(r.toNumber()),r=r.add(s),a++;return i}var Txe=_C(function(n,e,s){var r=+n,a=+e;return r+s*(a-r)}),Exe=_C(function(n,e,s){var r=e-+n;return r=r||1/0,(s-n)/r}),Mxe=_C(function(n,e,s){var r=e-+n;return r=r||1/0,Math.max(0,Math.min(1,(s-n)/r))});const AC={rangeStep:Cxe,getDigitCount:Axe,interpolateNumber:Txe,uninterpolateNumber:Exe,uninterpolateTruncation:Mxe};function PO(n){return Oxe(n)||Rxe(n)||rX(n)||Pxe()}function Pxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rxe(n){if(typeof Symbol<"u"&&Symbol.iterator in Object(n))return Array.from(n)}function Oxe(n){if(Array.isArray(n))return RO(n)}function n1(n,e){return Dxe(n)||Ixe(n,e)||rX(n,e)||kxe()}function kxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rX(n,e){if(n){if(typeof n=="string")return RO(n,e);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return RO(n,e)}}function RO(n,e){(e==null||e>n.length)&&(e=n.length);for(var s=0,r=new Array(e);s<e;s++)r[s]=n[s];return r}function Ixe(n,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(n)))){var s=[],r=!0,a=!1,i=void 0;try{for(var o=n[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(s.push(l.value),!(e&&s.length===e));r=!0);}catch(c){a=!0,i=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(a)throw i}}return s}}function Dxe(n){if(Array.isArray(n))return n}function aX(n){var e=n1(n,2),s=e[0],r=e[1],a=s,i=r;return s>r&&(a=r,i=s),[a,i]}function iX(n,e,s){if(n.lte(0))return new hr(0);var r=AC.getDigitCount(n.toNumber()),a=new hr(10).pow(r),i=n.div(a),o=r!==1?.05:.1,l=new hr(Math.ceil(i.div(o).toNumber())).add(s).mul(o),c=l.mul(a);return e?c:new hr(Math.ceil(c))}function Lxe(n,e,s){var r=1,a=new hr(n);if(!a.isint()&&s){var i=Math.abs(n);i<1?(r=new hr(10).pow(AC.getDigitCount(n)-1),a=new hr(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new hr(Math.floor(n)))}else n===0?a=new hr(Math.floor((e-1)/2)):s||(a=new hr(Math.floor(n)));var o=Math.floor((e-1)/2),l=_xe(Sxe(function(c){return a.add(new hr(c-o).mul(r)).toNumber()}),EO);return l(0,e)}function oX(n,e,s,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-n)/(s-1)))return{step:new hr(0),tickMin:new hr(0),tickMax:new hr(0)};var i=iX(new hr(e).sub(n).div(s-1),r,a),o;n<=0&&e>=0?o=new hr(0):(o=new hr(n).add(e).div(2),o=o.sub(new hr(o).mod(i)));var l=Math.ceil(o.sub(n).div(i).toNumber()),c=Math.ceil(new hr(e).sub(o).div(i).toNumber()),d=l+c+1;return d>s?oX(n,e,s,r,a+1):(d<s&&(c=e>0?c+(s-d):c,l=e>0?l:l+(s-d)),{step:i,tickMin:o.sub(new hr(l).mul(i)),tickMax:o.add(new hr(c).mul(i))})}function Fxe(n){var e=n1(n,2),s=e[0],r=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=aX([s,r]),c=n1(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var h=u===1/0?[d].concat(PO(EO(0,a-1).map(function(){return 1/0}))):[].concat(PO(EO(0,a-1).map(function(){return-1/0})),[u]);return s>r?MO(h):h}if(d===u)return Lxe(d,a,i);var m=oX(d,u,o,i),y=m.step,N=m.tickMin,j=m.tickMax,v=AC.rangeStep(N,j.add(new hr(.1).mul(y)),y);return s>r?MO(v):v}function Uxe(n,e){var s=n1(n,2),r=s[0],a=s[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=aX([r,a]),l=n1(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[r,a];if(c===d)return[c];var u=Math.max(e,2),h=iX(new hr(d).sub(c).div(u-1),i,0),m=[].concat(PO(AC.rangeStep(new hr(c),new hr(d).sub(new hr(.99).mul(h)),h)),[d]);return r>a?MO(m):m}var zxe=sX(Fxe),Bxe=sX(Uxe),Vxe="Invariant failed";function gx(n,e){throw new Error(Vxe)}var Hxe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function u0(n){"@babel/helpers - typeof";return u0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u0(n)}function Y_(){return Y_=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},Y_.apply(this,arguments)}function Gxe(n,e){return Kxe(n)||Wxe(n,e)||qxe(n,e)||$xe()}function $xe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qxe(n,e){if(n){if(typeof n=="string")return pB(n,e);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return pB(n,e)}}function pB(n,e){(e==null||e>n.length)&&(e=n.length);for(var s=0,r=new Array(e);s<e;s++)r[s]=n[s];return r}function Wxe(n,e){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var r,a,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(n)).next,e!==0)for(;!(c=(r=i.call(s)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Kxe(n){if(Array.isArray(n))return n}function Xxe(n,e){if(n==null)return{};var s=Zxe(n,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(s[r]=n[r])}return s}function Zxe(n,e){if(n==null)return{};var s={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;s[r]=n[r]}return s}function Yxe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Qxe(n,e){for(var s=0;s<e.length;s++){var r=e[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,dX(r.key),r)}}function Jxe(n,e,s){return e&&Qxe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function ege(n,e,s){return e=Q_(e),tge(n,lX()?Reflect.construct(e,s||[],Q_(n).constructor):e.apply(n,s))}function tge(n,e){if(e&&(u0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nge(n)}function nge(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function lX(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lX=function(){return!!n})()}function Q_(n){return Q_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},Q_(n)}function sge(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&OO(n,e)}function OO(n,e){return OO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},OO(n,e)}function cX(n,e,s){return e=dX(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function dX(n){var e=rge(n,"string");return u0(e)=="symbol"?e:e+""}function rge(n,e){if(u0(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(u0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var CC=(function(n){function e(){return Yxe(this,e),ege(this,e,arguments)}return sge(e,n),Jxe(e,[{key:"render",value:function(){var r=this.props,a=r.offset,i=r.layout,o=r.width,l=r.dataKey,c=r.data,d=r.dataPointFormatter,u=r.xAxis,h=r.yAxis,m=Xxe(r,Hxe),y=In(m,!1);this.props.direction==="x"&&u.type!=="number"&&gx();var N=c.map(function(j){var v=d(j,l),b=v.x,A=v.y,S=v.value,w=v.errorVal;if(!w)return null;var E=[],T,P;if(Array.isArray(w)){var k=Gxe(w,2);T=k[0],P=k[1]}else T=P=w;if(i==="vertical"){var I=u.scale,L=A+a,U=L+o,H=L-o,B=I(S-T),K=I(S+P);E.push({x1:K,y1:U,x2:K,y2:H}),E.push({x1:B,y1:L,x2:K,y2:L}),E.push({x1:B,y1:U,x2:B,y2:H})}else if(i==="horizontal"){var J=h.scale,W=b+a,ee=W-o,G=W+o,ae=J(S-T),fe=J(S+P);E.push({x1:ee,y1:fe,x2:G,y2:fe}),E.push({x1:W,y1:ae,x2:W,y2:fe}),E.push({x1:ee,y1:ae,x2:G,y2:ae})}return ge.createElement(Os,Y_({className:"recharts-errorBar",key:"bar-".concat(E.map(function(se){return"".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))},y),E.map(function(se){return ge.createElement("line",Y_({},se,{key:"line-".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))}))});return ge.createElement(Os,{className:"recharts-errorBars"},N)}}])})(ge.Component);cX(CC,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});cX(CC,"displayName","ErrorBar");function s1(n){"@babel/helpers - typeof";return s1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s1(n)}function xB(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function lp(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?xB(Object(s),!0).forEach(function(r){age(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):xB(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function age(n,e,s){return e=ige(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function ige(n){var e=oge(n,"string");return s1(e)=="symbol"?e:e+""}function oge(n,e){if(s1(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(s1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var uX=function(e){var s=e.children,r=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,o=ml(s,Fv);if(!o)return null;var l=Fv.defaultProps,c=l!==void 0?lp(lp({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(r||[]).reduce(function(u,h){var m=h.item,y=h.props,N=y.sectors||y.data||[];return u.concat(N.map(function(j){return{type:o.props.iconType||m.props.legendType,value:j.name,color:j.fill,payload:j}}))},[]):d=(r||[]).map(function(u){var h=u.item,m=h.type.defaultProps,y=m!==void 0?lp(lp({},m),h.props):{},N=y.dataKey,j=y.name,v=y.legendType,b=y.hide;return{inactive:b,dataKey:N,type:c.iconType||v||"square",color:EI(h),value:j||N,payload:y}}),lp(lp(lp({},c),Fv.getWithHeight(o,a)),{},{payload:d,item:o})};function r1(n){"@babel/helpers - typeof";return r1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r1(n)}function gB(n){return uge(n)||dge(n)||cge(n)||lge()}function lge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cge(n,e){if(n){if(typeof n=="string")return kO(n,e);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return kO(n,e)}}function dge(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function uge(n){if(Array.isArray(n))return kO(n)}function kO(n,e){(e==null||e>n.length)&&(e=n.length);for(var s=0,r=new Array(e);s<e;s++)r[s]=n[s];return r}function vB(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function aa(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?vB(Object(s),!0).forEach(function(r){zv(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):vB(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function zv(n,e,s){return e=hge(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function hge(n){var e=fge(n,"string");return r1(e)=="symbol"?e:e+""}function fge(n,e){if(r1(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(r1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function $a(n,e,s){return ls(n)||ls(e)?s:qa(e)?Nl(n,e,s):qn(e)?e(n):s}function vj(n,e,s,r){var a=uxe(n,function(l){return $a(l,e)});if(s==="number"){var i=a.filter(function(l){return Ot(l)||parseFloat(l)});return i.length?[SC(i),Of(i)]:[1/0,-1/0]}var o=r?a.filter(function(l){return!ls(l)}):a;return o.map(function(l){return qa(l)||l instanceof Date?l:""})}var mge=function(e){var s,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(s=r?.length)!==null&&s!==void 0?s:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var u=d>0?a[d-1].coordinate:a[l-1].coordinate,h=a[d].coordinate,m=d>=l-1?a[0].coordinate:a[d+1].coordinate,y=void 0;if(jo(h-u)!==jo(m-h)){var N=[];if(jo(m-h)===jo(c[1]-c[0])){y=m;var j=h+c[1]-c[0];N[0]=Math.min(j,(j+u)/2),N[1]=Math.max(j,(j+u)/2)}else{y=u;var v=m+c[1]-c[0];N[0]=Math.min(h,(v+h)/2),N[1]=Math.max(h,(v+h)/2)}var b=[Math.min(h,(y+h)/2),Math.max(h,(y+h)/2)];if(e>b[0]&&e<=b[1]||e>=N[0]&&e<=N[1]){o=a[d].index;break}}else{var A=Math.min(u,m),S=Math.max(u,m);if(e>(A+h)/2&&e<=(S+h)/2){o=a[d].index;break}}}else for(var w=0;w<l;w++)if(w===0&&e<=(r[w].coordinate+r[w+1].coordinate)/2||w>0&&w<l-1&&e>(r[w].coordinate+r[w-1].coordinate)/2&&e<=(r[w].coordinate+r[w+1].coordinate)/2||w===l-1&&e>(r[w].coordinate+r[w-1].coordinate)/2){o=r[w].index;break}return o},EI=function(e){var s,r=e,a=r.type.displayName,i=(s=e.type)!==null&&s!==void 0&&s.defaultProps?aa(aa({},e.type.defaultProps),e.props):e.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},pge=function(e){var s=e.barSize,r=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var u=i[l[c]].stackGroups,h=Object.keys(u),m=0,y=h.length;m<y;m++){var N=u[h[m]],j=N.items,v=N.cateAxisId,b=j.filter(function(P){return uh(P.type).indexOf("Bar")>=0});if(b&&b.length){var A=b[0].type.defaultProps,S=A!==void 0?aa(aa({},A),b[0].props):b[0].props,w=S.barSize,E=S[v];o[E]||(o[E]=[]);var T=ls(w)?s:w;o[E].push({item:b[0],stackList:b.slice(1),barSize:ls(T)?void 0:wo(T,r,0)})}}return o},xge=function(e){var s=e.barGap,r=e.barCategoryGap,a=e.bandSize,i=e.sizeList,o=i===void 0?[]:i,l=e.maxBarSize,c=o.length;if(c<1)return null;var d=wo(s,a,0,!0),u,h=[];if(o[0].barSize===+o[0].barSize){var m=!1,y=a/c,N=o.reduce(function(w,E){return w+E.barSize||0},0);N+=(c-1)*d,N>=a&&(N-=(c-1)*d,d=0),N>=a&&y>0&&(m=!0,y*=.9,N=c*y);var j=(a-N)/2>>0,v={offset:j-d,size:0};u=o.reduce(function(w,E){var T={item:E.item,position:{offset:v.offset+v.size+d,size:m?y:E.barSize}},P=[].concat(gB(w),[T]);return v=P[P.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(k){P.push({item:k,position:v})}),P},h)}else{var b=wo(r,a,0,!0);a-2*b-(c-1)*d<=0&&(d=0);var A=(a-2*b-(c-1)*d)/c;A>1&&(A>>=0);var S=l===+l?Math.min(A,l):A;u=o.reduce(function(w,E,T){var P=[].concat(gB(w),[{item:E.item,position:{offset:b+(A+d)*T+(A-S)/2,size:S}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(k){P.push({item:k,position:P[P.length-1].position})}),P},h)}return u},gge=function(e,s,r,a){var i=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),d=uX({children:i,legendWidth:c});if(d){var u=a||{},h=u.width,m=u.height,y=d.align,N=d.verticalAlign,j=d.layout;if((j==="vertical"||j==="horizontal"&&N==="middle")&&y!=="center"&&Ot(e[y]))return aa(aa({},e),{},zv({},y,e[y]+(h||0)));if((j==="horizontal"||j==="vertical"&&y==="center")&&N!=="middle"&&Ot(e[N]))return aa(aa({},e),{},zv({},N,e[N]+(m||0)))}return e},vge=function(e,s,r){return ls(s)?!0:e==="horizontal"?s==="yAxis":e==="vertical"||r==="x"?s==="xAxis":r==="y"?s==="yAxis":!0},hX=function(e,s,r,a,i){var o=s.props.children,l=rc(o,CC).filter(function(d){return vge(a,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return e.reduce(function(d,u){var h=$a(u,r);if(ls(h))return d;var m=Array.isArray(h)?[SC(h),Of(h)]:[h,h],y=c.reduce(function(N,j){var v=$a(u,j,0),b=m[0]-Math.abs(Array.isArray(v)?v[0]:v),A=m[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,N[0]),Math.max(A,N[1])]},[1/0,-1/0]);return[Math.min(y[0],d[0]),Math.max(y[1],d[1])]},[1/0,-1/0])}return null},yge=function(e,s,r,a,i){var o=s.map(function(l){return hX(e,l,r,i,a)}).filter(function(l){return!ls(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},fX=function(e,s,r,a,i){var o=s.map(function(c){var d=c.props.dataKey;return r==="number"&&d&&hX(e,c,d,a)||vj(e,d,r,i)});if(r==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,h=d.length;u<h;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},mX=function(e,s){return e==="horizontal"&&s==="xAxis"||e==="vertical"&&s==="yAxis"||e==="centric"&&s==="angleAxis"||e==="radial"&&s==="radiusAxis"},pX=function(e,s,r,a){if(a)return e.map(function(c){return c.coordinate});var i,o,l=e.map(function(c){return c.coordinate===s&&(i=!0),c.coordinate===r&&(o=!0),c.coordinate});return i||l.push(s),o||l.push(r),l},ch=function(e,s,r){if(!e)return null;var a=e.scale,i=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,d=(s||r)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(d=e.axisType==="angleAxis"&&l?.length>=2?jo(l[0]-l[1])*2*d:d,s&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(h){var m=i?i.indexOf(h):h;return{coordinate:a(m)+d,value:h,offset:d}});return u.filter(function(h){return!ry(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,m){return{coordinate:a(h)+d,value:h,index:m,offset:d}}):a.ticks&&!r?a.ticks(e.tickCount).map(function(h){return{coordinate:a(h)+d,value:h,offset:d}}):a.domain().map(function(h,m){return{coordinate:a(h)+d,value:i?i[h]:h,index:m,offset:d}})},MP=new WeakMap,GN=function(e,s){if(typeof s!="function")return e;MP.has(e)||MP.set(e,new WeakMap);var r=MP.get(e);if(r.has(s))return r.get(s);var a=function(){e.apply(void 0,arguments),s.apply(void 0,arguments)};return r.set(s,a),a},xX=function(e,s,r){var a=e.scale,i=e.type,o=e.layout,l=e.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Zj(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:q_(),realScaleType:"linear"}:i==="category"&&s&&(s.indexOf("LineChart")>=0||s.indexOf("AreaChart")>=0||s.indexOf("ComposedChart")>=0&&!r)?{scale:gj(),realScaleType:"point"}:i==="category"?{scale:Zj(),realScaleType:"band"}:{scale:q_(),realScaleType:"linear"};if(fx(a)){var c="scale".concat(cC(a));return{scale:(sB[c]||gj)(),realScaleType:sB[c]?c:"point"}}return qn(a)?{scale:a}:{scale:gj(),realScaleType:"point"}},yB=1e-4,gX=function(e){var s=e.domain();if(!(!s||s.length<=2)){var r=s.length,a=e.range(),i=Math.min(a[0],a[1])-yB,o=Math.max(a[0],a[1])+yB,l=e(s[0]),c=e(s[r-1]);(l<i||l>o||c<i||c>o)&&e.domain([s[0],s[r-1]])}},bge=function(e,s){if(!e)return null;for(var r=0,a=e.length;r<a;r++)if(e[r].item===s)return e[r].position;return null},jge=function(e,s){if(!s||s.length!==2||!Ot(s[0])||!Ot(s[1]))return e;var r=Math.min(s[0],s[1]),a=Math.max(s[0],s[1]),i=[e[0],e[1]];return(!Ot(e[0])||e[0]<r)&&(i[0]=r),(!Ot(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<r&&(i[1]=r),i},wge=function(e){var s=e.length;if(!(s<=0))for(var r=0,a=e[0].length;r<a;++r)for(var i=0,o=0,l=0;l<s;++l){var c=ry(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=i,e[l][r][1]=i+c,i=e[l][r][1]):(e[l][r][0]=o,e[l][r][1]=o+c,o=e[l][r][1])}},Nge=function(e){var s=e.length;if(!(s<=0))for(var r=0,a=e[0].length;r<a;++r)for(var i=0,o=0;o<s;++o){var l=ry(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},Sge={sign:wge,expand:ude,none:n0,silhouette:hde,wiggle:fde,positive:Nge},_ge=function(e,s,r){var a=s.map(function(l){return l.props.dataKey}),i=Sge[r],o=dde().keys(a).value(function(l,c){return+$a(l,c,0)}).order(dO).offset(i);return o(e)},Age=function(e,s,r,a,i,o){if(!e)return null;var l=o?s.reverse():s,c={},d=l.reduce(function(h,m){var y,N=(y=m.type)!==null&&y!==void 0&&y.defaultProps?aa(aa({},m.type.defaultProps),m.props):m.props,j=N.stackId,v=N.hide;if(v)return h;var b=N[r],A=h[b]||{hasStack:!1,stackGroups:{}};if(qa(j)){var S=A.stackGroups[j]||{numericAxisId:r,cateAxisId:a,items:[]};S.items.push(m),A.hasStack=!0,A.stackGroups[j]=S}else A.stackGroups[ay("_stackId_")]={numericAxisId:r,cateAxisId:a,items:[m]};return aa(aa({},h),{},zv({},b,A))},c),u={};return Object.keys(d).reduce(function(h,m){var y=d[m];if(y.hasStack){var N={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(j,v){var b=y.stackGroups[v];return aa(aa({},j),{},zv({},v,{numericAxisId:r,cateAxisId:a,items:b.items,stackedData:_ge(e,b.items,i)}))},N)}return aa(aa({},h),{},zv({},m,y))},u)},vX=function(e,s){var r=s.realScaleType,a=s.type,i=s.tickCount,o=s.originalDomain,l=s.allowDecimals,c=r||s.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=e.domain();if(!d.length)return null;var u=zxe(d,i,l);return e.domain([SC(u),Of(u)]),{niceTicks:u}}if(i&&a==="number"){var h=e.domain(),m=Bxe(h,i,l);return{niceTicks:m}}return null};function bB(n){var e=n.axis,s=n.ticks,r=n.bandSize,a=n.entry,i=n.index,o=n.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ls(a[e.dataKey])){var l=T_(s,"value",a[e.dataKey]);if(l)return l.coordinate+r/2}return s[i]?s[i].coordinate+r/2:null}var c=$a(a,ls(o)?e.dataKey:o);return ls(c)?null:e.scale(c)}var jB=function(e){var s=e.axis,r=e.ticks,a=e.offset,i=e.bandSize,o=e.entry,l=e.index;if(s.type==="category")return r[l]?r[l].coordinate+a:null;var c=$a(o,s.dataKey,s.domain[l]);return ls(c)?null:s.scale(c)-i/2+a},Cge=function(e){var s=e.numericAxis,r=s.scale.domain();if(s.type==="number"){var a=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return a<=0&&i>=0?0:i<0?i:a}return r[0]},Tge=function(e,s){var r,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?aa(aa({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(qa(i)){var o=s[i];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},Ege=function(e){return e.reduce(function(s,r){return[SC(r.concat([s[0]]).filter(Ot)),Of(r.concat([s[1]]).filter(Ot))]},[1/0,-1/0])},yX=function(e,s,r){return Object.keys(e).reduce(function(a,i){var o=e[i],l=o.stackedData,c=l.reduce(function(d,u){var h=Ege(u.slice(s,r+1));return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},wB=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,NB=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,IO=function(e,s,r){if(qn(e))return e(s,r);if(!Array.isArray(e))return s;var a=[];if(Ot(e[0]))a[0]=r?e[0]:Math.min(e[0],s[0]);else if(wB.test(e[0])){var i=+wB.exec(e[0])[1];a[0]=s[0]-i}else qn(e[0])?a[0]=e[0](s[0]):a[0]=s[0];if(Ot(e[1]))a[1]=r?e[1]:Math.max(e[1],s[1]);else if(NB.test(e[1])){var o=+NB.exec(e[1])[1];a[1]=s[1]+o}else qn(e[1])?a[1]=e[1](s[1]):a[1]=s[1];return a},J_=function(e,s,r){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!r||a>0)return a}if(e&&s&&s.length>=2){for(var i=sI(s,function(h){return h.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],u=i[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},SB=function(e,s,r){return!e||!e.length||d0(e,Nl(r,"type.defaultProps.domain"))?s:e},bX=function(e,s){var r=e.type.defaultProps?aa(aa({},e.type.defaultProps),e.props):e.props,a=r.dataKey,i=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,d=r.chartType,u=r.hide;return aa(aa({},In(e,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:EI(e),value:$a(s,a),type:c,payload:s,chartType:d,hide:u})};function a1(n){"@babel/helpers - typeof";return a1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a1(n)}function _B(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function nh(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?_B(Object(s),!0).forEach(function(r){jX(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):_B(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function jX(n,e,s){return e=Mge(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function Mge(n){var e=Pge(n,"string");return a1(e)=="symbol"?e:e+""}function Pge(n,e){if(a1(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(a1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Rge(n,e){return Dge(n)||Ige(n,e)||kge(n,e)||Oge()}function Oge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kge(n,e){if(n){if(typeof n=="string")return AB(n,e);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return AB(n,e)}}function AB(n,e){(e==null||e>n.length)&&(e=n.length);for(var s=0,r=new Array(e);s<e;s++)r[s]=n[s];return r}function Ige(n,e){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var r,a,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(n)).next,e!==0)for(;!(c=(r=i.call(s)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Dge(n){if(Array.isArray(n))return n}var e2=Math.PI/180,Lge=function(e){return e*180/Math.PI},_r=function(e,s,r,a){return{x:e+Math.cos(-e2*a)*r,y:s+Math.sin(-e2*a)*r}},wX=function(e,s){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(s-(r.top||0)-(r.bottom||0)))/2},Fge=function(e,s,r,a,i){var o=e.width,l=e.height,c=e.startAngle,d=e.endAngle,u=wo(e.cx,o,o/2),h=wo(e.cy,l,l/2),m=wX(o,l,r),y=wo(e.innerRadius,m,0),N=wo(e.outerRadius,m,m*.8),j=Object.keys(s);return j.reduce(function(v,b){var A=s[b],S=A.domain,w=A.reversed,E;if(ls(A.range))a==="angleAxis"?E=[c,d]:a==="radiusAxis"&&(E=[y,N]),w&&(E=[E[1],E[0]]);else{E=A.range;var T=E,P=Rge(T,2);c=P[0],d=P[1]}var k=xX(A,i),I=k.realScaleType,L=k.scale;L.domain(S).range(E),gX(L);var U=vX(L,nh(nh({},A),{},{realScaleType:I})),H=nh(nh(nh({},A),U),{},{range:E,radius:N,realScaleType:I,scale:L,cx:u,cy:h,innerRadius:y,outerRadius:N,startAngle:c,endAngle:d});return nh(nh({},v),{},jX({},b,H))},{})},Uge=function(e,s){var r=e.x,a=e.y,i=s.x,o=s.y;return Math.sqrt(Math.pow(r-i,2)+Math.pow(a-o,2))},zge=function(e,s){var r=e.x,a=e.y,i=s.cx,o=s.cy,l=Uge({x:r,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(r-i)/l,d=Math.acos(c);return a>o&&(d=2*Math.PI-d),{radius:l,angle:Lge(d),angleInRadian:d}},Bge=function(e){var s=e.startAngle,r=e.endAngle,a=Math.floor(s/360),i=Math.floor(r/360),o=Math.min(a,i);return{startAngle:s-o*360,endAngle:r-o*360}},Vge=function(e,s){var r=s.startAngle,a=s.endAngle,i=Math.floor(r/360),o=Math.floor(a/360),l=Math.min(i,o);return e+l*360},CB=function(e,s){var r=e.x,a=e.y,i=zge({x:r,y:a},s),o=i.radius,l=i.angle,c=s.innerRadius,d=s.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=Bge(s),h=u.startAngle,m=u.endAngle,y=l,N;if(h<=m){for(;y>m;)y-=360;for(;y<h;)y+=360;N=y>=h&&y<=m}else{for(;y>h;)y-=360;for(;y<m;)y+=360;N=y>=m&&y<=h}return N?nh(nh({},s),{},{radius:o,angle:Vge(y,s)}):null},NX=function(e){return!R.isValidElement(e)&&!qn(e)&&typeof e!="boolean"?e.className:""};function i1(n){"@babel/helpers - typeof";return i1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i1(n)}var Hge=["offset"];function Gge(n){return Kge(n)||Wge(n)||qge(n)||$ge()}function $ge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qge(n,e){if(n){if(typeof n=="string")return DO(n,e);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return DO(n,e)}}function Wge(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Kge(n){if(Array.isArray(n))return DO(n)}function DO(n,e){(e==null||e>n.length)&&(e=n.length);for(var s=0,r=new Array(e);s<e;s++)r[s]=n[s];return r}function Xge(n,e){if(n==null)return{};var s=Zge(n,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(s[r]=n[r])}return s}function Zge(n,e){if(n==null)return{};var s={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;s[r]=n[r]}return s}function TB(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function Va(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?TB(Object(s),!0).forEach(function(r){Yge(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):TB(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function Yge(n,e,s){return e=Qge(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function Qge(n){var e=Jge(n,"string");return i1(e)=="symbol"?e:e+""}function Jge(n,e){if(i1(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(i1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function o1(){return o1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},o1.apply(this,arguments)}var eve=function(e){var s=e.value,r=e.formatter,a=ls(e.children)?s:e.children;return qn(r)?r(a):a},tve=function(e,s){var r=jo(s-e),a=Math.min(Math.abs(s-e),360);return r*a},nve=function(e,s,r){var a=e.position,i=e.viewBox,o=e.offset,l=e.className,c=i,d=c.cx,u=c.cy,h=c.innerRadius,m=c.outerRadius,y=c.startAngle,N=c.endAngle,j=c.clockWise,v=(h+m)/2,b=tve(y,N),A=b>=0?1:-1,S,w;a==="insideStart"?(S=y+A*o,w=j):a==="insideEnd"?(S=N-A*o,w=!j):a==="end"&&(S=N+A*o,w=j),w=b<=0?w:!w;var E=_r(d,u,v,S),T=_r(d,u,v,S+(w?1:-1)*359),P="M".concat(E.x,",").concat(E.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(w?0:1,`,
    `).concat(T.x,",").concat(T.y),k=ls(e.id)?ay("recharts-radial-line-"):e.id;return ge.createElement("text",o1({},r,{dominantBaseline:"central",className:os("recharts-radial-bar-label",l)}),ge.createElement("defs",null,ge.createElement("path",{id:k,d:P})),ge.createElement("textPath",{xlinkHref:"#".concat(k)},s))},sve=function(e){var s=e.viewBox,r=e.offset,a=e.position,i=s,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,h=i.endAngle,m=(u+h)/2;if(a==="outside"){var y=_r(o,l,d+r,m),N=y.x,j=y.y;return{x:N,y:j,textAnchor:N>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+d)/2,b=_r(o,l,v,m),A=b.x,S=b.y;return{x:A,y:S,textAnchor:"middle",verticalAnchor:"middle"}},rve=function(e){var s=e.viewBox,r=e.parentViewBox,a=e.offset,i=e.position,o=s,l=o.x,c=o.y,d=o.width,u=o.height,h=u>=0?1:-1,m=h*a,y=h>0?"end":"start",N=h>0?"start":"end",j=d>=0?1:-1,v=j*a,b=j>0?"end":"start",A=j>0?"start":"end";if(i==="top"){var S={x:l+d/2,y:c-h*a,textAnchor:"middle",verticalAnchor:y};return Va(Va({},S),r?{height:Math.max(c-r.y,0),width:d}:{})}if(i==="bottom"){var w={x:l+d/2,y:c+u+m,textAnchor:"middle",verticalAnchor:N};return Va(Va({},w),r?{height:Math.max(r.y+r.height-(c+u),0),width:d}:{})}if(i==="left"){var E={x:l-v,y:c+u/2,textAnchor:b,verticalAnchor:"middle"};return Va(Va({},E),r?{width:Math.max(E.x-r.x,0),height:u}:{})}if(i==="right"){var T={x:l+d+v,y:c+u/2,textAnchor:A,verticalAnchor:"middle"};return Va(Va({},T),r?{width:Math.max(r.x+r.width-T.x,0),height:u}:{})}var P=r?{width:d,height:u}:{};return i==="insideLeft"?Va({x:l+v,y:c+u/2,textAnchor:A,verticalAnchor:"middle"},P):i==="insideRight"?Va({x:l+d-v,y:c+u/2,textAnchor:b,verticalAnchor:"middle"},P):i==="insideTop"?Va({x:l+d/2,y:c+m,textAnchor:"middle",verticalAnchor:N},P):i==="insideBottom"?Va({x:l+d/2,y:c+u-m,textAnchor:"middle",verticalAnchor:y},P):i==="insideTopLeft"?Va({x:l+v,y:c+m,textAnchor:A,verticalAnchor:N},P):i==="insideTopRight"?Va({x:l+d-v,y:c+m,textAnchor:b,verticalAnchor:N},P):i==="insideBottomLeft"?Va({x:l+v,y:c+u-m,textAnchor:A,verticalAnchor:y},P):i==="insideBottomRight"?Va({x:l+d-v,y:c+u-m,textAnchor:b,verticalAnchor:y},P):sy(i)&&(Ot(i.x)||Dp(i.x))&&(Ot(i.y)||Dp(i.y))?Va({x:l+wo(i.x,d),y:c+wo(i.y,u),textAnchor:"end",verticalAnchor:"end"},P):Va({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},P)},ave=function(e){return"cx"in e&&Ot(e.cx)};function fi(n){var e=n.offset,s=e===void 0?5:e,r=Xge(n,Hge),a=Va({offset:s},r),i=a.viewBox,o=a.position,l=a.value,c=a.children,d=a.content,u=a.className,h=u===void 0?"":u,m=a.textBreakAll;if(!i||ls(l)&&ls(c)&&!R.isValidElement(d)&&!qn(d))return null;if(R.isValidElement(d))return R.cloneElement(d,a);var y;if(qn(d)){if(y=R.createElement(d,a),R.isValidElement(y))return y}else y=eve(a);var N=ave(i),j=In(a,!0);if(N&&(o==="insideStart"||o==="insideEnd"||o==="end"))return nve(a,y,j);var v=N?sve(a):rve(a);return ge.createElement(px,o1({className:os("recharts-label",h)},j,v,{breakAll:m}),y)}fi.displayName="Label";var SX=function(e){var s=e.cx,r=e.cy,a=e.angle,i=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,d=e.innerRadius,u=e.outerRadius,h=e.x,m=e.y,y=e.top,N=e.left,j=e.width,v=e.height,b=e.clockWise,A=e.labelViewBox;if(A)return A;if(Ot(j)&&Ot(v)){if(Ot(h)&&Ot(m))return{x:h,y:m,width:j,height:v};if(Ot(y)&&Ot(N))return{x:y,y:N,width:j,height:v}}return Ot(h)&&Ot(m)?{x:h,y:m,width:0,height:0}:Ot(s)&&Ot(r)?{cx:s,cy:r,startAngle:i||a||0,endAngle:o||a||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:b}:e.viewBox?e.viewBox:{}},ive=function(e,s){return e?e===!0?ge.createElement(fi,{key:"label-implicit",viewBox:s}):qa(e)?ge.createElement(fi,{key:"label-implicit",viewBox:s,value:e}):R.isValidElement(e)?e.type===fi?R.cloneElement(e,{key:"label-implicit",viewBox:s}):ge.createElement(fi,{key:"label-implicit",content:e,viewBox:s}):qn(e)?ge.createElement(fi,{key:"label-implicit",content:e,viewBox:s}):sy(e)?ge.createElement(fi,o1({viewBox:s},e,{key:"label-implicit"})):null:null},ove=function(e,s){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var a=e.children,i=SX(e),o=rc(a,fi).map(function(c,d){return R.cloneElement(c,{viewBox:s||i,key:"label-".concat(d)})});if(!r)return o;var l=ive(e.label,s||i);return[l].concat(Gge(o))};fi.parseViewBox=SX;fi.renderCallByParent=ove;var PP,EB;function lve(){if(EB)return PP;EB=1;function n(e){var s=e==null?0:e.length;return s?e[s-1]:void 0}return PP=n,PP}var cve=lve();const dve=Gs(cve);function l1(n){"@babel/helpers - typeof";return l1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l1(n)}var uve=["valueAccessor"],hve=["data","dataKey","clockWise","id","textBreakAll"];function fve(n){return gve(n)||xve(n)||pve(n)||mve()}function mve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pve(n,e){if(n){if(typeof n=="string")return LO(n,e);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return LO(n,e)}}function xve(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function gve(n){if(Array.isArray(n))return LO(n)}function LO(n,e){(e==null||e>n.length)&&(e=n.length);for(var s=0,r=new Array(e);s<e;s++)r[s]=n[s];return r}function t2(){return t2=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},t2.apply(this,arguments)}function MB(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function PB(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?MB(Object(s),!0).forEach(function(r){vve(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):MB(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function vve(n,e,s){return e=yve(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function yve(n){var e=bve(n,"string");return l1(e)=="symbol"?e:e+""}function bve(n,e){if(l1(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(l1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function RB(n,e){if(n==null)return{};var s=jve(n,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(s[r]=n[r])}return s}function jve(n,e){if(n==null)return{};var s={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;s[r]=n[r]}return s}var wve=function(e){return Array.isArray(e.value)?dve(e.value):e.value};function fh(n){var e=n.valueAccessor,s=e===void 0?wve:e,r=RB(n,uve),a=r.data,i=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,d=RB(r,hve);return!a||!a.length?null:ge.createElement(Os,{className:"recharts-label-list"},a.map(function(u,h){var m=ls(i)?s(u,h):$a(u&&u.payload,i),y=ls(l)?{}:{id:"".concat(l,"-").concat(h)};return ge.createElement(fi,t2({},In(u,!0),d,y,{parentViewBox:u.parentViewBox,value:m,textBreakAll:c,viewBox:fi.parseViewBox(ls(o)?u:PB(PB({},u),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}fh.displayName="LabelList";function Nve(n,e){return n?n===!0?ge.createElement(fh,{key:"labelList-implicit",data:e}):ge.isValidElement(n)||qn(n)?ge.createElement(fh,{key:"labelList-implicit",data:e,content:n}):sy(n)?ge.createElement(fh,t2({data:e},n,{key:"labelList-implicit"})):null:null}function Sve(n,e){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!n||!n.children&&s&&!n.label)return null;var r=n.children,a=rc(r,fh).map(function(o,l){return R.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!s)return a;var i=Nve(n.label,e);return[i].concat(fve(a))}fh.renderCallByParent=Sve;function c1(n){"@babel/helpers - typeof";return c1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c1(n)}function FO(){return FO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},FO.apply(this,arguments)}function OB(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function kB(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?OB(Object(s),!0).forEach(function(r){_ve(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):OB(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function _ve(n,e,s){return e=Ave(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function Ave(n){var e=Cve(n,"string");return c1(e)=="symbol"?e:e+""}function Cve(n,e){if(c1(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(c1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Tve=function(e,s){var r=jo(s-e),a=Math.min(Math.abs(s-e),359.999);return r*a},$N=function(e){var s=e.cx,r=e.cy,a=e.radius,i=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,d=e.cornerIsExternal,u=c*(l?1:-1)+a,h=Math.asin(c/u)/e2,m=d?i:i+o*h,y=_r(s,r,u,m),N=_r(s,r,a,m),j=d?i-o*h:i,v=_r(s,r,u*Math.cos(h*e2),j);return{center:y,circleTangency:N,lineTangency:v,theta:h}},_X=function(e){var s=e.cx,r=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.startAngle,l=e.endAngle,c=Tve(o,l),d=o+c,u=_r(s,r,i,o),h=_r(s,r,i,d),m="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var y=_r(s,r,a,o),N=_r(s,r,a,d);m+="L ".concat(N.x,",").concat(N.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(y.x,",").concat(y.y," Z")}else m+="L ".concat(s,",").concat(r," Z");return m},Eve=function(e){var s=e.cx,r=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,d=e.startAngle,u=e.endAngle,h=jo(u-d),m=$N({cx:s,cy:r,radius:i,angle:d,sign:h,cornerRadius:o,cornerIsExternal:c}),y=m.circleTangency,N=m.lineTangency,j=m.theta,v=$N({cx:s,cy:r,radius:i,angle:u,sign:-h,cornerRadius:o,cornerIsExternal:c}),b=v.circleTangency,A=v.lineTangency,S=v.theta,w=c?Math.abs(d-u):Math.abs(d-u)-j-S;if(w<0)return l?"M ".concat(N.x,",").concat(N.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):_X({cx:s,cy:r,innerRadius:a,outerRadius:i,startAngle:d,endAngle:u});var E="M ".concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(w>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(A.x,",").concat(A.y,`
  `);if(a>0){var T=$N({cx:s,cy:r,radius:a,angle:d,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=T.circleTangency,k=T.lineTangency,I=T.theta,L=$N({cx:s,cy:r,radius:a,angle:u,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),U=L.circleTangency,H=L.lineTangency,B=L.theta,K=c?Math.abs(d-u):Math.abs(d-u)-I-B;if(K<0&&o===0)return"".concat(E,"L").concat(s,",").concat(r,"Z");E+="L".concat(H.x,",").concat(H.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(U.x,",").concat(U.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(K>180),",").concat(+(h>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,"Z")}else E+="L".concat(s,",").concat(r,"Z");return E},Mve={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},AX=function(e){var s=kB(kB({},Mve),e),r=s.cx,a=s.cy,i=s.innerRadius,o=s.outerRadius,l=s.cornerRadius,c=s.forceCornerRadius,d=s.cornerIsExternal,u=s.startAngle,h=s.endAngle,m=s.className;if(o<i||u===h)return null;var y=os("recharts-sector",m),N=o-i,j=wo(l,N,0,!0),v;return j>0&&Math.abs(u-h)<360?v=Eve({cx:r,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(j,N/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:h}):v=_X({cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:h}),ge.createElement("path",FO({},In(s,!0),{className:y,d:v,role:"img"}))};function d1(n){"@babel/helpers - typeof";return d1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d1(n)}function UO(){return UO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},UO.apply(this,arguments)}function IB(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function DB(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?IB(Object(s),!0).forEach(function(r){Pve(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):IB(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function Pve(n,e,s){return e=Rve(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function Rve(n){var e=Ove(n,"string");return d1(e)=="symbol"?e:e+""}function Ove(n,e){if(d1(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(d1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var LB={curveBasisClosed:Jce,curveBasisOpen:ede,curveBasis:Qce,curveBumpX:Fce,curveBumpY:Uce,curveLinearClosed:tde,curveLinear:uC,curveMonotoneX:nde,curveMonotoneY:sde,curveNatural:rde,curveStep:ade,curveStepAfter:ode,curveStepBefore:ide},qN=function(e){return e.x===+e.x&&e.y===+e.y},kb=function(e){return e.x},Ib=function(e){return e.y},kve=function(e,s){if(qn(e))return e;var r="curve".concat(cC(e));return(r==="curveMonotone"||r==="curveBump")&&s?LB["".concat(r).concat(s==="vertical"?"Y":"X")]:LB[r]||uC},Ive=function(e){var s=e.type,r=s===void 0?"linear":s,a=e.points,i=a===void 0?[]:a,o=e.baseLine,l=e.layout,c=e.connectNulls,d=c===void 0?!1:c,u=kve(r,l),h=d?i.filter(function(j){return qN(j)}):i,m;if(Array.isArray(o)){var y=d?o.filter(function(j){return qN(j)}):o,N=h.map(function(j,v){return DB(DB({},j),{},{base:y[v]})});return l==="vertical"?m=LN().y(Ib).x1(kb).x0(function(j){return j.base.x}):m=LN().x(kb).y1(Ib).y0(function(j){return j.base.y}),m.defined(qN).curve(u),m(N)}return l==="vertical"&&Ot(o)?m=LN().y(Ib).x1(kb).x0(o):Ot(o)?m=LN().x(kb).y1(Ib).y0(o):m=SW().x(kb).y(Ib),m.defined(qN).curve(u),m(h)},Bv=function(e){var s=e.className,r=e.points,a=e.path,i=e.pathRef;if((!r||!r.length)&&!a)return null;var o=r&&r.length?Ive(e):a;return R.createElement("path",UO({},In(e,!1),E_(e),{className:os("recharts-curve",s),d:o,ref:i}))},RP={exports:{}},OP,FB;function Dve(){if(FB)return OP;FB=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return OP=n,OP}var kP,UB;function Lve(){if(UB)return kP;UB=1;var n=Dve();function e(){}function s(){}return s.resetWarningCache=e,kP=function(){function r(o,l,c,d,u,h){if(h!==n){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function a(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:s,resetWarningCache:e};return i.PropTypes=i,i},kP}var zB;function Fve(){return zB||(zB=1,RP.exports=Lve()()),RP.exports}var Uve=Fve();const Qs=Gs(Uve);var zve=Object.getOwnPropertyNames,Bve=Object.getOwnPropertySymbols,Vve=Object.prototype.hasOwnProperty;function BB(n,e){return function(r,a,i){return n(r,a,i)&&e(r,a,i)}}function WN(n){return function(s,r,a){if(!s||!r||typeof s!="object"||typeof r!="object")return n(s,r,a);var i=a.cache,o=i.get(s),l=i.get(r);if(o&&l)return o===r&&l===s;i.set(s,r),i.set(r,s);var c=n(s,r,a);return i.delete(s),i.delete(r),c}}function Hve(n){return n?.[Symbol.toStringTag]}function VB(n){return zve(n).concat(Bve(n))}var Gve=Object.hasOwn||(function(n,e){return Vve.call(n,e)});function Ox(n,e){return n===e||!n&&!e&&n!==n&&e!==e}var $ve="__v",qve="__o",Wve="_owner",HB=Object.getOwnPropertyDescriptor,GB=Object.keys;function Kve(n,e,s){var r=n.length;if(e.length!==r)return!1;for(;r-- >0;)if(!s.equals(n[r],e[r],r,r,n,e,s))return!1;return!0}function Xve(n,e){return Ox(n.getTime(),e.getTime())}function Zve(n,e){return n.name===e.name&&n.message===e.message&&n.cause===e.cause&&n.stack===e.stack}function Yve(n,e){return n===e}function $B(n,e,s){var r=n.size;if(r!==e.size)return!1;if(!r)return!0;for(var a=new Array(r),i=n.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var d=e.entries(),u=!1,h=0;(l=d.next())&&!l.done;){if(a[h]){h++;continue}var m=o.value,y=l.value;if(s.equals(m[0],y[0],c,h,n,e,s)&&s.equals(m[1],y[1],m[0],y[0],n,e,s)){u=a[h]=!0;break}h++}if(!u)return!1;c++}return!0}var Qve=Ox;function Jve(n,e,s){var r=GB(n),a=r.length;if(GB(e).length!==a)return!1;for(;a-- >0;)if(!CX(n,e,s,r[a]))return!1;return!0}function Db(n,e,s){var r=VB(n),a=r.length;if(VB(e).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=r[a],!CX(n,e,s,i)||(o=HB(n,i),l=HB(e,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function e0e(n,e){return Ox(n.valueOf(),e.valueOf())}function t0e(n,e){return n.source===e.source&&n.flags===e.flags}function qB(n,e,s){var r=n.size;if(r!==e.size)return!1;if(!r)return!0;for(var a=new Array(r),i=n.values(),o,l;(o=i.next())&&!o.done;){for(var c=e.values(),d=!1,u=0;(l=c.next())&&!l.done;){if(!a[u]&&s.equals(o.value,l.value,o.value,l.value,n,e,s)){d=a[u]=!0;break}u++}if(!d)return!1}return!0}function n0e(n,e){var s=n.length;if(e.length!==s)return!1;for(;s-- >0;)if(n[s]!==e[s])return!1;return!0}function s0e(n,e){return n.hostname===e.hostname&&n.pathname===e.pathname&&n.protocol===e.protocol&&n.port===e.port&&n.hash===e.hash&&n.username===e.username&&n.password===e.password}function CX(n,e,s,r){return(r===Wve||r===qve||r===$ve)&&(n.$$typeof||e.$$typeof)?!0:Gve(e,r)&&s.equals(n[r],e[r],r,r,n,e,s)}var r0e="[object Arguments]",a0e="[object Boolean]",i0e="[object Date]",o0e="[object Error]",l0e="[object Map]",c0e="[object Number]",d0e="[object Object]",u0e="[object RegExp]",h0e="[object Set]",f0e="[object String]",m0e="[object URL]",p0e=Array.isArray,WB=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,KB=Object.assign,x0e=Object.prototype.toString.call.bind(Object.prototype.toString);function g0e(n){var e=n.areArraysEqual,s=n.areDatesEqual,r=n.areErrorsEqual,a=n.areFunctionsEqual,i=n.areMapsEqual,o=n.areNumbersEqual,l=n.areObjectsEqual,c=n.arePrimitiveWrappersEqual,d=n.areRegExpsEqual,u=n.areSetsEqual,h=n.areTypedArraysEqual,m=n.areUrlsEqual,y=n.unknownTagComparators;return function(j,v,b){if(j===v)return!0;if(j==null||v==null)return!1;var A=typeof j;if(A!==typeof v)return!1;if(A!=="object")return A==="number"?o(j,v,b):A==="function"?a(j,v,b):!1;var S=j.constructor;if(S!==v.constructor)return!1;if(S===Object)return l(j,v,b);if(p0e(j))return e(j,v,b);if(WB!=null&&WB(j))return h(j,v,b);if(S===Date)return s(j,v,b);if(S===RegExp)return d(j,v,b);if(S===Map)return i(j,v,b);if(S===Set)return u(j,v,b);var w=x0e(j);if(w===i0e)return s(j,v,b);if(w===u0e)return d(j,v,b);if(w===l0e)return i(j,v,b);if(w===h0e)return u(j,v,b);if(w===d0e)return typeof j.then!="function"&&typeof v.then!="function"&&l(j,v,b);if(w===m0e)return m(j,v,b);if(w===o0e)return r(j,v,b);if(w===r0e)return l(j,v,b);if(w===a0e||w===c0e||w===f0e)return c(j,v,b);if(y){var E=y[w];if(!E){var T=Hve(j);T&&(E=y[T])}if(E)return E(j,v,b)}return!1}}function v0e(n){var e=n.circular,s=n.createCustomConfig,r=n.strict,a={areArraysEqual:r?Db:Kve,areDatesEqual:Xve,areErrorsEqual:Zve,areFunctionsEqual:Yve,areMapsEqual:r?BB($B,Db):$B,areNumbersEqual:Qve,areObjectsEqual:r?Db:Jve,arePrimitiveWrappersEqual:e0e,areRegExpsEqual:t0e,areSetsEqual:r?BB(qB,Db):qB,areTypedArraysEqual:r?Db:n0e,areUrlsEqual:s0e,unknownTagComparators:void 0};if(s&&(a=KB({},a,s(a))),e){var i=WN(a.areArraysEqual),o=WN(a.areMapsEqual),l=WN(a.areObjectsEqual),c=WN(a.areSetsEqual);a=KB({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function y0e(n){return function(e,s,r,a,i,o,l){return n(e,s,l)}}function b0e(n){var e=n.circular,s=n.comparator,r=n.createState,a=n.equals,i=n.strict;if(r)return function(c,d){var u=r(),h=u.cache,m=h===void 0?e?new WeakMap:void 0:h,y=u.meta;return s(c,d,{cache:m,equals:a,meta:y,strict:i})};if(e)return function(c,d){return s(c,d,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,d){return s(c,d,o)}}var j0e=rm();rm({strict:!0});rm({circular:!0});rm({circular:!0,strict:!0});rm({createInternalComparator:function(){return Ox}});rm({strict:!0,createInternalComparator:function(){return Ox}});rm({circular:!0,createInternalComparator:function(){return Ox}});rm({circular:!0,createInternalComparator:function(){return Ox},strict:!0});function rm(n){n===void 0&&(n={});var e=n.circular,s=e===void 0?!1:e,r=n.createInternalComparator,a=n.createState,i=n.strict,o=i===void 0?!1:i,l=v0e(n),c=g0e(l),d=r?r(c):y0e(c);return b0e({circular:s,comparator:c,createState:a,equals:d,strict:o})}function w0e(n){typeof requestAnimationFrame<"u"&&requestAnimationFrame(n)}function XB(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=-1,r=function a(i){s<0&&(s=i),i-s>e?(n(i),s=-1):w0e(a)};requestAnimationFrame(r)}function zO(n){"@babel/helpers - typeof";return zO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zO(n)}function N0e(n){return C0e(n)||A0e(n)||_0e(n)||S0e()}function S0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _0e(n,e){if(n){if(typeof n=="string")return ZB(n,e);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return ZB(n,e)}}function ZB(n,e){(e==null||e>n.length)&&(e=n.length);for(var s=0,r=new Array(e);s<e;s++)r[s]=n[s];return r}function A0e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function C0e(n){if(Array.isArray(n))return n}function T0e(){var n={},e=function(){return null},s=!1,r=function a(i){if(!s){if(Array.isArray(i)){if(!i.length)return;var o=i,l=N0e(o),c=l[0],d=l.slice(1);if(typeof c=="number"){XB(a.bind(null,d),c);return}a(c),XB(a.bind(null,d));return}zO(i)==="object"&&(n=i,e(n)),typeof i=="function"&&i()}};return{stop:function(){s=!0},start:function(i){s=!1,r(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function u1(n){"@babel/helpers - typeof";return u1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u1(n)}function YB(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function QB(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?YB(Object(s),!0).forEach(function(r){TX(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):YB(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function TX(n,e,s){return e=E0e(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function E0e(n){var e=M0e(n,"string");return u1(e)==="symbol"?e:String(e)}function M0e(n,e){if(u1(n)!=="object"||n===null)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(u1(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var P0e=function(e,s){return[Object.keys(e),Object.keys(s)].reduce(function(r,a){return r.filter(function(i){return a.includes(i)})})},R0e=function(e){return e},O0e=function(e){return e.replace(/([A-Z])/g,function(s){return"-".concat(s.toLowerCase())})},yj=function(e,s){return Object.keys(s).reduce(function(r,a){return QB(QB({},r),{},TX({},a,e(a,s[a])))},{})},JB=function(e,s,r){return e.map(function(a){return"".concat(O0e(a)," ").concat(s,"ms ").concat(r)}).join(",")};function k0e(n,e){return L0e(n)||D0e(n,e)||EX(n,e)||I0e()}function I0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D0e(n,e){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var r,a,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(n)).next,e!==0)for(;!(c=(r=i.call(s)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function L0e(n){if(Array.isArray(n))return n}function F0e(n){return B0e(n)||z0e(n)||EX(n)||U0e()}function U0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EX(n,e){if(n){if(typeof n=="string")return BO(n,e);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return BO(n,e)}}function z0e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function B0e(n){if(Array.isArray(n))return BO(n)}function BO(n,e){(e==null||e>n.length)&&(e=n.length);for(var s=0,r=new Array(e);s<e;s++)r[s]=n[s];return r}var n2=1e-4,MX=function(e,s){return[0,3*e,3*s-6*e,3*e-3*s+1]},PX=function(e,s){return e.map(function(r,a){return r*Math.pow(s,a)}).reduce(function(r,a){return r+a})},e9=function(e,s){return function(r){var a=MX(e,s);return PX(a,r)}},V0e=function(e,s){return function(r){var a=MX(e,s),i=[].concat(F0e(a.map(function(o,l){return o*l}).slice(1)),[0]);return PX(i,r)}},t9=function(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];var a=s[0],i=s[1],o=s[2],l=s[3];if(s.length===1)switch(s[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=s[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=k0e(d,4);a=u[0],i=u[1],o=u[2],l=u[3]}}}var h=e9(a,o),m=e9(i,l),y=V0e(a,o),N=function(b){return b>1?1:b<0?0:b},j=function(b){for(var A=b>1?1:b,S=A,w=0;w<8;++w){var E=h(S)-A,T=y(S);if(Math.abs(E-A)<n2||T<n2)return m(S);S=N(S-E/T)}return m(S)};return j.isStepper=!1,j},H0e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=e.stiff,r=s===void 0?100:s,a=e.damping,i=a===void 0?8:a,o=e.dt,l=o===void 0?17:o,c=function(u,h,m){var y=-(u-h)*r,N=m*i,j=m+(y-N)*l/1e3,v=m*l/1e3+u;return Math.abs(v-h)<n2&&Math.abs(j)<n2?[h,0]:[v,j]};return c.isStepper=!0,c.dt=l,c},G0e=function(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];var a=s[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return t9(a);case"spring":return H0e();default:if(a.split("(")[0]==="cubic-bezier")return t9(a)}return typeof a=="function"?a:null};function h1(n){"@babel/helpers - typeof";return h1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h1(n)}function n9(n){return W0e(n)||q0e(n)||RX(n)||$0e()}function $0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q0e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function W0e(n){if(Array.isArray(n))return HO(n)}function s9(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function Ti(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?s9(Object(s),!0).forEach(function(r){VO(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):s9(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function VO(n,e,s){return e=K0e(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function K0e(n){var e=X0e(n,"string");return h1(e)==="symbol"?e:String(e)}function X0e(n,e){if(h1(n)!=="object"||n===null)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(h1(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Z0e(n,e){return J0e(n)||Q0e(n,e)||RX(n,e)||Y0e()}function Y0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RX(n,e){if(n){if(typeof n=="string")return HO(n,e);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return HO(n,e)}}function HO(n,e){(e==null||e>n.length)&&(e=n.length);for(var s=0,r=new Array(e);s<e;s++)r[s]=n[s];return r}function Q0e(n,e){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var r,a,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(n)).next,e!==0)for(;!(c=(r=i.call(s)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function J0e(n){if(Array.isArray(n))return n}var s2=function(e,s,r){return e+(s-e)*r},GO=function(e){var s=e.from,r=e.to;return s!==r},eye=function n(e,s,r){var a=yj(function(i,o){if(GO(o)){var l=e(o.from,o.to,o.velocity),c=Z0e(l,2),d=c[0],u=c[1];return Ti(Ti({},o),{},{from:d,velocity:u})}return o},s);return r<1?yj(function(i,o){return GO(o)?Ti(Ti({},o),{},{velocity:s2(o.velocity,a[i].velocity,r),from:s2(o.from,a[i].from,r)}):o},s):n(e,a,r-1)};const tye=(function(n,e,s,r,a){var i=P0e(n,e),o=i.reduce(function(v,b){return Ti(Ti({},v),{},VO({},b,[n[b],e[b]]))},{}),l=i.reduce(function(v,b){return Ti(Ti({},v),{},VO({},b,{from:n[b],velocity:0,to:e[b]}))},{}),c=-1,d,u,h=function(){return null},m=function(){return yj(function(b,A){return A.from},l)},y=function(){return!Object.values(l).filter(GO).length},N=function(b){d||(d=b);var A=b-d,S=A/s.dt;l=eye(s,l,S),a(Ti(Ti(Ti({},n),e),m())),d=b,y()||(c=requestAnimationFrame(h))},j=function(b){u||(u=b);var A=(b-u)/r,S=yj(function(E,T){return s2.apply(void 0,n9(T).concat([s(A)]))},o);if(a(Ti(Ti(Ti({},n),e),S)),A<1)c=requestAnimationFrame(h);else{var w=yj(function(E,T){return s2.apply(void 0,n9(T).concat([s(1)]))},o);a(Ti(Ti(Ti({},n),e),w))}};return h=s.isStepper?N:j,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}});function h0(n){"@babel/helpers - typeof";return h0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h0(n)}var nye=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function sye(n,e){if(n==null)return{};var s=rye(n,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(s[r]=n[r])}return s}function rye(n,e){if(n==null)return{};var s={},r=Object.keys(n),a,i;for(i=0;i<r.length;i++)a=r[i],!(e.indexOf(a)>=0)&&(s[a]=n[a]);return s}function IP(n){return lye(n)||oye(n)||iye(n)||aye()}function aye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iye(n,e){if(n){if(typeof n=="string")return $O(n,e);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return $O(n,e)}}function oye(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function lye(n){if(Array.isArray(n))return $O(n)}function $O(n,e){(e==null||e>n.length)&&(e=n.length);for(var s=0,r=new Array(e);s<e;s++)r[s]=n[s];return r}function r9(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function Hc(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?r9(Object(s),!0).forEach(function(r){rj(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):r9(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function rj(n,e,s){return e=OX(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function cye(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function dye(n,e){for(var s=0;s<e.length;s++){var r=e[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,OX(r.key),r)}}function uye(n,e,s){return e&&dye(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function OX(n){var e=hye(n,"string");return h0(e)==="symbol"?e:String(e)}function hye(n,e){if(h0(n)!=="object"||n===null)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(h0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function fye(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&qO(n,e)}function qO(n,e){return qO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},qO(n,e)}function mye(n){var e=pye();return function(){var r=r2(n),a;if(e){var i=r2(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return WO(this,a)}}function WO(n,e){if(e&&(h0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KO(n)}function KO(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function pye(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function r2(n){return r2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},r2(n)}var lu=(function(n){fye(s,n);var e=mye(s);function s(r,a){var i;cye(this,s),i=e.call(this,r,a);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,h=o.steps,m=o.children,y=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(KO(i)),i.changeStyle=i.changeStyle.bind(KO(i)),!l||y<=0)return i.state={style:{}},typeof m=="function"&&(i.state={style:u}),WO(i);if(h&&h.length)i.state={style:h[0].style};else if(d){if(typeof m=="function")return i.state={style:d},WO(i);i.state={style:c?rj({},c,d):d}}else i.state={style:{}};return i}return uye(s,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,h=i.from,m=this.state.style;if(l){if(!o){var y={style:c?rj({},c,u):u};this.state&&m&&(c&&m[c]!==u||!c&&m!==u)&&this.setState(y);return}if(!(j0e(a.to,u)&&a.canBegin&&a.isActive)){var N=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var j=N||d?h:a.to;if(this.state&&m){var v={style:c?rj({},c,j):j};(c&&m[c]!==j||!c&&m!==j)&&this.setState(v)}this.runAnimation(Hc(Hc({},this.props),{},{from:j,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,d=a.easing,u=a.begin,h=a.onAnimationEnd,m=a.onAnimationStart,y=tye(o,l,G0e(d),c,this.changeStyle),N=function(){i.stopJSAnimation=y()};this.manager.start([m,u,N,c,h])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,d=o[0],u=d.style,h=d.duration,m=h===void 0?0:h,y=function(j,v,b){if(b===0)return j;var A=v.duration,S=v.easing,w=S===void 0?"ease":S,E=v.style,T=v.properties,P=v.onAnimationEnd,k=b>0?o[b-1]:v,I=T||Object.keys(E);if(typeof w=="function"||w==="spring")return[].concat(IP(j),[i.runJSAnimation.bind(i,{from:k.style,to:E,duration:A,easing:w}),A]);var L=JB(I,A,w),U=Hc(Hc(Hc({},k.style),E),{},{transition:L});return[].concat(IP(j),[U,A,P]).filter(R0e)};return this.manager.start([c].concat(IP(o.reduce(y,[u,Math.max(m,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=T0e());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,d=a.easing,u=a.onAnimationStart,h=a.onAnimationEnd,m=a.steps,y=a.children,N=this.manager;if(this.unSubscribe=N.subscribe(this.handleStyleChange),typeof d=="function"||typeof y=="function"||d==="spring"){this.runJSAnimation(a);return}if(m.length>1){this.runStepAnimation(a);return}var j=l?rj({},l,c):c,v=JB(Object.keys(j),o,d);N.start([u,i,Hc(Hc({},j),{},{transition:v}),o,h])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=sye(a,nye),d=R.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!l||d===0||o<=0)return i;var h=function(y){var N=y.props,j=N.style,v=j===void 0?{}:j,b=N.className,A=R.cloneElement(y,Hc(Hc({},c),{},{style:Hc(Hc({},v),u),className:b}));return A};return d===1?h(R.Children.only(i)):ge.createElement("div",null,R.Children.map(i,function(m){return h(m)}))}}]),s})(R.PureComponent);lu.displayName="Animate";lu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};lu.propTypes={from:Qs.oneOfType([Qs.object,Qs.string]),to:Qs.oneOfType([Qs.object,Qs.string]),attributeName:Qs.string,duration:Qs.number,begin:Qs.number,easing:Qs.oneOfType([Qs.string,Qs.func]),steps:Qs.arrayOf(Qs.shape({duration:Qs.number.isRequired,style:Qs.object.isRequired,easing:Qs.oneOfType([Qs.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Qs.func]),properties:Qs.arrayOf("string"),onAnimationEnd:Qs.func})),children:Qs.oneOfType([Qs.node,Qs.func]),isActive:Qs.bool,canBegin:Qs.bool,onAnimationEnd:Qs.func,shouldReAnimate:Qs.bool,onAnimationStart:Qs.func,onAnimationReStart:Qs.func};function _h(){return _h=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)({}).hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},_h.apply(null,arguments)}function f1(n){"@babel/helpers - typeof";return f1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f1(n)}function a2(){return a2=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},a2.apply(this,arguments)}function xye(n,e){return bye(n)||yye(n,e)||vye(n,e)||gye()}function gye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vye(n,e){if(n){if(typeof n=="string")return a9(n,e);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return a9(n,e)}}function a9(n,e){(e==null||e>n.length)&&(e=n.length);for(var s=0,r=new Array(e);s<e;s++)r[s]=n[s];return r}function yye(n,e){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var r,a,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(n)).next,e!==0)for(;!(c=(r=i.call(s)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function bye(n){if(Array.isArray(n))return n}function i9(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function o9(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?i9(Object(s),!0).forEach(function(r){jye(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):i9(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function jye(n,e,s){return e=wye(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function wye(n){var e=Nye(n,"string");return f1(e)=="symbol"?e:e+""}function Nye(n,e){if(f1(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(f1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var l9=function(e,s,r,a,i){var o=Math.min(Math.abs(r)/2,Math.abs(a)/2),l=a>=0?1:-1,c=r>=0?1:-1,d=a>=0&&r>=0||a<0&&r<0?1:0,u;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,y=4;m<y;m++)h[m]=i[m]>o?o:i[m];u="M".concat(e,",").concat(s+l*h[0]),h[0]>0&&(u+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(e+c*h[0],",").concat(s)),u+="L ".concat(e+r-c*h[1],",").concat(s),h[1]>0&&(u+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(s+l*h[1])),u+="L ".concat(e+r,",").concat(s+a-l*h[2]),h[2]>0&&(u+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(e+r-c*h[2],",").concat(s+a)),u+="L ".concat(e+c*h[3],",").concat(s+a),h[3]>0&&(u+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(s+a-l*h[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var N=Math.min(o,i);u="M ".concat(e,",").concat(s+l*N,`
            A `).concat(N,",").concat(N,",0,0,").concat(d,",").concat(e+c*N,",").concat(s,`
            L `).concat(e+r-c*N,",").concat(s,`
            A `).concat(N,",").concat(N,",0,0,").concat(d,",").concat(e+r,",").concat(s+l*N,`
            L `).concat(e+r,",").concat(s+a-l*N,`
            A `).concat(N,",").concat(N,",0,0,").concat(d,",").concat(e+r-c*N,",").concat(s+a,`
            L `).concat(e+c*N,",").concat(s+a,`
            A `).concat(N,",").concat(N,",0,0,").concat(d,",").concat(e,",").concat(s+a-l*N," Z")}else u="M ".concat(e,",").concat(s," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return u},Sye=function(e,s){if(!e||!s)return!1;var r=e.x,a=e.y,i=s.x,o=s.y,l=s.width,c=s.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),u=Math.max(i,i+l),h=Math.min(o,o+c),m=Math.max(o,o+c);return r>=d&&r<=u&&a>=h&&a<=m}return!1},_ye={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},MI=function(e){var s=o9(o9({},_ye),e),r=R.useRef(),a=R.useState(-1),i=xye(a,2),o=i[0],l=i[1];R.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&l(w)}catch{}},[]);var c=s.x,d=s.y,u=s.width,h=s.height,m=s.radius,y=s.className,N=s.animationEasing,j=s.animationDuration,v=s.animationBegin,b=s.isAnimationActive,A=s.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||h!==+h||u===0||h===0)return null;var S=os("recharts-rectangle",y);return A?ge.createElement(lu,{canBegin:o>0,from:{width:u,height:h,x:c,y:d},to:{width:u,height:h,x:c,y:d},duration:j,animationEasing:N,isActive:A},function(w){var E=w.width,T=w.height,P=w.x,k=w.y;return ge.createElement(lu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:j,isActive:b,easing:N},ge.createElement("path",a2({},In(s,!0),{className:S,d:l9(P,k,E,T,m),ref:r})))}):ge.createElement("path",a2({},In(s,!0),{className:S,d:l9(c,d,u,h,m)}))},Aye=["points","className","baseLinePoints","connectNulls"];function Av(){return Av=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},Av.apply(this,arguments)}function Cye(n,e){if(n==null)return{};var s=Tye(n,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(s[r]=n[r])}return s}function Tye(n,e){if(n==null)return{};var s={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;s[r]=n[r]}return s}function c9(n){return Rye(n)||Pye(n)||Mye(n)||Eye()}function Eye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mye(n,e){if(n){if(typeof n=="string")return XO(n,e);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return XO(n,e)}}function Pye(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Rye(n){if(Array.isArray(n))return XO(n)}function XO(n,e){(e==null||e>n.length)&&(e=n.length);for(var s=0,r=new Array(e);s<e;s++)r[s]=n[s];return r}var d9=function(e){return e&&e.x===+e.x&&e.y===+e.y},Oye=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=[[]];return e.forEach(function(r){d9(r)?s[s.length-1].push(r):s[s.length-1].length>0&&s.push([])}),d9(e[0])&&s[s.length-1].push(e[0]),s[s.length-1].length<=0&&(s=s.slice(0,-1)),s},bj=function(e,s){var r=Oye(e);s&&(r=[r.reduce(function(i,o){return[].concat(c9(i),c9(o))},[])]);var a=r.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(a,"Z"):a},kye=function(e,s,r){var a=bj(e,r);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(bj(s.reverse(),r).slice(1))},Iye=function(e){var s=e.points,r=e.className,a=e.baseLinePoints,i=e.connectNulls,o=Cye(e,Aye);if(!s||!s.length)return null;var l=os("recharts-polygon",r);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",d=kye(s,a,i);return ge.createElement("g",{className:l},ge.createElement("path",Av({},In(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?ge.createElement("path",Av({},In(o,!0),{fill:"none",d:bj(s,i)})):null,c?ge.createElement("path",Av({},In(o,!0),{fill:"none",d:bj(a,i)})):null)}var u=bj(s,i);return ge.createElement("path",Av({},In(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function ZO(){return ZO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},ZO.apply(this,arguments)}var TC=function(e){var s=e.cx,r=e.cy,a=e.r,i=e.className,o=os("recharts-dot",i);return s===+s&&r===+r&&a===+a?R.createElement("circle",ZO({},In(e,!1),E_(e),{className:o,cx:s,cy:r,r:a})):null};function m1(n){"@babel/helpers - typeof";return m1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m1(n)}var Dye=["x","y","top","left","width","height","className"];function YO(){return YO=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},YO.apply(this,arguments)}function u9(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function Lye(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?u9(Object(s),!0).forEach(function(r){Fye(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):u9(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function Fye(n,e,s){return e=Uye(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function Uye(n){var e=zye(n,"string");return m1(e)=="symbol"?e:e+""}function zye(n,e){if(m1(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(m1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Bye(n,e){if(n==null)return{};var s=Vye(n,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(s[r]=n[r])}return s}function Vye(n,e){if(n==null)return{};var s={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;s[r]=n[r]}return s}var Hye=function(e,s,r,a,i,o){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(o,",").concat(s,"h").concat(r)},Gye=function(e){var s=e.x,r=s===void 0?0:s,a=e.y,i=a===void 0?0:a,o=e.top,l=o===void 0?0:o,c=e.left,d=c===void 0?0:c,u=e.width,h=u===void 0?0:u,m=e.height,y=m===void 0?0:m,N=e.className,j=Bye(e,Dye),v=Lye({x:r,y:i,top:l,left:d,width:h,height:y},j);return!Ot(r)||!Ot(i)||!Ot(h)||!Ot(y)||!Ot(l)||!Ot(d)?null:ge.createElement("path",YO({},In(v,!0),{className:os("recharts-cross",N),d:Hye(r,i,h,y,l,d)}))},DP,h9;function $ye(){if(h9)return DP;h9=1;var n=NC(),e=KK(),s=fu();function r(a,i){return a&&a.length?n(a,s(i,2),e):void 0}return DP=r,DP}var qye=$ye();const Wye=Gs(qye);var LP,f9;function Kye(){if(f9)return LP;f9=1;var n=NC(),e=fu(),s=XK();function r(a,i){return a&&a.length?n(a,e(i,2),s):void 0}return LP=r,LP}var Xye=Kye();const Zye=Gs(Xye);var Yye=["cx","cy","angle","ticks","axisLine"],Qye=["ticks","tick","angle","tickFormatter","stroke"];function f0(n){"@babel/helpers - typeof";return f0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f0(n)}function jj(){return jj=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},jj.apply(this,arguments)}function m9(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function cp(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?m9(Object(s),!0).forEach(function(r){EC(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):m9(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function p9(n,e){if(n==null)return{};var s=Jye(n,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(s[r]=n[r])}return s}function Jye(n,e){if(n==null)return{};var s={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;s[r]=n[r]}return s}function ebe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function x9(n,e){for(var s=0;s<e.length;s++){var r=e[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,IX(r.key),r)}}function tbe(n,e,s){return e&&x9(n.prototype,e),s&&x9(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n}function nbe(n,e,s){return e=i2(e),sbe(n,kX()?Reflect.construct(e,s||[],i2(n).constructor):e.apply(n,s))}function sbe(n,e){if(e&&(f0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rbe(n)}function rbe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function kX(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kX=function(){return!!n})()}function i2(n){return i2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},i2(n)}function abe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&QO(n,e)}function QO(n,e){return QO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},QO(n,e)}function EC(n,e,s){return e=IX(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function IX(n){var e=ibe(n,"string");return f0(e)=="symbol"?e:e+""}function ibe(n,e){if(f0(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(f0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var MC=(function(n){function e(){return ebe(this,e),nbe(this,e,arguments)}return abe(e,n),tbe(e,[{key:"getTickValueCoord",value:function(r){var a=r.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return _r(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,a;switch(r){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.angle,l=r.ticks,c=Wye(l,function(u){return u.coordinate||0}),d=Zye(l,function(u){return u.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.angle,l=r.ticks,c=r.axisLine,d=p9(r,Yye),u=l.reduce(function(N,j){return[Math.min(N[0],j.coordinate),Math.max(N[1],j.coordinate)]},[1/0,-1/0]),h=_r(a,i,u[0],o),m=_r(a,i,u[1],o),y=cp(cp(cp({},In(d,!1)),{},{fill:"none"},In(c,!1)),{},{x1:h.x,y1:h.y,x2:m.x,y2:m.y});return ge.createElement("line",jj({className:"recharts-polar-radius-axis-line"},y))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,d=a.stroke,u=p9(a,Qye),h=this.getTickTextAnchor(),m=In(u,!1),y=In(o,!1),N=i.map(function(j,v){var b=r.getTickValueCoord(j),A=cp(cp(cp(cp({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},m),{},{stroke:"none",fill:d},y),{},{index:v},b),{},{payload:j});return ge.createElement(Os,jj({className:os("recharts-polar-radius-axis-tick",NX(o)),key:"tick-".concat(j.coordinate)},mx(r.props,j,v)),e.renderTickItem(o,A,c?c(j.value,v):j.value))});return ge.createElement(Os,{className:"recharts-polar-radius-axis-ticks"},N)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.axisLine,o=r.tick;return!a||!a.length?null:ge.createElement(Os,{className:os("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),fi.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,a,i){var o;return ge.isValidElement(r)?o=ge.cloneElement(r,a):qn(r)?o=r(a):o=ge.createElement(px,jj({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])})(R.PureComponent);EC(MC,"displayName","PolarRadiusAxis");EC(MC,"axisType","radiusAxis");EC(MC,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function m0(n){"@babel/helpers - typeof";return m0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m0(n)}function Op(){return Op=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},Op.apply(this,arguments)}function g9(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function dp(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?g9(Object(s),!0).forEach(function(r){PC(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):g9(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function obe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function v9(n,e){for(var s=0;s<e.length;s++){var r=e[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,LX(r.key),r)}}function lbe(n,e,s){return e&&v9(n.prototype,e),s&&v9(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n}function cbe(n,e,s){return e=o2(e),dbe(n,DX()?Reflect.construct(e,s||[],o2(n).constructor):e.apply(n,s))}function dbe(n,e){if(e&&(m0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ube(n)}function ube(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function DX(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DX=function(){return!!n})()}function o2(n){return o2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},o2(n)}function hbe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&JO(n,e)}function JO(n,e){return JO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},JO(n,e)}function PC(n,e,s){return e=LX(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function LX(n){var e=fbe(n,"string");return m0(e)=="symbol"?e:e+""}function fbe(n,e){if(m0(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(m0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var mbe=Math.PI/180,y9=1e-5,RC=(function(n){function e(){return obe(this,e),cbe(this,e,arguments)}return hbe(e,n),lbe(e,[{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,d=a.tickSize,u=d||8,h=_r(i,o,l,r.coordinate),m=_r(i,o,l+(c==="inner"?-1:1)*u,r.coordinate);return{x1:h.x,y1:h.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(r){var a=this.props.orientation,i=Math.cos(-r.coordinate*mbe),o;return i>y9?o=a==="outer"?"start":"end":i<-y9?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.radius,l=r.axisLine,c=r.axisLineType,d=dp(dp({},In(this.props,!1)),{},{fill:"none"},In(l,!1));if(c==="circle")return ge.createElement(TC,Op({className:"recharts-polar-angle-axis-line"},d,{cx:a,cy:i,r:o}));var u=this.props.ticks,h=u.map(function(m){return _r(a,i,o,m.coordinate)});return ge.createElement(Iye,Op({className:"recharts-polar-angle-axis-line"},d,{points:h}))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,d=a.stroke,u=In(this.props,!1),h=In(o,!1),m=dp(dp({},u),{},{fill:"none"},In(l,!1)),y=i.map(function(N,j){var v=r.getTickLineCoord(N),b=r.getTickTextAnchor(N),A=dp(dp(dp({textAnchor:b},u),{},{stroke:"none",fill:d},h),{},{index:j,payload:N,x:v.x2,y:v.y2});return ge.createElement(Os,Op({className:os("recharts-polar-angle-axis-tick",NX(o)),key:"tick-".concat(N.coordinate)},mx(r.props,N,j)),l&&ge.createElement("line",Op({className:"recharts-polar-angle-axis-tick-line"},m,v)),o&&e.renderTickItem(o,A,c?c(N.value,j):N.value))});return ge.createElement(Os,{className:"recharts-polar-angle-axis-ticks"},y)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.radius,o=r.axisLine;return i<=0||!a||!a.length?null:ge.createElement(Os,{className:os("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,a,i){var o;return ge.isValidElement(r)?o=ge.cloneElement(r,a):qn(r)?o=r(a):o=ge.createElement(px,Op({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])})(R.PureComponent);PC(RC,"displayName","PolarAngleAxis");PC(RC,"axisType","angleAxis");PC(RC,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var FP,b9;function pbe(){if(b9)return FP;b9=1;var n=WW(),e=n(Object.getPrototypeOf,Object);return FP=e,FP}var UP,j9;function xbe(){if(j9)return UP;j9=1;var n=Mh(),e=pbe(),s=Ph(),r="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,l=i.hasOwnProperty,c=o.call(Object);function d(u){if(!s(u)||n(u)!=r)return!1;var h=e(u);if(h===null)return!0;var m=l.call(h,"constructor")&&h.constructor;return typeof m=="function"&&m instanceof m&&o.call(m)==c}return UP=d,UP}var gbe=xbe();const vbe=Gs(gbe);var zP,w9;function ybe(){if(w9)return zP;w9=1;var n=Mh(),e=Ph(),s="[object Boolean]";function r(a){return a===!0||a===!1||e(a)&&n(a)==s}return zP=r,zP}var bbe=ybe();const jbe=Gs(bbe);function p1(n){"@babel/helpers - typeof";return p1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p1(n)}function l2(){return l2=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},l2.apply(this,arguments)}function wbe(n,e){return Abe(n)||_be(n,e)||Sbe(n,e)||Nbe()}function Nbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sbe(n,e){if(n){if(typeof n=="string")return N9(n,e);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return N9(n,e)}}function N9(n,e){(e==null||e>n.length)&&(e=n.length);for(var s=0,r=new Array(e);s<e;s++)r[s]=n[s];return r}function _be(n,e){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var r,a,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(n)).next,e!==0)for(;!(c=(r=i.call(s)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Abe(n){if(Array.isArray(n))return n}function S9(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function _9(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?S9(Object(s),!0).forEach(function(r){Cbe(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):S9(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function Cbe(n,e,s){return e=Tbe(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function Tbe(n){var e=Ebe(n,"string");return p1(e)=="symbol"?e:e+""}function Ebe(n,e){if(p1(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(p1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var A9=function(e,s,r,a,i){var o=r-a,l;return l="M ".concat(e,",").concat(s),l+="L ".concat(e+r,",").concat(s),l+="L ".concat(e+r-o/2,",").concat(s+i),l+="L ".concat(e+r-o/2-a,",").concat(s+i),l+="L ".concat(e,",").concat(s," Z"),l},Mbe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Pbe=function(e){var s=_9(_9({},Mbe),e),r=R.useRef(),a=R.useState(-1),i=wbe(a,2),o=i[0],l=i[1];R.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&l(S)}catch{}},[]);var c=s.x,d=s.y,u=s.upperWidth,h=s.lowerWidth,m=s.height,y=s.className,N=s.animationEasing,j=s.animationDuration,v=s.animationBegin,b=s.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||h!==+h||m!==+m||u===0&&h===0||m===0)return null;var A=os("recharts-trapezoid",y);return b?ge.createElement(lu,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:d},to:{upperWidth:u,lowerWidth:h,height:m,x:c,y:d},duration:j,animationEasing:N,isActive:b},function(S){var w=S.upperWidth,E=S.lowerWidth,T=S.height,P=S.x,k=S.y;return ge.createElement(lu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:j,easing:N},ge.createElement("path",l2({},In(s,!0),{className:A,d:A9(P,k,w,E,T),ref:r})))}):ge.createElement("g",null,ge.createElement("path",l2({},In(s,!0),{className:A,d:A9(c,d,u,h,m)})))},Rbe=["option","shapeType","propTransformer","activeClassName","isActive"];function x1(n){"@babel/helpers - typeof";return x1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x1(n)}function Obe(n,e){if(n==null)return{};var s=kbe(n,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(s[r]=n[r])}return s}function kbe(n,e){if(n==null)return{};var s={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;s[r]=n[r]}return s}function C9(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function c2(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?C9(Object(s),!0).forEach(function(r){Ibe(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):C9(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function Ibe(n,e,s){return e=Dbe(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function Dbe(n){var e=Lbe(n,"string");return x1(e)=="symbol"?e:e+""}function Lbe(n,e){if(x1(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(x1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Fbe(n,e){return c2(c2({},e),n)}function Ube(n,e){return n==="symbols"}function T9(n){var e=n.shapeType,s=n.elementProps;switch(e){case"rectangle":return ge.createElement(MI,s);case"trapezoid":return ge.createElement(Pbe,s);case"sector":return ge.createElement(AX,s);case"symbols":if(Ube(e))return ge.createElement(Xk,s);break;default:return null}}function zbe(n){return R.isValidElement(n)?n.props:n}function FX(n){var e=n.option,s=n.shapeType,r=n.propTransformer,a=r===void 0?Fbe:r,i=n.activeClassName,o=i===void 0?"recharts-active-shape":i,l=n.isActive,c=Obe(n,Rbe),d;if(R.isValidElement(e))d=R.cloneElement(e,c2(c2({},c),zbe(e)));else if(qn(e))d=e(c);else if(vbe(e)&&!jbe(e)){var u=a(e,c);d=ge.createElement(T9,{shapeType:s,elementProps:u})}else{var h=c;d=ge.createElement(T9,{shapeType:s,elementProps:h})}return l?ge.createElement(Os,{className:o},d):d}function OC(n,e){return e!=null&&"trapezoids"in n.props}function kC(n,e){return e!=null&&"sectors"in n.props}function g1(n,e){return e!=null&&"points"in n.props}function Bbe(n,e){var s,r,a=n.x===(e==null||(s=e.labelViewBox)===null||s===void 0?void 0:s.x)||n.x===e.x,i=n.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||n.y===e.y;return a&&i}function Vbe(n,e){var s=n.endAngle===e.endAngle,r=n.startAngle===e.startAngle;return s&&r}function Hbe(n,e){var s=n.x===e.x,r=n.y===e.y,a=n.z===e.z;return s&&r&&a}function Gbe(n,e){var s;return OC(n,e)?s=Bbe:kC(n,e)?s=Vbe:g1(n,e)&&(s=Hbe),s}function $be(n,e){var s;return OC(n,e)?s="trapezoids":kC(n,e)?s="sectors":g1(n,e)&&(s="points"),s}function qbe(n,e){if(OC(n,e)){var s;return(s=e.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}if(kC(n,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return g1(n,e)?e.payload:{}}function Wbe(n){var e=n.activeTooltipItem,s=n.graphicalItem,r=n.itemData,a=$be(s,e),i=qbe(s,e),o=r.filter(function(c,d){var u=d0(i,c),h=s.props[a].filter(function(N){var j=Gbe(s,e);return j(N,e)}),m=s.props[a].indexOf(h[h.length-1]),y=d===m;return u&&y}),l=r.indexOf(o[o.length-1]);return l}var a_;function p0(n){"@babel/helpers - typeof";return p0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p0(n)}function Cv(){return Cv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},Cv.apply(this,arguments)}function E9(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function Nr(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?E9(Object(s),!0).forEach(function(r){ec(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):E9(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function Kbe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function M9(n,e){for(var s=0;s<e.length;s++){var r=e[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,zX(r.key),r)}}function Xbe(n,e,s){return e&&M9(n.prototype,e),s&&M9(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n}function Zbe(n,e,s){return e=d2(e),Ybe(n,UX()?Reflect.construct(e,s||[],d2(n).constructor):e.apply(n,s))}function Ybe(n,e){if(e&&(p0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qbe(n)}function Qbe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function UX(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UX=function(){return!!n})()}function d2(n){return d2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},d2(n)}function Jbe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&e5(n,e)}function e5(n,e){return e5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},e5(n,e)}function ec(n,e,s){return e=zX(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function zX(n){var e=eje(n,"string");return p0(e)=="symbol"?e:e+""}function eje(n,e){if(p0(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(p0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var Oh=(function(n){function e(s){var r;return Kbe(this,e),r=Zbe(this,e,[s]),ec(r,"pieRef",null),ec(r,"sectorRefs",[]),ec(r,"id",ay("recharts-pie-")),ec(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),qn(a)&&a()}),ec(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),qn(a)&&a()}),r.state={isAnimationFinished:!s.isAnimationActive,prevIsAnimationActive:s.isAnimationActive,prevAnimationId:s.animationId,sectorToFocus:0},r}return Jbe(e,n),Xbe(e,[{key:"isActiveIndex",value:function(r){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(r)!==-1:r===a}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,d=i.valueKey,u=In(this.props,!1),h=In(o,!1),m=In(l,!1),y=o&&o.offsetRadius||20,N=r.map(function(j,v){var b=(j.startAngle+j.endAngle)/2,A=_r(j.cx,j.cy,j.outerRadius+y,b),S=Nr(Nr(Nr(Nr({},u),j),{},{stroke:"none"},h),{},{index:v,textAnchor:e.getTextAnchor(A.x,j.cx)},A),w=Nr(Nr(Nr(Nr({},u),j),{},{fill:"none",stroke:j.fill},m),{},{index:v,points:[_r(j.cx,j.cy,j.outerRadius,b),A]}),E=c;return ls(c)&&ls(d)?E="value":ls(c)&&(E=d),ge.createElement(Os,{key:"label-".concat(j.startAngle,"-").concat(j.endAngle,"-").concat(j.midAngle,"-").concat(v)},l&&e.renderLabelLineItem(l,w,"line"),e.renderLabelItem(o,S,$a(j,E)))});return ge.createElement(Os,{className:"recharts-pie-labels"},N)}},{key:"renderSectorsStatically",value:function(r){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return r.map(function(d,u){if(d?.startAngle===0&&d?.endAngle===0&&r.length!==1)return null;var h=a.isActiveIndex(u),m=c&&a.hasActiveIndex()?c:null,y=h?o:m,N=Nr(Nr({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return ge.createElement(Os,Cv({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},mx(a.props,d,u),{key:"sector-".concat(d?.startAngle,"-").concat(d?.endAngle,"-").concat(d.midAngle,"-").concat(u)}),ge.createElement(FX,Cv({option:y,isActive:h,shapeType:"sector"},N)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,d=a.animationEasing,u=a.animationId,h=this.state,m=h.prevSectors,y=h.prevIsAnimationActive;return ge.createElement(lu,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(y),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(N){var j=N.t,v=[],b=i&&i[0],A=b.startAngle;return i.forEach(function(S,w){var E=m&&m[w],T=w>0?Nl(S,"paddingAngle",0):0;if(E){var P=qo(E.endAngle-E.startAngle,S.endAngle-S.startAngle),k=Nr(Nr({},S),{},{startAngle:A+T,endAngle:A+P(j)+T});v.push(k),A=k.endAngle}else{var I=S.endAngle,L=S.startAngle,U=qo(0,I-L),H=U(j),B=Nr(Nr({},S),{},{startAngle:A+T,endAngle:A+H+T});v.push(B),A=B.endAngle}}),ge.createElement(Os,null,r.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(r){var a=this;r.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,a=r.sectors,i=r.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!d0(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,d=a.cx,u=a.cy,h=a.innerRadius,m=a.outerRadius,y=a.isAnimationActive,N=this.state.isAnimationFinished;if(i||!o||!o.length||!Ot(d)||!Ot(u)||!Ot(h)||!Ot(m))return null;var j=os("recharts-pie",l);return ge.createElement(Os,{tabIndex:this.props.rootTabIndex,className:j,ref:function(b){r.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),fi.renderCallByParent(this.props,null,!1),(!y||N)&&fh.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return a.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:r.sectors!==a.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,a){return r>a?"start":r<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,a,i){if(ge.isValidElement(r))return ge.cloneElement(r,a);if(qn(r))return r(a);var o=os("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return ge.createElement(Bv,Cv({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,a,i){if(ge.isValidElement(r))return ge.cloneElement(r,a);var o=i;if(qn(r)&&(o=r(a),ge.isValidElement(o)))return o;var l=os("recharts-pie-label-text",typeof r!="boolean"&&!qn(r)?r.className:"");return ge.createElement(px,Cv({},a,{alignmentBaseline:"middle",className:l}),o)}}])})(R.PureComponent);a_=Oh;ec(Oh,"displayName","Pie");ec(Oh,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Mx.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ec(Oh,"parseDeltaAngle",function(n,e){var s=jo(e-n),r=Math.min(Math.abs(e-n),360);return s*r});ec(Oh,"getRealPieData",function(n){var e=n.data,s=n.children,r=In(n,!1),a=rc(s,xC);return e&&e.length?e.map(function(i,o){return Nr(Nr(Nr({payload:i},r),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Nr(Nr({},r),i.props)}):[]});ec(Oh,"parseCoordinateOfPie",function(n,e){var s=e.top,r=e.left,a=e.width,i=e.height,o=wX(a,i),l=r+wo(n.cx,a,a/2),c=s+wo(n.cy,i,i/2),d=wo(n.innerRadius,o,0),u=wo(n.outerRadius,o,o*.8),h=n.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:h}});ec(Oh,"getComposedData",function(n){var e=n.item,s=n.offset,r=e.type.defaultProps!==void 0?Nr(Nr({},e.type.defaultProps),e.props):e.props,a=a_.getRealPieData(r);if(!a||!a.length)return null;var i=r.cornerRadius,o=r.startAngle,l=r.endAngle,c=r.paddingAngle,d=r.dataKey,u=r.nameKey,h=r.valueKey,m=r.tooltipType,y=Math.abs(r.minAngle),N=a_.parseCoordinateOfPie(r,s),j=a_.parseDeltaAngle(o,l),v=Math.abs(j),b=d;ls(d)&&ls(h)?(sd(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):ls(d)&&(sd(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=h);var A=a.filter(function(k){return $a(k,b,0)!==0}).length,S=(v>=360?A:A-1)*c,w=v-A*y-S,E=a.reduce(function(k,I){var L=$a(I,b,0);return k+(Ot(L)?L:0)},0),T;if(E>0){var P;T=a.map(function(k,I){var L=$a(k,b,0),U=$a(k,u,I),H=(Ot(L)?L:0)/E,B;I?B=P.endAngle+jo(j)*c*(L!==0?1:0):B=o;var K=B+jo(j)*((L!==0?y:0)+H*w),J=(B+K)/2,W=(N.innerRadius+N.outerRadius)/2,ee=[{name:U,value:L,payload:k,dataKey:b,type:m}],G=_r(N.cx,N.cy,W,J);return P=Nr(Nr(Nr({percent:H,cornerRadius:i,name:U,tooltipPayload:ee,midAngle:J,middleRadius:W,tooltipPosition:G},k),N),{},{value:$a(k,b),startAngle:B,endAngle:K,payload:k,paddingAngle:jo(j)*c}),P})}return Nr(Nr({},N),{},{sectors:T,data:a})});var BP,P9;function tje(){if(P9)return BP;P9=1;var n=Math.ceil,e=Math.max;function s(r,a,i,o){for(var l=-1,c=e(n((a-r)/(i||1)),0),d=Array(c);c--;)d[o?c:++l]=r,r+=i;return d}return BP=s,BP}var VP,R9;function BX(){if(R9)return VP;R9=1;var n=cK(),e=1/0,s=17976931348623157e292;function r(a){if(!a)return a===0?a:0;if(a=n(a),a===e||a===-e){var i=a<0?-1:1;return i*s}return a===a?a:0}return VP=r,VP}var HP,O9;function nje(){if(O9)return HP;O9=1;var n=tje(),e=pC(),s=BX();function r(a){return function(i,o,l){return l&&typeof l!="number"&&e(i,o,l)&&(o=l=void 0),i=s(i),o===void 0?(o=i,i=0):o=s(o),l=l===void 0?i<o?1:-1:s(l),n(i,o,l,a)}}return HP=r,HP}var GP,k9;function sje(){if(k9)return GP;k9=1;var n=nje(),e=n();return GP=e,GP}var rje=sje();const u2=Gs(rje);function v1(n){"@babel/helpers - typeof";return v1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v1(n)}function I9(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function D9(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?I9(Object(s),!0).forEach(function(r){VX(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):I9(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function VX(n,e,s){return e=aje(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function aje(n){var e=ije(n,"string");return v1(e)=="symbol"?e:e+""}function ije(n,e){if(v1(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(v1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var oje=["Webkit","Moz","O","ms"],lje=function(e,s){var r=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=oje.reduce(function(i,o){return D9(D9({},i),{},VX({},o+r,s))},{});return a[e]=s,a};function x0(n){"@babel/helpers - typeof";return x0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x0(n)}function h2(){return h2=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},h2.apply(this,arguments)}function L9(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function $P(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?L9(Object(s),!0).forEach(function(r){fl(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):L9(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function cje(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function F9(n,e){for(var s=0;s<e.length;s++){var r=e[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,GX(r.key),r)}}function dje(n,e,s){return e&&F9(n.prototype,e),s&&F9(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n}function uje(n,e,s){return e=f2(e),hje(n,HX()?Reflect.construct(e,s||[],f2(n).constructor):e.apply(n,s))}function hje(n,e){if(e&&(x0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fje(n)}function fje(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function HX(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HX=function(){return!!n})()}function f2(n){return f2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},f2(n)}function mje(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&t5(n,e)}function t5(n,e){return t5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},t5(n,e)}function fl(n,e,s){return e=GX(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function GX(n){var e=pje(n,"string");return x0(e)=="symbol"?e:e+""}function pje(n,e){if(x0(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(x0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var xje=function(e){var s=e.data,r=e.startIndex,a=e.endIndex,i=e.x,o=e.width,l=e.travellerWidth;if(!s||!s.length)return{};var c=s.length,d=gj().domain(u2(0,c)).range([i,i+o-l]),u=d.domain().map(function(h){return d(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(r),endX:d(a),scale:d,scaleValues:u}},U9=function(e){return e.changedTouches&&!!e.changedTouches.length},g0=(function(n){function e(s){var r;return cje(this,e),r=uje(this,e,[s]),fl(r,"handleDrag",function(a){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(a):r.state.isSlideMoving&&r.handleSlideDrag(a)}),fl(r,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&r.handleDrag(a.changedTouches[0])}),fl(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=r.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o?.({endIndex:i,startIndex:l})}),r.detachDragEndListener()}),fl(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),fl(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),fl(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),fl(r,"handleSlideDragStart",function(a){var i=U9(a)?a.changedTouches[0]:a;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return mje(e,n),dje(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var a=r.startX,i=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,h=Math.min(a,i),m=Math.max(a,i),y=e.getIndexInRange(o,h),N=e.getIndexInRange(o,m);return{startIndex:y-y%c,endIndex:N===u?u:N-N%c}}},{key:"getTextOfTick",value:function(r){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=$a(i[r],l,r);return qn(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,d=c.x,u=c.width,h=c.travellerWidth,m=c.startIndex,y=c.endIndex,N=c.onChange,j=r.pageX-i;j>0?j=Math.min(j,d+u-h-l,d+u-h-o):j<0&&(j=Math.max(j,d-o,d-l));var v=this.getIndex({startX:o+j,endX:l+j});(v.startIndex!==m||v.endIndex!==y)&&N&&N(v),this.setState({startX:o+j,endX:l+j,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,a){var i=U9(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,d=this.state[o],u=this.props,h=u.x,m=u.width,y=u.travellerWidth,N=u.onChange,j=u.gap,v=u.data,b={startX:this.state.startX,endX:this.state.endX},A=r.pageX-i;A>0?A=Math.min(A,h+m-y-d):A<0&&(A=Math.max(A,h-d)),b[o]=d+A;var S=this.getIndex(b),w=S.startIndex,E=S.endIndex,T=function(){var k=v.length-1;return o==="startX"&&(l>c?w%j===0:E%j===0)||l<c&&E===k||o==="endX"&&(l>c?E%j===0:w%j===0)||l>c&&E===k};this.setState(fl(fl({},o,d+A),"brushMoveStartX",r.pageX),function(){N&&T()&&N(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[a],h=l.indexOf(u);if(h!==-1){var m=h+r;if(!(m===-1||m>=l.length)){var y=l[m];a==="startX"&&y>=d||a==="endX"&&y<=c||this.setState(fl({},a,y),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,l=r.height,c=r.fill,d=r.stroke;return ge.createElement("rect",{stroke:d,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,l=r.height,c=r.data,d=r.children,u=r.padding,h=R.Children.only(d);return h?ge.cloneElement(h,{x:a,y:i,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,a){var i,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,h=c.height,m=c.traveller,y=c.ariaLabel,N=c.data,j=c.startIndex,v=c.endIndex,b=Math.max(r,this.props.x),A=$P($P({},In(this.props,!1)),{},{x:b,y:d,width:u,height:h}),S=y||"Min value: ".concat((i=N[j])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=N[v])===null||o===void 0?void 0:o.name);return ge.createElement(Os,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),l.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,A))}},{key:"renderSlide",value:function(r,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(r,a)+d,h=Math.max(Math.abs(a-r)-d,0);return ge.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:h,height:l})}},{key:"renderText",value:function(){var r=this.props,a=r.startIndex,i=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,d=r.stroke,u=this.state,h=u.startX,m=u.endX,y=5,N={pointerEvents:"none",fill:d};return ge.createElement(Os,{className:"recharts-brush-texts"},ge.createElement(px,h2({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,m)-y,y:o+l/2},N),this.getTextOfTick(a)),ge.createElement(px,h2({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,m)+c+y,y:o+l/2},N),this.getTextOfTick(i)))}},{key:"render",value:function(){var r=this.props,a=r.data,i=r.className,o=r.children,l=r.x,c=r.y,d=r.width,u=r.height,h=r.alwaysShowText,m=this.state,y=m.startX,N=m.endX,j=m.isTextActive,v=m.isSlideMoving,b=m.isTravellerMoving,A=m.isTravellerFocused;if(!a||!a.length||!Ot(l)||!Ot(c)||!Ot(d)||!Ot(u)||d<=0||u<=0)return null;var S=os("recharts-brush",i),w=ge.Children.count(o)===1,E=lje("userSelect","none");return ge.createElement(Os,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(y,N),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(N,"endX"),(j||v||b||A||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var a=r.x,i=r.y,o=r.width,l=r.height,c=r.stroke,d=Math.floor(i+l/2)-1;return ge.createElement(ge.Fragment,null,ge.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),ge.createElement("line",{x1:a+1,y1:d,x2:a+o-1,y2:d,fill:"none",stroke:"#fff"}),ge.createElement("line",{x1:a+1,y1:d+2,x2:a+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,a){var i;return ge.isValidElement(r)?i=ge.cloneElement(r,a):qn(r)?i=r(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(r,a){var i=r.data,o=r.width,l=r.x,c=r.travellerWidth,d=r.updateId,u=r.startIndex,h=r.endIndex;if(i!==a.prevData||d!==a.prevUpdateId)return $P({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?xje({data:i,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var m=a.scale.domain().map(function(y){return a.scale(y)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:a.scale(r.startIndex),endX:a.scale(r.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(r,a){for(var i=r.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>a?l=c:o=c}return a>=r[l]?l:o}}])})(R.PureComponent);fl(g0,"displayName","Brush");fl(g0,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var qP,z9;function gje(){if(z9)return qP;z9=1;var n=nI();function e(s,r){var a;return n(s,function(i,o,l){return a=r(i,o,l),!a}),!!a}return qP=e,qP}var WP,B9;function vje(){if(B9)return WP;B9=1;var n=zW(),e=fu(),s=gje(),r=Yo(),a=pC();function i(o,l,c){var d=r(o)?n:s;return c&&a(o,l,c)&&(l=void 0),d(o,e(l,3))}return WP=i,WP}var yje=vje();const bje=Gs(yje);var Yd=function(e,s){var r=e.alwaysShow,a=e.ifOverflow;return r&&(a="extendDomain"),a===s},KP,V9;function jje(){if(V9)return KP;V9=1;var n=rK();function e(s,r,a){r=="__proto__"&&n?n(s,r,{configurable:!0,enumerable:!0,value:a,writable:!0}):s[r]=a}return KP=e,KP}var XP,H9;function wje(){if(H9)return XP;H9=1;var n=jje(),e=nK(),s=fu();function r(a,i){var o={};return i=s(i,3),e(a,function(l,c,d){n(o,c,i(l,c,d))}),o}return XP=r,XP}var Nje=wje();const Sje=Gs(Nje);var ZP,G9;function _je(){if(G9)return ZP;G9=1;function n(e,s){for(var r=-1,a=e==null?0:e.length;++r<a;)if(!s(e[r],r,e))return!1;return!0}return ZP=n,ZP}var YP,$9;function Aje(){if($9)return YP;$9=1;var n=nI();function e(s,r){var a=!0;return n(s,function(i,o,l){return a=!!r(i,o,l),a}),a}return YP=e,YP}var QP,q9;function Cje(){if(q9)return QP;q9=1;var n=_je(),e=Aje(),s=fu(),r=Yo(),a=pC();function i(o,l,c){var d=r(o)?n:e;return c&&a(o,l,c)&&(l=void 0),d(o,s(l,3))}return QP=i,QP}var Tje=Cje();const $X=Gs(Tje);var Eje=["x","y"];function y1(n){"@babel/helpers - typeof";return y1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y1(n)}function n5(){return n5=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},n5.apply(this,arguments)}function W9(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function Lb(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?W9(Object(s),!0).forEach(function(r){Mje(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):W9(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function Mje(n,e,s){return e=Pje(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function Pje(n){var e=Rje(n,"string");return y1(e)=="symbol"?e:e+""}function Rje(n,e){if(y1(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(y1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Oje(n,e){if(n==null)return{};var s=kje(n,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(s[r]=n[r])}return s}function kje(n,e){if(n==null)return{};var s={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;s[r]=n[r]}return s}function Ije(n,e){var s=n.x,r=n.y,a=Oje(n,Eje),i="".concat(s),o=parseInt(i,10),l="".concat(r),c=parseInt(l,10),d="".concat(e.height||a.height),u=parseInt(d,10),h="".concat(e.width||a.width),m=parseInt(h,10);return Lb(Lb(Lb(Lb(Lb({},e),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:m,name:e.name,radius:e.radius})}function K9(n){return ge.createElement(FX,n5({shapeType:"rectangle",propTransformer:Ije,activeClassName:"recharts-active-bar"},n))}var Dje=function(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,a){if(typeof e=="number")return e;var i=Ot(r)||ace(r);return i?e(r,a):(i||gx(),s)}},Lje=["value","background"],qX;function v0(n){"@babel/helpers - typeof";return v0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v0(n)}function Fje(n,e){if(n==null)return{};var s=Uje(n,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(s[r]=n[r])}return s}function Uje(n,e){if(n==null)return{};var s={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;s[r]=n[r]}return s}function m2(){return m2=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},m2.apply(this,arguments)}function X9(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function _a(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?X9(Object(s),!0).forEach(function(r){kf(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):X9(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function zje(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Z9(n,e){for(var s=0;s<e.length;s++){var r=e[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,KX(r.key),r)}}function Bje(n,e,s){return e&&Z9(n.prototype,e),s&&Z9(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n}function Vje(n,e,s){return e=p2(e),Hje(n,WX()?Reflect.construct(e,s||[],p2(n).constructor):e.apply(n,s))}function Hje(n,e){if(e&&(v0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gje(n)}function Gje(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function WX(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WX=function(){return!!n})()}function p2(n){return p2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},p2(n)}function $je(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&s5(n,e)}function s5(n,e){return s5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},s5(n,e)}function kf(n,e,s){return e=KX(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function KX(n){var e=qje(n,"string");return v0(e)=="symbol"?e:e+""}function qje(n,e){if(v0(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(v0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var mh=(function(n){function e(){var s;zje(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return s=Vje(this,e,[].concat(a)),kf(s,"state",{isAnimationFinished:!1}),kf(s,"id",ay("recharts-bar-")),kf(s,"handleAnimationEnd",function(){var o=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),o&&o()}),kf(s,"handleAnimationStart",function(){var o=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),o&&o()}),s}return $je(e,n),Bje(e,[{key:"renderRectanglesStatically",value:function(r){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,u=In(this.props,!1);return r&&r.map(function(h,m){var y=m===c,N=y?d:o,j=_a(_a(_a({},u),h),{},{isActive:y,option:N,index:m,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return ge.createElement(Os,m2({className:"recharts-bar-rectangle"},mx(a.props,h,m),{key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value,"-").concat(m)}),ge.createElement(K9,j))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,u=a.animationEasing,h=a.animationId,m=this.state.prevData;return ge.createElement(lu,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var N=y.t,j=i.map(function(v,b){var A=m&&m[b];if(A){var S=qo(A.x,v.x),w=qo(A.y,v.y),E=qo(A.width,v.width),T=qo(A.height,v.height);return _a(_a({},v),{},{x:S(N),y:w(N),width:E(N),height:T(N)})}if(o==="horizontal"){var P=qo(0,v.height),k=P(N);return _a(_a({},v),{},{y:v.y+v.height-k,height:k})}var I=qo(0,v.width),L=I(N);return _a(_a({},v),{},{width:L})});return ge.createElement(Os,null,r.renderRectanglesStatically(j))})}},{key:"renderRectangles",value:function(){var r=this.props,a=r.data,i=r.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!d0(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var r=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=In(this.props.background,!1);return i.map(function(d,u){d.value;var h=d.background,m=Fje(d,Lje);if(!h)return null;var y=_a(_a(_a(_a(_a({},m),{},{fill:"#eee"},h),c),mx(r.props,d,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return ge.createElement(K9,m2({key:"background-bar-".concat(u),option:r.props.background,isActive:u===l},y))})}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,h=rc(u,CC);if(!h)return null;var m=d==="vertical"?o[0].height/2:o[0].width/2,y=function(v,b){var A=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:A,errorVal:$a(v,b)}},N={clipPath:r?"url(#clipPath-".concat(a,")"):null};return ge.createElement(Os,N,h.map(function(j){return ge.cloneElement(j,{key:"error-bar-".concat(a,"-").concat(j.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:m,dataPointFormatter:y})}))}},{key:"render",value:function(){var r=this.props,a=r.hide,i=r.data,o=r.className,l=r.xAxis,c=r.yAxis,d=r.left,u=r.top,h=r.width,m=r.height,y=r.isAnimationActive,N=r.background,j=r.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,b=os("recharts-bar",o),A=l&&l.allowDataOverflow,S=c&&c.allowDataOverflow,w=A||S,E=ls(j)?this.id:j;return ge.createElement(Os,{className:b},A||S?ge.createElement("defs",null,ge.createElement("clipPath",{id:"clipPath-".concat(E)},ge.createElement("rect",{x:A?d:d-h/2,y:S?u:u-m/2,width:A?h:h*2,height:S?m:m*2}))):null,ge.createElement(Os,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(E,")"):null},N?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,E),(!y||v)&&fh.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:a.curData}:r.data!==a.curData?{curData:r.data}:null}}])})(R.PureComponent);qX=mh;kf(mh,"displayName","Bar");kf(mh,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Mx.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});kf(mh,"getComposedData",function(n){var e=n.props,s=n.item,r=n.barPosition,a=n.bandSize,i=n.xAxis,o=n.yAxis,l=n.xAxisTicks,c=n.yAxisTicks,d=n.stackedData,u=n.dataStartIndex,h=n.displayedData,m=n.offset,y=bge(r,s);if(!y)return null;var N=e.layout,j=s.type.defaultProps,v=j!==void 0?_a(_a({},j),s.props):s.props,b=v.dataKey,A=v.children,S=v.minPointSize,w=N==="horizontal"?o:i,E=d?w.scale.domain():null,T=Cge({numericAxis:w}),P=rc(A,xC),k=h.map(function(I,L){var U,H,B,K,J,W;d?U=jge(d[u+L],E):(U=$a(I,b),Array.isArray(U)||(U=[T,U]));var ee=Dje(S,qX.defaultProps.minPointSize)(U[1],L);if(N==="horizontal"){var G,ae=[o.scale(U[0]),o.scale(U[1])],fe=ae[0],se=ae[1];H=jB({axis:i,ticks:l,bandSize:a,offset:y.offset,entry:I,index:L}),B=(G=se??fe)!==null&&G!==void 0?G:void 0,K=y.size;var me=fe-se;if(J=Number.isNaN(me)?0:me,W={x:H,y:o.y,width:K,height:o.height},Math.abs(ee)>0&&Math.abs(J)<Math.abs(ee)){var Oe=jo(J||ee)*(Math.abs(ee)-Math.abs(J));B-=Oe,J+=Oe}}else{var Ye=[i.scale(U[0]),i.scale(U[1])],dt=Ye[0],be=Ye[1];if(H=dt,B=jB({axis:o,ticks:c,bandSize:a,offset:y.offset,entry:I,index:L}),K=be-dt,J=y.size,W={x:i.x,y:B,width:i.width,height:J},Math.abs(ee)>0&&Math.abs(K)<Math.abs(ee)){var Ce=jo(K||ee)*(Math.abs(ee)-Math.abs(K));K+=Ce}}return _a(_a(_a({},I),{},{x:H,y:B,width:K,height:J,value:d?U:U[1],payload:I,background:W},P&&P[L]&&P[L].props),{},{tooltipPayload:[bX(s,I)],tooltipPosition:{x:H+K/2,y:B+J/2}})});return _a({data:k,layout:N},m)});function b1(n){"@babel/helpers - typeof";return b1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b1(n)}function Wje(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Y9(n,e){for(var s=0;s<e.length;s++){var r=e[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,XX(r.key),r)}}function Kje(n,e,s){return e&&Y9(n.prototype,e),s&&Y9(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n}function Q9(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function Zc(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?Q9(Object(s),!0).forEach(function(r){IC(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):Q9(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function IC(n,e,s){return e=XX(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function XX(n){var e=Xje(n,"string");return b1(e)=="symbol"?e:e+""}function Xje(n,e){if(b1(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(b1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var ZX=function(e,s,r,a,i){var o=e.width,l=e.height,c=e.layout,d=e.children,u=Object.keys(s),h={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},m=!!ml(d,mh);return u.reduce(function(y,N){var j=s[N],v=j.orientation,b=j.domain,A=j.padding,S=A===void 0?{}:A,w=j.mirror,E=j.reversed,T="".concat(v).concat(w?"Mirror":""),P,k,I,L,U;if(j.type==="number"&&(j.padding==="gap"||j.padding==="no-gap")){var H=b[1]-b[0],B=1/0,K=j.categoricalDomain.sort(lce);if(K.forEach(function(Ye,dt){dt>0&&(B=Math.min((Ye||0)-(K[dt-1]||0),B))}),Number.isFinite(B)){var J=B/H,W=j.layout==="vertical"?r.height:r.width;if(j.padding==="gap"&&(P=J*W/2),j.padding==="no-gap"){var ee=wo(e.barCategoryGap,J*W),G=J*W/2;P=G-ee-(G-ee)/W*ee}}}a==="xAxis"?k=[r.left+(S.left||0)+(P||0),r.left+r.width-(S.right||0)-(P||0)]:a==="yAxis"?k=c==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(P||0),r.top+r.height-(S.bottom||0)-(P||0)]:k=j.range,E&&(k=[k[1],k[0]]);var ae=xX(j,i,m),fe=ae.scale,se=ae.realScaleType;fe.domain(b).range(k),gX(fe);var me=vX(fe,Zc(Zc({},j),{},{realScaleType:se}));a==="xAxis"?(U=v==="top"&&!w||v==="bottom"&&w,I=r.left,L=h[T]-U*j.height):a==="yAxis"&&(U=v==="left"&&!w||v==="right"&&w,I=h[T]-U*j.width,L=r.top);var Oe=Zc(Zc(Zc({},j),me),{},{realScaleType:se,x:I,y:L,scale:fe,width:a==="xAxis"?r.width:j.width,height:a==="yAxis"?r.height:j.height});return Oe.bandSize=J_(Oe,me),!j.hide&&a==="xAxis"?h[T]+=(U?-1:1)*Oe.height:j.hide||(h[T]+=(U?-1:1)*Oe.width),Zc(Zc({},y),{},IC({},N,Oe))},{})},YX=function(e,s){var r=e.x,a=e.y,i=s.x,o=s.y;return{x:Math.min(r,i),y:Math.min(a,o),width:Math.abs(i-r),height:Math.abs(o-a)}},Zje=function(e){var s=e.x1,r=e.y1,a=e.x2,i=e.y2;return YX({x:s,y:r},{x:a,y:i})},QX=(function(){function n(e){Wje(this,n),this.scale=e}return Kje(n,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.bandAware,i=r.position;if(s!==void 0){if(i)switch(i){case"start":return this.scale(s);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(s)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(s)+l}default:return this.scale(s)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(s)+c}return this.scale(s)}}},{key:"isInRange",value:function(s){var r=this.range(),a=r[0],i=r[r.length-1];return a<=i?s>=a&&s<=i:s>=i&&s<=a}}],[{key:"create",value:function(s){return new n(s)}}])})();IC(QX,"EPS",1e-4);var PI=function(e){var s=Object.keys(e).reduce(function(r,a){return Zc(Zc({},r),{},IC({},a,QX.create(e[a])))},{});return Zc(Zc({},s),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return Sje(a,function(c,d){return s[d].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return $X(a,function(i,o){return s[o].isInRange(i)})}})};function Yje(n){return(n%180+180)%180}var Qje=function(e){var s=e.width,r=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Yje(a),o=i*Math.PI/180,l=Math.atan(r/s),c=o>l&&o<Math.PI-l?r/Math.sin(o):s/Math.cos(o);return Math.abs(c)},JP,J9;function Jje(){if(J9)return JP;J9=1;var n=fu(),e=rw(),s=fC();function r(a){return function(i,o,l){var c=Object(i);if(!e(i)){var d=n(o,3);i=s(i),o=function(h){return d(c[h],h,c)}}var u=a(i,o,l);return u>-1?c[d?i[u]:u]:void 0}}return JP=r,JP}var eR,eV;function e1e(){if(eV)return eR;eV=1;var n=BX();function e(s){var r=n(s),a=r%1;return r===r?a?r-a:r:0}return eR=e,eR}var tR,tV;function t1e(){if(tV)return tR;tV=1;var n=YW(),e=fu(),s=e1e(),r=Math.max;function a(i,o,l){var c=i==null?0:i.length;if(!c)return-1;var d=l==null?0:s(l);return d<0&&(d=r(c+d,0)),n(i,e(o,3),d)}return tR=a,tR}var nR,nV;function n1e(){if(nV)return nR;nV=1;var n=Jje(),e=t1e(),s=n(e);return nR=s,nR}var s1e=n1e();const r1e=Gs(s1e);var a1e=fW();const i1e=Gs(a1e);var o1e=i1e(function(n){return{x:n.left,y:n.top,width:n.width,height:n.height}},function(n){return["l",n.left,"t",n.top,"w",n.width,"h",n.height].join("")}),RI=R.createContext(void 0),OI=R.createContext(void 0),JX=R.createContext(void 0),eZ=R.createContext({}),tZ=R.createContext(void 0),nZ=R.createContext(0),sZ=R.createContext(0),sV=function(e){var s=e.state,r=s.xAxisMap,a=s.yAxisMap,i=s.offset,o=e.clipPathId,l=e.children,c=e.width,d=e.height,u=o1e(i);return ge.createElement(RI.Provider,{value:r},ge.createElement(OI.Provider,{value:a},ge.createElement(eZ.Provider,{value:i},ge.createElement(JX.Provider,{value:u},ge.createElement(tZ.Provider,{value:o},ge.createElement(nZ.Provider,{value:d},ge.createElement(sZ.Provider,{value:c},l)))))))},l1e=function(){return R.useContext(tZ)},rZ=function(e){var s=R.useContext(RI);s==null&&gx();var r=s[e];return r==null&&gx(),r},c1e=function(){var e=R.useContext(RI);return Pf(e)},d1e=function(){var e=R.useContext(OI),s=r1e(e,function(r){return $X(r.domain,Number.isFinite)});return s||Pf(e)},aZ=function(e){var s=R.useContext(OI);s==null&&gx();var r=s[e];return r==null&&gx(),r},u1e=function(){var e=R.useContext(JX);return e},h1e=function(){return R.useContext(eZ)},kI=function(){return R.useContext(sZ)},II=function(){return R.useContext(nZ)};function y0(n){"@babel/helpers - typeof";return y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y0(n)}function f1e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function m1e(n,e){for(var s=0;s<e.length;s++){var r=e[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,oZ(r.key),r)}}function p1e(n,e,s){return e&&m1e(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function x1e(n,e,s){return e=x2(e),g1e(n,iZ()?Reflect.construct(e,s||[],x2(n).constructor):e.apply(n,s))}function g1e(n,e){if(e&&(y0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v1e(n)}function v1e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function iZ(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iZ=function(){return!!n})()}function x2(n){return x2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},x2(n)}function y1e(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&r5(n,e)}function r5(n,e){return r5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},r5(n,e)}function rV(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function aV(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?rV(Object(s),!0).forEach(function(r){DI(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):rV(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function DI(n,e,s){return e=oZ(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function oZ(n){var e=b1e(n,"string");return y0(e)=="symbol"?e:e+""}function b1e(n,e){if(y0(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(y0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function j1e(n,e){return _1e(n)||S1e(n,e)||N1e(n,e)||w1e()}function w1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N1e(n,e){if(n){if(typeof n=="string")return iV(n,e);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return iV(n,e)}}function iV(n,e){(e==null||e>n.length)&&(e=n.length);for(var s=0,r=new Array(e);s<e;s++)r[s]=n[s];return r}function S1e(n,e){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var r,a,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(n)).next,e!==0)for(;!(c=(r=i.call(s)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function _1e(n){if(Array.isArray(n))return n}function a5(){return a5=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},a5.apply(this,arguments)}var A1e=function(e,s){var r;return ge.isValidElement(e)?r=ge.cloneElement(e,s):qn(e)?r=e(s):r=ge.createElement("line",a5({},s,{className:"recharts-reference-line-line"})),r},C1e=function(e,s,r,a,i,o,l,c,d){var u=i.x,h=i.y,m=i.width,y=i.height;if(r){var N=d.y,j=e.y.apply(N,{position:o});if(Yd(d,"discard")&&!e.y.isInRange(j))return null;var v=[{x:u+m,y:j},{x:u,y:j}];return c==="left"?v.reverse():v}if(s){var b=d.x,A=e.x.apply(b,{position:o});if(Yd(d,"discard")&&!e.x.isInRange(A))return null;var S=[{x:A,y:h+y},{x:A,y:h}];return l==="top"?S.reverse():S}if(a){var w=d.segment,E=w.map(function(T){return e.apply(T,{position:o})});return Yd(d,"discard")&&bje(E,function(T){return!e.isInRange(T)})?null:E}return null};function T1e(n){var e=n.x,s=n.y,r=n.segment,a=n.xAxisId,i=n.yAxisId,o=n.shape,l=n.className,c=n.alwaysShow,d=l1e(),u=rZ(a),h=aZ(i),m=u1e();if(!d||!m)return null;sd(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=PI({x:u.scale,y:h.scale}),N=qa(e),j=qa(s),v=r&&r.length===2,b=C1e(y,N,j,v,m,n.position,u.orientation,h.orientation,n);if(!b)return null;var A=j1e(b,2),S=A[0],w=S.x,E=S.y,T=A[1],P=T.x,k=T.y,I=Yd(n,"hidden")?"url(#".concat(d,")"):void 0,L=aV(aV({clipPath:I},In(n,!0)),{},{x1:w,y1:E,x2:P,y2:k});return ge.createElement(Os,{className:os("recharts-reference-line",l)},A1e(o,L),fi.renderCallByParent(n,Zje({x1:w,y1:E,x2:P,y2:k})))}var LI=(function(n){function e(){return f1e(this,e),x1e(this,e,arguments)}return y1e(e,n),p1e(e,[{key:"render",value:function(){return ge.createElement(T1e,this.props)}}])})(ge.Component);DI(LI,"displayName","ReferenceLine");DI(LI,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function i5(){return i5=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},i5.apply(this,arguments)}function b0(n){"@babel/helpers - typeof";return b0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b0(n)}function oV(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function lV(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?oV(Object(s),!0).forEach(function(r){DC(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):oV(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function E1e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function M1e(n,e){for(var s=0;s<e.length;s++){var r=e[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,cZ(r.key),r)}}function P1e(n,e,s){return e&&M1e(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function R1e(n,e,s){return e=g2(e),O1e(n,lZ()?Reflect.construct(e,s||[],g2(n).constructor):e.apply(n,s))}function O1e(n,e){if(e&&(b0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k1e(n)}function k1e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function lZ(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lZ=function(){return!!n})()}function g2(n){return g2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},g2(n)}function I1e(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&o5(n,e)}function o5(n,e){return o5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},o5(n,e)}function DC(n,e,s){return e=cZ(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function cZ(n){var e=D1e(n,"string");return b0(e)=="symbol"?e:e+""}function D1e(n,e){if(b0(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(b0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var L1e=function(e){var s=e.x,r=e.y,a=e.xAxis,i=e.yAxis,o=PI({x:a.scale,y:i.scale}),l=o.apply({x:s,y:r},{bandAware:!0});return Yd(e,"discard")&&!o.isInRange(l)?null:l},LC=(function(n){function e(){return E1e(this,e),R1e(this,e,arguments)}return I1e(e,n),P1e(e,[{key:"render",value:function(){var r=this.props,a=r.x,i=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,d=qa(a),u=qa(i);if(sd(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var h=L1e(this.props);if(!h)return null;var m=h.x,y=h.y,N=this.props,j=N.shape,v=N.className,b=Yd(this.props,"hidden")?"url(#".concat(c,")"):void 0,A=lV(lV({clipPath:b},In(this.props,!0)),{},{cx:m,cy:y});return ge.createElement(Os,{className:os("recharts-reference-dot",v)},e.renderDot(j,A),fi.renderCallByParent(this.props,{x:m-o,y:y-o,width:2*o,height:2*o}))}}])})(ge.Component);DC(LC,"displayName","ReferenceDot");DC(LC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});DC(LC,"renderDot",function(n,e){var s;return ge.isValidElement(n)?s=ge.cloneElement(n,e):qn(n)?s=n(e):s=ge.createElement(TC,i5({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),s});function l5(){return l5=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},l5.apply(this,arguments)}function j0(n){"@babel/helpers - typeof";return j0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j0(n)}function cV(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function dV(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?cV(Object(s),!0).forEach(function(r){FC(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):cV(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function F1e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function U1e(n,e){for(var s=0;s<e.length;s++){var r=e[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,uZ(r.key),r)}}function z1e(n,e,s){return e&&U1e(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function B1e(n,e,s){return e=v2(e),V1e(n,dZ()?Reflect.construct(e,s||[],v2(n).constructor):e.apply(n,s))}function V1e(n,e){if(e&&(j0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H1e(n)}function H1e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function dZ(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dZ=function(){return!!n})()}function v2(n){return v2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},v2(n)}function G1e(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&c5(n,e)}function c5(n,e){return c5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},c5(n,e)}function FC(n,e,s){return e=uZ(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function uZ(n){var e=$1e(n,"string");return j0(e)=="symbol"?e:e+""}function $1e(n,e){if(j0(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(j0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var q1e=function(e,s,r,a,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,u=i.xAxis,h=i.yAxis;if(!u||!h)return null;var m=PI({x:u.scale,y:h.scale}),y={x:e?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:r?m.y.apply(c,{position:"start"}):m.y.rangeMin},N={x:s?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:a?m.y.apply(d,{position:"end"}):m.y.rangeMax};return Yd(i,"discard")&&(!m.isInRange(y)||!m.isInRange(N))?null:YX(y,N)},UC=(function(n){function e(){return F1e(this,e),B1e(this,e,arguments)}return G1e(e,n),z1e(e,[{key:"render",value:function(){var r=this.props,a=r.x1,i=r.x2,o=r.y1,l=r.y2,c=r.className,d=r.alwaysShow,u=r.clipPathId;sd(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=qa(a),m=qa(i),y=qa(o),N=qa(l),j=this.props.shape;if(!h&&!m&&!y&&!N&&!j)return null;var v=q1e(h,m,y,N,this.props);if(!v&&!j)return null;var b=Yd(this.props,"hidden")?"url(#".concat(u,")"):void 0;return ge.createElement(Os,{className:os("recharts-reference-area",c)},e.renderRect(j,dV(dV({clipPath:b},In(this.props,!0)),v)),fi.renderCallByParent(this.props,v))}}])})(ge.Component);FC(UC,"displayName","ReferenceArea");FC(UC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});FC(UC,"renderRect",function(n,e){var s;return ge.isValidElement(n)?s=ge.cloneElement(n,e):qn(n)?s=n(e):s=ge.createElement(MI,l5({},e,{className:"recharts-reference-area-rect"})),s});function hZ(n,e,s){if(e<1)return[];if(e===1&&s===void 0)return n;for(var r=[],a=0;a<n.length;a+=e)r.push(n[a]);return r}function W1e(n,e,s){var r={width:n.width+e.width,height:n.height+e.height};return Qje(r,s)}function K1e(n,e,s){var r=s==="width",a=n.x,i=n.y,o=n.width,l=n.height;return e===1?{start:r?a:i,end:r?a+o:i+l}:{start:r?a+o:i+l,end:r?a:i}}function y2(n,e,s,r,a){if(n*e<n*r||n*e>n*a)return!1;var i=s();return n*(e-n*i/2-r)>=0&&n*(e+n*i/2-a)<=0}function X1e(n,e){return hZ(n,e+1)}function Z1e(n,e,s,r,a){for(var i=(r||[]).slice(),o=e.start,l=e.end,c=0,d=1,u=o,h=function(){var N=r?.[c];if(N===void 0)return{v:hZ(r,d)};var j=c,v,b=function(){return v===void 0&&(v=s(N,j)),v},A=N.coordinate,S=c===0||y2(n,A,b,u,l);S||(c=0,u=o,d+=1),S&&(u=A+n*(b()/2+a),c+=d)},m;d<=i.length;)if(m=h(),m)return m.v;return[]}function j1(n){"@babel/helpers - typeof";return j1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j1(n)}function uV(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function Ji(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?uV(Object(s),!0).forEach(function(r){Y1e(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):uV(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function Y1e(n,e,s){return e=Q1e(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function Q1e(n){var e=J1e(n,"string");return j1(e)=="symbol"?e:e+""}function J1e(n,e){if(j1(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(j1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ewe(n,e,s,r,a){for(var i=(r||[]).slice(),o=i.length,l=e.start,c=e.end,d=function(m){var y=i[m],N,j=function(){return N===void 0&&(N=s(y,m)),N};if(m===o-1){var v=n*(y.coordinate+n*j()/2-c);i[m]=y=Ji(Ji({},y),{},{tickCoord:v>0?y.coordinate-v*n:y.coordinate})}else i[m]=y=Ji(Ji({},y),{},{tickCoord:y.coordinate});var b=y2(n,y.tickCoord,j,l,c);b&&(c=y.tickCoord-n*(j()/2+a),i[m]=Ji(Ji({},y),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function twe(n,e,s,r,a,i){var o=(r||[]).slice(),l=o.length,c=e.start,d=e.end;if(i){var u=r[l-1],h=s(u,l-1),m=n*(u.coordinate+n*h/2-d);o[l-1]=u=Ji(Ji({},u),{},{tickCoord:m>0?u.coordinate-m*n:u.coordinate});var y=y2(n,u.tickCoord,function(){return h},c,d);y&&(d=u.tickCoord-n*(h/2+a),o[l-1]=Ji(Ji({},u),{},{isShow:!0}))}for(var N=i?l-1:l,j=function(A){var S=o[A],w,E=function(){return w===void 0&&(w=s(S,A)),w};if(A===0){var T=n*(S.coordinate-n*E()/2-c);o[A]=S=Ji(Ji({},S),{},{tickCoord:T<0?S.coordinate-T*n:S.coordinate})}else o[A]=S=Ji(Ji({},S),{},{tickCoord:S.coordinate});var P=y2(n,S.tickCoord,E,c,d);P&&(c=S.tickCoord+n*(E()/2+a),o[A]=Ji(Ji({},S),{},{isShow:!0}))},v=0;v<N;v++)j(v);return o}function FI(n,e,s){var r=n.tick,a=n.ticks,i=n.viewBox,o=n.minTickGap,l=n.orientation,c=n.interval,d=n.tickFormatter,u=n.unit,h=n.angle;if(!a||!a.length||!r)return[];if(Ot(c)||Mx.isSsr)return X1e(a,typeof c=="number"&&Ot(c)?c:0);var m=[],y=l==="top"||l==="bottom"?"width":"height",N=u&&y==="width"?xj(u,{fontSize:e,letterSpacing:s}):{width:0,height:0},j=function(S,w){var E=qn(d)?d(S.value,w):S.value;return y==="width"?W1e(xj(E,{fontSize:e,letterSpacing:s}),N,h):xj(E,{fontSize:e,letterSpacing:s})[y]},v=a.length>=2?jo(a[1].coordinate-a[0].coordinate):1,b=K1e(i,v,y);return c==="equidistantPreserveStart"?Z1e(v,b,j,a,o):(c==="preserveStart"||c==="preserveStartEnd"?m=twe(v,b,j,a,o,c==="preserveStartEnd"):m=ewe(v,b,j,a,o),m.filter(function(A){return A.isShow}))}var nwe=["viewBox"],swe=["viewBox"],rwe=["ticks"];function w0(n){"@babel/helpers - typeof";return w0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w0(n)}function Tv(){return Tv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},Tv.apply(this,arguments)}function hV(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function Ba(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?hV(Object(s),!0).forEach(function(r){UI(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):hV(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function sR(n,e){if(n==null)return{};var s=awe(n,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(s[r]=n[r])}return s}function awe(n,e){if(n==null)return{};var s={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;s[r]=n[r]}return s}function iwe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function fV(n,e){for(var s=0;s<e.length;s++){var r=e[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,mZ(r.key),r)}}function owe(n,e,s){return e&&fV(n.prototype,e),s&&fV(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n}function lwe(n,e,s){return e=b2(e),cwe(n,fZ()?Reflect.construct(e,s||[],b2(n).constructor):e.apply(n,s))}function cwe(n,e){if(e&&(w0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dwe(n)}function dwe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function fZ(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fZ=function(){return!!n})()}function b2(n){return b2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},b2(n)}function uwe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&d5(n,e)}function d5(n,e){return d5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},d5(n,e)}function UI(n,e,s){return e=mZ(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function mZ(n){var e=hwe(n,"string");return w0(e)=="symbol"?e:e+""}function hwe(n,e){if(w0(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(w0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var dy=(function(n){function e(s){var r;return iwe(this,e),r=lwe(this,e,[s]),r.state={fontSize:"",letterSpacing:""},r}return uwe(e,n),owe(e,[{key:"shouldComponentUpdate",value:function(r,a){var i=r.viewBox,o=sR(r,nwe),l=this.props,c=l.viewBox,d=sR(l,swe);return!Lv(i,c)||!Lv(o,d)||!Lv(a,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var a=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,d=a.orientation,u=a.tickSize,h=a.mirror,m=a.tickMargin,y,N,j,v,b,A,S=h?-1:1,w=r.tickSize||u,E=Ot(r.tickCoord)?r.tickCoord:r.coordinate;switch(d){case"top":y=N=r.coordinate,v=o+ +!h*c,j=v-S*w,A=j-S*m,b=E;break;case"left":j=v=r.coordinate,N=i+ +!h*l,y=N-S*w,b=y-S*m,A=E;break;case"right":j=v=r.coordinate,N=i+ +h*l,y=N+S*w,b=y+S*m,A=E;break;default:y=N=r.coordinate,v=o+ +h*c,j=v+S*w,A=j+S*m,b=E;break}return{line:{x1:y,y1:j,x2:N,y2:v},tick:{x:b,y:A}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,l=r.height,c=r.orientation,d=r.mirror,u=r.axisLine,h=Ba(Ba(Ba({},In(this.props,!1)),In(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!d||c==="bottom"&&d);h=Ba(Ba({},h),{},{x1:a,y1:i+m*l,x2:a+o,y2:i+m*l})}else{var y=+(c==="left"&&!d||c==="right"&&d);h=Ba(Ba({},h),{},{x1:a+y*o,y1:i,x2:a+y*o,y2:i+l})}return ge.createElement("line",Tv({},h,{className:os("recharts-cartesian-axis-line",Nl(u,"className"))}))}},{key:"renderTicks",value:function(r,a,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,h=l.tickFormatter,m=l.unit,y=FI(Ba(Ba({},this.props),{},{ticks:r}),a,i),N=this.getTickTextAnchor(),j=this.getTickVerticalAnchor(),v=In(this.props,!1),b=In(u,!1),A=Ba(Ba({},v),{},{fill:"none"},In(c,!1)),S=y.map(function(w,E){var T=o.getTickLineCoord(w),P=T.line,k=T.tick,I=Ba(Ba(Ba(Ba({textAnchor:N,verticalAnchor:j},v),{},{stroke:"none",fill:d},b),k),{},{index:E,payload:w,visibleTicksCount:y.length,tickFormatter:h});return ge.createElement(Os,Tv({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},mx(o.props,w,E)),c&&ge.createElement("line",Tv({},A,P,{className:os("recharts-cartesian-axis-tick-line",Nl(c,"className"))})),u&&e.renderTickItem(u,I,"".concat(qn(h)?h(w.value,E):w.value).concat(m||"")))});return ge.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,d=a.className,u=a.hide;if(u)return null;var h=this.props,m=h.ticks,y=sR(h,rwe),N=m;return qn(c)&&(N=m&&m.length>0?c(this.props):c(y)),o<=0||l<=0||!N||!N.length?null:ge.createElement(Os,{className:os("recharts-cartesian-axis",d),ref:function(v){r.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(N,this.state.fontSize,this.state.letterSpacing),fi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,a,i){var o,l=os(a.className,"recharts-cartesian-axis-tick-value");return ge.isValidElement(r)?o=ge.cloneElement(r,Ba(Ba({},a),{},{className:l})):qn(r)?o=r(Ba(Ba({},a),{},{className:l})):o=ge.createElement(px,Tv({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(R.Component);UI(dy,"displayName","CartesianAxis");UI(dy,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var fwe=["x1","y1","x2","y2","key"],mwe=["offset"];function vx(n){"@babel/helpers - typeof";return vx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vx(n)}function mV(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function eo(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?mV(Object(s),!0).forEach(function(r){pwe(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):mV(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function pwe(n,e,s){return e=xwe(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function xwe(n){var e=gwe(n,"string");return vx(e)=="symbol"?e:e+""}function gwe(n,e){if(vx(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(vx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Up(){return Up=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},Up.apply(this,arguments)}function pV(n,e){if(n==null)return{};var s=vwe(n,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(s[r]=n[r])}return s}function vwe(n,e){if(n==null)return{};var s={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;s[r]=n[r]}return s}var ywe=function(e){var s=e.fill;if(!s||s==="none")return null;var r=e.fillOpacity,a=e.x,i=e.y,o=e.width,l=e.height,c=e.ry;return ge.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:s,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function pZ(n,e){var s;if(ge.isValidElement(n))s=ge.cloneElement(n,e);else if(qn(n))s=n(e);else{var r=e.x1,a=e.y1,i=e.x2,o=e.y2,l=e.key,c=pV(e,fwe),d=In(c,!1);d.offset;var u=pV(d,mwe);s=ge.createElement("line",Up({},u,{x1:r,y1:a,x2:i,y2:o,fill:"none",key:l}))}return s}function bwe(n){var e=n.x,s=n.width,r=n.horizontal,a=r===void 0?!0:r,i=n.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=eo(eo({},n),{},{x1:e,y1:l,x2:e+s,y2:l,key:"line-".concat(c),index:c});return pZ(a,d)});return ge.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function jwe(n){var e=n.y,s=n.height,r=n.vertical,a=r===void 0?!0:r,i=n.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=eo(eo({},n),{},{x1:l,y1:e,x2:l,y2:e+s,key:"line-".concat(c),index:c});return pZ(a,d)});return ge.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function wwe(n){var e=n.horizontalFill,s=n.fillOpacity,r=n.x,a=n.y,i=n.width,o=n.height,l=n.horizontalPoints,c=n.horizontal,d=c===void 0?!0:c;if(!d||!e||!e.length)return null;var u=l.map(function(m){return Math.round(m+a-a)}).sort(function(m,y){return m-y});a!==u[0]&&u.unshift(0);var h=u.map(function(m,y){var N=!u[y+1],j=N?a+o-m:u[y+1]-m;if(j<=0)return null;var v=y%e.length;return ge.createElement("rect",{key:"react-".concat(y),y:m,x:r,height:j,width:i,stroke:"none",fill:e[v],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return ge.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Nwe(n){var e=n.vertical,s=e===void 0?!0:e,r=n.verticalFill,a=n.fillOpacity,i=n.x,o=n.y,l=n.width,c=n.height,d=n.verticalPoints;if(!s||!r||!r.length)return null;var u=d.map(function(m){return Math.round(m+i-i)}).sort(function(m,y){return m-y});i!==u[0]&&u.unshift(0);var h=u.map(function(m,y){var N=!u[y+1],j=N?i+l-m:u[y+1]-m;if(j<=0)return null;var v=y%r.length;return ge.createElement("rect",{key:"react-".concat(y),x:m,y:o,width:j,height:c,stroke:"none",fill:r[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return ge.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Swe=function(e,s){var r=e.xAxis,a=e.width,i=e.height,o=e.offset;return pX(FI(eo(eo(eo({},dy.defaultProps),r),{},{ticks:ch(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,s)},_we=function(e,s){var r=e.yAxis,a=e.width,i=e.height,o=e.offset;return pX(FI(eo(eo(eo({},dy.defaultProps),r),{},{ticks:ch(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,s)},Wg={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function u5(n){var e,s,r,a,i,o,l=kI(),c=II(),d=h1e(),u=eo(eo({},n),{},{stroke:(e=n.stroke)!==null&&e!==void 0?e:Wg.stroke,fill:(s=n.fill)!==null&&s!==void 0?s:Wg.fill,horizontal:(r=n.horizontal)!==null&&r!==void 0?r:Wg.horizontal,horizontalFill:(a=n.horizontalFill)!==null&&a!==void 0?a:Wg.horizontalFill,vertical:(i=n.vertical)!==null&&i!==void 0?i:Wg.vertical,verticalFill:(o=n.verticalFill)!==null&&o!==void 0?o:Wg.verticalFill,x:Ot(n.x)?n.x:d.left,y:Ot(n.y)?n.y:d.top,width:Ot(n.width)?n.width:d.width,height:Ot(n.height)?n.height:d.height}),h=u.x,m=u.y,y=u.width,N=u.height,j=u.syncWithTicks,v=u.horizontalValues,b=u.verticalValues,A=c1e(),S=d1e();if(!Ot(y)||y<=0||!Ot(N)||N<=0||!Ot(h)||h!==+h||!Ot(m)||m!==+m)return null;var w=u.verticalCoordinatesGenerator||Swe,E=u.horizontalCoordinatesGenerator||_we,T=u.horizontalPoints,P=u.verticalPoints;if((!T||!T.length)&&qn(E)){var k=v&&v.length,I=E({yAxis:S?eo(eo({},S),{},{ticks:k?v:S.ticks}):void 0,width:l,height:c,offset:d},k?!0:j);sd(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(vx(I),"]")),Array.isArray(I)&&(T=I)}if((!P||!P.length)&&qn(w)){var L=b&&b.length,U=w({xAxis:A?eo(eo({},A),{},{ticks:L?b:A.ticks}):void 0,width:l,height:c,offset:d},L?!0:j);sd(Array.isArray(U),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(vx(U),"]")),Array.isArray(U)&&(P=U)}return ge.createElement("g",{className:"recharts-cartesian-grid"},ge.createElement(ywe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),ge.createElement(bwe,Up({},u,{offset:d,horizontalPoints:T,xAxis:A,yAxis:S})),ge.createElement(jwe,Up({},u,{offset:d,verticalPoints:P,xAxis:A,yAxis:S})),ge.createElement(wwe,Up({},u,{horizontalPoints:T})),ge.createElement(Nwe,Up({},u,{verticalPoints:P})))}u5.displayName="CartesianGrid";var Awe=["layout","type","stroke","connectNulls","isRange","ref"],Cwe=["key"],xZ;function N0(n){"@babel/helpers - typeof";return N0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N0(n)}function gZ(n,e){if(n==null)return{};var s=Twe(n,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(s[r]=n[r])}return s}function Twe(n,e){if(n==null)return{};var s={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;s[r]=n[r]}return s}function zp(){return zp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},zp.apply(this,arguments)}function xV(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function Cf(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?xV(Object(s),!0).forEach(function(r){Gd(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):xV(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function Ewe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function gV(n,e){for(var s=0;s<e.length;s++){var r=e[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,yZ(r.key),r)}}function Mwe(n,e,s){return e&&gV(n.prototype,e),s&&gV(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n}function Pwe(n,e,s){return e=j2(e),Rwe(n,vZ()?Reflect.construct(e,s||[],j2(n).constructor):e.apply(n,s))}function Rwe(n,e){if(e&&(N0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Owe(n)}function Owe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function vZ(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vZ=function(){return!!n})()}function j2(n){return j2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},j2(n)}function kwe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&h5(n,e)}function h5(n,e){return h5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},h5(n,e)}function Gd(n,e,s){return e=yZ(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function yZ(n){var e=Iwe(n,"string");return N0(e)=="symbol"?e:e+""}function Iwe(n,e){if(N0(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(N0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var Ah=(function(n){function e(){var s;Ewe(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return s=Pwe(this,e,[].concat(a)),Gd(s,"state",{isAnimationFinished:!0}),Gd(s,"id",ay("recharts-area-")),Gd(s,"handleAnimationEnd",function(){var o=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),qn(o)&&o()}),Gd(s,"handleAnimationStart",function(){var o=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),qn(o)&&o()}),s}return kwe(e,n),Mwe(e,[{key:"renderDots",value:function(r,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,d=c.dot,u=c.points,h=c.dataKey,m=In(this.props,!1),y=In(d,!0),N=u.map(function(v,b){var A=Cf(Cf(Cf({key:"dot-".concat(b),r:3},m),y),{},{index:b,cx:v.x,cy:v.y,dataKey:h,value:v.value,payload:v.payload,points:u});return e.renderDotItem(d,A)}),j={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return ge.createElement(Os,zp({className:"recharts-area-dots"},j),N)}},{key:"renderHorizontalRect",value:function(r){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,d=o[o.length-1].x,u=r*Math.abs(c-d),h=Of(o.map(function(m){return m.y||0}));return Ot(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(Of(i.map(function(m){return m.y||0})),h)),Ot(h)?ge.createElement("rect",{x:c<d?c:c-u,y:0,width:u,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,d=o[o.length-1].y,u=r*Math.abs(c-d),h=Of(o.map(function(m){return m.x||0}));return Ot(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(Of(i.map(function(m){return m.x||0})),h)),Ot(h)?ge.createElement("rect",{x:0,y:c<d?c:c-u,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(r){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,a,i,o){var l=this.props,c=l.layout,d=l.type,u=l.stroke,h=l.connectNulls,m=l.isRange;l.ref;var y=gZ(l,Awe);return ge.createElement(Os,{clipPath:i?"url(#clipPath-".concat(o,")"):null},ge.createElement(Bv,zp({},In(y,!0),{points:r,connectNulls:h,type:d,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&ge.createElement(Bv,zp({},In(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:h,fill:"none",points:r})),u!=="none"&&m&&ge.createElement(Bv,zp({},In(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:h,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(r,a){var i=this,o=this.props,l=o.points,c=o.baseLine,d=o.isAnimationActive,u=o.animationBegin,h=o.animationDuration,m=o.animationEasing,y=o.animationId,N=this.state,j=N.prevPoints,v=N.prevBaseLine;return ge.createElement(lu,{begin:u,duration:h,isActive:d,easing:m,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var A=b.t;if(j){var S=j.length/l.length,w=l.map(function(k,I){var L=Math.floor(I*S);if(j[L]){var U=j[L],H=qo(U.x,k.x),B=qo(U.y,k.y);return Cf(Cf({},k),{},{x:H(A),y:B(A)})}return k}),E;if(Ot(c)&&typeof c=="number"){var T=qo(v,c);E=T(A)}else if(ls(c)||ry(c)){var P=qo(v,0);E=P(A)}else E=c.map(function(k,I){var L=Math.floor(I*S);if(v[L]){var U=v[L],H=qo(U.x,k.x),B=qo(U.y,k.y);return Cf(Cf({},k),{},{x:H(A),y:B(A)})}return k});return i.renderAreaStatically(w,E,r,a)}return ge.createElement(Os,null,ge.createElement("defs",null,ge.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(A))),ge.createElement(Os,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,r,a)))})}},{key:"renderArea",value:function(r,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,d=this.state,u=d.prevPoints,h=d.prevBaseLine,m=d.totalLength;return c&&o&&o.length&&(!u&&m>0||!d0(u,o)||!d0(h,l))?this.renderAreaWithAnimation(r,a):this.renderAreaStatically(o,l,r,a)}},{key:"render",value:function(){var r,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.top,u=a.left,h=a.xAxis,m=a.yAxis,y=a.width,N=a.height,j=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,A=l.length===1,S=os("recharts-area",c),w=h&&h.allowDataOverflow,E=m&&m.allowDataOverflow,T=w||E,P=ls(v)?this.id:v,k=(r=In(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},I=k.r,L=I===void 0?3:I,U=k.strokeWidth,H=U===void 0?2:U,B=gce(o)?o:{},K=B.clipDot,J=K===void 0?!0:K,W=L*2+H;return ge.createElement(Os,{className:S},w||E?ge.createElement("defs",null,ge.createElement("clipPath",{id:"clipPath-".concat(P)},ge.createElement("rect",{x:w?u:u-y/2,y:E?d:d-N/2,width:w?y:y*2,height:E?N:N*2})),!J&&ge.createElement("clipPath",{id:"clipPath-dots-".concat(P)},ge.createElement("rect",{x:u-W/2,y:d-W/2,width:y+W,height:N+W}))):null,A?null:this.renderArea(T,P),(o||A)&&this.renderDots(T,J,P),(!j||b)&&fh.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:r.points!==a.curPoints||r.baseLine!==a.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])})(R.PureComponent);xZ=Ah;Gd(Ah,"displayName","Area");Gd(Ah,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Mx.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Gd(Ah,"getBaseValue",function(n,e,s,r){var a=n.layout,i=n.baseValue,o=e.props.baseValue,l=o??i;if(Ot(l)&&typeof l=="number")return l;var c=a==="horizontal"?r:s,d=c.scale.domain();if(c.type==="number"){var u=Math.max(d[0],d[1]),h=Math.min(d[0],d[1]);return l==="dataMin"?h:l==="dataMax"||u<0?u:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});Gd(Ah,"getComposedData",function(n){var e=n.props,s=n.item,r=n.xAxis,a=n.yAxis,i=n.xAxisTicks,o=n.yAxisTicks,l=n.bandSize,c=n.dataKey,d=n.stackedData,u=n.dataStartIndex,h=n.displayedData,m=n.offset,y=e.layout,N=d&&d.length,j=xZ.getBaseValue(e,s,r,a),v=y==="horizontal",b=!1,A=h.map(function(w,E){var T;N?T=d[u+E]:(T=$a(w,c),Array.isArray(T)?b=!0:T=[j,T]);var P=T[1]==null||N&&$a(w,c)==null;return v?{x:bB({axis:r,ticks:i,bandSize:l,entry:w,index:E}),y:P?null:a.scale(T[1]),value:T,payload:w}:{x:P?null:r.scale(T[1]),y:bB({axis:a,ticks:o,bandSize:l,entry:w,index:E}),value:T,payload:w}}),S;return N||b?S=A.map(function(w){var E=Array.isArray(w.value)?w.value[0]:null;return v?{x:w.x,y:E!=null&&w.y!=null?a.scale(E):null}:{x:E!=null?r.scale(E):null,y:w.y}}):S=v?a.scale(j):r.scale(j),Cf({points:A,baseLine:S,layout:y,isRange:b},m)});Gd(Ah,"renderDotItem",function(n,e){var s;if(ge.isValidElement(n))s=ge.cloneElement(n,e);else if(qn(n))s=n(e);else{var r=os("recharts-area-dot",typeof n!="boolean"?n.className:""),a=e.key,i=gZ(e,Cwe);s=ge.createElement(TC,zp({},i,{key:a,className:r}))}return s});function S0(n){"@babel/helpers - typeof";return S0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S0(n)}function Dwe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Lwe(n,e){for(var s=0;s<e.length;s++){var r=e[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,wZ(r.key),r)}}function Fwe(n,e,s){return e&&Lwe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Uwe(n,e,s){return e=w2(e),zwe(n,bZ()?Reflect.construct(e,s||[],w2(n).constructor):e.apply(n,s))}function zwe(n,e){if(e&&(S0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bwe(n)}function Bwe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function bZ(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bZ=function(){return!!n})()}function w2(n){return w2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},w2(n)}function Vwe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&f5(n,e)}function f5(n,e){return f5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},f5(n,e)}function jZ(n,e,s){return e=wZ(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function wZ(n){var e=Hwe(n,"string");return S0(e)=="symbol"?e:e+""}function Hwe(n,e){if(S0(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(S0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function m5(){return m5=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},m5.apply(this,arguments)}function Gwe(n){var e=n.xAxisId,s=kI(),r=II(),a=rZ(e);return a==null?null:R.createElement(dy,m5({},a,{className:os("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:s,height:r},ticksGenerator:function(o){return ch(o,!0)}}))}var _0=(function(n){function e(){return Dwe(this,e),Uwe(this,e,arguments)}return Vwe(e,n),Fwe(e,[{key:"render",value:function(){return R.createElement(Gwe,this.props)}}])})(R.Component);jZ(_0,"displayName","XAxis");jZ(_0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function A0(n){"@babel/helpers - typeof";return A0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A0(n)}function $we(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function qwe(n,e){for(var s=0;s<e.length;s++){var r=e[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,_Z(r.key),r)}}function Wwe(n,e,s){return e&&qwe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Kwe(n,e,s){return e=N2(e),Xwe(n,NZ()?Reflect.construct(e,s||[],N2(n).constructor):e.apply(n,s))}function Xwe(n,e){if(e&&(A0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zwe(n)}function Zwe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function NZ(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NZ=function(){return!!n})()}function N2(n){return N2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},N2(n)}function Ywe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&p5(n,e)}function p5(n,e){return p5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},p5(n,e)}function SZ(n,e,s){return e=_Z(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function _Z(n){var e=Qwe(n,"string");return A0(e)=="symbol"?e:e+""}function Qwe(n,e){if(A0(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(A0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function x5(){return x5=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},x5.apply(this,arguments)}var Jwe=function(e){var s=e.yAxisId,r=kI(),a=II(),i=aZ(s);return i==null?null:R.createElement(dy,x5({},i,{className:os("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(l){return ch(l,!0)}}))},C0=(function(n){function e(){return $we(this,e),Kwe(this,e,arguments)}return Ywe(e,n),Wwe(e,[{key:"render",value:function(){return R.createElement(Jwe,this.props)}}])})(R.Component);SZ(C0,"displayName","YAxis");SZ(C0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function vV(n){return sNe(n)||nNe(n)||tNe(n)||eNe()}function eNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tNe(n,e){if(n){if(typeof n=="string")return g5(n,e);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return g5(n,e)}}function nNe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function sNe(n){if(Array.isArray(n))return g5(n)}function g5(n,e){(e==null||e>n.length)&&(e=n.length);for(var s=0,r=new Array(e);s<e;s++)r[s]=n[s];return r}var v5=function(e,s,r,a,i){var o=rc(e,LI),l=rc(e,LC),c=[].concat(vV(o),vV(l)),d=rc(e,UC),u="".concat(a,"Id"),h=a[0],m=s;if(c.length&&(m=c.reduce(function(j,v){if(v.props[u]===r&&Yd(v.props,"extendDomain")&&Ot(v.props[h])){var b=v.props[h];return[Math.min(j[0],b),Math.max(j[1],b)]}return j},m)),d.length){var y="".concat(h,"1"),N="".concat(h,"2");m=d.reduce(function(j,v){if(v.props[u]===r&&Yd(v.props,"extendDomain")&&Ot(v.props[y])&&Ot(v.props[N])){var b=v.props[y],A=v.props[N];return[Math.min(j[0],b,A),Math.max(j[1],b,A)]}return j},m)}return i&&i.length&&(m=i.reduce(function(j,v){return Ot(v)?[Math.min(j[0],v),Math.max(j[1],v)]:j},m)),m},rR={exports:{}},yV;function rNe(){return yV||(yV=1,(function(n){var e=Object.prototype.hasOwnProperty,s="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(s=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,h,m){if(typeof u!="function")throw new TypeError("The listener must be a function");var y=new a(u,h||c,m),N=s?s+d:d;return c._events[N]?c._events[N].fn?c._events[N]=[c._events[N],y]:c._events[N].push(y):(c._events[N]=y,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,h;if(this._eventsCount===0)return d;for(h in u=this._events)e.call(u,h)&&d.push(s?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=s?s+d:d,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,y=h.length,N=new Array(y);m<y;m++)N[m]=h[m].fn;return N},l.prototype.listenerCount=function(d){var u=s?s+d:d,h=this._events[u];return h?h.fn?1:h.length:0},l.prototype.emit=function(d,u,h,m,y,N){var j=s?s+d:d;if(!this._events[j])return!1;var v=this._events[j],b=arguments.length,A,S;if(v.fn){switch(v.once&&this.removeListener(d,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,h),!0;case 4:return v.fn.call(v.context,u,h,m),!0;case 5:return v.fn.call(v.context,u,h,m,y),!0;case 6:return v.fn.call(v.context,u,h,m,y,N),!0}for(S=1,A=new Array(b-1);S<b;S++)A[S-1]=arguments[S];v.fn.apply(v.context,A)}else{var w=v.length,E;for(S=0;S<w;S++)switch(v[S].once&&this.removeListener(d,v[S].fn,void 0,!0),b){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,u);break;case 3:v[S].fn.call(v[S].context,u,h);break;case 4:v[S].fn.call(v[S].context,u,h,m);break;default:if(!A)for(E=1,A=new Array(b-1);E<b;E++)A[E-1]=arguments[E];v[S].fn.apply(v[S].context,A)}}return!0},l.prototype.on=function(d,u,h){return i(this,d,u,h,!1)},l.prototype.once=function(d,u,h){return i(this,d,u,h,!0)},l.prototype.removeListener=function(d,u,h,m){var y=s?s+d:d;if(!this._events[y])return this;if(!u)return o(this,y),this;var N=this._events[y];if(N.fn)N.fn===u&&(!m||N.once)&&(!h||N.context===h)&&o(this,y);else{for(var j=0,v=[],b=N.length;j<b;j++)(N[j].fn!==u||m&&!N[j].once||h&&N[j].context!==h)&&v.push(N[j]);v.length?this._events[y]=v.length===1?v[0]:v:o(this,y)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=s?s+d:d,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=s,l.EventEmitter=l,n.exports=l})(rR)),rR.exports}var aNe=rNe();const iNe=Gs(aNe);var aR=new iNe,iR="recharts.syncMouseEvents";function w1(n){"@babel/helpers - typeof";return w1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w1(n)}function oNe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function lNe(n,e){for(var s=0;s<e.length;s++){var r=e[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,AZ(r.key),r)}}function cNe(n,e,s){return e&&lNe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function oR(n,e,s){return e=AZ(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function AZ(n){var e=dNe(n,"string");return w1(e)=="symbol"?e:e+""}function dNe(n,e){if(w1(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(w1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}var uNe=(function(){function n(){oNe(this,n),oR(this,"activeIndex",0),oR(this,"coordinateList",[]),oR(this,"layout","horizontal")}return cNe(n,[{key:"setDetails",value:function(s){var r,a=s.coordinateList,i=a===void 0?null:a,o=s.container,l=o===void 0?null:o,c=s.layout,d=c===void 0?null:c,u=s.offset,h=u===void 0?null:u,m=s.mouseHandlerCallback,y=m===void 0?null:m;this.coordinateList=(r=i??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(s){if(this.coordinateList.length!==0)switch(s.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(s){this.activeIndex=s}},{key:"spoofMouse",value:function(){var s,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,d=((s=window)===null||s===void 0?void 0:s.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=i+c+d,m=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:h,pageY:m})}}}])})();function hNe(n,e,s){if(s==="number"&&e===!0&&Array.isArray(n)){var r=n?.[0],a=n?.[1];if(r&&a&&Ot(r)&&Ot(a))return!0}return!1}function fNe(n,e,s,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:n==="horizontal"?e.x-a:s.left+.5,y:n==="horizontal"?s.top+.5:e.y-a,width:n==="horizontal"?r:s.width-1,height:n==="horizontal"?s.height-1:r}}function CZ(n){var e=n.cx,s=n.cy,r=n.radius,a=n.startAngle,i=n.endAngle,o=_r(e,s,r,a),l=_r(e,s,r,i);return{points:[o,l],cx:e,cy:s,radius:r,startAngle:a,endAngle:i}}function mNe(n,e,s){var r,a,i,o;if(n==="horizontal")r=e.x,i=r,a=s.top,o=s.top+s.height;else if(n==="vertical")a=e.y,o=a,r=s.left,i=s.left+s.width;else if(e.cx!=null&&e.cy!=null)if(n==="centric"){var l=e.cx,c=e.cy,d=e.innerRadius,u=e.outerRadius,h=e.angle,m=_r(l,c,d,h),y=_r(l,c,u,h);r=m.x,a=m.y,i=y.x,o=y.y}else return CZ(e);return[{x:r,y:a},{x:i,y:o}]}function N1(n){"@babel/helpers - typeof";return N1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N1(n)}function bV(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function KN(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?bV(Object(s),!0).forEach(function(r){pNe(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):bV(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function pNe(n,e,s){return e=xNe(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function xNe(n){var e=gNe(n,"string");return N1(e)=="symbol"?e:e+""}function gNe(n,e){if(N1(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(N1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function vNe(n){var e,s,r=n.element,a=n.tooltipEventType,i=n.isActive,o=n.activeCoordinate,l=n.activePayload,c=n.offset,d=n.activeTooltipIndex,u=n.tooltipAxisBandSize,h=n.layout,m=n.chartName,y=(e=r.props.cursor)!==null&&e!==void 0?e:(s=r.type.defaultProps)===null||s===void 0?void 0:s.cursor;if(!r||!y||!i||!o||m!=="ScatterChart"&&a!=="axis")return null;var N,j=Bv;if(m==="ScatterChart")N=o,j=Gye;else if(m==="BarChart")N=fNe(h,o,c,u),j=MI;else if(h==="radial"){var v=CZ(o),b=v.cx,A=v.cy,S=v.radius,w=v.startAngle,E=v.endAngle;N={cx:b,cy:A,startAngle:w,endAngle:E,innerRadius:S,outerRadius:S},j=AX}else N={points:mNe(h,o,c)},j=Bv;var T=KN(KN(KN(KN({stroke:"#ccc",pointerEvents:"none"},c),N),In(y,!1)),{},{payload:l,payloadIndex:d,className:os("recharts-tooltip-cursor",y.className)});return R.isValidElement(y)?R.cloneElement(y,T):R.createElement(j,T)}var yNe=["item"],bNe=["children","className","width","height","style","compact","title","desc"];function T0(n){"@babel/helpers - typeof";return T0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T0(n)}function Ev(){return Ev=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},Ev.apply(this,arguments)}function jV(n,e){return NNe(n)||wNe(n,e)||EZ(n,e)||jNe()}function jNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wNe(n,e){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var r,a,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(n)).next,e!==0)for(;!(c=(r=i.call(s)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function NNe(n){if(Array.isArray(n))return n}function wV(n,e){if(n==null)return{};var s=SNe(n,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(s[r]=n[r])}return s}function SNe(n,e){if(n==null)return{};var s={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;s[r]=n[r]}return s}function _Ne(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function ANe(n,e){for(var s=0;s<e.length;s++){var r=e[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,MZ(r.key),r)}}function CNe(n,e,s){return e&&ANe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function TNe(n,e,s){return e=S2(e),ENe(n,TZ()?Reflect.construct(e,s||[],S2(n).constructor):e.apply(n,s))}function ENe(n,e){if(e&&(T0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MNe(n)}function MNe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function TZ(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TZ=function(){return!!n})()}function S2(n){return S2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},S2(n)}function PNe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&y5(n,e)}function y5(n,e){return y5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},y5(n,e)}function E0(n){return kNe(n)||ONe(n)||EZ(n)||RNe()}function RNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EZ(n,e){if(n){if(typeof n=="string")return b5(n,e);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return b5(n,e)}}function ONe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function kNe(n){if(Array.isArray(n))return b5(n)}function b5(n,e){(e==null||e>n.length)&&(e=n.length);for(var s=0,r=new Array(e);s<e;s++)r[s]=n[s];return r}function NV(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function ht(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?NV(Object(s),!0).forEach(function(r){Hn(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):NV(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function Hn(n,e,s){return e=MZ(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function MZ(n){var e=INe(n,"string");return T0(e)=="symbol"?e:e+""}function INe(n,e){if(T0(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(T0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var DNe={xAxis:["bottom","top"],yAxis:["left","right"]},LNe={width:"100%",height:"100%"},PZ={x:0,y:0};function XN(n){return n}var FNe=function(e,s){return s==="horizontal"?e.x:s==="vertical"?e.y:s==="centric"?e.angle:e.radius},UNe=function(e,s,r,a){var i=s.find(function(u){return u&&u.index===r});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,l=a.radius;return ht(ht(ht({},a),_r(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=a.angle;return ht(ht(ht({},a),_r(a.cx,a.cy,c,d)),{},{angle:d,radius:c})}return PZ},zC=function(e,s){var r=s.graphicalItems,a=s.dataStartIndex,i=s.dataEndIndex,o=(r??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(E0(l),E0(d)):l},[]);return o.length>0?o:e&&e.length&&Ot(a)&&Ot(i)?e.slice(a,i+1):[]};function RZ(n){return n==="number"?[0,"auto"]:void 0}var j5=function(e,s,r,a){var i=e.graphicalItems,o=e.tooltipAxis,l=zC(s,e);return r<0||!i||!i.length||r>=l.length?null:i.reduce(function(c,d){var u,h=(u=d.props.data)!==null&&u!==void 0?u:s;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var y=h===void 0?l:h;m=T_(y,o.dataKey,a)}else m=h&&h[r]||l[r];return m?[].concat(E0(c),[bX(d,m)]):c},[])},SV=function(e,s,r,a){var i=a||{x:e.chartX,y:e.chartY},o=FNe(i,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,d=e.tooltipTicks,u=mge(o,l,d,c);if(u>=0&&d){var h=d[u]&&d[u].value,m=j5(e,s,u,h),y=UNe(r,l,u,i);return{activeTooltipIndex:u,activeLabel:h,activePayload:m,activeCoordinate:y}}return null},zNe=function(e,s){var r=s.axes,a=s.graphicalItems,i=s.axisType,o=s.axisIdKey,l=s.stackGroups,c=s.dataStartIndex,d=s.dataEndIndex,u=e.layout,h=e.children,m=e.stackOffset,y=mX(u,i);return r.reduce(function(N,j){var v,b=j.type.defaultProps!==void 0?ht(ht({},j.type.defaultProps),j.props):j.props,A=b.type,S=b.dataKey,w=b.allowDataOverflow,E=b.allowDuplicatedCategory,T=b.scale,P=b.ticks,k=b.includeHidden,I=b[o];if(N[I])return N;var L=zC(e.data,{graphicalItems:a.filter(function(me){var Oe,Ye=o in me.props?me.props[o]:(Oe=me.type.defaultProps)===null||Oe===void 0?void 0:Oe[o];return Ye===I}),dataStartIndex:c,dataEndIndex:d}),U=L.length,H,B,K;hNe(b.domain,w,A)&&(H=IO(b.domain,null,w),y&&(A==="number"||T!=="auto")&&(K=vj(L,S,"category")));var J=RZ(A);if(!H||H.length===0){var W,ee=(W=b.domain)!==null&&W!==void 0?W:J;if(S){if(H=vj(L,S,A),A==="category"&&y){var G=oce(H);E&&G?(B=H,H=u2(0,U)):E||(H=SB(ee,H,j).reduce(function(me,Oe){return me.indexOf(Oe)>=0?me:[].concat(E0(me),[Oe])},[]))}else if(A==="category")E?H=H.filter(function(me){return me!==""&&!ls(me)}):H=SB(ee,H,j).reduce(function(me,Oe){return me.indexOf(Oe)>=0||Oe===""||ls(Oe)?me:[].concat(E0(me),[Oe])},[]);else if(A==="number"){var ae=yge(L,a.filter(function(me){var Oe,Ye,dt=o in me.props?me.props[o]:(Oe=me.type.defaultProps)===null||Oe===void 0?void 0:Oe[o],be="hide"in me.props?me.props.hide:(Ye=me.type.defaultProps)===null||Ye===void 0?void 0:Ye.hide;return dt===I&&(k||!be)}),S,i,u);ae&&(H=ae)}y&&(A==="number"||T!=="auto")&&(K=vj(L,S,"category"))}else y?H=u2(0,U):l&&l[I]&&l[I].hasStack&&A==="number"?H=m==="expand"?[0,1]:yX(l[I].stackGroups,c,d):H=fX(L,a.filter(function(me){var Oe=o in me.props?me.props[o]:me.type.defaultProps[o],Ye="hide"in me.props?me.props.hide:me.type.defaultProps.hide;return Oe===I&&(k||!Ye)}),A,u,!0);if(A==="number")H=v5(h,H,I,i,P),ee&&(H=IO(ee,H,w));else if(A==="category"&&ee){var fe=ee,se=H.every(function(me){return fe.indexOf(me)>=0});se&&(H=fe)}}return ht(ht({},N),{},Hn({},I,ht(ht({},b),{},{axisType:i,domain:H,categoricalDomain:K,duplicateDomain:B,originalDomain:(v=b.domain)!==null&&v!==void 0?v:J,isCategorical:y,layout:u})))},{})},BNe=function(e,s){var r=s.graphicalItems,a=s.Axis,i=s.axisType,o=s.axisIdKey,l=s.stackGroups,c=s.dataStartIndex,d=s.dataEndIndex,u=e.layout,h=e.children,m=zC(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:d}),y=m.length,N=mX(u,i),j=-1;return r.reduce(function(v,b){var A=b.type.defaultProps!==void 0?ht(ht({},b.type.defaultProps),b.props):b.props,S=A[o],w=RZ("number");if(!v[S]){j++;var E;return N?E=u2(0,y):l&&l[S]&&l[S].hasStack?(E=yX(l[S].stackGroups,c,d),E=v5(h,E,S,i)):(E=IO(w,fX(m,r.filter(function(T){var P,k,I=o in T.props?T.props[o]:(P=T.type.defaultProps)===null||P===void 0?void 0:P[o],L="hide"in T.props?T.props.hide:(k=T.type.defaultProps)===null||k===void 0?void 0:k.hide;return I===S&&!L}),"number",u),a.defaultProps.allowDataOverflow),E=v5(h,E,S,i)),ht(ht({},v),{},Hn({},S,ht(ht({axisType:i},a.defaultProps),{},{hide:!0,orientation:Nl(DNe,"".concat(i,".").concat(j%2),null),domain:E,originalDomain:w,isCategorical:N,layout:u})))}return v},{})},VNe=function(e,s){var r=s.axisType,a=r===void 0?"xAxis":r,i=s.AxisComp,o=s.graphicalItems,l=s.stackGroups,c=s.dataStartIndex,d=s.dataEndIndex,u=e.children,h="".concat(a,"Id"),m=rc(u,i),y={};return m&&m.length?y=zNe(e,{axes:m,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(y=BNe(e,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),y},HNe=function(e){var s=Pf(e),r=ch(s,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:sI(r,function(a){return a.coordinate}),tooltipAxis:s,tooltipAxisBandSize:J_(s,r)}},_V=function(e){var s=e.children,r=e.defaultShowTooltip,a=ml(s,g0),i=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},GNe=function(e){return!e||!e.length?!1:e.some(function(s){var r=uh(s&&s.type);return r&&r.indexOf("Bar")>=0})},AV=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},$Ne=function(e,s){var r=e.props,a=e.graphicalItems,i=e.xAxisMap,o=i===void 0?{}:i,l=e.yAxisMap,c=l===void 0?{}:l,d=r.width,u=r.height,h=r.children,m=r.margin||{},y=ml(h,g0),N=ml(h,Fv),j=Object.keys(c).reduce(function(E,T){var P=c[T],k=P.orientation;return!P.mirror&&!P.hide?ht(ht({},E),{},Hn({},k,E[k]+P.width)):E},{left:m.left||0,right:m.right||0}),v=Object.keys(o).reduce(function(E,T){var P=o[T],k=P.orientation;return!P.mirror&&!P.hide?ht(ht({},E),{},Hn({},k,Nl(E,"".concat(k))+P.height)):E},{top:m.top||0,bottom:m.bottom||0}),b=ht(ht({},v),j),A=b.bottom;y&&(b.bottom+=y.props.height||g0.defaultProps.height),N&&s&&(b=gge(b,a,r,s));var S=d-b.left-b.right,w=u-b.top-b.bottom;return ht(ht({brushBottom:A},b),{},{width:Math.max(S,0),height:Math.max(w,0)})},qNe=function(e,s){if(s==="xAxis")return e[s].width;if(s==="yAxis")return e[s].height},zI=function(e){var s=e.chartName,r=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,d=e.legendContent,u=e.formatAxisMap,h=e.defaultProps,m=function(b,A){var S=A.graphicalItems,w=A.stackGroups,E=A.offset,T=A.updateId,P=A.dataStartIndex,k=A.dataEndIndex,I=b.barSize,L=b.layout,U=b.barGap,H=b.barCategoryGap,B=b.maxBarSize,K=AV(L),J=K.numericAxisName,W=K.cateAxisName,ee=GNe(S),G=[];return S.forEach(function(ae,fe){var se=zC(b.data,{graphicalItems:[ae],dataStartIndex:P,dataEndIndex:k}),me=ae.type.defaultProps!==void 0?ht(ht({},ae.type.defaultProps),ae.props):ae.props,Oe=me.dataKey,Ye=me.maxBarSize,dt=me["".concat(J,"Id")],be=me["".concat(W,"Id")],Ce={},Ue=c.reduce(function(Ee,Ie){var ne=A["".concat(Ie.axisType,"Map")],X=me["".concat(Ie.axisType,"Id")];ne&&ne[X]||Ie.axisType==="zAxis"||gx();var je=ne[X];return ht(ht({},Ee),{},Hn(Hn({},Ie.axisType,je),"".concat(Ie.axisType,"Ticks"),ch(je)))},Ce),De=Ue[W],qe=Ue["".concat(W,"Ticks")],rt=w&&w[dt]&&w[dt].hasStack&&Tge(ae,w[dt].stackGroups),$e=uh(ae.type).indexOf("Bar")>=0,pe=J_(De,qe),Ke=[],et=ee&&pge({barSize:I,stackGroups:w,totalSize:qNe(Ue,W)});if($e){var st,Qe,At=ls(Ye)?B:Ye,xt=(st=(Qe=J_(De,qe,!0))!==null&&Qe!==void 0?Qe:At)!==null&&st!==void 0?st:0;Ke=xge({barGap:U,barCategoryGap:H,bandSize:xt!==pe?xt:pe,sizeList:et[be],maxBarSize:At}),xt!==pe&&(Ke=Ke.map(function(Ee){return ht(ht({},Ee),{},{position:ht(ht({},Ee.position),{},{offset:Ee.position.offset-xt/2})})}))}var ue=ae&&ae.type&&ae.type.getComposedData;ue&&G.push({props:ht(ht({},ue(ht(ht({},Ue),{},{displayedData:se,props:b,dataKey:Oe,item:ae,bandSize:pe,barPosition:Ke,offset:E,stackedData:rt,layout:L,dataStartIndex:P,dataEndIndex:k}))),{},Hn(Hn(Hn({key:ae.key||"item-".concat(fe)},J,Ue[J]),W,Ue[W]),"animationId",T)),childIndex:bce(ae,b.children),item:ae})}),G},y=function(b,A){var S=b.props,w=b.dataStartIndex,E=b.dataEndIndex,T=b.updateId;if(!F6({props:S}))return null;var P=S.children,k=S.layout,I=S.stackOffset,L=S.data,U=S.reverseStackOrder,H=AV(k),B=H.numericAxisName,K=H.cateAxisName,J=rc(P,r),W=Age(L,J,"".concat(B,"Id"),"".concat(K,"Id"),I,U),ee=c.reduce(function(me,Oe){var Ye="".concat(Oe.axisType,"Map");return ht(ht({},me),{},Hn({},Ye,VNe(S,ht(ht({},Oe),{},{graphicalItems:J,stackGroups:Oe.axisType===B&&W,dataStartIndex:w,dataEndIndex:E}))))},{}),G=$Ne(ht(ht({},ee),{},{props:S,graphicalItems:J}),A?.legendBBox);Object.keys(ee).forEach(function(me){ee[me]=u(S,ee[me],G,me.replace("Map",""),s)});var ae=ee["".concat(K,"Map")],fe=HNe(ae),se=m(S,ht(ht({},ee),{},{dataStartIndex:w,dataEndIndex:E,updateId:T,graphicalItems:J,stackGroups:W,offset:G}));return ht(ht({formattedGraphicalItems:se,graphicalItems:J,offset:G,stackGroups:W},fe),ee)},N=(function(v){function b(A){var S,w,E;return _Ne(this,b),E=TNe(this,b,[A]),Hn(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Hn(E,"accessibilityManager",new uNe),Hn(E,"handleLegendBBoxUpdate",function(T){if(T){var P=E.state,k=P.dataStartIndex,I=P.dataEndIndex,L=P.updateId;E.setState(ht({legendBBox:T},y({props:E.props,dataStartIndex:k,dataEndIndex:I,updateId:L},ht(ht({},E.state),{},{legendBBox:T}))))}}),Hn(E,"handleReceiveSyncEvent",function(T,P,k){if(E.props.syncId===T){if(k===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(P)}}),Hn(E,"handleBrushChange",function(T){var P=T.startIndex,k=T.endIndex;if(P!==E.state.dataStartIndex||k!==E.state.dataEndIndex){var I=E.state.updateId;E.setState(function(){return ht({dataStartIndex:P,dataEndIndex:k},y({props:E.props,dataStartIndex:P,dataEndIndex:k,updateId:I},E.state))}),E.triggerSyncEvent({dataStartIndex:P,dataEndIndex:k})}}),Hn(E,"handleMouseEnter",function(T){var P=E.getMouseInfo(T);if(P){var k=ht(ht({},P),{},{isTooltipActive:!0});E.setState(k),E.triggerSyncEvent(k);var I=E.props.onMouseEnter;qn(I)&&I(k,T)}}),Hn(E,"triggeredAfterMouseMove",function(T){var P=E.getMouseInfo(T),k=P?ht(ht({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(k),E.triggerSyncEvent(k);var I=E.props.onMouseMove;qn(I)&&I(k,T)}),Hn(E,"handleItemMouseEnter",function(T){E.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),Hn(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),Hn(E,"handleMouseMove",function(T){T.persist(),E.throttleTriggeredAfterMouseMove(T)}),Hn(E,"handleMouseLeave",function(T){E.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};E.setState(P),E.triggerSyncEvent(P);var k=E.props.onMouseLeave;qn(k)&&k(P,T)}),Hn(E,"handleOuterEvent",function(T){var P=yce(T),k=Nl(E.props,"".concat(P));if(P&&qn(k)){var I,L;/.*touch.*/i.test(P)?L=E.getMouseInfo(T.changedTouches[0]):L=E.getMouseInfo(T),k((I=L)!==null&&I!==void 0?I:{},T)}}),Hn(E,"handleClick",function(T){var P=E.getMouseInfo(T);if(P){var k=ht(ht({},P),{},{isTooltipActive:!0});E.setState(k),E.triggerSyncEvent(k);var I=E.props.onClick;qn(I)&&I(k,T)}}),Hn(E,"handleMouseDown",function(T){var P=E.props.onMouseDown;if(qn(P)){var k=E.getMouseInfo(T);P(k,T)}}),Hn(E,"handleMouseUp",function(T){var P=E.props.onMouseUp;if(qn(P)){var k=E.getMouseInfo(T);P(k,T)}}),Hn(E,"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),Hn(E,"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&E.handleMouseDown(T.changedTouches[0])}),Hn(E,"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&E.handleMouseUp(T.changedTouches[0])}),Hn(E,"handleDoubleClick",function(T){var P=E.props.onDoubleClick;if(qn(P)){var k=E.getMouseInfo(T);P(k,T)}}),Hn(E,"handleContextMenu",function(T){var P=E.props.onContextMenu;if(qn(P)){var k=E.getMouseInfo(T);P(k,T)}}),Hn(E,"triggerSyncEvent",function(T){E.props.syncId!==void 0&&aR.emit(iR,E.props.syncId,T,E.eventEmitterSymbol)}),Hn(E,"applySyncEvent",function(T){var P=E.props,k=P.layout,I=P.syncMethod,L=E.state.updateId,U=T.dataStartIndex,H=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)E.setState(ht({dataStartIndex:U,dataEndIndex:H},y({props:E.props,dataStartIndex:U,dataEndIndex:H,updateId:L},E.state)));else if(T.activeTooltipIndex!==void 0){var B=T.chartX,K=T.chartY,J=T.activeTooltipIndex,W=E.state,ee=W.offset,G=W.tooltipTicks;if(!ee)return;if(typeof I=="function")J=I(G,T);else if(I==="value"){J=-1;for(var ae=0;ae<G.length;ae++)if(G[ae].value===T.activeLabel){J=ae;break}}var fe=ht(ht({},ee),{},{x:ee.left,y:ee.top}),se=Math.min(B,fe.x+fe.width),me=Math.min(K,fe.y+fe.height),Oe=G[J]&&G[J].value,Ye=j5(E.state,E.props.data,J),dt=G[J]?{x:k==="horizontal"?G[J].coordinate:se,y:k==="horizontal"?me:G[J].coordinate}:PZ;E.setState(ht(ht({},T),{},{activeLabel:Oe,activeCoordinate:dt,activePayload:Ye,activeTooltipIndex:J}))}else E.setState(T)}),Hn(E,"renderCursor",function(T){var P,k=E.state,I=k.isTooltipActive,L=k.activeCoordinate,U=k.activePayload,H=k.offset,B=k.activeTooltipIndex,K=k.tooltipAxisBandSize,J=E.getTooltipEventType(),W=(P=T.props.active)!==null&&P!==void 0?P:I,ee=E.props.layout,G=T.key||"_recharts-cursor";return ge.createElement(vNe,{key:G,activeCoordinate:L,activePayload:U,activeTooltipIndex:B,chartName:s,element:T,isActive:W,layout:ee,offset:H,tooltipAxisBandSize:K,tooltipEventType:J})}),Hn(E,"renderPolarAxis",function(T,P,k){var I=Nl(T,"type.axisType"),L=Nl(E.state,"".concat(I,"Map")),U=T.type.defaultProps,H=U!==void 0?ht(ht({},U),T.props):T.props,B=L&&L[H["".concat(I,"Id")]];return R.cloneElement(T,ht(ht({},B),{},{className:os(I,B.className),key:T.key||"".concat(P,"-").concat(k),ticks:ch(B,!0)}))}),Hn(E,"renderPolarGrid",function(T){var P=T.props,k=P.radialLines,I=P.polarAngles,L=P.polarRadius,U=E.state,H=U.radiusAxisMap,B=U.angleAxisMap,K=Pf(H),J=Pf(B),W=J.cx,ee=J.cy,G=J.innerRadius,ae=J.outerRadius;return R.cloneElement(T,{polarAngles:Array.isArray(I)?I:ch(J,!0).map(function(fe){return fe.coordinate}),polarRadius:Array.isArray(L)?L:ch(K,!0).map(function(fe){return fe.coordinate}),cx:W,cy:ee,innerRadius:G,outerRadius:ae,key:T.key||"polar-grid",radialLines:k})}),Hn(E,"renderLegend",function(){var T=E.state.formattedGraphicalItems,P=E.props,k=P.children,I=P.width,L=P.height,U=E.props.margin||{},H=I-(U.left||0)-(U.right||0),B=uX({children:k,formattedGraphicalItems:T,legendWidth:H,legendContent:d});if(!B)return null;var K=B.item,J=wV(B,yNe);return R.cloneElement(K,ht(ht({},J),{},{chartWidth:I,chartHeight:L,margin:U,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),Hn(E,"renderTooltip",function(){var T,P=E.props,k=P.children,I=P.accessibilityLayer,L=ml(k,Jl);if(!L)return null;var U=E.state,H=U.isTooltipActive,B=U.activeCoordinate,K=U.activePayload,J=U.activeLabel,W=U.offset,ee=(T=L.props.active)!==null&&T!==void 0?T:H;return R.cloneElement(L,{viewBox:ht(ht({},W),{},{x:W.left,y:W.top}),active:ee,label:J,payload:ee?K:[],coordinate:B,accessibilityLayer:I})}),Hn(E,"renderBrush",function(T){var P=E.props,k=P.margin,I=P.data,L=E.state,U=L.offset,H=L.dataStartIndex,B=L.dataEndIndex,K=L.updateId;return R.cloneElement(T,{key:T.key||"_recharts-brush",onChange:GN(E.handleBrushChange,T.props.onChange),data:I,x:Ot(T.props.x)?T.props.x:U.left,y:Ot(T.props.y)?T.props.y:U.top+U.height+U.brushBottom-(k.bottom||0),width:Ot(T.props.width)?T.props.width:U.width,startIndex:H,endIndex:B,updateId:"brush-".concat(K)})}),Hn(E,"renderReferenceElement",function(T,P,k){if(!T)return null;var I=E,L=I.clipPathId,U=E.state,H=U.xAxisMap,B=U.yAxisMap,K=U.offset,J=T.type.defaultProps||{},W=T.props,ee=W.xAxisId,G=ee===void 0?J.xAxisId:ee,ae=W.yAxisId,fe=ae===void 0?J.yAxisId:ae;return R.cloneElement(T,{key:T.key||"".concat(P,"-").concat(k),xAxis:H[G],yAxis:B[fe],viewBox:{x:K.left,y:K.top,width:K.width,height:K.height},clipPathId:L})}),Hn(E,"renderActivePoints",function(T){var P=T.item,k=T.activePoint,I=T.basePoint,L=T.childIndex,U=T.isRange,H=[],B=P.props.key,K=P.item.type.defaultProps!==void 0?ht(ht({},P.item.type.defaultProps),P.item.props):P.item.props,J=K.activeDot,W=K.dataKey,ee=ht(ht({index:L,dataKey:W,cx:k.x,cy:k.y,r:4,fill:EI(P.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},In(J,!1)),E_(J));return H.push(b.renderActiveDot(J,ee,"".concat(B,"-activePoint-").concat(L))),I?H.push(b.renderActiveDot(J,ht(ht({},ee),{},{cx:I.x,cy:I.y}),"".concat(B,"-basePoint-").concat(L))):U&&H.push(null),H}),Hn(E,"renderGraphicChild",function(T,P,k){var I=E.filterFormatItem(T,P,k);if(!I)return null;var L=E.getTooltipEventType(),U=E.state,H=U.isTooltipActive,B=U.tooltipAxis,K=U.activeTooltipIndex,J=U.activeLabel,W=E.props.children,ee=ml(W,Jl),G=I.props,ae=G.points,fe=G.isRange,se=G.baseLine,me=I.item.type.defaultProps!==void 0?ht(ht({},I.item.type.defaultProps),I.item.props):I.item.props,Oe=me.activeDot,Ye=me.hide,dt=me.activeBar,be=me.activeShape,Ce=!!(!Ye&&H&&ee&&(Oe||dt||be)),Ue={};L!=="axis"&&ee&&ee.props.trigger==="click"?Ue={onClick:GN(E.handleItemMouseEnter,T.props.onClick)}:L!=="axis"&&(Ue={onMouseLeave:GN(E.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:GN(E.handleItemMouseEnter,T.props.onMouseEnter)});var De=R.cloneElement(T,ht(ht({},I.props),Ue));function qe(Ie){return typeof B.dataKey=="function"?B.dataKey(Ie.payload):null}if(Ce)if(K>=0){var rt,$e;if(B.dataKey&&!B.allowDuplicatedCategory){var pe=typeof B.dataKey=="function"?qe:"payload.".concat(B.dataKey.toString());rt=T_(ae,pe,J),$e=fe&&se&&T_(se,pe,J)}else rt=ae?.[K],$e=fe&&se&&se[K];if(be||dt){var Ke=T.props.activeIndex!==void 0?T.props.activeIndex:K;return[R.cloneElement(T,ht(ht(ht({},I.props),Ue),{},{activeIndex:Ke})),null,null]}if(!ls(rt))return[De].concat(E0(E.renderActivePoints({item:I,activePoint:rt,basePoint:$e,childIndex:K,isRange:fe})))}else{var et,st=(et=E.getItemByXY(E.state.activeCoordinate))!==null&&et!==void 0?et:{graphicalItem:De},Qe=st.graphicalItem,At=Qe.item,xt=At===void 0?T:At,ue=Qe.childIndex,Ee=ht(ht(ht({},I.props),Ue),{},{activeIndex:ue});return[R.cloneElement(xt,Ee),null,null]}return fe?[De,null,null]:[De,null]}),Hn(E,"renderCustomized",function(T,P,k){return R.cloneElement(T,ht(ht({key:"recharts-customized-".concat(k)},E.props),E.state))}),Hn(E,"renderMap",{CartesianGrid:{handler:XN,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:XN},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:XN},YAxis:{handler:XN},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((S=A.id)!==null&&S!==void 0?S:ay("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=dK(E.triggeredAfterMouseMove,(w=A.throttleDelay)!==null&&w!==void 0?w:1e3/60),E.state={},E}return PNe(b,v),CNe(b,[{key:"componentDidMount",value:function(){var S,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,w=S.children,E=S.data,T=S.height,P=S.layout,k=ml(w,Jl);if(k){var I=k.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var L=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,U=j5(this.state,E,I,L),H=this.state.tooltipTicks[I].coordinate,B=(this.state.offset.top+T)/2,K=P==="horizontal",J=K?{x:H,y:B}:{y:H,x:B},W=this.state.formattedGraphicalItems.find(function(G){var ae=G.item;return ae.type.name==="Scatter"});W&&(J=ht(ht({},J),W.props.points[I].tooltipPosition),U=W.props.points[I].tooltipPayload);var ee={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:L,activePayload:U,activeCoordinate:J};this.setState(ee),this.renderCursor(k),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var E,T;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(S){sO([ml(S.children,Jl)],[ml(this.props.children,Jl)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=ml(this.props.children,Jl);if(S&&typeof S.props.shared=="boolean"){var w=S.props.shared?"axis":"item";return l.indexOf(w)>=0?w:i}return i}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var w=this.container,E=w.getBoundingClientRect(),T=ife(E),P={chartX:Math.round(S.pageX-T.left),chartY:Math.round(S.pageY-T.top)},k=E.width/w.offsetWidth||1,I=this.inRange(P.chartX,P.chartY,k);if(!I)return null;var L=this.state,U=L.xAxisMap,H=L.yAxisMap,B=this.getTooltipEventType(),K=SV(this.state,this.props.data,this.props.layout,I);if(B!=="axis"&&U&&H){var J=Pf(U).scale,W=Pf(H).scale,ee=J&&J.invert?J.invert(P.chartX):null,G=W&&W.invert?W.invert(P.chartY):null;return ht(ht({},P),{},{xValue:ee,yValue:G},K)}return K?ht(ht({},P),K):null}},{key:"inRange",value:function(S,w){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,P=S/E,k=w/E;if(T==="horizontal"||T==="vertical"){var I=this.state.offset,L=P>=I.left&&P<=I.left+I.width&&k>=I.top&&k<=I.top+I.height;return L?{x:P,y:k}:null}var U=this.state,H=U.angleAxisMap,B=U.radiusAxisMap;if(H&&B){var K=Pf(H);return CB({x:P,y:k},K)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,w=this.getTooltipEventType(),E=ml(S,Jl),T={};E&&w==="axis"&&(E.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=E_(this.props,this.handleOuterEvent);return ht(ht({},P),T)}},{key:"addListener",value:function(){aR.on(iR,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){aR.removeListener(iR,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,w,E){for(var T=this.state.formattedGraphicalItems,P=0,k=T.length;P<k;P++){var I=T[P];if(I.item===S||I.props.key===S.key||w===uh(I.item.type)&&E===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,w=this.state.offset,E=w.left,T=w.top,P=w.height,k=w.width;return ge.createElement("defs",null,ge.createElement("clipPath",{id:S},ge.createElement("rect",{x:E,y:T,height:P,width:k})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(w,E){var T=jV(E,2),P=T[0],k=T[1];return ht(ht({},w),{},Hn({},P,k.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(w,E){var T=jV(E,2),P=T[0],k=T[1];return ht(ht({},w),{},Hn({},P,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[S])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(S){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[S])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(S){var w=this.state,E=w.formattedGraphicalItems,T=w.activeItem;if(E&&E.length)for(var P=0,k=E.length;P<k;P++){var I=E[P],L=I.props,U=I.item,H=U.type.defaultProps!==void 0?ht(ht({},U.type.defaultProps),U.props):U.props,B=uh(U.type);if(B==="Bar"){var K=(L.data||[]).find(function(G){return Sye(S,G)});if(K)return{graphicalItem:I,payload:K}}else if(B==="RadialBar"){var J=(L.data||[]).find(function(G){return CB(S,G)});if(J)return{graphicalItem:I,payload:J}}else if(OC(I,T)||kC(I,T)||g1(I,T)){var W=Wbe({graphicalItem:I,activeTooltipItem:T,itemData:H.data}),ee=H.activeIndex===void 0?W:H.activeIndex;return{graphicalItem:ht(ht({},I),{},{childIndex:ee}),payload:g1(I,T)?H.data[W]:I.props.data[W]}}}return null}},{key:"render",value:function(){var S=this;if(!F6(this))return null;var w=this.props,E=w.children,T=w.className,P=w.width,k=w.height,I=w.style,L=w.compact,U=w.title,H=w.desc,B=wV(w,bNe),K=In(B,!1);if(L)return ge.createElement(sV,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ge.createElement(aO,Ev({},K,{width:P,height:k,title:U,desc:H}),this.renderClipPath(),z6(E,this.renderMap)));if(this.props.accessibilityLayer){var J,W;K.tabIndex=(J=this.props.tabIndex)!==null&&J!==void 0?J:0,K.role=(W=this.props.role)!==null&&W!==void 0?W:"application",K.onKeyDown=function(G){S.accessibilityManager.keyboardEvent(G)},K.onFocus=function(){S.accessibilityManager.focus()}}var ee=this.parseEventsOfWrapper();return ge.createElement(sV,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ge.createElement("div",Ev({className:os("recharts-wrapper",T),style:ht({position:"relative",cursor:"default",width:P,height:k},I)},ee,{ref:function(ae){S.container=ae}}),ge.createElement(aO,Ev({},K,{width:P,height:k,title:U,desc:H,style:LNe}),this.renderClipPath(),z6(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(R.Component);Hn(N,"displayName",s),Hn(N,"defaultProps",ht({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Hn(N,"getDerivedStateFromProps",function(v,b){var A=v.dataKey,S=v.data,w=v.children,E=v.width,T=v.height,P=v.layout,k=v.stackOffset,I=v.margin,L=b.dataStartIndex,U=b.dataEndIndex;if(b.updateId===void 0){var H=_V(v);return ht(ht(ht({},H),{},{updateId:0},y(ht(ht({props:v},H),{},{updateId:0}),b)),{},{prevDataKey:A,prevData:S,prevWidth:E,prevHeight:T,prevLayout:P,prevStackOffset:k,prevMargin:I,prevChildren:w})}if(A!==b.prevDataKey||S!==b.prevData||E!==b.prevWidth||T!==b.prevHeight||P!==b.prevLayout||k!==b.prevStackOffset||!Lv(I,b.prevMargin)){var B=_V(v),K={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},J=ht(ht({},SV(b,S,P)),{},{updateId:b.updateId+1}),W=ht(ht(ht({},B),K),J);return ht(ht(ht({},W),y(ht({props:v},W),b)),{},{prevDataKey:A,prevData:S,prevWidth:E,prevHeight:T,prevLayout:P,prevStackOffset:k,prevMargin:I,prevChildren:w})}if(!sO(w,b.prevChildren)){var ee,G,ae,fe,se=ml(w,g0),me=se&&(ee=(G=se.props)===null||G===void 0?void 0:G.startIndex)!==null&&ee!==void 0?ee:L,Oe=se&&(ae=(fe=se.props)===null||fe===void 0?void 0:fe.endIndex)!==null&&ae!==void 0?ae:U,Ye=me!==L||Oe!==U,dt=!ls(S),be=dt&&!Ye?b.updateId:b.updateId+1;return ht(ht({updateId:be},y(ht(ht({props:v},b),{},{updateId:be,dataStartIndex:me,dataEndIndex:Oe}),b)),{},{prevChildren:w,dataStartIndex:me,dataEndIndex:Oe})}return null}),Hn(N,"renderActiveDot",function(v,b,A){var S;return R.isValidElement(v)?S=R.cloneElement(v,b):qn(v)?S=v(b):S=ge.createElement(TC,b),ge.createElement(Os,{className:"recharts-active-dot",key:A},S)});var j=R.forwardRef(function(b,A){return ge.createElement(N,Ev({},b,{ref:A}))});return j.displayName=N.displayName,j},WNe=zI({chartName:"BarChart",GraphicalChild:mh,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:_0},{axisType:"yAxis",AxisComp:C0}],formatAxisMap:ZX}),KNe=zI({chartName:"PieChart",GraphicalChild:Oh,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:RC},{axisType:"radiusAxis",AxisComp:MC}],formatAxisMap:Fge,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),XNe=zI({chartName:"AreaChart",GraphicalChild:Ah,axisComponents:[{axisType:"xAxis",AxisComp:_0},{axisType:"yAxis",AxisComp:C0}],formatAxisMap:ZX});function ZNe(){const[n,e]=R.useState([]),{data:s,isLoading:r}=wn({queryKey:["/api/dashboard/stats"],refetchInterval:5e3}),{data:a}=wn({queryKey:["/api/threat-level"],refetchInterval:2e3}),i=[{date:"Jan",revenue:125e3,deposits:15e4,payouts:112500,profit:12500},{date:"Feb",revenue:138e3,deposits:165e3,payouts:124200,profit:13800},{date:"Mar",revenue:142e3,deposits:17e4,payouts:127800,profit:14200},{date:"Apr",revenue:156e3,deposits:185e3,payouts:140400,profit:15600},{date:"May",revenue:169e3,deposits:195e3,payouts:152100,profit:16900},{date:"Jun",revenue:178e3,deposits:21e4,payouts:160200,profit:17800},{date:"Jul",revenue:192e3,deposits:225e3,payouts:172800,profit:19200}],o=[{name:"CCBill",value:45,percentage:45,color:"#8b5cf6"},{name:"Segpay",value:28,percentage:28,color:"#06b6d4"},{name:"Epoch",value:15,percentage:15,color:"#10b981"},{name:"Crypto",value:8,percentage:8,color:"#f59e0b"},{name:"Bank Transfer",value:4,percentage:4,color:"#ef4444"}],l=[{name:"VIP Creators",earnings:45e3,tips:15e3,subscriptions:25e3,content:5e3},{name:"Premium",earnings:32e3,tips:12e3,subscriptions:18e3,content:2e3},{name:"Standard",earnings:18e3,tips:8e3,subscriptions:8e3,content:2e3},{name:"New",earnings:8e3,tips:3e3,subscriptions:4e3,content:1e3}];return R.useEffect(()=>{const c=setInterval(()=>{const d={timestamp:new Date().toISOString(),event:Math.random()>.5?"CONTENT_ANALYZED":"THREAT_DETECTED",severity:Math.random()>.7?"HIGH":"MEDIUM",id:Math.random().toString(36).substr(2,9)};e(u=>[...u.slice(-19),d])},1e3);return()=>clearInterval(c)},[]),t.jsxs("div",{className:"min-h-screen bg-background neural-network",children:[t.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-primary/20 via-secondary/10 to-accent/20 border-b border-primary/30",children:[t.jsx("div",{className:"absolute inset-0 matrix-rain opacity-30"}),t.jsx("div",{className:"relative z-10 p-8",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-bold cyber-text-glow mb-2",children:"FANZMOD CONTROL CENTER"}),t.jsx("div",{className:"text-muted-foreground text-lg",children:"Neural Network Moderation System • Real-time Threat Detection"})]}),t.jsxs("div",{className:"flex items-center space-x-6",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-sm text-muted-foreground uppercase tracking-wider",children:"System Status"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-3 h-3 bg-secondary rounded-full cyber-pulse"}),t.jsx("span",{className:"text-secondary font-semibold",children:"OPERATIONAL"})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-sm text-muted-foreground uppercase tracking-wider",children:"Threat Level"}),t.jsx("div",{className:"text-2xl font-bold text-accent cyber-text-glow",children:a?.level||"MEDIUM"})]})]})]})})})]}),t.jsx("div",{className:"max-w-7xl mx-auto p-6 space-y-8",children:t.jsxs(Xs,{defaultValue:"overview",className:"space-y-6",children:[t.jsxs($s,{className:"grid w-full grid-cols-4 cyber-card",children:[t.jsxs(lt,{value:"overview",className:"flex items-center space-x-2",children:[t.jsx(En,{className:"w-4 h-4"}),t.jsx("span",{children:"Security Overview"})]}),t.jsxs(lt,{value:"revenue",className:"flex items-center space-x-2",children:[t.jsx(Jr,{className:"w-4 h-4"}),t.jsx("span",{children:"Revenue Analytics"})]}),t.jsxs(lt,{value:"creators",className:"flex items-center space-x-2",children:[t.jsx(er,{className:"w-4 h-4"}),t.jsx("span",{children:"Creator Earnings"})]}),t.jsxs(lt,{value:"payments",className:"flex items-center space-x-2",children:[t.jsx(Ko,{className:"w-4 h-4"}),t.jsx("span",{children:"Payment Systems"})]})]}),t.jsxs(ct,{value:"overview",children:[t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{title:"Neural Processing",value:s?.totalContent||0,change:"+12.5%",icon:Gr,color:"text-primary",trend:"up"},{title:"Threat Detection",value:s?.autoBlocked||0,change:"-8.3%",icon:En,color:"text-destructive",trend:"down"},{title:"Active Surveillance",value:s?.activeStreams||0,change:"+23.1%",icon:Mn,color:"text-secondary",trend:"up"},{title:"Vault Security",value:s?.vaultedItems||0,change:"+5.7%",icon:Ii,color:"text-accent",trend:"up"}].map((c,d)=>{const u=c.icon,h=c.trend==="up"?or:w_;return t.jsx($,{className:"cyber-card hologram-effect neural-network",children:t.jsxs(q,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"p-3 rounded-xl glass-effect border border-primary/30",children:t.jsx(u,{className:`w-8 h-8 ${c.color} cyber-pulse`})}),t.jsxs(de,{variant:"outline",className:"neon-text",children:[t.jsx(h,{className:"w-3 h-3 mr-1"}),c.change]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:c.title}),t.jsx("div",{className:"text-3xl font-bold cyber-text-glow",children:r?t.jsx("div",{className:"h-8 w-20 bg-muted/20 rounded animate-pulse"}):c.value.toLocaleString()})]}),t.jsx("div",{className:"mt-4 pt-4 border-t border-border/30",children:t.jsxs("div",{className:"flex items-center justify-between text-xs",children:[t.jsx("span",{className:"text-muted-foreground",children:"Real-time"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("div",{className:"w-2 h-2 bg-secondary rounded-full cyber-pulse"}),t.jsx("span",{className:"text-secondary font-mono",children:"LIVE"})]})]})})]})},d)})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs($,{className:"cyber-card neural-network col-span-2",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-primary/20 border border-primary/50",children:t.jsx($A,{className:"w-6 h-6 text-primary cyber-pulse"})}),t.jsxs("div",{children:[t.jsx("span",{className:"cyber-text-glow",children:"AI PROCESSING MATRIX"}),t.jsx("div",{className:"text-sm text-muted-foreground font-normal",children:"Neural network performance metrics"})]})]})}),t.jsxs(q,{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm font-medium",children:"Model Accuracy"}),t.jsxs("span",{className:"text-sm font-mono text-secondary",children:[s?.accuracy||94.7,"%"]})]}),t.jsx(Xn,{value:s?.accuracy||94.7,className:"h-2 bg-muted/30"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm font-medium",children:"Processing Speed"}),t.jsx("span",{className:"text-sm font-mono text-accent",children:"2.3ms"})]}),t.jsx(Xn,{value:87,className:"h-2 bg-muted/30"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm font-medium",children:"Memory Usage"}),t.jsx("span",{className:"text-sm font-mono text-primary",children:"68.2%"})]}),t.jsx(Xn,{value:68.2,className:"h-2 bg-muted/30"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm font-medium",children:"GPU Utilization"}),t.jsx("span",{className:"text-sm font-mono text-destructive",children:"91.5%"})]}),t.jsx(Xn,{value:91.5,className:"h-2 bg-muted/30"})]})]}),t.jsx("div",{className:"border-t border-border/30 pt-4",children:t.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-primary cyber-text-glow",children:"1.2M"}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Items/Hour"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-secondary cyber-text-glow",children:"847"}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Active Threads"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-2xl font-bold text-accent cyber-text-glow",children:"32"}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"GPU Cores"})]})]})})]})]}),t.jsxs($,{className:"cyber-card matrix-rain",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ks,{className:"w-5 h-5 text-secondary cyber-pulse"}),t.jsx("span",{children:"LIVE FEED"})]}),t.jsx(de,{variant:"secondary",className:"font-mono",children:"STREAMING"})]})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-2 font-mono text-xs max-h-64 overflow-y-auto",children:n.map((c,d)=>t.jsxs("div",{className:"flex items-center justify-between py-1 border-b border-border/20",children:[t.jsx("span",{className:"text-muted-foreground",children:new Date(c.timestamp).toLocaleTimeString()}),t.jsx("span",{className:`text-${c.severity==="HIGH"?"destructive":"accent"}`,children:c.event}),t.jsx("span",{className:"text-secondary",children:c.id})]},d))})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs($,{className:"cyber-card neural-network",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(lae,{className:"w-5 h-5 text-primary"}),t.jsx("span",{children:"SYSTEM HEALTH"})]})}),t.jsx(q,{className:"space-y-4",children:t.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{label:"API Response",value:"12ms",status:"optimal"},{label:"Database Load",value:"34%",status:"good"},{label:"Cache Hit Rate",value:"98.7%",status:"excellent"},{label:"Error Rate",value:"0.02%",status:"minimal"}].map((c,d)=>t.jsxs("div",{className:"text-center p-3 rounded-lg glass-effect",children:[t.jsx("div",{className:"text-sm text-muted-foreground",children:c.label}),t.jsx("div",{className:"text-xl font-bold cyber-text-glow",children:c.value}),t.jsx(de,{variant:"outline",className:`text-xs ${c.status==="excellent"?"border-secondary text-secondary":c.status==="optimal"?"border-primary text-primary":c.status==="good"?"border-accent text-accent":"border-muted text-muted-foreground"}`,children:c.status})]},d))})})]}),t.jsxs($,{className:"cyber-card hologram-effect",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(ln,{className:"w-5 h-5 text-destructive cyber-pulse"}),t.jsx("span",{children:"THREAT ANALYSIS"})]})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-4",children:[{type:"CSAM Detection",count:12,severity:"critical"},{type:"Hate Speech",count:34,severity:"high"},{type:"Spam Content",count:156,severity:"medium"},{type:"Policy Violation",count:89,severity:"low"}].map((c,d)=>t.jsxs("div",{className:"flex items-center justify-between py-2",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:`w-3 h-3 rounded-full ${c.severity==="critical"?"bg-destructive":c.severity==="high"?"bg-accent":c.severity==="medium"?"bg-primary":"bg-muted-foreground"} cyber-pulse`}),t.jsx("span",{className:"font-medium",children:c.type})]}),t.jsx(de,{variant:"outline",className:"font-mono",children:c.count})]},d))})})]})]})]}),t.jsxs(ct,{value:"revenue",children:[t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[{title:"Total Revenue",value:`$${(s?.totalRevenue||192e4).toLocaleString()}`,change:"+18.2%",icon:Jr,color:"text-green-500",trend:"up"},{title:"Daily Revenue",value:`$${(s?.dailyRevenue||24500).toLocaleString()}`,change:"+12.7%",icon:Ff,color:"text-blue-500",trend:"up"},{title:"Active Creators",value:(s?.activeCreators||15420).toLocaleString(),change:"+8.9%",icon:er,color:"text-purple-500",trend:"up"},{title:"Conversion Rate",value:`${s?.conversionRate||4.2}%`,change:"+0.8%",icon:or,color:"text-orange-500",trend:"up"}].map((c,d)=>{const u=c.icon,h=c.trend==="up"?or:w_;return t.jsx($,{className:"cyber-card hologram-effect neural-network",children:t.jsxs(q,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"p-3 rounded-xl glass-effect border border-primary/30",children:t.jsx(u,{className:`w-8 h-8 ${c.color} cyber-pulse`})}),t.jsxs(de,{variant:"outline",className:"neon-text",children:[t.jsx(h,{className:"w-3 h-3 mr-1"}),c.change]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:c.title}),t.jsx("div",{className:"text-3xl font-bold cyber-text-glow",children:c.value})]})]})},d)})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs($,{className:"cyber-card neural-network",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-3",children:[t.jsx(la,{className:"w-6 h-6 text-primary cyber-pulse"}),t.jsx("span",{className:"cyber-text-glow",children:"REVENUE TRENDS"})]})}),t.jsx(q,{children:t.jsx(hP,{width:"100%",height:300,children:t.jsxs(XNe,{data:i,children:[t.jsx(u5,{strokeDasharray:"3 3",opacity:.3}),t.jsx(_0,{dataKey:"date"}),t.jsx(C0,{}),t.jsx(Jl,{content:({active:c,payload:d,label:u})=>c&&d&&d.length?t.jsxs("div",{className:"bg-background/90 backdrop-blur border border-border/50 rounded-lg p-3",children:[t.jsx("p",{className:"font-medium",children:u}),d.map((h,m)=>t.jsxs("p",{style:{color:h.color},children:[h.dataKey,": $",h.value?.toLocaleString()]},m))]}):null}),t.jsx(Ah,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.6}),t.jsx(Ah,{type:"monotone",dataKey:"profit",stackId:"2",stroke:"#10b981",fill:"#10b981",fillOpacity:.8})]})})})]}),t.jsxs($,{className:"cyber-card neural-network",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-3",children:[t.jsx(P$,{className:"w-6 h-6 text-secondary cyber-pulse"}),t.jsx("span",{className:"cyber-text-glow",children:"PAYMENT METHODS"})]})}),t.jsxs(q,{children:[t.jsx(hP,{width:"100%",height:300,children:t.jsxs(KNe,{children:[t.jsx(Oh,{data:o,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"value",children:o.map((c,d)=>t.jsx(xC,{fill:c.color},`cell-${d}`))}),t.jsx(Jl,{})]})}),t.jsx("div",{className:"mt-4 space-y-2",children:o.map((c,d)=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:c.color}}),t.jsx("span",{className:"text-sm",children:c.name})]}),t.jsxs("span",{className:"text-sm font-mono",children:[c.percentage,"%"]})]},d))})]})]})]})]}),t.jsx(ct,{value:"creators",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs($,{className:"cyber-card neural-network",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-3",children:[t.jsx(Z$,{className:"w-6 h-6 text-accent cyber-pulse"}),t.jsx("span",{className:"cyber-text-glow",children:"CREATOR EARNINGS"})]})}),t.jsx(q,{children:t.jsx(hP,{width:"100%",height:300,children:t.jsxs(WNe,{data:l,children:[t.jsx(u5,{strokeDasharray:"3 3",opacity:.3}),t.jsx(_0,{dataKey:"name"}),t.jsx(C0,{}),t.jsx(Jl,{}),t.jsx(mh,{dataKey:"tips",stackId:"a",fill:"#f59e0b"}),t.jsx(mh,{dataKey:"subscriptions",stackId:"a",fill:"#8b5cf6"}),t.jsx(mh,{dataKey:"content",stackId:"a",fill:"#06b6d4"})]})})})]}),t.jsxs($,{className:"cyber-card neural-network",children:[t.jsx(oe,{children:t.jsx(le,{children:"Top Performers"})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-4",children:l.map((c,d)=>t.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-background/50",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:c.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total: $",c.earnings.toLocaleString()]})]}),t.jsxs(de,{variant:"outline",children:["$",c.earnings.toLocaleString()]})]},d))})})]})]})}),t.jsx(ct,{value:"payments",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs($,{className:"cyber-card neural-network",children:[t.jsx(oe,{children:t.jsx(le,{children:"CCBill Integration"})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Status"}),t.jsx(de,{className:"bg-green-500",children:"Active"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Processing"}),t.jsx("span",{className:"font-mono",children:"45%"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Revenue"}),t.jsx("span",{className:"font-mono",children:"$864K"})]})]})})]}),t.jsxs($,{className:"cyber-card neural-network",children:[t.jsx(oe,{children:t.jsx(le,{children:"Segpay Integration"})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Status"}),t.jsx(de,{className:"bg-green-500",children:"Active"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Processing"}),t.jsx("span",{className:"font-mono",children:"28%"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Revenue"}),t.jsx("span",{className:"font-mono",children:"$538K"})]})]})})]}),t.jsxs($,{className:"cyber-card neural-network",children:[t.jsx(oe,{children:t.jsx(le,{children:"Crypto Payments"})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Status"}),t.jsx(de,{className:"bg-blue-500",children:"Beta"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Processing"}),t.jsx("span",{className:"font-mono",children:"8%"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Revenue"}),t.jsx("span",{className:"font-mono",children:"$154K"})]})]})})]})]})})]})})]})}function YNe(){return t.jsx(ZNe,{})}var QNe="Label",OZ=R.forwardRef((n,e)=>t.jsx(Nn.label,{...n,ref:e,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(n.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));OZ.displayName=QNe;var kZ=OZ;const JNe=X1("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Pe=R.forwardRef(({className:n,...e},s)=>t.jsx(kZ,{ref:s,className:Bt(JNe(),n),...e}));Pe.displayName=kZ.displayName;const up=[{id:"fanzlab",name:"FanzLab",displayName:"FanzLab Central Portal",description:"Main command center for all Fanz ecosystem platforms",theme:"bg-gradient-to-br from-cyan-900 to-blue-900",status:"online",connections:[{id:"db-1",type:"Database",name:"Primary PostgreSQL",status:"connected",lastSeen:"2025-01-04T19:17:00Z"},{id:"redis-1",type:"Cache",name:"Redis Cluster",status:"connected",lastSeen:"2025-01-04T19:17:00Z"},{id:"cdn-1",type:"CDN",name:"CloudFlare CDN",status:"connected",lastSeen:"2025-01-04T19:16:45Z"}],apis:[{id:"auth-api",name:"Authentication API",type:"Core",endpoint:"/api/auth",status:"active",lastCall:"2025-01-04T19:17:00Z",calls24h:45678},{id:"user-api",name:"User Management API",type:"Core",endpoint:"/api/users",status:"active",lastCall:"2025-01-04T19:16:58Z",calls24h:23456},{id:"mod-api",name:"Moderation API",type:"Security",endpoint:"/api/moderation",status:"active",lastCall:"2025-01-04T19:17:00Z",calls24h:12847}],metrics:{users:127849,revenue:"$2.8M",growth:"+12.8%",uptime:"99.97%"}},{id:"boyfanz",name:"BoyFanz",displayName:"BoyFanz Platform",description:"Male creator focused platform with neon red theme",theme:"bg-gradient-to-br from-red-900 to-pink-900",status:"online",connections:[{id:"db-2",type:"Database",name:"BoyFanz PostgreSQL",status:"connected",lastSeen:"2025-01-04T19:16:55Z"},{id:"storage-2",type:"Storage",name:"AWS S3 Bucket",status:"connected",lastSeen:"2025-01-04T19:16:50Z"},{id:"stream-2",type:"Streaming",name:"Agora WebRTC",status:"connected",lastSeen:"2025-01-04T19:16:45Z"}],apis:[{id:"creator-api",name:"Creator API",type:"Core",endpoint:"/api/creators",status:"active",lastCall:"2025-01-04T19:16:55Z",calls24h:18934},{id:"content-api",name:"Content API",type:"Media",endpoint:"/api/content",status:"active",lastCall:"2025-01-04T19:16:52Z",calls24h:34567},{id:"payment-api",name:"Payment API",type:"Financial",endpoint:"/api/payments",status:"active",lastCall:"2025-01-04T19:16:58Z",calls24h:8934}],metrics:{users:43298,revenue:"$890K",growth:"+18.4%",uptime:"99.89%"}},{id:"girlfanz",name:"GirlFanz",displayName:"GirlFanz Platform",description:"Female creator focused platform with neon pink theme",theme:"bg-gradient-to-br from-pink-900 to-purple-900",status:"online",connections:[{id:"db-3",type:"Database",name:"GirlFanz PostgreSQL",status:"connected",lastSeen:"2025-01-04T19:16:58Z"},{id:"storage-3",type:"Storage",name:"Google Cloud Storage",status:"connected",lastSeen:"2025-01-04T19:16:48Z"},{id:"ai-3",type:"AI",name:"ChatGPT-4o Vision",status:"connected",lastSeen:"2025-01-04T19:16:59Z"}],apis:[{id:"beauty-api",name:"Beauty Tutorial API",type:"Content",endpoint:"/api/beauty",status:"active",lastCall:"2025-01-04T19:16:56Z",calls24h:15678},{id:"fashion-api",name:"Fashion Lookbook API",type:"Content",endpoint:"/api/fashion",status:"active",lastCall:"2025-01-04T19:16:54Z",calls24h:23456},{id:"sub-api",name:"Subscription API",type:"Financial",endpoint:"/api/subscriptions",status:"active",lastCall:"2025-01-04T19:16:59Z",calls24h:12345}],metrics:{users:56743,revenue:"$1.2M",growth:"+22.1%",uptime:"99.94%"}},{id:"daddyfanz",name:"DaddyFanz",displayName:"DaddyFanz Platform",description:"Premium daddy-focused creator platform",theme:"bg-gradient-to-br from-gray-900 to-slate-900",status:"online",connections:[{id:"db-4",type:"Database",name:"DaddyFanz PostgreSQL",status:"connected",lastSeen:"2025-01-04T19:16:57Z"},{id:"encrypt-4",type:"Security",name:"End-to-End Encryption",status:"connected",lastSeen:"2025-01-04T19:16:59Z"},{id:"verify-4",type:"Compliance",name:"2257 Verification",status:"connected",lastSeen:"2025-01-04T19:16:45Z"}],apis:[{id:"premium-api",name:"Premium Content API",type:"Content",endpoint:"/api/premium",status:"active",lastCall:"2025-01-04T19:16:57Z",calls24h:9876},{id:"daddy-api",name:"Daddy Features API",type:"Core",endpoint:"/api/daddy",status:"active",lastCall:"2025-01-04T19:16:55Z",calls24h:7654},{id:"wallet-api",name:"Wallet API",type:"Financial",endpoint:"/api/wallet",status:"active",lastCall:"2025-01-04T19:16:58Z",calls24h:5432}],metrics:{users:28934,revenue:"$620K",growth:"+15.7%",uptime:"99.91%"}},{id:"pupfanz",name:"PupFanz",displayName:"PupFanz Platform",description:"Pup community focused platform",theme:"bg-gradient-to-br from-orange-900 to-yellow-900",status:"online",connections:[{id:"db-5",type:"Database",name:"PupFanz PostgreSQL",status:"connected",lastSeen:"2025-01-04T19:16:54Z"},{id:"community-5",type:"Social",name:"Community Hub",status:"connected",lastSeen:"2025-01-04T19:16:56Z"},{id:"events-5",type:"Events",name:"Event System",status:"connected",lastSeen:"2025-01-04T19:16:52Z"}],apis:[{id:"pup-api",name:"Pup Community API",type:"Social",endpoint:"/api/pup",status:"active",lastCall:"2025-01-04T19:16:54Z",calls24h:6789},{id:"gear-api",name:"Gear Marketplace API",type:"Commerce",endpoint:"/api/gear",status:"active",lastCall:"2025-01-04T19:16:56Z",calls24h:4321},{id:"event-api",name:"Event Management API",type:"Events",endpoint:"/api/events",status:"active",lastCall:"2025-01-04T19:16:52Z",calls24h:3456}],metrics:{users:15678,revenue:"$280K",growth:"+26.3%",uptime:"99.85%"}},{id:"taboofanz",name:"TabooFanz",displayName:"TabooFanz Platform",description:"Adult taboo content platform with enhanced security",theme:"bg-gradient-to-br from-purple-900 to-indigo-900",status:"online",connections:[{id:"db-6",type:"Database",name:"TabooFanz PostgreSQL",status:"connected",lastSeen:"2025-01-04T19:16:59Z"},{id:"shield-6",type:"Security",name:"FanzShield Protection",status:"connected",lastSeen:"2025-01-04T19:16:57Z"},{id:"age-6",type:"Compliance",name:"Age Verification",status:"connected",lastSeen:"2025-01-04T19:16:58Z"}],apis:[{id:"taboo-api",name:"Taboo Content API",type:"Content",endpoint:"/api/taboo",status:"active",lastCall:"2025-01-04T19:16:59Z",calls24h:8765},{id:"security-api",name:"Enhanced Security API",type:"Security",endpoint:"/api/security",status:"active",lastCall:"2025-01-04T19:16:57Z",calls24h:5678},{id:"compliance-api",name:"Compliance API",type:"Legal",endpoint:"/api/compliance",status:"active",lastCall:"2025-01-04T19:16:58Z",calls24h:3210}],metrics:{users:21234,revenue:"$450K",growth:"+19.8%",uptime:"99.96%"}},{id:"transfanz",name:"TransFanz",displayName:"TransFanz Platform",description:"Trans-inclusive creator platform",theme:"bg-gradient-to-br from-blue-900 to-pink-900",status:"online",connections:[{id:"db-7",type:"Database",name:"TransFanz PostgreSQL",status:"connected",lastSeen:"2025-01-04T19:16:56Z"},{id:"inclusive-7",type:"Social",name:"Inclusive Features",status:"connected",lastSeen:"2025-01-04T19:16:54Z"},{id:"support-7",type:"Support",name:"Community Support",status:"connected",lastSeen:"2025-01-04T19:16:58Z"}],apis:[{id:"trans-api",name:"Trans Community API",type:"Social",endpoint:"/api/trans",status:"active",lastCall:"2025-01-04T19:16:56Z",calls24h:7891},{id:"inclusive-api",name:"Inclusive Features API",type:"Core",endpoint:"/api/inclusive",status:"active",lastCall:"2025-01-04T19:16:54Z",calls24h:4567},{id:"support-api",name:"Support System API",type:"Support",endpoint:"/api/support",status:"active",lastCall:"2025-01-04T19:16:58Z",calls24h:2345}],metrics:{users:18567,revenue:"$340K",growth:"+28.2%",uptime:"99.88%"}},{id:"cougarfanz",name:"CougarFanz",displayName:"CougarFanz Platform",description:"Mature creator focused platform",theme:"bg-gradient-to-br from-amber-900 to-orange-900",status:"online",connections:[{id:"db-8",type:"Database",name:"CougarFanz PostgreSQL",status:"connected",lastSeen:"2025-01-04T19:16:53Z"},{id:"mature-8",type:"Verification",name:"Maturity Verification",status:"connected",lastSeen:"2025-01-04T19:16:57Z"},{id:"premium-8",type:"Premium",name:"Premium Services",status:"connected",lastSeen:"2025-01-04T19:16:55Z"}],apis:[{id:"cougar-api",name:"Cougar Platform API",type:"Core",endpoint:"/api/cougar",status:"active",lastCall:"2025-01-04T19:16:53Z",calls24h:6543},{id:"mature-api",name:"Mature Content API",type:"Content",endpoint:"/api/mature",status:"active",lastCall:"2025-01-04T19:16:57Z",calls24h:3987},{id:"experience-api",name:"Experience API",type:"Premium",endpoint:"/api/experience",status:"active",lastCall:"2025-01-04T19:16:55Z",calls24h:2876}],metrics:{users:14321,revenue:"$290K",growth:"+16.9%",uptime:"99.82%"}},{id:"fanzcock",name:"FanzCock",displayName:"FanzCock Platform",description:"Male-focused adult content platform",theme:"bg-gradient-to-br from-red-900 to-gray-900",status:"online",connections:[{id:"db-9",type:"Database",name:"FanzCock PostgreSQL",status:"connected",lastSeen:"2025-01-04T19:16:59Z"},{id:"adult-9",type:"Compliance",name:"Adult Verification",status:"connected",lastSeen:"2025-01-04T19:16:56Z"},{id:"male-9",type:"Content",name:"Male Content System",status:"connected",lastSeen:"2025-01-04T19:16:54Z"}],apis:[{id:"cock-api",name:"Platform Core API",type:"Core",endpoint:"/api/cock",status:"active",lastCall:"2025-01-04T19:16:59Z",calls24h:9876},{id:"male-content-api",name:"Male Content API",type:"Content",endpoint:"/api/male-content",status:"active",lastCall:"2025-01-04T19:16:56Z",calls24h:6543},{id:"verification-api",name:"Adult Verification API",type:"Compliance",endpoint:"/api/adult-verify",status:"active",lastCall:"2025-01-04T19:16:54Z",calls24h:4321}],metrics:{users:32156,revenue:"$580K",growth:"+20.5%",uptime:"99.87%"}},{id:"fanztube",name:"FanzTube",displayName:"FanzTube Video Platform",description:"Video sharing and streaming platform",theme:"bg-gradient-to-br from-green-900 to-teal-900",status:"online",connections:[{id:"db-10",type:"Database",name:"FanzTube PostgreSQL",status:"connected",lastSeen:"2025-01-04T19:16:58Z"},{id:"video-10",type:"Video",name:"FFMPEG Processing",status:"connected",lastSeen:"2025-01-04T19:16:55Z"},{id:"stream-10",type:"Streaming",name:"Live Streaming CDN",status:"connected",lastSeen:"2025-01-04T19:16:57Z"}],apis:[{id:"tube-api",name:"Video Platform API",type:"Core",endpoint:"/api/tube",status:"active",lastCall:"2025-01-04T19:16:58Z",calls24h:45678},{id:"video-api",name:"Video Processing API",type:"Media",endpoint:"/api/video",status:"active",lastCall:"2025-01-04T19:16:55Z",calls24h:23456},{id:"streaming-api",name:"Live Streaming API",type:"Streaming",endpoint:"/api/streaming",status:"active",lastCall:"2025-01-04T19:16:57Z",calls24h:15432}],metrics:{users:89234,revenue:"$1.5M",growth:"+31.4%",uptime:"99.93%"}}];function eSe(){const{toast:n}=Dn(),e=ps(),{data:s,isLoading:r}=wn({queryKey:["/api/platforms/status"]}),a=kt({mutationFn:async i=>await(await fetch(`/api/platforms/${i}/test`,{method:"POST"})).json(),onSuccess:i=>{n({title:"Platform Test",description:i.success?"All systems operational!":"Some services experiencing issues",variant:i.success?"default":"destructive"})}});return kt({mutationFn:async({platformId:i,serviceId:o})=>await(await fetch(`/api/platforms/${i}/services/${o}/restart`,{method:"POST"})).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/platforms/status"]}),n({title:"Service Restarted",description:"Service has been successfully restarted"})}}),r?t.jsx("div",{className:"flex items-center justify-center p-8",children:t.jsx(jk,{className:"h-8 w-8 animate-spin text-cyan-400"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-cyan-400",children:"Fanz™ Platform Manager"}),t.jsx("p",{className:"text-gray-400 mt-1",children:"Manage all Fanz ecosystem platforms and their connections"})]}),t.jsxs(de,{variant:"outline",className:"text-cyan-400 border-cyan-400",children:[up.length," Platforms Active"]})]}),t.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:up.map(i=>t.jsxs($,{className:`${i.theme} border-primary/20 cyber-border`,"data-testid":`platform-card-${i.id}`,children:[t.jsx(oe,{children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx(le,{className:"text-white cyber-text-glow text-lg",children:i.displayName}),t.jsx(Ct,{className:"text-gray-300 mt-1",children:i.description})]}),t.jsx(de,{variant:i.status==="online"?"default":"destructive",className:i.status==="online"?"bg-green-600":"","data-testid":`badge-status-${i.id}`,children:i.status.toUpperCase()})]})}),t.jsxs(q,{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"text-center p-3 rounded border border-primary/20 bg-black/20",children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Users"}),t.jsx("p",{className:"text-sm font-bold text-white",children:i.metrics.users.toLocaleString()})]}),t.jsxs("div",{className:"text-center p-3 rounded border border-primary/20 bg-black/20",children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Revenue"}),t.jsx("p",{className:"text-sm font-bold text-white",children:i.metrics.revenue})]}),t.jsxs("div",{className:"text-center p-3 rounded border border-primary/20 bg-black/20",children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Growth"}),t.jsx("p",{className:"text-sm font-bold text-green-400",children:i.metrics.growth})]}),t.jsxs("div",{className:"text-center p-3 rounded border border-primary/20 bg-black/20",children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Uptime"}),t.jsx("p",{className:"text-sm font-bold text-white",children:i.metrics.uptime})]})]}),t.jsxs("div",{children:[t.jsxs(Pe,{className:"text-white font-semibold",children:["Connections (",i.connections.length,")"]}),t.jsx("div",{className:"space-y-2 mt-2",children:i.connections.map(o=>t.jsxs("div",{className:"flex justify-between items-center p-2 rounded bg-black/30 border border-primary/10",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:`w-2 h-2 rounded-full ${o.status==="connected"?"bg-green-500":o.status==="error"?"bg-red-500":"bg-yellow-500"}`}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-medium text-white",children:o.name}),t.jsx("p",{className:"text-xs text-gray-400",children:o.type})]})]}),t.jsx("p",{className:"text-xs text-gray-500",children:new Date(o.lastSeen).toLocaleTimeString()})]},o.id))})]}),t.jsxs("div",{children:[t.jsxs(Pe,{className:"text-white font-semibold",children:["API Endpoints (",i.apis.length,")"]}),t.jsx("div",{className:"space-y-2 mt-2",children:i.apis.map(o=>t.jsxs("div",{className:"p-2 rounded bg-black/30 border border-primary/10",children:[t.jsx("div",{className:"flex justify-between items-start mb-1",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:`w-2 h-2 rounded-full ${o.status==="active"?"bg-green-500":o.status==="error"?"bg-red-500":"bg-yellow-500"}`}),t.jsx("p",{className:"text-xs font-medium text-white",children:o.name}),t.jsx(de,{variant:"outline",className:"text-xs py-0 px-2 border-primary/20 text-cyan-400",children:o.type})]})}),t.jsx("div",{className:"text-xs text-gray-400 mb-1 font-mono",children:o.endpoint}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[t.jsxs("span",{children:[o.calls24h.toLocaleString()," calls/24h"]}),t.jsxs("span",{children:["Last: ",new Date(o.lastCall).toLocaleTimeString()]})]})]},o.id))})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(te,{variant:"outline",size:"sm",onClick:()=>a.mutate(i.id),disabled:a.isPending,"data-testid":`button-test-${i.id}`,className:"flex-1",children:[t.jsx(yae,{className:"h-4 w-4 mr-1"}),"Test All"]}),t.jsxs(te,{variant:"outline",size:"sm","data-testid":`button-manage-${i.id}`,className:"flex-1",children:[t.jsx(oa,{className:"h-4 w-4 mr-1"}),"Manage"]})]})]})]},i.id))}),t.jsxs("div",{className:"mt-8 p-6 border border-primary/20 rounded-lg bg-black/20 cyber-border",children:[t.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-4",children:"Platform Overview"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"text-center p-4 rounded border border-primary/20 bg-black/30",children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Total Users"}),t.jsx("p",{className:"text-xl font-bold text-white",children:up.reduce((i,o)=>i+o.metrics.users,0).toLocaleString()})]}),t.jsxs("div",{className:"text-center p-4 rounded border border-primary/20 bg-black/30",children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Active APIs"}),t.jsx("p",{className:"text-xl font-bold text-white",children:up.reduce((i,o)=>i+o.apis.length,0)})]}),t.jsxs("div",{className:"text-center p-4 rounded border border-primary/20 bg-black/30",children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Connections"}),t.jsx("p",{className:"text-xl font-bold text-white",children:up.reduce((i,o)=>i+o.connections.length,0)})]}),t.jsxs("div",{className:"text-center p-4 rounded border border-primary/20 bg-black/30",children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Platforms Online"}),t.jsxs("p",{className:"text-xl font-bold text-green-400",children:[up.filter(i=>i.status==="online").length,"/",up.length]})]})]})]})]})}function tSe(){return t.jsx("div",{className:"min-h-screen cyber-bg",children:t.jsx("div",{className:"container mx-auto p-6",children:t.jsx(eSe,{})})})}const Fe=R.forwardRef(({className:n,type:e,...s},r)=>t.jsx("input",{type:e,className:Bt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:r,...s}));Fe.displayName="Input";function S1(n,[e,s]){return Math.min(s,Math.max(e,n))}var lR=0;function IZ(){R.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??CV()),document.body.insertAdjacentElement("beforeend",n[1]??CV()),lR++,()=>{lR===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),lR--}},[])}function CV(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var cR="focusScope.autoFocusOnMount",dR="focusScope.autoFocusOnUnmount",TV={bubbles:!1,cancelable:!0},nSe="FocusScope",BI=R.forwardRef((n,e)=>{const{loop:s=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=n,[l,c]=R.useState(null),d=Ca(a),u=Ca(i),h=R.useRef(null),m=rs(e,j=>c(j)),y=R.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;R.useEffect(()=>{if(r){let j=function(S){if(y.paused||!l)return;const w=S.target;l.contains(w)?h.current=w:Tf(h.current,{select:!0})},v=function(S){if(y.paused||!l)return;const w=S.relatedTarget;w!==null&&(l.contains(w)||Tf(h.current,{select:!0}))},b=function(S){if(document.activeElement===document.body)for(const E of S)E.removedNodes.length>0&&Tf(l)};document.addEventListener("focusin",j),document.addEventListener("focusout",v);const A=new MutationObserver(b);return l&&A.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",v),A.disconnect()}}},[r,l,y.paused]),R.useEffect(()=>{if(l){MV.add(y);const j=document.activeElement;if(!l.contains(j)){const b=new CustomEvent(cR,TV);l.addEventListener(cR,d),l.dispatchEvent(b),b.defaultPrevented||(sSe(lSe(DZ(l)),{select:!0}),document.activeElement===j&&Tf(l))}return()=>{l.removeEventListener(cR,d),setTimeout(()=>{const b=new CustomEvent(dR,TV);l.addEventListener(dR,u),l.dispatchEvent(b),b.defaultPrevented||Tf(j??document.body,{select:!0}),l.removeEventListener(dR,u),MV.remove(y)},0)}}},[l,d,u,y]);const N=R.useCallback(j=>{if(!s&&!r||y.paused)return;const v=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,b=document.activeElement;if(v&&b){const A=j.currentTarget,[S,w]=rSe(A);S&&w?!j.shiftKey&&b===w?(j.preventDefault(),s&&Tf(S,{select:!0})):j.shiftKey&&b===S&&(j.preventDefault(),s&&Tf(w,{select:!0})):b===A&&j.preventDefault()}},[s,r,y.paused]);return t.jsx(Nn.div,{tabIndex:-1,...o,ref:m,onKeyDown:N})});BI.displayName=nSe;function sSe(n,{select:e=!1}={}){const s=document.activeElement;for(const r of n)if(Tf(r,{select:e}),document.activeElement!==s)return}function rSe(n){const e=DZ(n),s=EV(e,n),r=EV(e.reverse(),n);return[s,r]}function DZ(n){const e=[],s=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)e.push(s.currentNode);return e}function EV(n,e){for(const s of n)if(!aSe(s,{upTo:e}))return s}function aSe(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function iSe(n){return n instanceof HTMLInputElement&&"select"in n}function Tf(n,{select:e=!1}={}){if(n&&n.focus){const s=document.activeElement;n.focus({preventScroll:!0}),n!==s&&iSe(n)&&e&&n.select()}}var MV=oSe();function oSe(){let n=[];return{add(e){const s=n[0];e!==s&&s?.pause(),n=PV(n,e),n.unshift(e)},remove(e){n=PV(n,e),n[0]?.resume()}}}function PV(n,e){const s=[...n],r=s.indexOf(e);return r!==-1&&s.splice(r,1),s}function lSe(n){return n.filter(e=>e.tagName!=="A")}function BC(n){const e=R.useRef({value:n,previous:n});return R.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var cSe=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Kg=new WeakMap,ZN=new WeakMap,YN={},uR=0,LZ=function(n){return n&&(n.host||LZ(n.parentNode))},dSe=function(n,e){return e.map(function(s){if(n.contains(s))return s;var r=LZ(s);return r&&n.contains(r)?r:(console.error("aria-hidden",s,"in not contained inside",n,". Doing nothing"),null)}).filter(function(s){return!!s})},uSe=function(n,e,s,r){var a=dSe(e,Array.isArray(n)?n:[n]);YN[s]||(YN[s]=new WeakMap);var i=YN[s],o=[],l=new Set,c=new Set(a),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};a.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))u(m);else try{var y=m.getAttribute(r),N=y!==null&&y!=="false",j=(Kg.get(m)||0)+1,v=(i.get(m)||0)+1;Kg.set(m,j),i.set(m,v),o.push(m),j===1&&N&&ZN.set(m,!0),v===1&&m.setAttribute(s,"true"),N||m.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",m,b)}})};return u(e),l.clear(),uR++,function(){o.forEach(function(h){var m=Kg.get(h)-1,y=i.get(h)-1;Kg.set(h,m),i.set(h,y),m||(ZN.has(h)||h.removeAttribute(r),ZN.delete(h)),y||h.removeAttribute(s)}),uR--,uR||(Kg=new WeakMap,Kg=new WeakMap,ZN=new WeakMap,YN={})}},FZ=function(n,e,s){s===void 0&&(s="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),a=cSe(n);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),uSe(r,a,s,"aria-hidden")):function(){return null}},Ud=function(){return Ud=Object.assign||function(e){for(var s,r=1,a=arguments.length;r<a;r++){s=arguments[r];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},Ud.apply(this,arguments)};function UZ(n,e){var s={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(s[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(s[r[a]]=n[r[a]]);return s}function hSe(n,e,s){if(s||arguments.length===2)for(var r=0,a=e.length,i;r<a;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))}var i_="right-scroll-bar-position",o_="width-before-scroll-bar",fSe="with-scroll-bars-hidden",mSe="--removed-body-scroll-bar-size";function hR(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function pSe(n,e){var s=R.useState(function(){return{value:n,callback:e,facade:{get current(){return s.value},set current(r){var a=s.value;a!==r&&(s.value=r,s.callback(r,a))}}}})[0];return s.callback=e,s.facade}var xSe=typeof window<"u"?R.useLayoutEffect:R.useEffect,RV=new WeakMap;function gSe(n,e){var s=pSe(null,function(r){return n.forEach(function(a){return hR(a,r)})});return xSe(function(){var r=RV.get(s);if(r){var a=new Set(r),i=new Set(n),o=s.current;a.forEach(function(l){i.has(l)||hR(l,null)}),i.forEach(function(l){a.has(l)||hR(l,o)})}RV.set(s,n)},[n]),s}function vSe(n){return n}function ySe(n,e){e===void 0&&(e=vSe);var s=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:n},useMedium:function(i){var o=e(i,r);return s.push(o),function(){s=s.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;s.length;){var o=s;s=[],o.forEach(i)}s={push:function(l){return i(l)},filter:function(){return s}}},assignMedium:function(i){r=!0;var o=[];if(s.length){var l=s;s=[],l.forEach(i),o=s}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),s={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),s}}}};return a}function bSe(n){n===void 0&&(n={});var e=ySe(null);return e.options=Ud({async:!0,ssr:!1},n),e}var zZ=function(n){var e=n.sideCar,s=UZ(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return R.createElement(r,Ud({},s))};zZ.isSideCarExport=!0;function jSe(n,e){return n.useMedium(e),zZ}var BZ=bSe(),fR=function(){},VC=R.forwardRef(function(n,e){var s=R.useRef(null),r=R.useState({onScrollCapture:fR,onWheelCapture:fR,onTouchMoveCapture:fR}),a=r[0],i=r[1],o=n.forwardProps,l=n.children,c=n.className,d=n.removeScrollBar,u=n.enabled,h=n.shards,m=n.sideCar,y=n.noRelative,N=n.noIsolation,j=n.inert,v=n.allowPinchZoom,b=n.as,A=b===void 0?"div":b,S=n.gapMode,w=UZ(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=m,T=gSe([s,e]),P=Ud(Ud({},w),a);return R.createElement(R.Fragment,null,u&&R.createElement(E,{sideCar:BZ,removeScrollBar:d,shards:h,noRelative:y,noIsolation:N,inert:j,setCallbacks:i,allowPinchZoom:!!v,lockRef:s,gapMode:S}),o?R.cloneElement(R.Children.only(l),Ud(Ud({},P),{ref:T})):R.createElement(A,Ud({},P,{className:c,ref:T}),l))});VC.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};VC.classNames={fullWidth:o_,zeroRight:i_};var wSe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function NSe(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=wSe();return e&&n.setAttribute("nonce",e),n}function SSe(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function _Se(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var ASe=function(){var n=0,e=null;return{add:function(s){n==0&&(e=NSe())&&(SSe(e,s),_Se(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},CSe=function(){var n=ASe();return function(e,s){R.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&s])}},VZ=function(){var n=CSe(),e=function(s){var r=s.styles,a=s.dynamic;return n(r,a),null};return e},TSe={left:0,top:0,right:0,gap:0},mR=function(n){return parseInt(n||"",10)||0},ESe=function(n){var e=window.getComputedStyle(document.body),s=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],a=e[n==="padding"?"paddingRight":"marginRight"];return[mR(s),mR(r),mR(a)]},MSe=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return TSe;var e=ESe(n),s=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-s+e[2]-e[0])}},PSe=VZ(),Vv="data-scroll-locked",RSe=function(n,e,s,r){var a=n.left,i=n.top,o=n.right,l=n.gap;return s===void 0&&(s="margin"),`
  .`.concat(fSe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Vv,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),s==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),s==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(i_,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(o_,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(i_," .").concat(i_,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(o_," .").concat(o_,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Vv,`] {
    `).concat(mSe,": ").concat(l,`px;
  }
`)},OV=function(){var n=parseInt(document.body.getAttribute(Vv)||"0",10);return isFinite(n)?n:0},OSe=function(){R.useEffect(function(){return document.body.setAttribute(Vv,(OV()+1).toString()),function(){var n=OV()-1;n<=0?document.body.removeAttribute(Vv):document.body.setAttribute(Vv,n.toString())}},[])},kSe=function(n){var e=n.noRelative,s=n.noImportant,r=n.gapMode,a=r===void 0?"margin":r;OSe();var i=R.useMemo(function(){return MSe(a)},[a]);return R.createElement(PSe,{styles:RSe(i,!e,a,s?"":"!important")})},w5=!1;if(typeof window<"u")try{var QN=Object.defineProperty({},"passive",{get:function(){return w5=!0,!0}});window.addEventListener("test",QN,QN),window.removeEventListener("test",QN,QN)}catch{w5=!1}var Xg=w5?{passive:!1}:!1,ISe=function(n){return n.tagName==="TEXTAREA"},HZ=function(n,e){if(!(n instanceof Element))return!1;var s=window.getComputedStyle(n);return s[e]!=="hidden"&&!(s.overflowY===s.overflowX&&!ISe(n)&&s[e]==="visible")},DSe=function(n){return HZ(n,"overflowY")},LSe=function(n){return HZ(n,"overflowX")},kV=function(n,e){var s=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=GZ(n,r);if(a){var i=$Z(n,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==s.body);return!1},FSe=function(n){var e=n.scrollTop,s=n.scrollHeight,r=n.clientHeight;return[e,s,r]},USe=function(n){var e=n.scrollLeft,s=n.scrollWidth,r=n.clientWidth;return[e,s,r]},GZ=function(n,e){return n==="v"?DSe(e):LSe(e)},$Z=function(n,e){return n==="v"?FSe(e):USe(e)},zSe=function(n,e){return n==="h"&&e==="rtl"?-1:1},BSe=function(n,e,s,r,a){var i=zSe(n,window.getComputedStyle(e).direction),o=i*r,l=s.target,c=e.contains(l),d=!1,u=o>0,h=0,m=0;do{if(!l)break;var y=$Z(n,l),N=y[0],j=y[1],v=y[2],b=j-v-i*N;(N||b)&&GZ(n,l)&&(h+=b,m+=N);var A=l.parentNode;l=A&&A.nodeType===Node.DOCUMENT_FRAGMENT_NODE?A.host:A}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(u&&Math.abs(h)<1||!u&&Math.abs(m)<1)&&(d=!0),d},JN=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},IV=function(n){return[n.deltaX,n.deltaY]},DV=function(n){return n&&"current"in n?n.current:n},VSe=function(n,e){return n[0]===e[0]&&n[1]===e[1]},HSe=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},GSe=0,Zg=[];function $Se(n){var e=R.useRef([]),s=R.useRef([0,0]),r=R.useRef(),a=R.useState(GSe++)[0],i=R.useState(VZ)[0],o=R.useRef(n);R.useEffect(function(){o.current=n},[n]),R.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(a));var j=hSe([n.lockRef.current],(n.shards||[]).map(DV),!0).filter(Boolean);return j.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),j.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[n.inert,n.lockRef.current,n.shards]);var l=R.useCallback(function(j,v){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!o.current.allowPinchZoom;var b=JN(j),A=s.current,S="deltaX"in j?j.deltaX:A[0]-b[0],w="deltaY"in j?j.deltaY:A[1]-b[1],E,T=j.target,P=Math.abs(S)>Math.abs(w)?"h":"v";if("touches"in j&&P==="h"&&T.type==="range")return!1;var k=kV(P,T);if(!k)return!0;if(k?E=P:(E=P==="v"?"h":"v",k=kV(P,T)),!k)return!1;if(!r.current&&"changedTouches"in j&&(S||w)&&(r.current=E),!E)return!0;var I=r.current||E;return BSe(I,v,j,I==="h"?S:w)},[]),c=R.useCallback(function(j){var v=j;if(!(!Zg.length||Zg[Zg.length-1]!==i)){var b="deltaY"in v?IV(v):JN(v),A=e.current.filter(function(E){return E.name===v.type&&(E.target===v.target||v.target===E.shadowParent)&&VSe(E.delta,b)})[0];if(A&&A.should){v.cancelable&&v.preventDefault();return}if(!A){var S=(o.current.shards||[]).map(DV).filter(Boolean).filter(function(E){return E.contains(v.target)}),w=S.length>0?l(v,S[0]):!o.current.noIsolation;w&&v.cancelable&&v.preventDefault()}}},[]),d=R.useCallback(function(j,v,b,A){var S={name:j,delta:v,target:b,should:A,shadowParent:qSe(b)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(w){return w!==S})},1)},[]),u=R.useCallback(function(j){s.current=JN(j),r.current=void 0},[]),h=R.useCallback(function(j){d(j.type,IV(j),j.target,l(j,n.lockRef.current))},[]),m=R.useCallback(function(j){d(j.type,JN(j),j.target,l(j,n.lockRef.current))},[]);R.useEffect(function(){return Zg.push(i),n.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Xg),document.addEventListener("touchmove",c,Xg),document.addEventListener("touchstart",u,Xg),function(){Zg=Zg.filter(function(j){return j!==i}),document.removeEventListener("wheel",c,Xg),document.removeEventListener("touchmove",c,Xg),document.removeEventListener("touchstart",u,Xg)}},[]);var y=n.removeScrollBar,N=n.inert;return R.createElement(R.Fragment,null,N?R.createElement(i,{styles:HSe(a)}):null,y?R.createElement(kSe,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function qSe(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const WSe=jSe(BZ,$Se);var VI=R.forwardRef(function(n,e){return R.createElement(VC,Ud({},n,{ref:e,sideCar:WSe}))});VI.classNames=VC.classNames;var KSe=[" ","Enter","ArrowUp","ArrowDown"],XSe=[" ","Enter"],yx="Select",[HC,GC,ZSe]=UA(yx),[uy]=Co(yx,[ZSe,eC]),$C=eC(),[YSe,am]=uy(yx),[QSe,JSe]=uy(yx),qZ=n=>{const{__scopeSelect:e,children:s,open:r,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:m,required:y,form:N}=n,j=$C(e),[v,b]=R.useState(null),[A,S]=R.useState(null),[w,E]=R.useState(!1),T=tw(d),[P,k]=gh({prop:r,defaultProp:a??!1,onChange:i,caller:yx}),[I,L]=gh({prop:o,defaultProp:l,onChange:c,caller:yx}),U=R.useRef(null),H=v?N||!!v.closest("form"):!0,[B,K]=R.useState(new Set),J=Array.from(B).map(W=>W.props.value).join(";");return t.jsx(Coe,{...j,children:t.jsxs(YSe,{required:y,scope:e,trigger:v,onTriggerChange:b,valueNode:A,onValueNodeChange:S,valueNodeHasChildren:w,onValueNodeHasChildrenChange:E,contentId:Uf(),value:I,onValueChange:L,open:P,onOpenChange:k,dir:T,triggerPointerDownPosRef:U,disabled:m,children:[t.jsx(HC.Provider,{scope:e,children:t.jsx(QSe,{scope:n.__scopeSelect,onNativeOptionAdd:R.useCallback(W=>{K(ee=>new Set(ee).add(W))},[]),onNativeOptionRemove:R.useCallback(W=>{K(ee=>{const G=new Set(ee);return G.delete(W),G})},[]),children:s})}),H?t.jsxs(xY,{"aria-hidden":!0,required:y,tabIndex:-1,name:u,autoComplete:h,value:I,onChange:W=>L(W.target.value),disabled:m,form:N,children:[I===void 0?t.jsx("option",{value:""}):null,Array.from(B)]},J):null]})})};qZ.displayName=yx;var WZ="SelectTrigger",KZ=R.forwardRef((n,e)=>{const{__scopeSelect:s,disabled:r=!1,...a}=n,i=$C(s),o=am(WZ,s),l=o.disabled||r,c=rs(e,o.onTriggerChange),d=GC(s),u=R.useRef("touch"),[h,m,y]=vY(j=>{const v=d().filter(S=>!S.disabled),b=v.find(S=>S.value===o.value),A=yY(v,j,b);A!==void 0&&o.onValueChange(A.value)}),N=j=>{l||(o.onOpenChange(!0),y()),j&&(o.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)})};return t.jsx(Eq,{asChild:!0,...i,children:t.jsx(Nn.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":gY(o.value)?"":void 0,...a,ref:c,onClick:cn(a.onClick,j=>{j.currentTarget.focus(),u.current!=="mouse"&&N(j)}),onPointerDown:cn(a.onPointerDown,j=>{u.current=j.pointerType;const v=j.target;v.hasPointerCapture(j.pointerId)&&v.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&j.pointerType==="mouse"&&(N(j),j.preventDefault())}),onKeyDown:cn(a.onKeyDown,j=>{const v=h.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&m(j.key),!(v&&j.key===" ")&&KSe.includes(j.key)&&(N(),j.preventDefault())})})})});KZ.displayName=WZ;var XZ="SelectValue",ZZ=R.forwardRef((n,e)=>{const{__scopeSelect:s,className:r,style:a,children:i,placeholder:o="",...l}=n,c=am(XZ,s),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,h=rs(e,c.onValueNodeChange);return ga(()=>{d(u)},[d,u]),t.jsx(Nn.span,{...l,ref:h,style:{pointerEvents:"none"},children:gY(c.value)?t.jsx(t.Fragment,{children:o}):i})});ZZ.displayName=XZ;var e_e="SelectIcon",YZ=R.forwardRef((n,e)=>{const{__scopeSelect:s,children:r,...a}=n;return t.jsx(Nn.span,{"aria-hidden":!0,...a,ref:e,children:r||"▼"})});YZ.displayName=e_e;var t_e="SelectPortal",QZ=n=>t.jsx(zA,{asChild:!0,...n});QZ.displayName=t_e;var bx="SelectContent",JZ=R.forwardRef((n,e)=>{const s=am(bx,n.__scopeSelect),[r,a]=R.useState();if(ga(()=>{a(new DocumentFragment)},[]),!s.open){const i=r;return i?Y0.createPortal(t.jsx(eY,{scope:n.__scopeSelect,children:t.jsx(HC.Slot,{scope:n.__scopeSelect,children:t.jsx("div",{children:n.children})})}),i):null}return t.jsx(tY,{...n,ref:e})});JZ.displayName=bx;var Kc=10,[eY,im]=uy(bx),n_e="SelectContentImpl",s_e=Kv("SelectContent.RemoveScroll"),tY=R.forwardRef((n,e)=>{const{__scopeSelect:s,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:y,sticky:N,hideWhenDetached:j,avoidCollisions:v,...b}=n,A=am(bx,s),[S,w]=R.useState(null),[E,T]=R.useState(null),P=rs(e,Ce=>w(Ce)),[k,I]=R.useState(null),[L,U]=R.useState(null),H=GC(s),[B,K]=R.useState(!1),J=R.useRef(!1);R.useEffect(()=>{if(S)return FZ(S)},[S]),IZ();const W=R.useCallback(Ce=>{const[Ue,...De]=H().map($e=>$e.ref.current),[qe]=De.slice(-1),rt=document.activeElement;for(const $e of Ce)if($e===rt||($e?.scrollIntoView({block:"nearest"}),$e===Ue&&E&&(E.scrollTop=0),$e===qe&&E&&(E.scrollTop=E.scrollHeight),$e?.focus(),document.activeElement!==rt))return},[H,E]),ee=R.useCallback(()=>W([k,S]),[W,k,S]);R.useEffect(()=>{B&&ee()},[B,ee]);const{onOpenChange:G,triggerPointerDownPosRef:ae}=A;R.useEffect(()=>{if(S){let Ce={x:0,y:0};const Ue=qe=>{Ce={x:Math.abs(Math.round(qe.pageX)-(ae.current?.x??0)),y:Math.abs(Math.round(qe.pageY)-(ae.current?.y??0))}},De=qe=>{Ce.x<=10&&Ce.y<=10?qe.preventDefault():S.contains(qe.target)||G(!1),document.removeEventListener("pointermove",Ue),ae.current=null};return ae.current!==null&&(document.addEventListener("pointermove",Ue),document.addEventListener("pointerup",De,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ue),document.removeEventListener("pointerup",De,{capture:!0})}}},[S,G,ae]),R.useEffect(()=>{const Ce=()=>G(!1);return window.addEventListener("blur",Ce),window.addEventListener("resize",Ce),()=>{window.removeEventListener("blur",Ce),window.removeEventListener("resize",Ce)}},[G]);const[fe,se]=vY(Ce=>{const Ue=H().filter(rt=>!rt.disabled),De=Ue.find(rt=>rt.ref.current===document.activeElement),qe=yY(Ue,Ce,De);qe&&setTimeout(()=>qe.ref.current.focus())}),me=R.useCallback((Ce,Ue,De)=>{const qe=!J.current&&!De;(A.value!==void 0&&A.value===Ue||qe)&&(I(Ce),qe&&(J.current=!0))},[A.value]),Oe=R.useCallback(()=>S?.focus(),[S]),Ye=R.useCallback((Ce,Ue,De)=>{const qe=!J.current&&!De;(A.value!==void 0&&A.value===Ue||qe)&&U(Ce)},[A.value]),dt=r==="popper"?N5:nY,be=dt===N5?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:y,sticky:N,hideWhenDetached:j,avoidCollisions:v}:{};return t.jsx(eY,{scope:s,content:S,viewport:E,onViewportChange:T,itemRefCallback:me,selectedItem:k,onItemLeave:Oe,itemTextRefCallback:Ye,focusSelectedItem:ee,selectedItemText:L,position:r,isPositioned:B,searchRef:fe,children:t.jsx(VI,{as:s_e,allowPinchZoom:!0,children:t.jsx(BI,{asChild:!0,trapped:A.open,onMountAutoFocus:Ce=>{Ce.preventDefault()},onUnmountAutoFocus:cn(a,Ce=>{A.trigger?.focus({preventScroll:!0}),Ce.preventDefault()}),children:t.jsx(W1,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:Ce=>Ce.preventDefault(),onDismiss:()=>A.onOpenChange(!1),children:t.jsx(dt,{role:"listbox",id:A.contentId,"data-state":A.open?"open":"closed",dir:A.dir,onContextMenu:Ce=>Ce.preventDefault(),...b,...be,onPlaced:()=>K(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:cn(b.onKeyDown,Ce=>{const Ue=Ce.ctrlKey||Ce.altKey||Ce.metaKey;if(Ce.key==="Tab"&&Ce.preventDefault(),!Ue&&Ce.key.length===1&&se(Ce.key),["ArrowUp","ArrowDown","Home","End"].includes(Ce.key)){let qe=H().filter(rt=>!rt.disabled).map(rt=>rt.ref.current);if(["ArrowUp","End"].includes(Ce.key)&&(qe=qe.slice().reverse()),["ArrowUp","ArrowDown"].includes(Ce.key)){const rt=Ce.target,$e=qe.indexOf(rt);qe=qe.slice($e+1)}setTimeout(()=>W(qe)),Ce.preventDefault()}})})})})})})});tY.displayName=n_e;var r_e="SelectItemAlignedPosition",nY=R.forwardRef((n,e)=>{const{__scopeSelect:s,onPlaced:r,...a}=n,i=am(bx,s),o=im(bx,s),[l,c]=R.useState(null),[d,u]=R.useState(null),h=rs(e,P=>u(P)),m=GC(s),y=R.useRef(!1),N=R.useRef(!0),{viewport:j,selectedItem:v,selectedItemText:b,focusSelectedItem:A}=o,S=R.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&j&&v&&b){const P=i.trigger.getBoundingClientRect(),k=d.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),L=b.getBoundingClientRect();if(i.dir!=="rtl"){const rt=L.left-k.left,$e=I.left-rt,pe=P.left-$e,Ke=P.width+pe,et=Math.max(Ke,k.width),st=window.innerWidth-Kc,Qe=S1($e,[Kc,Math.max(Kc,st-et)]);l.style.minWidth=Ke+"px",l.style.left=Qe+"px"}else{const rt=k.right-L.right,$e=window.innerWidth-I.right-rt,pe=window.innerWidth-P.right-$e,Ke=P.width+pe,et=Math.max(Ke,k.width),st=window.innerWidth-Kc,Qe=S1($e,[Kc,Math.max(Kc,st-et)]);l.style.minWidth=Ke+"px",l.style.right=Qe+"px"}const U=m(),H=window.innerHeight-Kc*2,B=j.scrollHeight,K=window.getComputedStyle(d),J=parseInt(K.borderTopWidth,10),W=parseInt(K.paddingTop,10),ee=parseInt(K.borderBottomWidth,10),G=parseInt(K.paddingBottom,10),ae=J+W+B+G+ee,fe=Math.min(v.offsetHeight*5,ae),se=window.getComputedStyle(j),me=parseInt(se.paddingTop,10),Oe=parseInt(se.paddingBottom,10),Ye=P.top+P.height/2-Kc,dt=H-Ye,be=v.offsetHeight/2,Ce=v.offsetTop+be,Ue=J+W+Ce,De=ae-Ue;if(Ue<=Ye){const rt=U.length>0&&v===U[U.length-1].ref.current;l.style.bottom="0px";const $e=d.clientHeight-j.offsetTop-j.offsetHeight,pe=Math.max(dt,be+(rt?Oe:0)+$e+ee),Ke=Ue+pe;l.style.height=Ke+"px"}else{const rt=U.length>0&&v===U[0].ref.current;l.style.top="0px";const pe=Math.max(Ye,J+j.offsetTop+(rt?me:0)+be)+De;l.style.height=pe+"px",j.scrollTop=Ue-Ye+j.offsetTop}l.style.margin=`${Kc}px 0`,l.style.minHeight=fe+"px",l.style.maxHeight=H+"px",r?.(),requestAnimationFrame(()=>y.current=!0)}},[m,i.trigger,i.valueNode,l,d,j,v,b,i.dir,r]);ga(()=>S(),[S]);const[w,E]=R.useState();ga(()=>{d&&E(window.getComputedStyle(d).zIndex)},[d]);const T=R.useCallback(P=>{P&&N.current===!0&&(S(),A?.(),N.current=!1)},[S,A]);return t.jsx(i_e,{scope:s,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:T,children:t.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:t.jsx(Nn.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});nY.displayName=r_e;var a_e="SelectPopperPosition",N5=R.forwardRef((n,e)=>{const{__scopeSelect:s,align:r="start",collisionPadding:a=Kc,...i}=n,o=$C(s);return t.jsx(Mq,{...o,...i,ref:e,align:r,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});N5.displayName=a_e;var[i_e,HI]=uy(bx,{}),S5="SelectViewport",sY=R.forwardRef((n,e)=>{const{__scopeSelect:s,nonce:r,...a}=n,i=im(S5,s),o=HI(S5,s),l=rs(e,i.onViewportChange),c=R.useRef(0);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),t.jsx(HC.Slot,{scope:s,children:t.jsx(Nn.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:cn(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m?.current&&h){const y=Math.abs(c.current-u.scrollTop);if(y>0){const N=window.innerHeight-Kc*2,j=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),b=Math.max(j,v);if(b<N){const A=b+y,S=Math.min(N,A),w=A-S;h.style.height=S+"px",h.style.bottom==="0px"&&(u.scrollTop=w>0?w:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});sY.displayName=S5;var rY="SelectGroup",[o_e,l_e]=uy(rY),c_e=R.forwardRef((n,e)=>{const{__scopeSelect:s,...r}=n,a=Uf();return t.jsx(o_e,{scope:s,id:a,children:t.jsx(Nn.div,{role:"group","aria-labelledby":a,...r,ref:e})})});c_e.displayName=rY;var aY="SelectLabel",iY=R.forwardRef((n,e)=>{const{__scopeSelect:s,...r}=n,a=l_e(aY,s);return t.jsx(Nn.div,{id:a.id,...r,ref:e})});iY.displayName=aY;var _2="SelectItem",[d_e,oY]=uy(_2),lY=R.forwardRef((n,e)=>{const{__scopeSelect:s,value:r,disabled:a=!1,textValue:i,...o}=n,l=am(_2,s),c=im(_2,s),d=l.value===r,[u,h]=R.useState(i??""),[m,y]=R.useState(!1),N=rs(e,A=>c.itemRefCallback?.(A,r,a)),j=Uf(),v=R.useRef("touch"),b=()=>{a||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return t.jsx(d_e,{scope:s,value:r,disabled:a,textId:j,isSelected:d,onItemTextChange:R.useCallback(A=>{h(S=>S||(A?.textContent??"").trim())},[]),children:t.jsx(HC.ItemSlot,{scope:s,value:r,disabled:a,textValue:u,children:t.jsx(Nn.div,{role:"option","aria-labelledby":j,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:N,onFocus:cn(o.onFocus,()=>y(!0)),onBlur:cn(o.onBlur,()=>y(!1)),onClick:cn(o.onClick,()=>{v.current!=="mouse"&&b()}),onPointerUp:cn(o.onPointerUp,()=>{v.current==="mouse"&&b()}),onPointerDown:cn(o.onPointerDown,A=>{v.current=A.pointerType}),onPointerMove:cn(o.onPointerMove,A=>{v.current=A.pointerType,a?c.onItemLeave?.():v.current==="mouse"&&A.currentTarget.focus({preventScroll:!0})}),onPointerLeave:cn(o.onPointerLeave,A=>{A.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:cn(o.onKeyDown,A=>{c.searchRef?.current!==""&&A.key===" "||(XSe.includes(A.key)&&b(),A.key===" "&&A.preventDefault())})})})})});lY.displayName=_2;var aj="SelectItemText",cY=R.forwardRef((n,e)=>{const{__scopeSelect:s,className:r,style:a,...i}=n,o=am(aj,s),l=im(aj,s),c=oY(aj,s),d=JSe(aj,s),[u,h]=R.useState(null),m=rs(e,b=>h(b),c.onItemTextChange,b=>l.itemTextRefCallback?.(b,c.value,c.disabled)),y=u?.textContent,N=R.useMemo(()=>t.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:j,onNativeOptionRemove:v}=d;return ga(()=>(j(N),()=>v(N)),[j,v,N]),t.jsxs(t.Fragment,{children:[t.jsx(Nn.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Y0.createPortal(i.children,o.valueNode):null]})});cY.displayName=aj;var dY="SelectItemIndicator",uY=R.forwardRef((n,e)=>{const{__scopeSelect:s,...r}=n;return oY(dY,s).isSelected?t.jsx(Nn.span,{"aria-hidden":!0,...r,ref:e}):null});uY.displayName=dY;var _5="SelectScrollUpButton",hY=R.forwardRef((n,e)=>{const s=im(_5,n.__scopeSelect),r=HI(_5,n.__scopeSelect),[a,i]=R.useState(!1),o=rs(e,r.onScrollButtonChange);return ga(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),a?t.jsx(mY,{...n,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});hY.displayName=_5;var A5="SelectScrollDownButton",fY=R.forwardRef((n,e)=>{const s=im(A5,n.__scopeSelect),r=HI(A5,n.__scopeSelect),[a,i]=R.useState(!1),o=rs(e,r.onScrollButtonChange);return ga(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),a?t.jsx(mY,{...n,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});fY.displayName=A5;var mY=R.forwardRef((n,e)=>{const{__scopeSelect:s,onAutoScroll:r,...a}=n,i=im("SelectScrollButton",s),o=R.useRef(null),l=GC(s),c=R.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return R.useEffect(()=>()=>c(),[c]),ga(()=>{l().find(u=>u.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),t.jsx(Nn.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:cn(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:cn(a.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:cn(a.onPointerLeave,()=>{c()})})}),u_e="SelectSeparator",pY=R.forwardRef((n,e)=>{const{__scopeSelect:s,...r}=n;return t.jsx(Nn.div,{"aria-hidden":!0,...r,ref:e})});pY.displayName=u_e;var C5="SelectArrow",h_e=R.forwardRef((n,e)=>{const{__scopeSelect:s,...r}=n,a=$C(s),i=am(C5,s),o=im(C5,s);return i.open&&o.position==="popper"?t.jsx(Pq,{...a,...r,ref:e}):null});h_e.displayName=C5;var f_e="SelectBubbleInput",xY=R.forwardRef(({__scopeSelect:n,value:e,...s},r)=>{const a=R.useRef(null),i=rs(r,a),o=BC(e);return R.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&u){const h=new Event("change",{bubbles:!0});u.call(l,e),l.dispatchEvent(h)}},[o,e]),t.jsx(Nn.select,{...s,style:{...o$,...s.style},ref:i,defaultValue:e})});xY.displayName=f_e;function gY(n){return n===""||n===void 0}function vY(n){const e=Ca(n),s=R.useRef(""),r=R.useRef(0),a=R.useCallback(o=>{const l=s.current+o;e(l),(function c(d){s.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))})(l)},[e]),i=R.useCallback(()=>{s.current="",window.clearTimeout(r.current)},[]);return R.useEffect(()=>()=>window.clearTimeout(r.current),[]),[s,a,i]}function yY(n,e,s){const a=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=s?n.indexOf(s):-1;let o=m_e(n,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==s));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==s?c:void 0}function m_e(n,e){return n.map((s,r)=>n[(e+r)%n.length])}var p_e=qZ,bY=KZ,x_e=ZZ,g_e=YZ,v_e=QZ,jY=JZ,y_e=sY,wY=iY,NY=lY,b_e=cY,j_e=uY,SY=hY,_Y=fY,AY=pY;const sn=p_e,rn=x_e,en=R.forwardRef(({className:n,children:e,...s},r)=>t.jsxs(bY,{ref:r,className:Bt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...s,children:[e,t.jsx(g_e,{asChild:!0,children:t.jsx(GA,{className:"h-4 w-4 opacity-50"})})]}));en.displayName=bY.displayName;const CY=R.forwardRef(({className:n,...e},s)=>t.jsx(SY,{ref:s,className:Bt("flex cursor-default items-center justify-center py-1",n),...e,children:t.jsx(O$,{className:"h-4 w-4"})}));CY.displayName=SY.displayName;const TY=R.forwardRef(({className:n,...e},s)=>t.jsx(_Y,{ref:s,className:Bt("flex cursor-default items-center justify-center py-1",n),...e,children:t.jsx(GA,{className:"h-4 w-4"})}));TY.displayName=_Y.displayName;const tn=R.forwardRef(({className:n,children:e,position:s="popper",...r},a)=>t.jsx(v_e,{children:t.jsxs(jY,{ref:a,className:Bt("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:s,...r,children:[t.jsx(CY,{}),t.jsx(y_e,{className:Bt("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),t.jsx(TY,{})]})}));tn.displayName=jY.displayName;const w_e=R.forwardRef(({className:n,...e},s)=>t.jsx(wY,{ref:s,className:Bt("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...e}));w_e.displayName=wY.displayName;const re=R.forwardRef(({className:n,children:e,...s},r)=>t.jsxs(NY,{ref:r,className:Bt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...s,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(j_e,{children:t.jsx(HA,{className:"h-4 w-4"})})}),t.jsx(b_e,{children:e})]}));re.displayName=NY.displayName;const N_e=R.forwardRef(({className:n,...e},s)=>t.jsx(AY,{ref:s,className:Bt("-mx-1 my-1 h-px bg-muted",n),...e}));N_e.displayName=AY.displayName;function S_e(){const[n,e]=R.useState(""),[s,r]=R.useState(""),[a,i]=R.useState(null),{toast:o}=Dn(),l=kt({mutationFn:async h=>await(await fetch("/api/content/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contentType:h.contentType,url:h.url,contentId:`content-${Date.now()}`})})).json(),onSuccess:h=>{i(h),o({title:"Analysis Complete",description:`Content analyzed with ${(h.confidence*100).toFixed(1)}% confidence`})},onError:h=>{o({title:"Analysis Failed",description:"Failed to analyze content. Please try again.",variant:"destructive"})}}),c=()=>{if(!n||!s){o({title:"Missing Information",description:"Please provide both content URL and type",variant:"destructive"});return}l.mutate({contentType:s,url:n})},d=h=>h>.8?"destructive":h>.5?"secondary":"default",u=h=>{switch(h.toLowerCase()){case"approve":return t.jsx(xn,{className:"h-4 w-4 text-green-500"});case"block":return t.jsx(Vs,{className:"h-4 w-4 text-red-500"});default:return t.jsx(ln,{className:"h-4 w-4 text-yellow-500"})}};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs($,{"data-testid":"analysis-form-card",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-cyan-400",children:"AI Content Analysis"}),t.jsx(Ct,{children:"Test real ChatGPT-5 analysis on your content"})]}),t.jsxs(q,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"contentUrl",children:"Content URL"}),t.jsx(Fe,{id:"contentUrl","data-testid":"input-content-url",placeholder:"https://example.com/image.jpg or text content",value:n,onChange:h=>e(h.target.value)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"contentType",children:"Content Type"}),t.jsxs(sn,{value:s,onValueChange:r,children:[t.jsx(en,{"data-testid":"select-content-type",children:t.jsx(rn,{placeholder:"Select content type"})}),t.jsxs(tn,{children:[t.jsx(re,{value:"image",children:"Image"}),t.jsx(re,{value:"text",children:"Text"}),t.jsx(re,{value:"video",children:"Video"})]})]})]}),t.jsx(te,{onClick:c,disabled:l.isPending,className:"w-full bg-cyan-600 hover:bg-cyan-700","data-testid":"button-analyze",children:l.isPending?t.jsxs(t.Fragment,{children:[t.jsx(jk,{className:"mr-2 h-4 w-4 animate-spin"}),"Analyzing with AI..."]}):"Analyze Content"})]})]}),a&&t.jsxs($,{"data-testid":"analysis-results-card",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center gap-2 text-cyan-400",children:[u(a.decision),"Analysis Results"]})}),t.jsxs(q,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{children:"Risk Score"}),t.jsxs(de,{variant:d(a.riskScore),"data-testid":"badge-risk-score",children:[(a.riskScore*100).toFixed(1),"%"]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{children:"Confidence"}),t.jsxs(de,{variant:"outline","data-testid":"badge-confidence",children:[(a.confidence*100).toFixed(1),"%"]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{children:"Decision"}),t.jsx(de,{variant:a.decision==="approve"?"default":"destructive","data-testid":"badge-decision",children:a.decision.toUpperCase()})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{children:"Processing Time"}),t.jsxs(de,{variant:"outline","data-testid":"badge-processing-time",children:[a.processingTime,"ms"]})]})]}),a.reasoning&&t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{children:"AI Reasoning"}),t.jsx("p",{className:"text-sm text-gray-300 bg-gray-800 p-3 rounded border border-gray-700","data-testid":"text-reasoning",children:a.reasoning})]}),a.flaggedCategories.length>0&&t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{children:"Flagged Categories"}),t.jsx("div",{className:"flex flex-wrap gap-2","data-testid":"flagged-categories",children:a.flaggedCategories.map((h,m)=>t.jsx(de,{variant:"destructive",children:h},m))})]})]})]})]})}function __e(){const[n,e]=R.useState(!1),{toast:s}=Dn(),{data:r,isLoading:a}=wn({queryKey:["/api/ai/analysis/recent"],refetchInterval:5e3}),{data:i}=wn({queryKey:["/api/ai/models/stats"],refetchInterval:1e4}),o=async()=>{e(!0);try{await Kt("/api/ai/analyze","POST",{contentType:"batch",analysisTypes:["chatgpt-4o"],priority:"high",contentBatch:[{type:"image",url:"https://example.com/test-image.jpg",context:"Test analysis"},{type:"text",content:"Sample text for analysis",context:"Test content"}]}),s({title:"Analysis Started",description:"AI analysis engine is processing content batch"})}catch{s({title:"Analysis Failed",description:"Unable to start analysis batch",variant:"destructive"})}setTimeout(()=>e(!1),3e3)};return a?t.jsx("div",{className:"min-h-screen cyber-bg flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Gr,{className:"w-16 h-16 mx-auto mb-4 cyber-pulse text-primary"}),t.jsx("p",{className:"cyber-text-glow",children:"Loading AI Analysis Engine..."})]})}):t.jsxs("div",{className:"min-h-screen cyber-bg",children:[t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"AI Analysis Engine"}),t.jsx("p",{className:"text-muted-foreground",children:"Advanced ChatGPT-4o Content Moderation"})]}),t.jsx(te,{onClick:o,disabled:n,className:"neon-button","data-testid":"run-analysis-button",children:n?t.jsxs(t.Fragment,{children:[t.jsx(va,{className:"w-4 h-4 mr-2 animate-spin"}),"Analyzing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Ri,{className:"w-4 h-4 mr-2"}),"Run Analysis"]})})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:i&&Object.entries(i).map(([l,c])=>t.jsx($,{className:"cyber-card",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsxs("div",{className:"text-2xl font-bold cyber-text-glow",children:[c?.accuracy||0,"%"]}),t.jsx("div",{className:"text-sm text-muted-foreground uppercase",children:l}),t.jsx("div",{className:"text-xs text-primary",children:c?.speed||"0ms"}),t.jsx(de,{variant:c?.status==="optimal"?"default":"secondary",className:"mt-2",children:c?.status||"unknown"})]})},l))}),t.jsxs($,{className:"cyber-card neural-network",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(Gr,{className:"w-6 h-6 text-primary cyber-pulse"}),t.jsx("span",{className:"cyber-text-glow",children:"REAL-TIME ANALYSIS FEED"})]})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:r?.map((l,c)=>t.jsxs("div",{className:"flex items-center justify-between p-4 cyber-card border border-primary/20",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:`w-3 h-3 rounded-full ${l.result.riskScore>.7?"bg-red-500":l.result.riskScore>.4?"bg-yellow-500":"bg-green-500"} cyber-pulse`}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:l.contentType}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.platformName," • ",l.analysisType]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"font-bold text-lg",children:[(l.result.riskScore*100).toFixed(1),"%"]}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:[l.processingTime,"ms"]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[l.result.riskScore>.7?t.jsx(ln,{className:"w-5 h-5 text-red-500"}):t.jsx(xn,{className:"w-5 h-5 text-green-500"}),t.jsx(de,{variant:l.result.riskScore>.7?"destructive":"default",children:l.result.recommendations[0]})]})]},l.id))})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsx(le,{className:"text-lg",children:"Content Intake"})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Images Processed"}),t.jsx("span",{className:"font-bold text-primary",children:"12,847"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Videos Analyzed"}),t.jsx("span",{className:"font-bold text-primary",children:"3,456"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Text Messages"}),t.jsx("span",{className:"font-bold text-primary",children:"45,672"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Live Streams"}),t.jsx("span",{className:"font-bold text-primary",children:"234"})]})]})})]}),t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsx(le,{className:"text-lg",children:"Risk Distribution"})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-green-400",children:"Low Risk (0-40%)"}),t.jsx("span",{className:"font-bold",children:"89.2%"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-yellow-400",children:"Medium Risk (40-70%)"}),t.jsx("span",{className:"font-bold",children:"8.1%"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-red-400",children:"High Risk (70%+)"}),t.jsx("span",{className:"font-bold",children:"2.7%"})]})]})})]}),t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsx(le,{className:"text-lg",children:"Performance Metrics"})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Avg Processing Time"}),t.jsx("span",{className:"font-bold text-primary",children:"1.2s"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Accuracy Rate"}),t.jsx("span",{className:"font-bold text-green-400",children:"96.8%"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"False Positives"}),t.jsx("span",{className:"font-bold text-yellow-400",children:"2.1%"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Uptime"}),t.jsx("span",{className:"font-bold text-green-400",children:"99.9%"})]})]})})]})]})]}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-2xl font-bold mb-6 text-cyan-400",children:"Interactive Content Analysis"}),t.jsx(S_e,{})]})]})}function A_e(){const[n,e]=R.useState("all"),[s,r]=R.useState(""),{toast:a}=Dn(),i=ps(),{data:o,isLoading:l}=wn({queryKey:["/api/content/pending"],refetchInterval:3e3}),c=kt({mutationFn:async({contentId:y,action:N,reason:j})=>Kt(`/api/content/${y}/status`,"PUT",{status:N,moderatorId:"current-user",reason:j}),onSuccess:(y,N)=>{a({title:"Content Moderated",description:`Content ${N.action} successfully`}),i.invalidateQueries({queryKey:["/api/content/pending"]})}}),d=(y,N,j)=>{c.mutate({contentId:y,action:N,reason:j||`Content ${N} by moderator`})},u=y=>{switch(y){case"pending":return t.jsxs(de,{variant:"secondary",children:[t.jsx(As,{className:"w-3 h-3 mr-1"}),"Pending Review"]});case"approved":return t.jsxs(de,{variant:"default",children:[t.jsx(xn,{className:"w-3 h-3 mr-1"}),"Approved"]});case"rejected":return t.jsxs(de,{variant:"destructive",children:[t.jsx(Vs,{className:"w-3 h-3 mr-1"}),"Rejected"]});case"needs_editing":return t.jsxs(de,{variant:"outline",children:[t.jsx(Oi,{className:"w-3 h-3 mr-1"}),"Needs Editing"]});default:return t.jsx(de,{variant:"secondary",children:y})}},h=y=>y>.7?"text-red-500":y>.4?"text-yellow-500":"text-green-500";if(l)return t.jsx("div",{className:"min-h-screen cyber-bg flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Mn,{className:"w-16 h-16 mx-auto mb-4 cyber-pulse text-primary"}),t.jsx("p",{className:"cyber-text-glow",children:"Loading Content Review Queue..."})]})});const m=[{id:"content-001",type:"image",status:"pending",riskScore:.85,uploadedBy:"user_12847",platform:"FanzMain Adult",createdAt:new Date().toISOString(),aiAnalysis:{flaggedContent:["explicit_content","nudity"],confidence:.92},contentUrl:"https://via.placeholder.com/300x200?text=Content+Preview"},{id:"content-002",type:"video",status:"pending",riskScore:.45,uploadedBy:"user_98765",platform:"FanzLive Streaming",createdAt:new Date(Date.now()-3e5).toISOString(),aiAnalysis:{flaggedContent:["potential_violence"],confidence:.67},contentUrl:"https://via.placeholder.com/300x200?text=Video+Preview"},{id:"content-003",type:"text",status:"pending",riskScore:.15,uploadedBy:"user_55443",platform:"FanzSocial Community",createdAt:new Date(Date.now()-6e5).toISOString(),textContent:"This is a sample text message that needs moderation review...",aiAnalysis:{flaggedContent:[],confidence:.88}}];return t.jsx("div",{className:"min-h-screen cyber-bg",children:t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"Content Review"}),t.jsx("p",{className:"text-muted-foreground",children:"Manual Approval Workflows"})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Zv,{className:"w-4 h-4"}),t.jsxs(sn,{value:n,onValueChange:e,children:[t.jsx(en,{className:"w-32",children:t.jsx(rn,{})}),t.jsxs(tn,{children:[t.jsx(re,{value:"all",children:"All Content"}),t.jsx(re,{value:"high_risk",children:"High Risk"}),t.jsx(re,{value:"medium_risk",children:"Medium Risk"}),t.jsx(re,{value:"pending",children:"Pending Only"})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(jr,{className:"w-4 h-4"}),t.jsx(Fe,{placeholder:"Search content...",value:s,onChange:y=>r(y.target.value),className:"w-48"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx($,{className:"cyber-card",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-400 cyber-text-glow",children:"23"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Pending Review"})]})}),t.jsx($,{className:"cyber-card",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-red-400 cyber-text-glow",children:"7"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"High Risk"})]})}),t.jsx($,{className:"cyber-card",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-green-400 cyber-text-glow",children:"156"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Approved Today"})]})}),t.jsx($,{className:"cyber-card",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-primary cyber-text-glow",children:"2.3m"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Review Time"})]})})]}),t.jsxs($,{className:"cyber-card neural-network",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(Mn,{className:"w-6 h-6 text-primary cyber-pulse"}),t.jsx("span",{className:"cyber-text-glow",children:"CONTENT REVIEW QUEUE"})]})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-4",children:m.map(y=>t.jsx("div",{className:"p-6 cyber-card border border-primary/20",children:t.jsxs("div",{className:"flex items-start justify-between space-x-6",children:[t.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[t.jsxs("div",{className:"w-20 h-20 bg-muted rounded-lg flex items-center justify-center",children:[y.type==="image"&&t.jsx("img",{src:y.contentUrl,alt:"Content",className:"w-full h-full object-cover rounded-lg"}),y.type==="video"&&t.jsx("img",{src:y.contentUrl,alt:"Video",className:"w-full h-full object-cover rounded-lg"}),y.type==="text"&&t.jsx("div",{className:"text-xs p-2 text-center",children:"TEXT"})]}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx(de,{variant:"outline",children:y.type.toUpperCase()}),u(y.status),t.jsx(de,{variant:"secondary",children:y.platform})]}),t.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:["Uploaded by ",y.uploadedBy," •"," ",new Date(y.createdAt).toLocaleString()]}),y.textContent&&t.jsx("div",{className:"text-sm bg-muted p-2 rounded mb-2",children:y.textContent}),t.jsxs("div",{className:"flex items-center space-x-4 text-xs",children:[t.jsxs("span",{children:["Risk Score:"," ",t.jsxs("span",{className:`font-bold ${h(y.riskScore)}`,children:[(y.riskScore*100).toFixed(1),"%"]})]}),t.jsxs("span",{children:["AI Confidence:"," ",(y.aiAnalysis.confidence*100).toFixed(1),"%"]}),y.aiAnalysis.flaggedContent.length>0&&t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(ln,{className:"w-3 h-3 text-yellow-500"}),t.jsx("span",{children:y.aiAnalysis.flaggedContent.join(", ")})]})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(te,{size:"sm",onClick:()=>d(y.id,"approved"),className:"bg-green-600 hover:bg-green-700","data-testid":`approve-${y.id}`,children:[t.jsx(xn,{className:"w-4 h-4 mr-1"}),"Approve"]}),t.jsxs(te,{size:"sm",variant:"outline",onClick:()=>d(y.id,"needs_editing","Requires content editing"),"data-testid":`edit-${y.id}`,children:[t.jsx(Oi,{className:"w-4 h-4 mr-1"}),"Send Back"]}),t.jsxs(te,{size:"sm",variant:"destructive",onClick:()=>d(y.id,"rejected","Content violates platform guidelines"),"data-testid":`reject-${y.id}`,children:[t.jsx(Vs,{className:"w-4 h-4 mr-1"}),"Block"]})]})]})},y.id))})})]})]})})}function C_e(){const[n,e]=R.useState(!0),{data:s,isLoading:r}=wn({queryKey:["/api/live-streams"],refetchInterval:2e3}),a=[{id:"stream-001",title:"Private Show - VIP Only",streamer:"model_sarah_2024",platform:"FanzLive Streaming",viewers:1247,status:"live",riskScore:.23,duration:"02:34:12",tags:["adult","vip","private"],thumbnail:"https://via.placeholder.com/320x180?text=Live+Stream+1"},{id:"stream-002",title:"Gaming & Chat",streamer:"gamer_alex_pro",platform:"FanzSocial Community",viewers:856,status:"live",riskScore:.08,duration:"01:15:43",tags:["gaming","chat","community"],thumbnail:"https://via.placeholder.com/320x180?text=Live+Stream+2"},{id:"stream-003",title:"Music Performance",streamer:"artist_luna_moon",platform:"FanzMain Adult",viewers:2103,status:"live",riskScore:.67,duration:"00:45:20",tags:["music","performance","adult"],thumbnail:"https://via.placeholder.com/320x180?text=Live+Stream+3"},{id:"stream-004",title:"Fitness Training",streamer:"trainer_mike_fit",platform:"FanzLive Streaming",viewers:432,status:"live",riskScore:.15,duration:"00:28:05",tags:["fitness","training","health"],thumbnail:"https://via.placeholder.com/320x180?text=Live+Stream+4"}],i=l=>l>.7?"text-red-500":l>.4?"text-yellow-500":"text-green-500",o=l=>{switch(l){case"live":return t.jsxs(de,{className:"bg-red-600",children:[t.jsx(Yv,{className:"w-3 h-3 mr-1"}),"LIVE"]});case"offline":return t.jsx(de,{variant:"secondary",children:"OFFLINE"});case"scheduled":return t.jsx(de,{variant:"outline",children:"SCHEDULED"});default:return t.jsx(de,{variant:"secondary",children:l})}};return r?t.jsx("div",{className:"min-h-screen cyber-bg flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Ks,{className:"w-16 h-16 mx-auto mb-4 cyber-pulse text-primary"}),t.jsx("p",{className:"cyber-text-glow",children:"Loading Live Monitoring Systems..."})]})}):t.jsx("div",{className:"min-h-screen cyber-bg",children:t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"Live Monitoring"}),t.jsx("p",{className:"text-muted-foreground",children:"Real-time Stream Surveillance"})]}),t.jsx("div",{className:"flex items-center space-x-4",children:t.jsx(te,{onClick:()=>e(!n),variant:n?"default":"outline",className:n?"neon-button":"","data-testid":"toggle-monitoring",children:n?t.jsxs(t.Fragment,{children:[t.jsx(j_,{className:"w-4 h-4 mr-2"}),"Pause Monitoring"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ri,{className:"w-4 h-4 mr-2"}),"Resume Monitoring"]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[t.jsx($,{className:"cyber-card",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-red-400 cyber-text-glow",children:"4"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Streams"})]})}),t.jsx($,{className:"cyber-card",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-primary cyber-text-glow",children:"4,638"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Viewers"})]})}),t.jsx($,{className:"cyber-card",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-green-400 cyber-text-glow",children:"96.2%"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Uptime"})]})}),t.jsx($,{className:"cyber-card",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-400 cyber-text-glow",children:"1"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Flagged"})]})}),t.jsx($,{className:"cyber-card",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-accent cyber-text-glow",children:"180ms"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Latency"})]})})]}),t.jsxs($,{className:"cyber-card neural-network",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(Ks,{className:"w-6 h-6 text-primary cyber-pulse"}),t.jsx("span",{className:"cyber-text-glow",children:"ACTIVE LIVE STREAMS"}),n&&t.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"})]})}),t.jsx(q,{children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.map(l=>t.jsxs("div",{className:"cyber-card border border-primary/20 overflow-hidden",children:[t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:l.thumbnail,alt:l.title,className:"w-full h-48 object-cover"}),t.jsx("div",{className:"absolute top-2 left-2",children:o(l.status)}),t.jsx("div",{className:"absolute top-2 right-2 bg-black/70 px-2 py-1 rounded text-xs text-white",children:l.duration}),t.jsxs("div",{className:"absolute bottom-2 right-2 flex items-center space-x-1 bg-black/70 px-2 py-1 rounded text-xs text-white",children:[t.jsx(er,{className:"w-3 h-3"}),t.jsx("span",{children:l.viewers.toLocaleString()})]})]}),t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"font-semibold mb-2",children:l.title}),t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("span",{className:"text-sm text-muted-foreground",children:["@",l.streamer]}),t.jsx(de,{variant:"outline",children:l.platform})]}),t.jsx("div",{className:"flex items-center justify-between mb-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-xs",children:"Risk Score:"}),t.jsxs("span",{className:`text-xs font-bold ${i(l.riskScore)}`,children:[(l.riskScore*100).toFixed(1),"%"]}),l.riskScore>.6&&t.jsx(ln,{className:"w-3 h-3 text-yellow-500"})]})}),t.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:l.tags.map(c=>t.jsx(de,{variant:"secondary",className:"text-xs",children:c},c))}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(te,{size:"sm",variant:"outline",className:"flex-1","data-testid":`watch-${l.id}`,children:[t.jsx(Mn,{className:"w-3 h-3 mr-1"}),"Watch"]}),t.jsx(te,{size:"sm",variant:"outline","data-testid":`audio-${l.id}`,children:t.jsx(X$,{className:"w-3 h-3"})}),l.riskScore>.6&&t.jsx(te,{size:"sm",variant:"destructive","data-testid":`flag-${l.id}`,children:t.jsx(ln,{className:"w-3 h-3"})})]})]})]},l.id))})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsx(le,{className:"text-lg",children:"Frame Analysis"})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Frames per Second"}),t.jsx("span",{className:"font-bold text-primary",children:"30 FPS"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Analysis Frequency"}),t.jsx("span",{className:"font-bold text-primary",children:"Every 2s"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Processing Delay"}),t.jsx("span",{className:"font-bold text-green-400",children:"0.18s"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Queue Depth"}),t.jsx("span",{className:"font-bold text-yellow-400",children:"3 frames"})]})]})})]}),t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsx(le,{className:"text-lg",children:"Audio Analysis"})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Transcription Engine"}),t.jsx("span",{className:"font-bold text-primary",children:"Whisper AI"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Language Detection"}),t.jsx("span",{className:"font-bold text-green-400",children:"Active"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Sentiment Analysis"}),t.jsx("span",{className:"font-bold text-green-400",children:"Real-time"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Audio Quality"}),t.jsx("span",{className:"font-bold text-primary",children:"HD"})]})]})})]}),t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsx(le,{className:"text-lg",children:"Alert Settings"})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"High Risk Threshold"}),t.jsx("span",{className:"font-bold text-red-400",children:"70%"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Auto-Block"}),t.jsx("span",{className:"font-bold text-yellow-400",children:"Disabled"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Moderator Alerts"}),t.jsx("span",{className:"font-bold text-green-400",children:"Enabled"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Email Notifications"}),t.jsx("span",{className:"font-bold text-green-400",children:"Enabled"})]})]})})]})]})]})})}function T_e(){const{data:n,isLoading:e}=wn({queryKey:["/api/analytics"],refetchInterval:3e4}),s={overview:{totalContent:156847,dailyGrowth:12.3,weeklyBlocked:234,accuracyRate:96.8,avgProcessingTime:1.2},platforms:[{name:"FanzMain Adult",content:89456,blocked:156,accuracy:97.2},{name:"FanzLive Streaming",content:34521,blocked:45,accuracy:96.1},{name:"FanzSocial Community",content:32870,blocked:33,accuracy:97.1}],contentTypes:[{type:"Images",count:89234,percentage:56.9,blocked:145},{type:"Videos",count:34567,percentage:22,blocked:67},{type:"Text",count:28945,percentage:18.5,blocked:19},{type:"Live Streams",count:4101,percentage:2.6,blocked:3}],timeData:[{hour:"00:00",content:234,blocked:12},{hour:"04:00",content:156,blocked:8},{hour:"08:00",content:567,blocked:23},{hour:"12:00",content:892,blocked:34},{hour:"16:00",content:1234,blocked:45},{hour:"20:00",content:1567,blocked:67}],moderators:[{name:"Admin Sarah",reviewed:1247,approved:1156,blocked:91,accuracy:98.2},{name:"Mod Alex",reviewed:967,approved:895,blocked:72,accuracy:97.8},{name:"Mod Jordan",reviewed:834,approved:789,blocked:45,accuracy:96.9}]};return e?t.jsx("div",{className:"min-h-screen cyber-bg flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(la,{className:"w-16 h-16 mx-auto mb-4 cyber-pulse text-primary"}),t.jsx("p",{className:"cyber-text-glow",children:"Loading Analytics Dashboard..."})]})}):t.jsx("div",{className:"min-h-screen cyber-bg",children:t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"Analytics Dashboard"}),t.jsx("p",{className:"text-muted-foreground",children:"Performance Metrics & Insights"})]}),t.jsxs(de,{className:"bg-green-600",children:[t.jsx(or,{className:"w-3 h-3 mr-1"}),"System Optimal"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[t.jsx($,{className:"cyber-card",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-primary cyber-text-glow",children:s.overview.totalContent.toLocaleString()}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Content"}),t.jsxs("div",{className:"flex items-center justify-center mt-1",children:[t.jsx(or,{className:"w-3 h-3 text-green-400 mr-1"}),t.jsxs("span",{className:"text-xs text-green-400",children:["+",s.overview.dailyGrowth,"%"]})]})]})}),t.jsx($,{className:"cyber-card",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-red-400 cyber-text-glow",children:s.overview.weeklyBlocked}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Blocked This Week"}),t.jsxs("div",{className:"flex items-center justify-center mt-1",children:[t.jsx(En,{className:"w-3 h-3 text-blue-400 mr-1"}),t.jsx("span",{className:"text-xs text-blue-400",children:"0.15%"})]})]})}),t.jsx($,{className:"cyber-card",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsxs("div",{className:"text-2xl font-bold text-green-400 cyber-text-glow",children:[s.overview.accuracyRate,"%"]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"AI Accuracy"}),t.jsxs("div",{className:"flex items-center justify-center mt-1",children:[t.jsx(or,{className:"w-3 h-3 text-green-400 mr-1"}),t.jsx("span",{className:"text-xs text-green-400",children:"+0.3%"})]})]})}),t.jsx($,{className:"cyber-card",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsxs("div",{className:"text-2xl font-bold text-accent cyber-text-glow",children:[s.overview.avgProcessingTime,"s"]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Processing"}),t.jsxs("div",{className:"flex items-center justify-center mt-1",children:[t.jsx(As,{className:"w-3 h-3 text-blue-400 mr-1"}),t.jsx("span",{className:"text-xs text-blue-400",children:"Optimal"})]})]})}),t.jsx($,{className:"cyber-card",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-400 cyber-text-glow",children:"99.9%"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"System Uptime"}),t.jsxs("div",{className:"flex items-center justify-center mt-1",children:[t.jsx(En,{className:"w-3 h-3 text-green-400 mr-1"}),t.jsx("span",{className:"text-xs text-green-400",children:"Excellent"})]})]})})]}),t.jsxs($,{className:"cyber-card neural-network",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(la,{className:"w-6 h-6 text-primary cyber-pulse"}),t.jsx("span",{className:"cyber-text-glow",children:"PLATFORM PERFORMANCE"})]})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-4",children:s.platforms.map((r,a)=>t.jsxs("div",{className:"flex items-center justify-between p-4 cyber-card border border-primary/20",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:`w-4 h-4 rounded-full ${a===0?"bg-primary":a===1?"bg-secondary":"bg-accent"} cyber-pulse`}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:r.name}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.content.toLocaleString()," items processed"]})]})]}),t.jsx("div",{className:"text-right space-y-1",children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Blocked: "}),t.jsx("span",{className:"font-bold text-red-400",children:r.blocked})]}),t.jsxs("div",{className:"text-sm",children:[t.jsxs("span",{className:"text-muted-foreground",children:["Accuracy:"," "]}),t.jsxs("span",{className:"font-bold text-green-400",children:[r.accuracy,"%"]})]})]})})]},r.name))})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsx(le,{className:"text-lg",children:"Content Type Distribution"})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-4",children:s.contentTypes.map(r=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-3 h-3 bg-primary rounded-full"}),t.jsx("span",{className:"font-medium",children:r.type})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"font-bold",children:r.count.toLocaleString()}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.percentage,"%"]})]})]},r.type))})})]}),t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsx(le,{className:"text-lg",children:"Moderator Performance"})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-4",children:s.moderators.map((r,a)=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${a===0?"bg-primary text-white":a===1?"bg-secondary text-white":"bg-accent text-white"}`,children:r.name.split(" ")[1][0]}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:r.name}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:[r.reviewed," reviewed"]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"font-bold text-green-400",children:[r.accuracy,"%"]}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"accuracy"})]})]},r.name))})})]})]}),t.jsxs($,{className:"cyber-card neural-network",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(As,{className:"w-6 h-6 text-primary cyber-pulse"}),t.jsx("span",{className:"cyber-text-glow",children:"24-HOUR ACTIVITY PATTERN"})]})}),t.jsx(q,{children:t.jsx("div",{className:"grid grid-cols-6 gap-4",children:s.timeData.map(r=>t.jsxs("div",{className:"text-center p-4 cyber-card border border-primary/20",children:[t.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:r.hour}),t.jsx("div",{className:"text-lg font-bold text-primary",children:r.content}),t.jsxs("div",{className:"text-xs text-red-400",children:[r.blocked," blocked"]})]},r.hour))})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsxs(le,{className:"text-lg flex items-center space-x-2",children:[t.jsx(ln,{className:"w-5 h-5 text-yellow-500"}),t.jsx("span",{children:"Risk Categories"})]})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Explicit Content"}),t.jsx("span",{className:"font-bold text-red-400",children:"67%"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Harassment"}),t.jsx("span",{className:"font-bold text-yellow-400",children:"18%"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Spam"}),t.jsx("span",{className:"font-bold text-blue-400",children:"10%"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Copyright"}),t.jsx("span",{className:"font-bold text-purple-400",children:"5%"})]})]})})]}),t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsx(le,{className:"text-lg",children:"Detection Methods"})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"AI Detection"}),t.jsx("span",{className:"font-bold text-primary",children:"87.3%"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"User Reports"}),t.jsx("span",{className:"font-bold text-secondary",children:"8.9%"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Manual Review"}),t.jsx("span",{className:"font-bold text-accent",children:"3.8%"})]})]})})]}),t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsx(le,{className:"text-lg",children:"Response Times"})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Auto-Block"}),t.jsx("span",{className:"font-bold text-green-400",children:"0.3s"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"AI Analysis"}),t.jsx("span",{className:"font-bold text-primary",children:"1.2s"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Manual Review"}),t.jsx("span",{className:"font-bold text-yellow-400",children:"2.3m"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Appeal Process"}),t.jsx("span",{className:"font-bold text-blue-400",children:"4.7h"})]})]})})]})]})]})})}var qC="Switch",[E_e]=Co(qC),[M_e,P_e]=E_e(qC),EY=R.forwardRef((n,e)=>{const{__scopeSwitch:s,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=n,[m,y]=R.useState(null),N=rs(e,S=>y(S)),j=R.useRef(!1),v=m?u||!!m.closest("form"):!0,[b,A]=gh({prop:a,defaultProp:i??!1,onChange:d,caller:qC});return t.jsxs(M_e,{scope:s,checked:b,disabled:l,children:[t.jsx(Nn.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":OY(b),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:N,onClick:cn(n.onClick,S=>{A(w=>!w),v&&(j.current=S.isPropagationStopped(),j.current||S.stopPropagation())})}),v&&t.jsx(RY,{control:m,bubbles:!j.current,name:r,value:c,checked:b,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});EY.displayName=qC;var MY="SwitchThumb",PY=R.forwardRef((n,e)=>{const{__scopeSwitch:s,...r}=n,a=P_e(MY,s);return t.jsx(Nn.span,{"data-state":OY(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:e})});PY.displayName=MY;var R_e="SwitchBubbleInput",RY=R.forwardRef(({__scopeSwitch:n,control:e,checked:s,bubbles:r=!0,...a},i)=>{const o=R.useRef(null),l=rs(o,i),c=BC(s),d=JA(e);return R.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==s&&y){const N=new Event("click",{bubbles:r});y.call(u,s),u.dispatchEvent(N)}},[c,s,r]),t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});RY.displayName=R_e;function OY(n){return n?"checked":"unchecked"}var kY=EY,O_e=PY;const fn=R.forwardRef(({className:n,...e},s)=>t.jsx(kY,{className:Bt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",n),...e,ref:s,children:t.jsx(O_e,{className:Bt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));fn.displayName=kY.displayName;var IY=["PageUp","PageDown"],DY=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],LY={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},hy="Slider",[T5,k_e,I_e]=UA(hy),[FY]=Co(hy,[I_e]),[D_e,WC]=FY(hy),UY=R.forwardRef((n,e)=>{const{name:s,min:r=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[r],value:u,onValueChange:h=()=>{},onValueCommit:m=()=>{},inverted:y=!1,form:N,...j}=n,v=R.useRef(new Set),b=R.useRef(0),S=o==="horizontal"?L_e:F_e,[w=[],E]=gh({prop:u,defaultProp:d,onChange:U=>{[...v.current][b.current]?.focus(),h(U)}}),T=R.useRef(w);function P(U){const H=H_e(w,U);L(U,H)}function k(U){L(U,b.current)}function I(){const U=T.current[b.current];w[b.current]!==U&&m(w)}function L(U,H,{commit:B}={commit:!1}){const K=W_e(i),J=K_e(Math.round((U-r)/i)*i+r,K),W=S1(J,[r,a]);E((ee=[])=>{const G=B_e(ee,W,H);if(q_e(G,c*i)){b.current=G.indexOf(W);const ae=String(G)!==String(ee);return ae&&B&&m(G),ae?G:ee}else return ee})}return t.jsx(D_e,{scope:n.__scopeSlider,name:s,disabled:l,min:r,max:a,valueIndexToChangeRef:b,thumbs:v.current,values:w,orientation:o,form:N,children:t.jsx(T5.Provider,{scope:n.__scopeSlider,children:t.jsx(T5.Slot,{scope:n.__scopeSlider,children:t.jsx(S,{"aria-disabled":l,"data-disabled":l?"":void 0,...j,ref:e,onPointerDown:cn(j.onPointerDown,()=>{l||(T.current=w)}),min:r,max:a,inverted:y,onSlideStart:l?void 0:P,onSlideMove:l?void 0:k,onSlideEnd:l?void 0:I,onHomeKeyDown:()=>!l&&L(r,0,{commit:!0}),onEndKeyDown:()=>!l&&L(a,w.length-1,{commit:!0}),onStepKeyDown:({event:U,direction:H})=>{if(!l){const J=IY.includes(U.key)||U.shiftKey&&DY.includes(U.key)?10:1,W=b.current,ee=w[W],G=i*J*H;L(ee+G,W,{commit:!0})}}})})})})});UY.displayName=hy;var[zY,BY]=FY(hy,{startEdge:"left",endEdge:"right",size:"width",direction:1}),L_e=R.forwardRef((n,e)=>{const{min:s,max:r,dir:a,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...u}=n,[h,m]=R.useState(null),y=rs(e,S=>m(S)),N=R.useRef(void 0),j=tw(a),v=j==="ltr",b=v&&!i||!v&&i;function A(S){const w=N.current||h.getBoundingClientRect(),E=[0,w.width],P=GI(E,b?[s,r]:[r,s]);return N.current=w,P(S-w.left)}return t.jsx(zY,{scope:n.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:t.jsx(VY,{dir:j,"data-orientation":"horizontal",...u,ref:y,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:S=>{const w=A(S.clientX);o?.(w)},onSlideMove:S=>{const w=A(S.clientX);l?.(w)},onSlideEnd:()=>{N.current=void 0,c?.()},onStepKeyDown:S=>{const E=LY[b?"from-left":"from-right"].includes(S.key);d?.({event:S,direction:E?-1:1})}})})}),F_e=R.forwardRef((n,e)=>{const{min:s,max:r,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=n,u=R.useRef(null),h=rs(e,u),m=R.useRef(void 0),y=!a;function N(j){const v=m.current||u.current.getBoundingClientRect(),b=[0,v.height],S=GI(b,y?[r,s]:[s,r]);return m.current=v,S(j-v.top)}return t.jsx(zY,{scope:n.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:t.jsx(VY,{"data-orientation":"vertical",...d,ref:h,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:j=>{const v=N(j.clientY);i?.(v)},onSlideMove:j=>{const v=N(j.clientY);o?.(v)},onSlideEnd:()=>{m.current=void 0,l?.()},onStepKeyDown:j=>{const b=LY[y?"from-bottom":"from-top"].includes(j.key);c?.({event:j,direction:b?-1:1})}})})}),VY=R.forwardRef((n,e)=>{const{__scopeSlider:s,onSlideStart:r,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=n,u=WC(hy,s);return t.jsx(Nn.span,{...d,ref:e,onKeyDown:cn(n.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):IY.concat(DY).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:cn(n.onPointerDown,h=>{const m=h.target;m.setPointerCapture(h.pointerId),h.preventDefault(),u.thumbs.has(m)?m.focus():r(h)}),onPointerMove:cn(n.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&a(h)}),onPointerUp:cn(n.onPointerUp,h=>{const m=h.target;m.hasPointerCapture(h.pointerId)&&(m.releasePointerCapture(h.pointerId),i(h))})})}),HY="SliderTrack",GY=R.forwardRef((n,e)=>{const{__scopeSlider:s,...r}=n,a=WC(HY,s);return t.jsx(Nn.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...r,ref:e})});GY.displayName=HY;var E5="SliderRange",$Y=R.forwardRef((n,e)=>{const{__scopeSlider:s,...r}=n,a=WC(E5,s),i=BY(E5,s),o=R.useRef(null),l=rs(e,o),c=a.values.length,d=a.values.map(m=>KY(m,a.min,a.max)),u=c>1?Math.min(...d):0,h=100-Math.max(...d);return t.jsx(Nn.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...r,ref:l,style:{...n.style,[i.startEdge]:u+"%",[i.endEdge]:h+"%"}})});$Y.displayName=E5;var M5="SliderThumb",qY=R.forwardRef((n,e)=>{const s=k_e(n.__scopeSlider),[r,a]=R.useState(null),i=rs(e,l=>a(l)),o=R.useMemo(()=>r?s().findIndex(l=>l.ref.current===r):-1,[s,r]);return t.jsx(U_e,{...n,ref:i,index:o})}),U_e=R.forwardRef((n,e)=>{const{__scopeSlider:s,index:r,name:a,...i}=n,o=WC(M5,s),l=BY(M5,s),[c,d]=R.useState(null),u=rs(e,A=>d(A)),h=c?o.form||!!c.closest("form"):!0,m=JA(c),y=o.values[r],N=y===void 0?0:KY(y,o.min,o.max),j=V_e(r,o.values.length),v=m?.[l.size],b=v?G_e(v,N,l.direction):0;return R.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),t.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${N}% + ${b}px)`},children:[t.jsx(T5.ItemSlot,{scope:n.__scopeSlider,children:t.jsx(Nn.span,{role:"slider","aria-label":n["aria-label"]||j,"aria-valuemin":o.min,"aria-valuenow":y,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:u,style:y===void 0?{display:"none"}:n.style,onFocus:cn(n.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),h&&t.jsx(WY,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:y},r)]})});qY.displayName=M5;var z_e="RadioBubbleInput",WY=R.forwardRef(({__scopeSlider:n,value:e,...s},r)=>{const a=R.useRef(null),i=rs(a,r),o=BC(e);return R.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&u){const h=new Event("input",{bubbles:!0});u.call(l,e),l.dispatchEvent(h)}},[o,e]),t.jsx(Nn.input,{style:{display:"none"},...s,ref:i,defaultValue:e})});WY.displayName=z_e;function B_e(n=[],e,s){const r=[...n];return r[s]=e,r.sort((a,i)=>a-i)}function KY(n,e,s){const i=100/(s-e)*(n-e);return S1(i,[0,100])}function V_e(n,e){return e>2?`Value ${n+1} of ${e}`:e===2?["Minimum","Maximum"][n]:void 0}function H_e(n,e){if(n.length===1)return 0;const s=n.map(a=>Math.abs(a-e)),r=Math.min(...s);return s.indexOf(r)}function G_e(n,e,s){const r=n/2,i=GI([0,50],[0,r]);return(r-i(e)*s)*s}function $_e(n){return n.slice(0,-1).map((e,s)=>n[s+1]-e)}function q_e(n,e){if(e>0){const s=$_e(n);return Math.min(...s)>=e}return!0}function GI(n,e){return s=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(s-n[0])}}function W_e(n){return(String(n).split(".")[1]||"").length}function K_e(n,e){const s=Math.pow(10,e);return Math.round(n*s)/s}var XY=UY,X_e=GY,Z_e=$Y,Y_e=qY;const ph=R.forwardRef(({className:n,...e},s)=>t.jsxs(XY,{ref:s,className:Bt("relative flex w-full touch-none select-none items-center",n),...e,children:[t.jsx(X_e,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:t.jsx(Z_e,{className:"absolute h-full bg-primary"})}),t.jsx(Y_e,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));ph.displayName=XY.displayName;const Js=R.forwardRef(({className:n,...e},s)=>t.jsx("textarea",{className:Bt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:s,...e}));Js.displayName="Textarea";function Q_e(){const[n,e]=R.useState({aiEnabled:!0,autoBlockThreshold:70,analysisSpeed:"balanced",modelSelection:"chatgpt-4o",requireManualReview:!1,autoApproveThreshold:30,escalationThreshold:80,twoFactorAuth:!0,sessionTimeout:60,ipWhitelist:"",auditLogging:!0,emailAlerts:!0,slackWebhook:"",highRiskAlerts:!0,dailyReports:!0,maxConcurrentAnalysis:10,batchSize:50,retentionDays:90,customCss:"",customJs:"",smtpHost:"",smtpPort:587,smtpUsername:"",smtpPassword:"",smtpEncryption:"tls",adminEmail:"",ffmpegPath:"/usr/bin/ffmpeg",ffmpegTestStatus:"idle"}),{toast:s}=Dn();ps();const r=(i,o)=>{e(l=>({...l,[i]:o}))},a=()=>{s({title:"Settings Saved",description:"Configuration has been updated successfully"})};return t.jsx("div",{className:"min-h-screen cyber-bg",children:t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"System Settings"}),t.jsx("p",{className:"text-muted-foreground",children:"Platform Configuration"})]}),t.jsxs(te,{onClick:a,className:"neon-button","data-testid":"save-settings",children:[t.jsx(Qv,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]}),t.jsxs(Xs,{defaultValue:"ai",className:"space-y-6",children:[t.jsxs($s,{className:"grid w-full grid-cols-8 cyber-card",children:[t.jsxs(lt,{value:"ai",className:"flex items-center space-x-2",children:[t.jsx(Gr,{className:"w-4 h-4"}),t.jsx("span",{children:"AI Engine"})]}),t.jsxs(lt,{value:"moderation",className:"flex items-center space-x-2",children:[t.jsx(En,{className:"w-4 h-4"}),t.jsx("span",{children:"Moderation"})]}),t.jsxs(lt,{value:"security",className:"flex items-center space-x-2",children:[t.jsx(Ii,{className:"w-4 h-4"}),t.jsx("span",{children:"Security"})]}),t.jsxs(lt,{value:"notifications",className:"flex items-center space-x-2",children:[t.jsx(b_,{className:"w-4 h-4"}),t.jsx("span",{children:"Alerts"})]}),t.jsxs(lt,{value:"performance",className:"flex items-center space-x-2",children:[t.jsx(jl,{className:"w-4 h-4"}),t.jsx("span",{children:"Performance"})]}),t.jsxs(lt,{value:"customization",className:"flex items-center space-x-2",children:[t.jsx(dx,{className:"w-4 h-4"}),t.jsx("span",{children:"CSS/JS"})]}),t.jsxs(lt,{value:"email",className:"flex items-center space-x-2",children:[t.jsx(Kd,{className:"w-4 h-4"}),t.jsx("span",{children:"Email"})]}),t.jsxs(lt,{value:"ffmpeg",className:"flex items-center space-x-2",children:[t.jsx(Ri,{className:"w-4 h-4"}),t.jsx("span",{children:"FFMPEG"})]})]}),t.jsx(ct,{value:"ai",className:"space-y-6",children:t.jsxs($,{className:"cyber-card neural-network",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(Gr,{className:"w-6 h-6 text-primary cyber-pulse"}),t.jsx("span",{className:"cyber-text-glow",children:"AI ANALYSIS ENGINE"})]})}),t.jsx(q,{className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Pe,{htmlFor:"ai-enabled",children:"Enable AI Analysis"}),t.jsx(fn,{id:"ai-enabled",checked:n.aiEnabled,onCheckedChange:i=>r("aiEnabled",i)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(Pe,{children:["Auto-Block Threshold: ",n.autoBlockThreshold,"%"]}),t.jsx(ph,{value:[n.autoBlockThreshold],onValueChange:i=>r("autoBlockThreshold",i[0]),max:100,step:5,className:"w-full"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"model-selection",children:"AI Model"}),t.jsxs(sn,{value:n.modelSelection,onValueChange:i=>r("modelSelection",i),children:[t.jsx(en,{children:t.jsx(rn,{})}),t.jsxs(tn,{children:[t.jsx(re,{value:"chatgpt-4o",children:"ChatGPT-4o (Recommended)"}),t.jsx(re,{value:"chatgpt-4",children:"ChatGPT-4"}),t.jsx(re,{value:"claude-3",children:"Claude-3"})]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"analysis-speed",children:"Analysis Speed"}),t.jsxs(sn,{value:n.analysisSpeed,onValueChange:i=>r("analysisSpeed",i),children:[t.jsx(en,{children:t.jsx(rn,{})}),t.jsxs(tn,{children:[t.jsx(re,{value:"fast",children:"Fast (Lower Accuracy)"}),t.jsx(re,{value:"balanced",children:"Balanced (Recommended)"}),t.jsx(re,{value:"thorough",children:"Thorough (Higher Accuracy)"})]})]})]}),t.jsxs("div",{className:"p-4 cyber-card border border-primary/20",children:[t.jsx("h4",{className:"font-medium mb-2",children:"Model Performance"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Accuracy Rate:"}),t.jsx("span",{className:"text-green-400",children:"96.8%"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Avg Processing Time:"}),t.jsx("span",{className:"text-primary",children:"1.2s"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Daily Capacity:"}),t.jsx("span",{className:"text-blue-400",children:"1.2M items"})]})]})]})]})]})})]})}),t.jsx(ct,{value:"moderation",className:"space-y-6",children:t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(En,{className:"w-6 h-6 text-primary"}),t.jsx("span",{children:"Moderation Workflows"})]})}),t.jsx(q,{className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Pe,{htmlFor:"manual-review",children:"Require Manual Review"}),t.jsx(fn,{id:"manual-review",checked:n.requireManualReview,onCheckedChange:i=>r("requireManualReview",i)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(Pe,{children:["Auto-Approve Threshold: ",n.autoApproveThreshold,"%"]}),t.jsx(ph,{value:[n.autoApproveThreshold],onValueChange:i=>r("autoApproveThreshold",i[0]),max:100,step:5,className:"w-full"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs(Pe,{children:["Escalation Threshold: ",n.escalationThreshold,"%"]}),t.jsx(ph,{value:[n.escalationThreshold],onValueChange:i=>r("escalationThreshold",i[0]),max:100,step:5,className:"w-full"})]}),t.jsxs("div",{className:"p-4 cyber-card border border-primary/20",children:[t.jsx("h4",{className:"font-medium mb-2",children:"Workflow Stats"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Pending Review:"}),t.jsx("span",{className:"text-yellow-400",children:"23 items"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Avg Review Time:"}),t.jsx("span",{className:"text-primary",children:"2.3 min"})]})]})]})]})]})})]})}),t.jsx(ct,{value:"security",className:"space-y-6",children:t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(Ii,{className:"w-6 h-6 text-primary"}),t.jsx("span",{children:"Security Configuration"})]})}),t.jsx(q,{className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Pe,{htmlFor:"2fa",children:"Two-Factor Authentication"}),t.jsx(fn,{id:"2fa",checked:n.twoFactorAuth,onCheckedChange:i=>r("twoFactorAuth",i)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Pe,{htmlFor:"audit-logging",children:"Audit Logging"}),t.jsx(fn,{id:"audit-logging",checked:n.auditLogging,onCheckedChange:i=>r("auditLogging",i)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"session-timeout",children:"Session Timeout (minutes)"}),t.jsx(Fe,{id:"session-timeout",type:"number",value:n.sessionTimeout,onChange:i=>r("sessionTimeout",parseInt(i.target.value)),className:"glass-effect"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"ip-whitelist",children:"IP Whitelist (comma-separated)"}),t.jsx(Fe,{id:"ip-whitelist",value:n.ipWhitelist,onChange:i=>r("ipWhitelist",i.target.value),placeholder:"192.168.1.0/24, 10.0.0.0/8",className:"glass-effect"})]}),t.jsxs("div",{className:"p-4 cyber-card border border-green-500/20",children:[t.jsx("h4",{className:"font-medium mb-2 text-green-400",children:"Security Status"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Threat Level:"}),t.jsx("span",{className:"text-yellow-400",children:"MEDIUM"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Failed Logins (24h):"}),t.jsx("span",{className:"text-red-400",children:"3"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Last Security Scan:"}),t.jsx("span",{className:"text-green-400",children:"2 hours ago"})]})]})]})]})]})})]})}),t.jsx(ct,{value:"notifications",className:"space-y-6",children:t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(b_,{className:"w-6 h-6 text-primary"}),t.jsx("span",{children:"Alert Configuration"})]})}),t.jsx(q,{className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Pe,{htmlFor:"email-alerts",children:"Email Alerts"}),t.jsx(fn,{id:"email-alerts",checked:n.emailAlerts,onCheckedChange:i=>r("emailAlerts",i)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Pe,{htmlFor:"high-risk-alerts",children:"High Risk Alerts"}),t.jsx(fn,{id:"high-risk-alerts",checked:n.highRiskAlerts,onCheckedChange:i=>r("highRiskAlerts",i)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Pe,{htmlFor:"daily-reports",children:"Daily Reports"}),t.jsx(fn,{id:"daily-reports",checked:n.dailyReports,onCheckedChange:i=>r("dailyReports",i)})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"slack-webhook",children:"Slack Webhook URL"}),t.jsx(Fe,{id:"slack-webhook",value:n.slackWebhook,onChange:i=>r("slackWebhook",i.target.value),placeholder:"https://hooks.slack.com/...",className:"glass-effect"})]}),t.jsxs("div",{className:"p-4 cyber-card border border-blue-500/20",children:[t.jsx("h4",{className:"font-medium mb-2 text-blue-400",children:"Notification Stats"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Alerts Sent Today:"}),t.jsx("span",{className:"text-primary",children:"47"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"High Priority:"}),t.jsx("span",{className:"text-red-400",children:"3"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Delivery Rate:"}),t.jsx("span",{className:"text-green-400",children:"99.8%"})]})]})]})]})]})})]})}),t.jsx(ct,{value:"performance",className:"space-y-6",children:t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(jl,{className:"w-6 h-6 text-primary"}),t.jsx("span",{children:"Performance Tuning"})]})}),t.jsx(q,{className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"max-concurrent",children:"Max Concurrent Analysis"}),t.jsx(Fe,{id:"max-concurrent",type:"number",value:n.maxConcurrentAnalysis,onChange:i=>r("maxConcurrentAnalysis",parseInt(i.target.value)),className:"glass-effect"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"batch-size",children:"Batch Size"}),t.jsx(Fe,{id:"batch-size",type:"number",value:n.batchSize,onChange:i=>r("batchSize",parseInt(i.target.value)),className:"glass-effect"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"retention-days",children:"Data Retention (days)"}),t.jsx(Fe,{id:"retention-days",type:"number",value:n.retentionDays,onChange:i=>r("retentionDays",parseInt(i.target.value)),className:"glass-effect"})]}),t.jsxs("div",{className:"p-4 cyber-card border border-purple-500/20",children:[t.jsx("h4",{className:"font-medium mb-2 text-purple-400",children:"System Performance"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"CPU Usage:"}),t.jsx("span",{className:"text-green-400",children:"34%"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Memory Usage:"}),t.jsx("span",{className:"text-yellow-400",children:"67%"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Queue Depth:"}),t.jsx("span",{className:"text-blue-400",children:"23 items"})]})]})]})]})]})})]})}),t.jsx(ct,{value:"customization",className:"space-y-6",children:t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(dx,{className:"w-6 h-6 text-primary"}),t.jsx("span",{children:"CSS & JavaScript Customization"})]})}),t.jsx(q,{className:"space-y-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"custom-css",children:"Custom CSS"}),t.jsx(Js,{id:"custom-css",value:n.customCss,onChange:i=>r("customCss",i.target.value),placeholder:"/* Add your custom CSS here */\\n.custom-style {\\n  color: #primary;\\n}",className:"glass-effect font-mono min-h-[200px]","data-testid":"textarea-custom-css"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"custom-js",children:"Custom JavaScript"}),t.jsx(Js,{id:"custom-js",value:n.customJs,onChange:i=>r("customJs",i.target.value),placeholder:"// Add your custom JavaScript here\\nconsole.log('Custom JS loaded');",className:"glass-effect font-mono min-h-[200px]","data-testid":"textarea-custom-js"})]}),t.jsxs("div",{className:"p-4 cyber-card border border-yellow-500/20",children:[t.jsx("h4",{className:"font-medium mb-2 text-yellow-400",children:"⚠️ Important Notes"}),t.jsxs("ul",{className:"space-y-1 text-sm",children:[t.jsx("li",{children:"• Custom CSS/JS will be applied to all pages"}),t.jsx("li",{children:"• Always test changes before applying to production"}),t.jsx("li",{children:"• Malformed code may break the site functionality"}),t.jsx("li",{children:"• Use browser developer tools to debug issues"})]})]})]})})]})}),t.jsx(ct,{value:"email",className:"space-y-6",children:t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(Kd,{className:"w-6 h-6 text-primary"}),t.jsx("span",{children:"Email Configuration"})]})}),t.jsxs(q,{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"smtp-host",children:"SMTP Host"}),t.jsx(Fe,{id:"smtp-host",value:n.smtpHost,onChange:i=>r("smtpHost",i.target.value),placeholder:"smtp.gmail.com",className:"glass-effect","data-testid":"input-smtp-host"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"smtp-port",children:"SMTP Port"}),t.jsx(Fe,{id:"smtp-port",type:"number",value:n.smtpPort,onChange:i=>r("smtpPort",parseInt(i.target.value)),className:"glass-effect","data-testid":"input-smtp-port"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"smtp-encryption",children:"Encryption"}),t.jsxs(sn,{value:n.smtpEncryption,onValueChange:i=>r("smtpEncryption",i),children:[t.jsx(en,{"data-testid":"select-smtp-encryption",children:t.jsx(rn,{})}),t.jsxs(tn,{children:[t.jsx(re,{value:"none",children:"None"}),t.jsx(re,{value:"tls",children:"TLS"}),t.jsx(re,{value:"ssl",children:"SSL"})]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"smtp-username",children:"SMTP Username"}),t.jsx(Fe,{id:"smtp-username",value:n.smtpUsername,onChange:i=>r("smtpUsername",i.target.value),placeholder:"your-email@example.com",className:"glass-effect","data-testid":"input-smtp-username"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"smtp-password",children:"SMTP Password"}),t.jsx(Fe,{id:"smtp-password",type:"password",value:n.smtpPassword,onChange:i=>r("smtpPassword",i.target.value),placeholder:"••••••••",className:"glass-effect","data-testid":"input-smtp-password"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"admin-email",children:"Admin Email"}),t.jsx(Fe,{id:"admin-email",type:"email",value:n.adminEmail,onChange:i=>r("adminEmail",i.target.value),placeholder:"admin@yoursite.com",className:"glass-effect","data-testid":"input-admin-email"})]})]})]}),t.jsx("div",{className:"flex justify-start",children:t.jsxs(te,{variant:"outline",className:"mr-4","data-testid":"button-test-email",children:[t.jsx(Kd,{className:"w-4 h-4 mr-2"}),"Send Test Email"]})})]})]})}),t.jsx(ct,{value:"ffmpeg",className:"space-y-6",children:t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(Ri,{className:"w-6 h-6 text-primary"}),t.jsx("span",{children:"FFMPEG Configuration"})]})}),t.jsx(q,{className:"space-y-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"ffmpeg-path",children:"FFMPEG Path"}),t.jsx(Fe,{id:"ffmpeg-path",value:n.ffmpegPath,onChange:i=>r("ffmpegPath",i.target.value),placeholder:"/usr/bin/ffmpeg",className:"glass-effect","data-testid":"input-ffmpeg-path"})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx(te,{variant:"outline",onClick:()=>{r("ffmpegTestStatus","testing"),setTimeout(()=>{r("ffmpegTestStatus",Math.random()>.5?"success":"failed")},2e3)},disabled:n.ffmpegTestStatus==="testing","data-testid":"button-test-ffmpeg",children:n.ffmpegTestStatus==="testing"?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}),"Testing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Ri,{className:"w-4 h-4 mr-2"}),"Test FFMPEG"]})}),n.ffmpegTestStatus==="success"&&t.jsxs("div",{className:"flex items-center text-green-400",children:[t.jsx(xn,{className:"w-4 h-4 mr-2"}),"FFMPEG is working correctly"]}),n.ffmpegTestStatus==="failed"&&t.jsxs("div",{className:"flex items-center text-red-400",children:[t.jsx(ln,{className:"w-4 h-4 mr-2"}),"FFMPEG test failed"]})]}),t.jsxs("div",{className:"p-4 cyber-card border border-blue-500/20",children:[t.jsx("h4",{className:"font-medium mb-2 text-blue-400",children:"FFMPEG Information"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Current Path:"}),t.jsx("span",{className:"font-mono",children:n.ffmpegPath})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Expected Version:"}),t.jsx("span",{className:"text-green-400",children:"4.0+"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Used For:"}),t.jsx("span",{children:"Video encoding and processing"})]})]})]}),t.jsxs("div",{className:"p-4 cyber-card border border-yellow-500/20",children:[t.jsx("h4",{className:"font-medium mb-2 text-yellow-400",children:"Installation Instructions"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsx("p",{children:t.jsx("strong",{children:"Ubuntu/Debian:"})}),t.jsx("code",{className:"block bg-black/50 p-2 rounded",children:"sudo apt update && sudo apt install ffmpeg"}),t.jsx("p",{className:"mt-2",children:t.jsx("strong",{children:"CentOS/RHEL:"})}),t.jsx("code",{className:"block bg-black/50 p-2 rounded",children:"sudo yum install epel-release && sudo yum install ffmpeg"}),t.jsx("p",{className:"mt-2",children:t.jsx("strong",{children:"macOS:"})}),t.jsx("code",{className:"block bg-black/50 p-2 rounded",children:"brew install ffmpeg"})]})]})]})})]})})]})]})})}var KC="Dialog",[ZY,YY]=Co(KC),[J_e,ud]=ZY(KC),QY=n=>{const{__scopeDialog:e,children:s,open:r,defaultOpen:a,onOpenChange:i,modal:o=!0}=n,l=R.useRef(null),c=R.useRef(null),[d,u]=gh({prop:r,defaultProp:a??!1,onChange:i,caller:KC});return t.jsx(J_e,{scope:e,triggerRef:l,contentRef:c,contentId:Uf(),titleId:Uf(),descriptionId:Uf(),open:d,onOpenChange:u,onOpenToggle:R.useCallback(()=>u(h=>!h),[u]),modal:o,children:s})};QY.displayName=KC;var JY="DialogTrigger",eQ=R.forwardRef((n,e)=>{const{__scopeDialog:s,...r}=n,a=ud(JY,s),i=rs(e,a.triggerRef);return t.jsx(Nn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":WI(a.open),...r,ref:i,onClick:cn(n.onClick,a.onOpenToggle)})});eQ.displayName=JY;var $I="DialogPortal",[e2e,tQ]=ZY($I,{forceMount:void 0}),nQ=n=>{const{__scopeDialog:e,forceMount:s,children:r,container:a}=n,i=ud($I,e);return t.jsx(e2e,{scope:e,forceMount:s,children:R.Children.map(r,o=>t.jsx(oc,{present:s||i.open,children:t.jsx(zA,{asChild:!0,container:a,children:o})}))})};nQ.displayName=$I;var A2="DialogOverlay",sQ=R.forwardRef((n,e)=>{const s=tQ(A2,n.__scopeDialog),{forceMount:r=s.forceMount,...a}=n,i=ud(A2,n.__scopeDialog);return i.modal?t.jsx(oc,{present:r||i.open,children:t.jsx(n2e,{...a,ref:e})}):null});sQ.displayName=A2;var t2e=Kv("DialogOverlay.RemoveScroll"),n2e=R.forwardRef((n,e)=>{const{__scopeDialog:s,...r}=n,a=ud(A2,s);return t.jsx(VI,{as:t2e,allowPinchZoom:!0,shards:[a.contentRef],children:t.jsx(Nn.div,{"data-state":WI(a.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),jx="DialogContent",rQ=R.forwardRef((n,e)=>{const s=tQ(jx,n.__scopeDialog),{forceMount:r=s.forceMount,...a}=n,i=ud(jx,n.__scopeDialog);return t.jsx(oc,{present:r||i.open,children:i.modal?t.jsx(s2e,{...a,ref:e}):t.jsx(r2e,{...a,ref:e})})});rQ.displayName=jx;var s2e=R.forwardRef((n,e)=>{const s=ud(jx,n.__scopeDialog),r=R.useRef(null),a=rs(e,s.contentRef,r);return R.useEffect(()=>{const i=r.current;if(i)return FZ(i)},[]),t.jsx(aQ,{...n,ref:a,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:cn(n.onCloseAutoFocus,i=>{i.preventDefault(),s.triggerRef.current?.focus()}),onPointerDownOutside:cn(n.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:cn(n.onFocusOutside,i=>i.preventDefault())})}),r2e=R.forwardRef((n,e)=>{const s=ud(jx,n.__scopeDialog),r=R.useRef(!1),a=R.useRef(!1);return t.jsx(aQ,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{n.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||s.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{n.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;s.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),aQ=R.forwardRef((n,e)=>{const{__scopeDialog:s,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=n,l=ud(jx,s),c=R.useRef(null),d=rs(e,c);return IZ(),t.jsxs(t.Fragment,{children:[t.jsx(BI,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:t.jsx(W1,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":WI(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),t.jsxs(t.Fragment,{children:[t.jsx(i2e,{titleId:l.titleId}),t.jsx(l2e,{contentRef:c,descriptionId:l.descriptionId})]})]})}),qI="DialogTitle",iQ=R.forwardRef((n,e)=>{const{__scopeDialog:s,...r}=n,a=ud(qI,s);return t.jsx(Nn.h2,{id:a.titleId,...r,ref:e})});iQ.displayName=qI;var oQ="DialogDescription",lQ=R.forwardRef((n,e)=>{const{__scopeDialog:s,...r}=n,a=ud(oQ,s);return t.jsx(Nn.p,{id:a.descriptionId,...r,ref:e})});lQ.displayName=oQ;var cQ="DialogClose",dQ=R.forwardRef((n,e)=>{const{__scopeDialog:s,...r}=n,a=ud(cQ,s);return t.jsx(Nn.button,{type:"button",...r,ref:e,onClick:cn(n.onClick,()=>a.onOpenChange(!1))})});dQ.displayName=cQ;function WI(n){return n?"open":"closed"}var uQ="DialogTitleWarning",[a2e,hQ]=Hse(uQ,{contentName:jx,titleName:qI,docsSlug:"dialog"}),i2e=({titleId:n})=>{const e=hQ(uQ),s=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return R.useEffect(()=>{n&&(document.getElementById(n)||console.error(s))},[s,n]),null},o2e="DialogDescriptionWarning",l2e=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${hQ(o2e).contentName}}.`;return R.useEffect(()=>{const a=n.current?.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},fQ=QY,mQ=eQ,pQ=nQ,KI=sQ,XI=rQ,ZI=iQ,YI=lQ,QI=dQ;const pi=fQ,Qo=mQ,c2e=pQ,xQ=R.forwardRef(({className:n,...e},s)=>t.jsx(KI,{ref:s,className:Bt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));xQ.displayName=KI.displayName;const Ka=R.forwardRef(({className:n,children:e,...s},r)=>t.jsxs(c2e,{children:[t.jsx(xQ,{}),t.jsxs(XI,{ref:r,className:Bt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...s,children:[e,t.jsxs(QI,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[t.jsx(td,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ka.displayName=XI.displayName;const Xa=({className:n,...e})=>t.jsx("div",{className:Bt("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});Xa.displayName="DialogHeader";const l_=({className:n,...e})=>t.jsx("div",{className:Bt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});l_.displayName="DialogFooter";const Za=R.forwardRef(({className:n,...e},s)=>t.jsx(ZI,{ref:s,className:Bt("text-lg font-semibold leading-none tracking-tight",n),...e}));Za.displayName=ZI.displayName;const Sl=R.forwardRef(({className:n,...e},s)=>t.jsx(YI,{ref:s,className:Bt("text-sm text-muted-foreground",n),...e}));Sl.displayName=YI.displayName;function d2e(){const[n,e]=R.useState(""),[s,r]=R.useState("all"),[a,i]=R.useState(!1),[o,l]=R.useState({username:"",email:"",role:"moderator",password:""}),{toast:c}=Dn(),d=ps(),{data:u,isLoading:h}=wn({queryKey:["/api/users"],refetchInterval:3e4}),m=kt({mutationFn:async w=>Kt("/api/users","POST",w),onSuccess:()=>{c({title:"User Created",description:"New user account has been created successfully"}),d.invalidateQueries({queryKey:["/api/users"]}),i(!1),l({username:"",email:"",role:"moderator",password:""})}}),y=kt({mutationFn:async({id:w,updates:E})=>Kt(`/api/users/${w}`,"PATCH",E),onSuccess:()=>{c({title:"User Updated",description:"User account has been updated successfully"}),d.invalidateQueries({queryKey:["/api/users"]})}}),N=kt({mutationFn:async w=>Kt(`/api/users/${w}`,"DELETE"),onSuccess:()=>{c({title:"User Deleted",description:"User account has been deleted successfully"}),d.invalidateQueries({queryKey:["/api/users"]})}}),j=[{id:"user-001",username:"admin_sarah",email:"sarah@fanzdash.com",role:"admin",status:"active",lastActive:new Date().toISOString(),moderationCount:1247,accuracy:98.2},{id:"user-002",username:"mod_alex",email:"alex@fanzdash.com",role:"moderator",status:"active",lastActive:new Date(Date.now()-3e5).toISOString(),moderationCount:967,accuracy:97.8},{id:"user-003",username:"mod_jordan",email:"jordan@fanzdash.com",role:"moderator",status:"active",lastActive:new Date(Date.now()-6e5).toISOString(),moderationCount:834,accuracy:96.9},{id:"user-004",username:"analyst_mike",email:"mike@fanzdash.com",role:"analyst",status:"inactive",lastActive:new Date(Date.now()-864e5).toISOString(),moderationCount:234,accuracy:94.5}],v=w=>{switch(w){case"admin":return t.jsx(de,{className:"bg-red-600",children:"Admin"});case"moderator":return t.jsx(de,{className:"bg-blue-600",children:"Moderator"});case"analyst":return t.jsx(de,{className:"bg-green-600",children:"Analyst"});case"viewer":return t.jsx(de,{variant:"secondary",children:"Viewer"});default:return t.jsx(de,{variant:"outline",children:w})}},b=w=>{switch(w){case"active":return t.jsx(de,{className:"bg-green-600",children:"Active"});case"inactive":return t.jsx(de,{variant:"secondary",children:"Inactive"});case"suspended":return t.jsx(de,{variant:"destructive",children:"Suspended"});default:return t.jsx(de,{variant:"outline",children:w})}},A=(w,E)=>{y.mutate({id:w,updates:{status:E}})},S=(w,E)=>{y.mutate({id:w,updates:{role:E}})};return h?t.jsx("div",{className:"min-h-screen cyber-bg flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(er,{className:"w-16 h-16 mx-auto mb-4 cyber-pulse text-primary"}),t.jsx("p",{className:"cyber-text-glow",children:"Loading User Management..."})]})}):t.jsx("div",{className:"min-h-screen cyber-bg",children:t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"User Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Admin & Moderator Accounts"})]}),t.jsxs(pi,{open:a,onOpenChange:i,children:[t.jsx(Qo,{asChild:!0,children:t.jsxs(te,{className:"neon-button","data-testid":"add-user-button",children:[t.jsx(oa,{className:"w-4 h-4 mr-2"}),"Add User"]})}),t.jsxs(Ka,{className:"max-w-md cyber-card",children:[t.jsx(Xa,{children:t.jsx(Za,{className:"cyber-text-glow",children:"Add New User"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Username"}),t.jsx(Fe,{value:o.username,onChange:w=>l({...o,username:w.target.value}),placeholder:"Enter username",className:"glass-effect"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Email"}),t.jsx(Fe,{type:"email",value:o.email,onChange:w=>l({...o,email:w.target.value}),placeholder:"Enter email",className:"glass-effect"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Role"}),t.jsxs(sn,{value:o.role,onValueChange:w=>l({...o,role:w}),children:[t.jsx(en,{className:"glass-effect",children:t.jsx(rn,{})}),t.jsxs(tn,{children:[t.jsx(re,{value:"admin",children:"Admin"}),t.jsx(re,{value:"moderator",children:"Moderator"}),t.jsx(re,{value:"analyst",children:"Analyst"}),t.jsx(re,{value:"viewer",children:"Viewer"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Password"}),t.jsx(Fe,{type:"password",value:o.password,onChange:w=>l({...o,password:w.target.value}),placeholder:"Enter password",className:"glass-effect"})]}),t.jsx(te,{onClick:()=>m.mutate(o),disabled:m.isPending,className:"w-full neon-button","data-testid":"create-user-button",children:m.isPending?"Creating...":"Create User"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx($,{className:"cyber-card",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-primary cyber-text-glow",children:"4"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Users"})]})}),t.jsx($,{className:"cyber-card",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-green-400 cyber-text-glow",children:"3"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Active"})]})}),t.jsx($,{className:"cyber-card",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-400 cyber-text-glow",children:"2"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Moderators"})]})}),t.jsx($,{className:"cyber-card",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-accent cyber-text-glow",children:"97.3%"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Accuracy"})]})})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(jr,{className:"w-4 h-4"}),t.jsx(Fe,{placeholder:"Search users...",value:n,onChange:w=>e(w.target.value),className:"w-64"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Zv,{className:"w-4 h-4"}),t.jsxs(sn,{value:s,onValueChange:r,children:[t.jsx(en,{className:"w-32",children:t.jsx(rn,{})}),t.jsxs(tn,{children:[t.jsx(re,{value:"all",children:"All Roles"}),t.jsx(re,{value:"admin",children:"Admin"}),t.jsx(re,{value:"moderator",children:"Moderator"}),t.jsx(re,{value:"analyst",children:"Analyst"}),t.jsx(re,{value:"viewer",children:"Viewer"})]})]})]})]}),t.jsxs($,{className:"cyber-card neural-network",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(er,{className:"w-6 h-6 text-primary cyber-pulse"}),t.jsx("span",{className:"cyber-text-glow",children:"USER ACCOUNTS"})]})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-4",children:j.map(w=>t.jsxs("div",{className:"flex items-center justify-between p-4 cyber-card border border-primary/20",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-10 h-10 bg-primary/20 rounded-full flex items-center justify-center",children:t.jsx(Wp,{className:"w-5 h-5 text-primary"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"font-medium",children:w.username}),v(w.role),b(w.status)]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:w.email}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Last active:"," ",new Date(w.lastActive).toLocaleString()]})]})]}),t.jsxs("div",{className:"flex items-center space-x-6",children:[t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-sm font-medium",children:[w.moderationCount," reviews"]}),t.jsxs("div",{className:"text-xs text-green-400",children:[w.accuracy,"% accuracy"]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(sn,{value:w.role,onValueChange:E=>S(w.id,E),children:[t.jsx(en,{className:"w-24 h-8",children:t.jsx(rn,{})}),t.jsxs(tn,{children:[t.jsx(re,{value:"admin",children:"Admin"}),t.jsx(re,{value:"moderator",children:"Moderator"}),t.jsx(re,{value:"analyst",children:"Analyst"}),t.jsx(re,{value:"viewer",children:"Viewer"})]})]}),t.jsxs(sn,{value:w.status,onValueChange:E=>A(w.id,E),children:[t.jsx(en,{className:"w-24 h-8",children:t.jsx(rn,{})}),t.jsxs(tn,{children:[t.jsx(re,{value:"active",children:"Active"}),t.jsx(re,{value:"inactive",children:"Inactive"}),t.jsx(re,{value:"suspended",children:"Suspended"})]})]}),t.jsx(te,{size:"sm",variant:"outline","data-testid":`edit-user-${w.id}`,children:t.jsx(Oi,{className:"w-3 h-3"})}),t.jsx(te,{size:"sm",variant:"destructive",onClick:()=>N.mutate(w.id),"data-testid":`delete-user-${w.id}`,children:t.jsx(Wa,{className:"w-3 h-3"})})]})]})]},w.id))})})]})]})})}function u2e(){const[n,e]=R.useState("24h"),{data:s,isLoading:r}=wn({queryKey:["/api/risk-assessment",n],refetchInterval:1e4}),a={overall:{riskScore:67.3,trend:"increasing",threatsDetected:23,mitigatedThreats:19,activeIncidents:4},categories:[{name:"Content Risk",score:72,trend:"stable",incidents:12,description:"Explicit content, violence, harassment",threats:["High-risk uploads","Coordinated harassment","DMCA violations"]},{name:"Platform Security",score:45,trend:"improving",incidents:3,description:"System vulnerabilities, data breaches",threats:["SQL injection attempts","DDoS attacks","Authentication bypasses"]},{name:"Compliance Risk",score:89,trend:"deteriorating",incidents:8,description:"Legal compliance, age verification",threats:["Age verification failures","GDPR violations","Geographic restrictions"]},{name:"Operational Risk",score:34,trend:"stable",incidents:2,description:"System downtime, performance issues",threats:["Server overload","Database failures","API rate limits"]}],heatMap:[{platform:"FanzMain Adult",category:"Content",risk:85,incidents:7},{platform:"FanzMain Adult",category:"Security",risk:45,incidents:1},{platform:"FanzMain Adult",category:"Compliance",risk:92,incidents:5},{platform:"FanzLive Streaming",category:"Content",risk:67,incidents:3},{platform:"FanzLive Streaming",category:"Security",risk:34,incidents:1},{platform:"FanzLive Streaming",category:"Compliance",risk:78,incidents:2},{platform:"FanzSocial Community",category:"Content",risk:56,incidents:2},{platform:"FanzSocial Community",category:"Security",risk:67,incidents:1},{platform:"FanzSocial Community",category:"Compliance",risk:89,incidents:1}],mitigations:[{id:"mit-001",threat:"High-risk content uploads",status:"active",effectiveness:87,implemented:"2024-01-15",actions:["Enhanced AI screening","Mandatory manual review","User education campaign"]},{id:"mit-002",threat:"DDoS attacks",status:"monitoring",effectiveness:94,implemented:"2024-01-10",actions:["CDN protection","Rate limiting","Geographic filtering"]},{id:"mit-003",threat:"Age verification failures",status:"critical",effectiveness:67,implemented:"2024-01-20",actions:["ID verification system","Third-party validation","Regular audits"]}]},i=c=>c>=80?"text-red-500":c>=60?"text-yellow-500":c>=40?"text-orange-500":"text-green-500",o=c=>({level:"HIGH",color:"bg-yellow-600"}),l=c=>{switch(c){case"increasing":return t.jsx(or,{className:"w-4 h-4 text-red-500"});case"decreasing":return t.jsx(w_,{className:"w-4 h-4 text-green-500"});case"improving":return t.jsx(w_,{className:"w-4 h-4 text-green-500"});case"deteriorating":return t.jsx(or,{className:"w-4 h-4 text-red-500"});default:return t.jsx(Ks,{className:"w-4 h-4 text-blue-500"})}};return r?t.jsx("div",{className:"min-h-screen cyber-bg flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(En,{className:"w-16 h-16 mx-auto mb-4 cyber-pulse text-primary"}),t.jsx("p",{className:"cyber-text-glow",children:"Loading Risk Management Center..."})]})}):t.jsx("div",{className:"min-h-screen cyber-bg",children:t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"Risk Management Center"}),t.jsx("p",{className:"text-muted-foreground",children:"Advanced Threat Assessment & Mitigation"})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs(de,{className:o().color,children:[t.jsx(ln,{className:"w-3 h-3 mr-1"}),o().level," RISK"]}),t.jsxs(te,{variant:"outline",className:"cyber-border",children:[t.jsx(Mn,{className:"w-4 h-4 mr-2"}),"Generate Report"]})]})]}),t.jsxs($,{className:"cyber-card neural-network",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(En,{className:"w-6 h-6 text-primary cyber-pulse"}),t.jsx("span",{className:"cyber-text-glow",children:"THREAT LANDSCAPE OVERVIEW"})]})}),t.jsx(q,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold cyber-text-glow mb-2",children:a.overall.riskScore}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Risk Score"}),t.jsx(Xn,{value:a.overall.riskScore,className:"mt-2"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-red-400 cyber-text-glow mb-2",children:a.overall.threatsDetected}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Threats Detected"}),t.jsx("div",{className:"flex items-center justify-center mt-1",children:l(a.overall.trend)})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-green-400 cyber-text-glow mb-2",children:a.overall.mitigatedThreats}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Mitigated"}),t.jsxs("div",{className:"text-xs text-green-400 mt-1",children:[Math.round(a.overall.mitigatedThreats/a.overall.threatsDetected*100),"% Success"]})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-400 cyber-text-glow mb-2",children:a.overall.activeIncidents}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Incidents"}),t.jsx("div",{className:"text-xs text-yellow-400 mt-1",children:"Requires Action"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-400 cyber-text-glow mb-2",children:"94.2%"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"System Uptime"}),t.jsx("div",{className:"text-xs text-blue-400 mt-1",children:"Excellent"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-purple-400 cyber-text-glow mb-2",children:"2.3m"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Response Time"}),t.jsx("div",{className:"text-xs text-purple-400 mt-1",children:"Avg Detection"})]})]})})]}),t.jsxs(Xs,{defaultValue:"categories",className:"space-y-6",children:[t.jsxs($s,{className:"grid w-full grid-cols-4 cyber-card",children:[t.jsx(lt,{value:"categories",children:"Risk Categories"}),t.jsx(lt,{value:"heatmap",children:"Platform Heatmap"}),t.jsx(lt,{value:"mitigations",children:"Active Mitigations"}),t.jsx(lt,{value:"predictions",children:"AI Predictions"})]}),t.jsx(ct,{value:"categories",className:"space-y-6",children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.categories.map((c,d)=>t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:`w-3 h-3 rounded-full ${d===0?"bg-red-500":d===1?"bg-blue-500":d===2?"bg-yellow-500":"bg-green-500"} cyber-pulse`}),t.jsx("span",{children:c.name})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:`font-bold ${i(c.score)}`,children:c.score}),l(c.trend)]})]})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(Xn,{value:c.score,className:"mb-2"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:c.description})]}),t.jsxs("div",{children:[t.jsxs("h4",{className:"font-medium mb-2",children:["Active Incidents: ",c.incidents]}),t.jsx("div",{className:"space-y-1",children:c.threats.map((u,h)=>t.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[t.jsx(au,{className:"w-3 h-3 text-red-400"}),t.jsx("span",{children:u})]},h))})]})]})})]},c.name))})}),t.jsx(ct,{value:"heatmap",className:"space-y-6",children:t.jsxs($,{className:"cyber-card neural-network",children:[t.jsx(oe,{children:t.jsx(le,{className:"cyber-text-glow",children:"PLATFORM RISK HEATMAP"})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-4",children:["FanzMain Adult","FanzLive Streaming","FanzSocial Community"].map(c=>t.jsxs("div",{className:"p-4 cyber-card border border-primary/20",children:[t.jsx("h3",{className:"font-medium mb-4",children:c}),t.jsx("div",{className:"grid grid-cols-3 gap-4",children:a.heatMap.filter(d=>d.platform===c).map((d,u)=>t.jsxs("div",{className:"text-center p-3 rounded-lg",style:{backgroundColor:`rgba(${d.risk>70?"239, 68, 68":d.risk>50?"245, 158, 11":"34, 197, 94"}, 0.1)`,border:`1px solid rgba(${d.risk>70?"239, 68, 68":d.risk>50?"245, 158, 11":"34, 197, 94"}, 0.3)`},children:[t.jsx("div",{className:"text-lg font-bold",children:d.risk}),t.jsx("div",{className:"text-xs text-muted-foreground",children:d.category}),t.jsxs("div",{className:"text-xs",children:[d.incidents," ",d.incidents===1?"incident":"incidents"]})]},u))})]},c))})})]})}),t.jsx(ct,{value:"mitigations",className:"space-y-6",children:t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsx(le,{className:"cyber-text-glow",children:"ACTIVE THREAT MITIGATIONS"})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-4",children:a.mitigations.map(c=>t.jsxs("div",{className:"p-4 cyber-card border border-primary/20",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",children:c.threat}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Implemented:"," ",new Date(c.implemented).toLocaleDateString()]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx(de,{className:c.status==="critical"?"bg-red-600":c.status==="active"?"bg-green-600":"bg-yellow-600",children:c.status.toUpperCase()}),t.jsxs("div",{className:"text-sm font-bold mt-1",children:[c.effectiveness,"% Effective"]})]})]}),t.jsx(Xn,{value:c.effectiveness,className:"mb-3"}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("h5",{className:"text-xs font-medium",children:"Mitigation Actions:"}),c.actions.map((d,u)=>t.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[t.jsx(va,{className:"w-3 h-3 text-primary"}),t.jsx("span",{children:d})]},u))]})]},c.id))})})]})}),t.jsx(ct,{value:"predictions",className:"space-y-6",children:t.jsxs($,{className:"cyber-card neural-network",children:[t.jsx(oe,{children:t.jsx(le,{className:"cyber-text-glow",children:"AI RISK PREDICTIONS"})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"p-4 cyber-card border border-yellow-500/20",children:[t.jsx("h4",{className:"font-medium text-yellow-400 mb-2",children:"24 Hour Forecast"}),t.jsx("div",{className:"text-2xl font-bold mb-1",children:"Medium Risk"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected spike in content violations during peak hours (8PM-12AM)"}),t.jsxs("div",{className:"mt-3 text-xs",children:[t.jsx("div",{children:"Confidence: 87%"}),t.jsx("div",{children:"Impact: Moderate"})]})]}),t.jsxs("div",{className:"p-4 cyber-card border border-red-500/20",children:[t.jsx("h4",{className:"font-medium text-red-400 mb-2",children:"Week Ahead"}),t.jsx("div",{className:"text-2xl font-bold mb-1",children:"High Risk"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Potential coordinated attack campaign detected across multiple platforms"}),t.jsxs("div",{className:"mt-3 text-xs",children:[t.jsx("div",{children:"Confidence: 73%"}),t.jsx("div",{children:"Impact: High"})]})]}),t.jsxs("div",{className:"p-4 cyber-card border border-green-500/20",children:[t.jsx("h4",{className:"font-medium text-green-400 mb-2",children:"System Health"}),t.jsx("div",{className:"text-2xl font-bold mb-1",children:"Stable"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"All mitigation systems operating within normal parameters"}),t.jsxs("div",{className:"mt-3 text-xs",children:[t.jsx("div",{children:"Confidence: 94%"}),t.jsx("div",{children:"Impact: Low"})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium",children:"Recommended Actions:"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center space-x-3 p-3 cyber-card border border-primary/20",children:[t.jsx(ln,{className:"w-5 h-5 text-yellow-500"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:"Increase monitoring during peak hours"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Deploy additional AI resources for content analysis"})]})]}),t.jsxs("div",{className:"flex items-center space-x-3 p-3 cyber-card border border-primary/20",children:[t.jsx(En,{className:"w-5 h-5 text-blue-500"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:"Strengthen platform defenses"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Activate enhanced security protocols for potential coordinated attacks"})]})]}),t.jsxs("div",{className:"flex items-center space-x-3 p-3 cyber-card border border-primary/20",children:[t.jsx(au,{className:"w-5 h-5 text-green-500"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:"Update detection algorithms"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Implement new pattern recognition for emerging threat vectors"})]})]})]})]})]})})]})})]})]})})}const Ar=R.forwardRef(({className:n,...e},s)=>t.jsx("div",{className:"relative w-full overflow-auto",children:t.jsx("table",{ref:s,className:Bt("w-full caption-bottom text-sm",n),...e})}));Ar.displayName="Table";const Cr=R.forwardRef(({className:n,...e},s)=>t.jsx("thead",{ref:s,className:Bt("[&_tr]:border-b",n),...e}));Cr.displayName="TableHeader";const Tr=R.forwardRef(({className:n,...e},s)=>t.jsx("tbody",{ref:s,className:Bt("[&_tr:last-child]:border-0",n),...e}));Tr.displayName="TableBody";const h2e=R.forwardRef(({className:n,...e},s)=>t.jsx("tfoot",{ref:s,className:Bt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",n),...e}));h2e.displayName="TableFooter";const Vn=R.forwardRef(({className:n,...e},s)=>t.jsx("tr",{ref:s,className:Bt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",n),...e}));Vn.displayName="TableRow";const He=R.forwardRef(({className:n,...e},s)=>t.jsx("th",{ref:s,className:Bt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",n),...e}));He.displayName="TableHead";const Ve=R.forwardRef(({className:n,...e},s)=>t.jsx("td",{ref:s,className:Bt("p-4 align-middle [&:has([role=checkbox])]:pr-0",n),...e}));Ve.displayName="TableCell";const f2e=R.forwardRef(({className:n,...e},s)=>t.jsx("caption",{ref:s,className:Bt("mt-4 text-sm text-muted-foreground",n),...e}));f2e.displayName="TableCaption";function m2e(){const{toast:n}=Dn(),e=ps(),[s,r]=R.useState(""),[a,i]=R.useState("all"),[o,l]=R.useState("all"),c=[{id:"crisis_001",title:"Suspected Data Breach - GirlFanz Platform",description:"Unusual database access patterns detected on GirlFanz user data",severity:"critical",status:"investigating",category:"security_breach",platform:"GirlFanz",startTime:"2025-01-15T11:30:00Z",assignedTo:"security_team",affectedUsers:25e3,responseActions:["Isolated affected database servers","Activated incident response team","Initiated forensic analysis","Prepared user notification draft"],escalationLevel:3},{id:"crisis_002",title:"DDoS Attack - FanzLab Main Portal",description:"High-volume traffic attack targeting main authentication servers",severity:"high",status:"resolving",category:"ddos_attack",platform:"FanzLab",startTime:"2025-01-15T10:45:00Z",assignedTo:"infrastructure_team",affectedUsers:15e4,responseActions:["Activated DDoS protection","Scaled infrastructure capacity","Implemented traffic filtering","Redirected traffic through CDN"],escalationLevel:2},{id:"crisis_003",title:"DMCA Takedown Notice - TabooFanz",description:"Large-scale copyright infringement claims received",severity:"medium",status:"active",category:"legal_threat",platform:"TabooFanz",startTime:"2025-01-15T09:15:00Z",assignedTo:"legal_team",affectedUsers:850,responseActions:["Content review initiated","Legal team consultation","Creator notifications sent"],escalationLevel:1},{id:"crisis_004",title:"Payment System Outage",description:"CCBill payment processing experiencing widespread failures",severity:"high",status:"resolved",category:"system_failure",platform:"All",startTime:"2025-01-14T16:20:00Z",resolvedTime:"2025-01-14T18:45:00Z",assignedTo:"payment_team",affectedUsers:45e3,responseActions:["Switched to backup payment processor","Notified affected users","Coordinated with CCBill support","Implemented payment retry logic"],escalationLevel:2,publicStatement:"Payment services have been fully restored. All pending transactions will be processed automatically."}],d=[{id:"plan_001",name:"Data Breach Response Protocol",category:"security_breach",description:"Comprehensive response plan for suspected or confirmed data breaches",severity:"critical",autoTrigger:!0,steps:["Immediate containment and isolation","Forensic investigation initiation","Legal and regulatory notification","User communication and support","Security audit and remediation"],estimatedTime:"4-6 hours",responsibleTeam:"Security Team",lastUpdated:"2025-01-01T00:00:00Z",isActive:!0},{id:"plan_002",name:"DDoS Attack Mitigation",category:"ddos_attack",description:"Rapid response protocol for distributed denial of service attacks",severity:"high",autoTrigger:!0,steps:["Activate DDoS protection services","Scale infrastructure capacity","Implement traffic filtering","Monitor and adjust defenses","Post-incident analysis"],estimatedTime:"1-2 hours",responsibleTeam:"Infrastructure Team",lastUpdated:"2025-01-01T00:00:00Z",isActive:!0},{id:"plan_003",name:"Legal Threat Management",category:"legal_threat",description:"Standard operating procedure for legal challenges and compliance issues",severity:"medium",autoTrigger:!1,steps:["Legal team assessment","Evidence preservation","Stakeholder notification","Response strategy development","Implementation and monitoring"],estimatedTime:"2-4 days",responsibleTeam:"Legal Team",lastUpdated:"2025-01-01T00:00:00Z",isActive:!0},{id:"plan_004",name:"System Failure Recovery",category:"system_failure",description:"Emergency recovery procedures for critical system outages",severity:"high",autoTrigger:!0,steps:["System health assessment","Failover to backup systems","Root cause identification","Service restoration","Post-mortem analysis"],estimatedTime:"30-90 minutes",responsibleTeam:"Operations Team",lastUpdated:"2025-01-01T00:00:00Z",isActive:!0}],u=[{id:"alert_001",alertType:"security",message:"Unusual login patterns detected from multiple IP ranges",severity:"high",source:"FanzShield Security System",timestamp:"2025-01-15T12:00:00Z",status:"new",platform:"All",autoGenerated:!0},{id:"alert_002",alertType:"compliance",message:"GDPR data subject access requests exceeding normal threshold",severity:"medium",source:"Compliance Monitoring",timestamp:"2025-01-15T11:45:00Z",status:"acknowledged",platform:"GirlFanz",autoGenerated:!0},{id:"alert_003",alertType:"operational",message:"Database performance degradation detected",severity:"medium",source:"System Monitoring",timestamp:"2025-01-15T11:30:00Z",status:"investigating",platform:"BoyFanz",autoGenerated:!0},{id:"alert_004",alertType:"reputation",message:"Negative sentiment spike detected on social media",severity:"low",source:"Social Media Monitor",timestamp:"2025-01-15T10:15:00Z",status:"resolved",platform:"FanzLab",autoGenerated:!0}],h=kt({mutationFn:w=>Kt("POST",`/api/crisis/${w}/escalate`),onSuccess:(w,E)=>{e.invalidateQueries({queryKey:["/api/crisis"]});const T=c.find(P=>P.id===E);n({title:"Crisis escalated",description:`${T?.title} has been escalated to the next level`})}}),m=kt({mutationFn:w=>Kt("POST",`/api/crisis/${w}/resolve`),onSuccess:(w,E)=>{e.invalidateQueries({queryKey:["/api/crisis"]});const T=c.find(P=>P.id===E);n({title:"Crisis resolved",description:`${T?.title} has been marked as resolved`})}}),y=kt({mutationFn:w=>Kt("POST",`/api/alerts/${w}/acknowledge`),onSuccess:(w,E)=>{e.invalidateQueries({queryKey:["/api/alerts"]}),n({title:"Alert acknowledged",description:"Alert has been acknowledged and assigned for investigation"})}}),N=w=>{const E={low:"bg-blue-600",medium:"bg-yellow-600",high:"bg-orange-600",critical:"bg-red-600"};return t.jsx(de,{className:E[w]||"bg-gray-600",children:w.toUpperCase()})},j=w=>{const E={active:"bg-red-600",investigating:"bg-yellow-600",resolving:"bg-orange-600",resolved:"bg-green-600",escalated:"bg-purple-600",new:"bg-blue-600",acknowledged:"bg-yellow-600"};return t.jsx(de,{className:E[w]||"bg-gray-600",children:w.replace("_"," ").toUpperCase()})},v=w=>{switch(w){case"security_breach":return t.jsx(En,{className:"w-4 h-4"});case"ddos_attack":return t.jsx(va,{className:"w-4 h-4"});case"content_violation":return t.jsx(qA,{className:"w-4 h-4"});case"legal_threat":return t.jsx(ln,{className:"w-4 h-4"});case"system_failure":return t.jsx(cF,{className:"w-4 h-4"});case"data_leak":return t.jsx(jl,{className:"w-4 h-4"});case"compliance_issue":return t.jsx(xn,{className:"w-4 h-4"});default:return t.jsx(fj,{className:"w-4 h-4"})}},b=w=>{switch(w){case"security":return t.jsx(En,{className:"w-4 h-4"});case"compliance":return t.jsx(xn,{className:"w-4 h-4"});case"operational":return t.jsx(cF,{className:"w-4 h-4"});case"legal":return t.jsx(ln,{className:"w-4 h-4"});case"reputation":return t.jsx(er,{className:"w-4 h-4"});default:return t.jsx(fj,{className:"w-4 h-4"})}},A=c.filter(w=>{const E=a==="all"||w.severity===a,T=o==="all"||w.status===o,P=!s||w.title.toLowerCase().includes(s.toLowerCase())||w.description.toLowerCase().includes(s.toLowerCase());return E&&T&&P}),S={activeCrises:c.filter(w=>w.status==="active"||w.status==="investigating"||w.status==="resolving").length,criticalCrises:c.filter(w=>w.severity==="critical").length,newAlerts:u.filter(w=>w.status==="new").length,totalAffectedUsers:c.reduce((w,E)=>E.status!=="resolved"?w+E.affectedUsers:w,0)};return t.jsx("div",{className:"min-h-screen cyber-bg",children:t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"Crisis Management & Security Response"}),t.jsx("p",{className:"text-muted-foreground",children:"Enterprise-grade crisis response and threat management system"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(de,{variant:"outline",className:`border-2 ${S.activeCrises>0?"border-red-500 text-red-400":"border-green-500 text-green-400"}`,children:[t.jsx(tj,{className:"w-4 h-4 mr-2"}),S.activeCrises," Active Crisis",S.activeCrises!==1?"es":""]}),t.jsxs(te,{variant:"destructive","data-testid":"button-emergency-response",children:[t.jsx(ln,{className:"w-4 h-4 mr-2"}),"Emergency Response"]})]})]}),S.activeCrises>0&&t.jsx($,{className:"bg-red-900/20 border-red-500/50",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(tj,{className:"w-6 h-6 text-red-400 animate-pulse"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-red-300 font-semibold",children:[S.activeCrises," Active Crisis",S.activeCrises!==1?"es":""," Requiring Immediate Attention"]}),t.jsxs("p",{className:"text-red-400 text-sm",children:[S.totalAffectedUsers.toLocaleString()," users potentially affected"]})]})]})})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx($,{className:"bg-gray-900/50 border-red-500/20",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ln,{className:"h-8 w-8 text-red-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Active Crises"}),t.jsx("p",{className:"text-2xl font-bold text-red-400",children:S.activeCrises})]})]})})}),t.jsx($,{className:"bg-gray-900/50 border-orange-500/20",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(tj,{className:"h-8 w-8 text-orange-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Critical Level"}),t.jsx("p",{className:"text-2xl font-bold text-orange-400",children:S.criticalCrises})]})]})})}),t.jsx($,{className:"bg-gray-900/50 border-yellow-500/20",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(fj,{className:"h-8 w-8 text-yellow-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"New Alerts"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:S.newAlerts})]})]})})}),t.jsx($,{className:"bg-gray-900/50 border-blue-500/20",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(er,{className:"h-8 w-8 text-blue-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Affected Users"}),t.jsxs("p",{className:"text-2xl font-bold text-blue-400",children:[(S.totalAffectedUsers/1e3).toFixed(0),"K"]})]})]})})})]}),t.jsxs(Xs,{defaultValue:"crises",className:"w-full",children:[t.jsxs($s,{className:"grid w-full grid-cols-4",children:[t.jsx(lt,{value:"crises",children:"Active Crises"}),t.jsx(lt,{value:"alerts",children:"Threat Alerts"}),t.jsx(lt,{value:"plans",children:"Response Plans"}),t.jsx(lt,{value:"command",children:"Command Center"})]}),t.jsx(ct,{value:"crises",className:"space-y-6",children:t.jsxs($,{className:"bg-gray-900/50 border-cyan-500/20",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-cyan-400",children:"Crisis Events"}),t.jsx(Ct,{children:"Active and recent crisis events requiring management attention"})]}),t.jsxs(q,{children:[t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(jr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Fe,{placeholder:"Search crisis events...",value:s,onChange:w=>r(w.target.value),className:"pl-10 bg-gray-800 border-gray-700","data-testid":"input-crisis-search"})]}),t.jsxs(sn,{value:a,onValueChange:i,children:[t.jsx(en,{className:"w-[150px] bg-gray-800 border-gray-700",children:t.jsx(rn,{placeholder:"Filter by severity"})}),t.jsxs(tn,{children:[t.jsx(re,{value:"all",children:"All Severity"}),t.jsx(re,{value:"low",children:"Low"}),t.jsx(re,{value:"medium",children:"Medium"}),t.jsx(re,{value:"high",children:"High"}),t.jsx(re,{value:"critical",children:"Critical"})]})]}),t.jsxs(sn,{value:o,onValueChange:l,children:[t.jsx(en,{className:"w-[150px] bg-gray-800 border-gray-700",children:t.jsx(rn,{placeholder:"Filter by status"})}),t.jsxs(tn,{children:[t.jsx(re,{value:"all",children:"All Status"}),t.jsx(re,{value:"active",children:"Active"}),t.jsx(re,{value:"investigating",children:"Investigating"}),t.jsx(re,{value:"resolving",children:"Resolving"}),t.jsx(re,{value:"resolved",children:"Resolved"})]})]})]}),t.jsx("div",{className:"space-y-4",children:A.map(w=>t.jsx($,{className:`bg-gray-800/50 border-l-4 ${w.severity==="critical"?"border-l-red-500":w.severity==="high"?"border-l-orange-500":w.severity==="medium"?"border-l-yellow-500":"border-l-blue-500"}`,children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[v(w.category),t.jsx("h3",{className:"font-semibold text-white text-lg",children:w.title}),N(w.severity),j(w.status)]}),t.jsx("p",{className:"text-gray-300 mb-3",children:w.description}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Platform:"}),t.jsx("p",{className:"text-white font-medium",children:w.platform})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Affected Users:"}),t.jsx("p",{className:"text-white font-medium",children:w.affectedUsers.toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Started:"}),t.jsx("p",{className:"text-white font-medium",children:new Date(w.startTime).toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Assigned To:"}),t.jsx("p",{className:"text-white font-medium capitalize",children:w.assignedTo.replace("_"," ")})]})]}),w.responseActions.length>0&&t.jsxs("div",{className:"mt-3",children:[t.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Response Actions:"}),t.jsx("ul",{className:"text-sm text-gray-300 space-y-1",children:w.responseActions.map((E,T)=>t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(xn,{className:"w-3 h-3 text-green-400"}),E]},T))})]})]}),t.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[w.status!=="resolved"&&t.jsxs(t.Fragment,{children:[t.jsxs(te,{size:"sm",onClick:()=>h.mutate(w.id),disabled:h.isPending,variant:"destructive","data-testid":`button-escalate-${w.id}`,children:[t.jsx(ln,{className:"w-3 h-3 mr-1"}),"Escalate"]}),t.jsxs(te,{size:"sm",onClick:()=>m.mutate(w.id),disabled:m.isPending,className:"bg-green-600 hover:bg-green-700","data-testid":`button-resolve-${w.id}`,children:[t.jsx(xn,{className:"w-3 h-3 mr-1"}),"Resolve"]})]}),t.jsxs(te,{size:"sm",variant:"outline","data-testid":`button-view-${w.id}`,children:[t.jsx(Mn,{className:"w-3 h-3 mr-1"}),"Details"]})]})]})})},w.id))})]})]})}),t.jsx(ct,{value:"alerts",className:"space-y-6",children:t.jsxs($,{className:"bg-gray-900/50 border-cyan-500/20",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-cyan-400",children:"Threat Alerts"}),t.jsx(Ct,{children:"Real-time security and operational alerts"})]}),t.jsx(q,{children:t.jsx("div",{className:"border rounded-lg bg-gray-800/50",children:t.jsxs(Ar,{children:[t.jsx(Cr,{children:t.jsxs(Vn,{children:[t.jsx(He,{children:"Alert"}),t.jsx(He,{children:"Type"}),t.jsx(He,{children:"Severity"}),t.jsx(He,{children:"Platform"}),t.jsx(He,{children:"Status"}),t.jsx(He,{children:"Time"}),t.jsx(He,{children:"Actions"})]})}),t.jsx(Tr,{children:u.map(w=>t.jsxs(Vn,{children:[t.jsx(Ve,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[b(w.alertType),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:w.message}),t.jsx("p",{className:"text-xs text-gray-400",children:w.source})]})]})}),t.jsx(Ve,{children:t.jsx(de,{variant:"outline",className:"capitalize",children:w.alertType})}),t.jsx(Ve,{children:N(w.severity)}),t.jsx(Ve,{children:t.jsx(de,{variant:"outline",children:w.platform})}),t.jsx(Ve,{children:j(w.status)}),t.jsx(Ve,{className:"text-sm text-gray-400",children:new Date(w.timestamp).toLocaleString()}),t.jsx(Ve,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[w.status==="new"&&t.jsx(te,{size:"sm",onClick:()=>y.mutate(w.id),disabled:y.isPending,"data-testid":`button-acknowledge-${w.id}`,children:t.jsx(xn,{className:"w-3 h-3"})}),t.jsx(te,{size:"sm",variant:"outline","data-testid":`button-view-alert-${w.id}`,children:t.jsx(Mn,{className:"w-3 h-3"})})]})})]},w.id))})]})})})]})}),t.jsx(ct,{value:"plans",className:"space-y-6",children:t.jsxs($,{className:"bg-gray-900/50 border-cyan-500/20",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-cyan-400",children:"Crisis Response Plans"}),t.jsx(Ct,{children:"Automated and manual crisis response procedures"})]}),t.jsx(q,{children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.map(w=>t.jsx($,{className:"bg-gray-800/50",children:t.jsxs(q,{className:"p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-white",children:w.name}),t.jsx("p",{className:"text-sm text-gray-400",children:w.description})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[N(w.severity),w.autoTrigger&&t.jsxs(de,{className:"bg-blue-600",children:[t.jsx(Hf,{className:"w-3 h-3 mr-1"}),"Auto"]})]})]}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Team:"}),t.jsx("span",{className:"text-white",children:w.responsibleTeam})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Estimated Time:"}),t.jsx("span",{className:"text-white",children:w.estimatedTime})]})]}),t.jsxs("div",{className:"mt-3",children:[t.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Response Steps:"}),t.jsxs("ul",{className:"text-xs text-gray-300 space-y-1",children:[w.steps.slice(0,3).map((E,T)=>t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 bg-cyan-400 rounded-full"}),E]},T)),w.steps.length>3&&t.jsxs("li",{className:"text-gray-400",children:["+",w.steps.length-3," more steps..."]})]})]})]})},w.id))})})]})}),t.jsx(ct,{value:"command",className:"space-y-6",children:t.jsxs($,{className:"bg-gray-900/50 border-cyan-500/20",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-cyan-400",children:"Crisis Command Center"}),t.jsx(Ct,{children:"Centralized crisis management and coordination hub"})]}),t.jsxs(q,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs($,{className:"bg-gray-800/50",children:[t.jsx(oe,{className:"pb-3",children:t.jsxs(le,{className:"text-lg text-white flex items-center gap-2",children:[t.jsx(Ks,{className:"w-5 h-5"}),"System Status"]})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Overall Health"}),t.jsx(de,{className:"bg-green-600",children:"OPERATIONAL"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Security Level"}),t.jsx(de,{className:"bg-orange-600",children:"ELEVATED"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Response Teams"}),t.jsx(de,{className:"bg-green-600",children:"READY"})]})]})})]}),t.jsxs($,{className:"bg-gray-800/50",children:[t.jsx(oe,{className:"pb-3",children:t.jsxs(le,{className:"text-lg text-white flex items-center gap-2",children:[t.jsx(la,{className:"w-5 h-5"}),"Response Metrics"]})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-3 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Avg Response Time"}),t.jsx("span",{className:"text-white font-mono",children:"4.2m"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Resolution Rate"}),t.jsx("span",{className:"text-green-400 font-mono",children:"96.8%"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Escalation Rate"}),t.jsx("span",{className:"text-yellow-400 font-mono",children:"8.4%"})]})]})})]}),t.jsxs($,{className:"bg-gray-800/50",children:[t.jsx(oe,{className:"pb-3",children:t.jsxs(le,{className:"text-lg text-white flex items-center gap-2",children:[t.jsx(kv,{className:"w-5 h-5"}),"Emergency Contacts"]})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Security Team"}),t.jsx(te,{size:"sm",variant:"outline",className:"h-6 px-2",children:t.jsx(kv,{className:"w-3 h-3"})})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Legal Team"}),t.jsx(te,{size:"sm",variant:"outline",className:"h-6 px-2",children:t.jsx(kv,{className:"w-3 h-3"})})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"PR Team"}),t.jsx(te,{size:"sm",variant:"outline",className:"h-6 px-2",children:t.jsx(J1,{className:"w-3 h-3"})})]})]})})]})]}),t.jsxs("div",{className:"mt-6 text-center",children:[t.jsx("p",{className:"text-lg font-medium text-white mb-4",children:"Crisis Management Ready"}),t.jsx("p",{className:"text-gray-400 mb-6",children:"All systems operational with automated threat detection and response capabilities active"}),t.jsxs("div",{className:"flex justify-center gap-4",children:[t.jsxs(te,{className:"bg-red-600 hover:bg-red-700","data-testid":"button-activate-emergency",children:[t.jsx(tj,{className:"w-4 h-4 mr-2"}),"Activate Emergency Protocol"]}),t.jsxs(te,{variant:"outline","data-testid":"button-test-systems",children:[t.jsx(lr,{className:"w-4 h-4 mr-2"}),"Test Systems"]})]})]})]})]})})]})]})})}function p2e(){const[n,e]=R.useState("7d"),[s,r]=R.useState("all"),{data:a,isLoading:i}=wn({queryKey:["/api/analytics/advanced",n,s],refetchInterval:3e4}),o={contentAnalysis:{totalContent:2847561,growthRate:15.3,riskDistribution:{safe:87.4,suspicious:9.2,flagged:2.8,blocked:.6},contentTypes:{images:{count:1547832,risk:3.2,blocked:432},videos:{count:897645,risk:4.7,blocked:587},text:{count:345621,risk:1.8,blocked:89},livestreams:{count:56463,risk:6.1,blocked:123}},aiPerformance:{accuracy:96.8,falsePositives:2.1,falseNegatives:1.1,averageProcessingTime:1.24,confidenceScore:94.7}},userBehavior:{totalUsers:2847512,activeUsers:1456789,newRegistrations:23456,suspiciousAccounts:1247,accountsBlocked:347,geographicDistribution:[{region:"North America",users:45.2,risk:2.8},{region:"Europe",users:32.1,risk:3.4},{region:"Asia Pacific",users:15.7,risk:4.1},{region:"Latin America",users:4.8,risk:5.2},{region:"Other",users:2.2,risk:6.7}]},moderatorEfficiency:{totalModerators:24,activeModerators:18,averageReviewTime:2.3,workloadDistribution:[{moderator:"Sarah_Admin",reviews:1247,accuracy:98.2,avgTime:1.8},{moderator:"Alex_Mod",reviews:967,accuracy:97.8,avgTime:2.1},{moderator:"Jordan_Mod",reviews:834,accuracy:96.9,avgTime:2.4},{moderator:"Riley_Mod",reviews:756,accuracy:95.7,avgTime:2.8}],burnoutRisk:[{moderator:"Alex_Mod",riskLevel:78,reason:"High volume, long hours"},{moderator:"Casey_Mod",riskLevel:65,reason:"Difficult content exposure"}]},platformComparison:[{platform:"FanzMain Adult",metrics:{contentVolume:1247832,riskScore:6.7,moderationSpeed:1.9,userSatisfaction:87.3,revenueImpact:2.1}},{platform:"FanzLive Streaming",metrics:{contentVolume:834567,riskScore:4.2,moderationSpeed:2.4,userSatisfaction:91.7,revenueImpact:1.3}},{platform:"FanzSocial Community",metrics:{contentVolume:765162,riskScore:3.8,moderationSpeed:1.6,userSatisfaction:93.1,revenueImpact:.8}}],predictiveAnalytics:{riskForecast:{nextWeek:{riskLevel:"medium",confidence:87},nextMonth:{riskLevel:"high",confidence:73},seasonal:{riskLevel:"variable",confidence:65}},resourceNeeds:{moderatorsNeeded:3,serverCapacity:15,budgetImpact:12.7},trendsDetected:[{trend:"Increased deepfake content",severity:"high",confidence:92},{trend:"Coordinated spam campaigns",severity:"medium",confidence:84},{trend:"New evasion techniques",severity:"high",confidence:78}]}};return i?t.jsx("div",{className:"min-h-screen cyber-bg flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(la,{className:"w-16 h-16 mx-auto mb-4 cyber-pulse text-primary"}),t.jsx("p",{className:"cyber-text-glow",children:"Loading Advanced Analytics..."})]})}):t.jsx("div",{className:"min-h-screen cyber-bg",children:t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"Advanced Analytics Center"}),t.jsx("p",{className:"text-muted-foreground",children:"Deep Insights & Predictive Intelligence"})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs(sn,{value:n,onValueChange:e,children:[t.jsx(en,{className:"w-32",children:t.jsx(rn,{})}),t.jsxs(tn,{children:[t.jsx(re,{value:"24h",children:"24 Hours"}),t.jsx(re,{value:"7d",children:"7 Days"}),t.jsx(re,{value:"30d",children:"30 Days"}),t.jsx(re,{value:"90d",children:"90 Days"})]})]}),t.jsxs(sn,{value:s,onValueChange:r,children:[t.jsx(en,{className:"w-40",children:t.jsx(rn,{})}),t.jsxs(tn,{children:[t.jsx(re,{value:"all",children:"All Platforms"}),t.jsx(re,{value:"main",children:"FanzMain Adult"}),t.jsx(re,{value:"live",children:"FanzLive Streaming"}),t.jsx(re,{value:"social",children:"FanzSocial Community"})]})]}),t.jsxs(te,{variant:"outline",className:"cyber-border",children:[t.jsx(Mn,{className:"w-4 h-4 mr-2"}),"Export Report"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[t.jsx($,{className:"cyber-card",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsxs("div",{className:"text-2xl font-bold text-primary cyber-text-glow",children:[(o.contentAnalysis.totalContent/1e6).toFixed(1),"M"]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Content"}),t.jsxs("div",{className:"flex items-center justify-center mt-1",children:[t.jsx(or,{className:"w-3 h-3 text-green-400 mr-1"}),t.jsxs("span",{className:"text-xs text-green-400",children:["+",o.contentAnalysis.growthRate,"%"]})]})]})}),t.jsx($,{className:"cyber-card",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsxs("div",{className:"text-2xl font-bold text-green-400 cyber-text-glow",children:[o.contentAnalysis.riskDistribution.safe,"%"]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Safe Content"})]})}),t.jsx($,{className:"cyber-card",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsxs("div",{className:"text-2xl font-bold text-yellow-400 cyber-text-glow",children:[o.contentAnalysis.riskDistribution.flagged,"%"]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Flagged Content"})]})}),t.jsx($,{className:"cyber-card",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsxs("div",{className:"text-2xl font-bold text-blue-400 cyber-text-glow",children:[o.contentAnalysis.aiPerformance.accuracy,"%"]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"AI Accuracy"})]})}),t.jsx($,{className:"cyber-card",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsxs("div",{className:"text-2xl font-bold text-accent cyber-text-glow",children:[o.moderatorEfficiency.averageReviewTime,"min"]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Review Time"})]})}),t.jsx($,{className:"cyber-card",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsxs("div",{className:"text-2xl font-bold text-purple-400 cyber-text-glow",children:[(o.userBehavior.activeUsers/1e6).toFixed(1),"M"]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Users"})]})})]}),t.jsxs(Xs,{defaultValue:"content",className:"space-y-6",children:[t.jsxs($s,{className:"grid w-full grid-cols-5 cyber-card",children:[t.jsx(lt,{value:"content",children:"Content Intelligence"}),t.jsx(lt,{value:"behavior",children:"User Behavior"}),t.jsx(lt,{value:"moderators",children:"Moderator Analytics"}),t.jsx(lt,{value:"platforms",children:"Platform Comparison"}),t.jsx(lt,{value:"predictions",children:"Predictive AI"})]}),t.jsxs(ct,{value:"content",className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs($,{className:"cyber-card neural-network",children:[t.jsx(oe,{children:t.jsx(le,{className:"cyber-text-glow",children:"CONTENT TYPE ANALYSIS"})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-4",children:Object.entries(o.contentAnalysis.contentTypes).map(([l,c])=>t.jsxs("div",{className:"flex items-center justify-between p-3 cyber-card border border-primary/20",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(P$,{className:"w-5 h-5 text-primary"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium capitalize",children:l}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[c.count.toLocaleString()," items"]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-sm font-bold text-red-400",children:[c.risk,"% risk"]}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:[c.blocked," blocked"]})]})]},l))})})]}),t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsx(le,{className:"cyber-text-glow",children:"AI PERFORMANCE METRICS"})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Detection Accuracy"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("span",{className:"font-bold text-green-400",children:[o.contentAnalysis.aiPerformance.accuracy,"%"]}),t.jsx(or,{className:"w-4 h-4 text-green-400"})]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"False Positives"}),t.jsxs("span",{className:"font-bold text-yellow-400",children:[o.contentAnalysis.aiPerformance.falsePositives,"%"]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"False Negatives"}),t.jsxs("span",{className:"font-bold text-red-400",children:[o.contentAnalysis.aiPerformance.falseNegatives,"%"]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Processing Speed"}),t.jsxs("span",{className:"font-bold text-blue-400",children:[o.contentAnalysis.aiPerformance.averageProcessingTime,"s"]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Confidence Score"}),t.jsxs("span",{className:"font-bold text-primary",children:[o.contentAnalysis.aiPerformance.confidenceScore,"%"]})]})]})})]})]}),t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsx(le,{className:"cyber-text-glow",children:"RISK DISTRIBUTION ANALYSIS"})}),t.jsx(q,{children:t.jsx("div",{className:"grid grid-cols-4 gap-6",children:Object.entries(o.contentAnalysis.riskDistribution).map(([l,c])=>t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:`text-3xl font-bold mb-2 ${l==="safe"?"text-green-400":l==="suspicious"?"text-yellow-400":l==="flagged"?"text-orange-400":"text-red-400"} cyber-text-glow`,children:[c,"%"]}),t.jsx("div",{className:"text-sm text-muted-foreground capitalize",children:l}),t.jsx("div",{className:"w-full bg-muted rounded-full h-2 mt-2",children:t.jsx("div",{className:`h-2 rounded-full ${l==="safe"?"bg-green-400":l==="suspicious"?"bg-yellow-400":l==="flagged"?"bg-orange-400":"bg-red-400"}`,style:{width:`${c}%`}})})]},l))})})]})]}),t.jsx(ct,{value:"behavior",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsx(le,{className:"cyber-text-glow",children:"USER ACTIVITY PATTERNS"})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Total Registered Users"}),t.jsx("span",{className:"font-bold text-primary",children:o.userBehavior.totalUsers.toLocaleString()})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Daily Active Users"}),t.jsx("span",{className:"font-bold text-green-400",children:o.userBehavior.activeUsers.toLocaleString()})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"New Registrations"}),t.jsx("span",{className:"font-bold text-blue-400",children:o.userBehavior.newRegistrations.toLocaleString()})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Suspicious Accounts"}),t.jsx("span",{className:"font-bold text-yellow-400",children:o.userBehavior.suspiciousAccounts.toLocaleString()})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Blocked Accounts"}),t.jsx("span",{className:"font-bold text-red-400",children:o.userBehavior.accountsBlocked.toLocaleString()})]})]})})]}),t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsx(le,{className:"cyber-text-glow",children:"GEOGRAPHIC RISK DISTRIBUTION"})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-3",children:o.userBehavior.geographicDistribution.map((l,c)=>t.jsxs("div",{className:"flex items-center justify-between p-3 cyber-card border border-primary/20",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:`w-3 h-3 rounded-full ${c===0?"bg-blue-500":c===1?"bg-green-500":c===2?"bg-yellow-500":c===3?"bg-orange-500":"bg-red-500"}`}),t.jsx("span",{className:"font-medium",children:l.region})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-sm font-bold",children:[l.users,"% users"]}),t.jsxs("div",{className:`text-xs ${l.risk<3?"text-green-400":l.risk<5?"text-yellow-400":"text-red-400"}`,children:[l.risk,"% risk"]})]})]},l.region))})})]})]})}),t.jsx(ct,{value:"moderators",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsx(le,{className:"cyber-text-glow",children:"MODERATOR PERFORMANCE"})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-4",children:o.moderatorEfficiency.workloadDistribution.map((l,c)=>t.jsxs("div",{className:"flex items-center justify-between p-3 cyber-card border border-primary/20",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${c===0?"bg-primary text-white":c===1?"bg-secondary text-white":c===2?"bg-accent text-white":"bg-muted text-foreground"}`,children:l.moderator.split("_")[0][0]}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:l.moderator.replace("_"," ")}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.reviews," reviews"]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-sm font-bold text-green-400",children:[l.accuracy,"%"]}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:[l.avgTime,"min avg"]})]})]},l.moderator))})})]}),t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsx(le,{className:"cyber-text-glow",children:"BURNOUT RISK ASSESSMENT"})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 border border-yellow-500/20 rounded-lg",children:[t.jsx("h4",{className:"font-medium text-yellow-400 mb-2",children:"Moderate Risk Detected"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"2 moderators showing signs of potential burnout"}),t.jsx("div",{className:"space-y-2",children:o.moderatorEfficiency.burnoutRisk.map((l,c)=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm",children:l.moderator.replace("_"," ")}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-sm font-bold text-yellow-400",children:[l.riskLevel,"%"]}),t.jsx("div",{className:"text-xs text-muted-foreground",children:l.reason})]})]},l.moderator))})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"text-center p-3 cyber-card",children:[t.jsx("div",{className:"text-xl font-bold text-primary",children:o.moderatorEfficiency.totalModerators}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Staff"})]}),t.jsxs("div",{className:"text-center p-3 cyber-card",children:[t.jsx("div",{className:"text-xl font-bold text-green-400",children:o.moderatorEfficiency.activeModerators}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Currently Active"})]})]})]})})]})]})}),t.jsx(ct,{value:"platforms",className:"space-y-6",children:t.jsxs($,{className:"cyber-card neural-network",children:[t.jsx(oe,{children:t.jsx(le,{className:"cyber-text-glow",children:"CROSS-PLATFORM PERFORMANCE COMPARISON"})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-6",children:o.platformComparison.map((l,c)=>t.jsxs("div",{className:"p-4 cyber-card border border-primary/20",children:[t.jsx("h3",{className:"font-medium mb-4",children:l.platform}),t.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-lg font-bold text-primary",children:[(l.metrics.contentVolume/1e3).toFixed(0),"K"]}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Content Volume"})]}),t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:`text-lg font-bold ${l.metrics.riskScore>5?"text-red-400":l.metrics.riskScore>3?"text-yellow-400":"text-green-400"}`,children:[l.metrics.riskScore,"%"]}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Risk Score"})]}),t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-lg font-bold text-blue-400",children:[l.metrics.moderationSpeed,"min"]}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Moderation Speed"})]}),t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-lg font-bold text-green-400",children:[l.metrics.userSatisfaction,"%"]}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"User Satisfaction"})]}),t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:`text-lg font-bold ${l.metrics.revenueImpact<1?"text-green-400":l.metrics.revenueImpact<2?"text-yellow-400":"text-red-400"}`,children:[l.metrics.revenueImpact,"%"]}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Revenue Impact"})]})]})]},l.platform))})})]})}),t.jsx(ct,{value:"predictions",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(Gr,{className:"w-5 h-5 text-primary"}),t.jsx("span",{children:"Risk Forecasting"})]})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-sm",children:"Next Week"}),t.jsx(de,{className:"bg-yellow-600",children:o.predictiveAnalytics.riskForecast.nextWeek.riskLevel.toUpperCase()})]}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Confidence:"," ",o.predictiveAnalytics.riskForecast.nextWeek.confidence,"%"]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-sm",children:"Next Month"}),t.jsx(de,{className:"bg-red-600",children:o.predictiveAnalytics.riskForecast.nextMonth.riskLevel.toUpperCase()})]}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Confidence:"," ",o.predictiveAnalytics.riskForecast.nextMonth.confidence,"%"]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-sm",children:"Seasonal Trends"}),t.jsx(de,{variant:"outline",children:o.predictiveAnalytics.riskForecast.seasonal.riskLevel.toUpperCase()})]}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Confidence:"," ",o.predictiveAnalytics.riskForecast.seasonal.confidence,"%"]})]})]})})]}),t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(au,{className:"w-5 h-5 text-green-500"}),t.jsx("span",{children:"Resource Planning"})]})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm",children:"Additional Moderators"}),t.jsxs("span",{className:"font-bold text-primary",children:["+",o.predictiveAnalytics.resourceNeeds.moderatorsNeeded]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm",children:"Server Capacity Increase"}),t.jsxs("span",{className:"font-bold text-blue-400",children:["+",o.predictiveAnalytics.resourceNeeds.serverCapacity,"%"]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm",children:"Budget Impact"}),t.jsxs("span",{className:"font-bold text-yellow-400",children:["+$",o.predictiveAnalytics.resourceNeeds.budgetImpact,"K"]})]})]})})]}),t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(va,{className:"w-5 h-5 text-red-500"}),t.jsx("span",{children:"Emerging Threats"})]})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-3",children:o.predictiveAnalytics.trendsDetected.map((l,c)=>t.jsxs("div",{className:"p-3 cyber-card border border-primary/20",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsx("div",{className:"font-medium text-sm",children:l.trend}),t.jsx(de,{className:l.severity==="high"?"bg-red-600":"bg-yellow-600",children:l.severity})]}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Confidence: ",l.confidence,"%"]})]},c))})})]})]})})]})]})})}function x2e(){const[n,e]=R.useState(!1),{toast:s}=Dn(),{data:r,isLoading:a}=wn({queryKey:["/api/risk/correlation"],refetchInterval:3e4}),{data:i}=wn({queryKey:["/api/risk/realtime"],refetchInterval:5e3}),{data:o}=wn({queryKey:["/api/threats/alerts"],refetchInterval:1e4}),l=async()=>{e(!0);try{await Kt("/api/risk/predict","POST",{uploader:"test-user",uploadTime:new Date().toISOString(),contentType:"image",fileSize:2048576,previousViolations:0,accountAge:90}),s({title:"Predictive Analysis Complete",description:"Risk modeling updated with latest patterns"})}catch{s({title:"Analysis Failed",description:"Unable to complete predictive analysis",variant:"destructive"})}setTimeout(()=>e(!1),3e3)};return a?t.jsx("div",{className:"min-h-screen cyber-bg flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Gr,{className:"w-16 h-16 mx-auto mb-4 cyber-pulse text-primary"}),t.jsx("p",{className:"cyber-text-glow",children:"Loading Predictive Intelligence..."})]})}):t.jsx("div",{className:"min-h-screen cyber-bg",children:t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"Predictive Analytics Engine"}),t.jsx("p",{className:"text-muted-foreground",children:"AI-Powered Threat Intelligence & Risk Forecasting"})]}),t.jsx(te,{onClick:l,disabled:n,className:"neon-button","data-testid":"run-predictive-button",children:n?t.jsxs(t.Fragment,{children:[t.jsx(va,{className:"w-4 h-4 mr-2 animate-spin"}),"Analyzing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Gr,{className:"w-4 h-4 mr-2"}),"Run Analysis"]})})]}),t.jsxs($,{className:"cyber-card bg-gradient-to-r from-red-500/10 to-orange-500/10 border border-red-500/30",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(En,{className:"w-6 h-6 text-red-400"}),t.jsx("span",{className:"cyber-text-glow",children:"CURRENT THREAT LEVEL"})]})}),t.jsx(q,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-4xl font-bold text-red-400 cyber-text-glow",children:i?.currentThreatLevel||"MEDIUM"}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:["Last Updated: ",new Date().toLocaleTimeString()]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-2xl font-bold text-primary",children:i?.activeModerations||42}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Active Moderations"})]})]})})]}),t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(ln,{className:"w-6 h-6 text-yellow-400 cyber-pulse"}),t.jsx("span",{className:"cyber-text-glow",children:"ACTIVE THREAT ALERTS"})]})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-4 max-h-80 overflow-y-auto",children:o?.map(c=>t.jsxs("div",{className:"flex items-center justify-between p-4 cyber-card border border-primary/20",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:`w-3 h-3 rounded-full ${c.severity==="HIGH"?"bg-red-500":c.severity==="MEDIUM"?"bg-yellow-500":"bg-green-500"} cyber-pulse`}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:c.type}),t.jsx("div",{className:"text-sm text-muted-foreground",children:c.description}),t.jsxs("div",{className:"text-xs text-primary",children:["Platforms: ",c.affectedPlatforms?.join(", ")]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx(de,{variant:c.severity==="HIGH"?"destructive":"default",children:c.severity}),t.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:new Date(c.detectedAt).toLocaleTimeString()})]})]},c.id))})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(la,{className:"w-6 h-6 text-primary"}),t.jsx("span",{children:"Risk Distribution"})]})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-4",children:i?.riskDistribution&&Object.entries(i.riskDistribution).map(([c,d])=>t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsxs("span",{className:`capitalize ${c==="critical"?"text-red-400":c==="high"?"text-orange-400":c==="medium"?"text-yellow-400":"text-green-400"}`,children:[c," Risk"]}),t.jsxs("span",{className:"font-bold",children:[d,"%"]})]}),t.jsx(Xn,{value:d,className:`h-2 ${c==="critical"?"bg-red-500/20":c==="high"?"bg-orange-500/20":c==="medium"?"bg-yellow-500/20":"bg-green-500/20"}`})]},c))})})]}),t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(Ks,{className:"w-6 h-6 text-primary"}),t.jsx("span",{children:"Platform Health"})]})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-4",children:i?.platformStats?.map(c=>t.jsxs("div",{className:"flex items-center justify-between p-3 cyber-card border border-primary/20",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:c.name}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:["Risk: ",(c.risk*100).toFixed(1),"%"]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:`w-2 h-2 rounded-full ${c.status==="healthy"?"bg-green-500":c.status==="elevated"?"bg-yellow-500":"bg-red-500"} cyber-pulse`}),t.jsx(de,{variant:c.status==="healthy"?"default":"secondary",className:"text-xs",children:c.status})]})]},c.name))})})]})]}),t.jsxs($,{className:"cyber-card neural-network",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(au,{className:"w-6 h-6 text-primary cyber-pulse"}),t.jsx("span",{className:"cyber-text-glow",children:"CROSS-PLATFORM RISK CORRELATIONS"})]})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-4",children:r?.correlations?.map((c,d)=>t.jsxs("div",{className:"p-4 cyber-card border border-primary/20",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("div",{className:"font-medium",children:c.platforms?.join(" ↔ ")}),t.jsxs(de,{variant:c.significance==="high"?"destructive":"default",children:[c.significance," significance"]})]}),t.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:c.pattern}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-xs text-muted-foreground",children:"Correlation:"}),t.jsx(Xn,{value:c.correlation*100,className:"flex-1 h-1"}),t.jsxs("span",{className:"text-xs font-bold text-primary",children:[(c.correlation*100).toFixed(1),"%"]})]})]},d))})})]}),t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(or,{className:"w-6 h-6 text-green-400"}),t.jsx("span",{children:"Model Performance"})]})}),t.jsx(q,{children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:i?.modelPerformance&&Object.entries(i.modelPerformance).map(([c,d])=>t.jsxs("div",{className:"text-center p-4 cyber-card",children:[t.jsx("div",{className:"text-2xl font-bold text-primary",children:typeof d=="string"?d:`${d}%`}),t.jsx("div",{className:"text-sm text-muted-foreground capitalize",children:c.replace(/([A-Z])/g," $1").trim()})]},c))})})]})]})})}function g2e(){const[n,e]=R.useState(!1),{toast:s}=Dn(),{data:r,isLoading:a}=wn({queryKey:["/api/compliance/report"],refetchInterval:6e4}),{data:i}=wn({queryKey:["/api/analytics/advanced"],refetchInterval:3e4}),o=async()=>{e(!0);try{const l=await Kt("/api/compliance/report","GET");s({title:"Compliance Report Generated",description:`Report ${l.reportId} is ready for download`})}catch{s({title:"Report Generation Failed",description:"Unable to generate compliance report",variant:"destructive"})}setTimeout(()=>e(!1),2e3)};return a?t.jsx("div",{className:"min-h-screen cyber-bg flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Pi,{className:"w-16 h-16 mx-auto mb-4 cyber-pulse text-primary"}),t.jsx("p",{className:"cyber-text-glow",children:"Loading Compliance Dashboard..."})]})}):t.jsx("div",{className:"min-h-screen cyber-bg",children:t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"Compliance Reporting"}),t.jsx("p",{className:"text-muted-foreground",children:"Enterprise-Grade Regulatory Compliance & Audit Trail"})]}),t.jsx(te,{onClick:o,disabled:n,className:"neon-button","data-testid":"generate-report-button",children:n?t.jsxs(t.Fragment,{children:[t.jsx(Pi,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(xi,{className:"w-4 h-4 mr-2"}),"Generate Report"]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx($,{className:"cyber-card bg-gradient-to-r from-green-500/10 to-emerald-500/10 border border-green-500/30",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx(xn,{className:"w-8 h-8 mx-auto mb-2 text-green-400"}),t.jsx("div",{className:"text-2xl font-bold text-green-400",children:r?.summary?.actionsTaken||8762}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Actions Taken"})]})}),t.jsx($,{className:"cyber-card bg-gradient-to-r from-blue-500/10 to-cyan-500/10 border border-blue-500/30",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx(En,{className:"w-8 h-8 mx-auto mb-2 text-blue-400"}),t.jsx("div",{className:"text-2xl font-bold text-blue-400",children:r?.auditTrail?.totalActions||15847}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Audit Records"})]})}),t.jsx($,{className:"cyber-card bg-gradient-to-r from-purple-500/10 to-violet-500/10 border border-purple-500/30",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx(Uj,{className:"w-8 h-8 mx-auto mb-2 text-purple-400"}),t.jsx("div",{className:"text-2xl font-bold text-purple-400",children:"100%"}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Legal Compliance"})]})}),t.jsx($,{className:"cyber-card bg-gradient-to-r from-orange-500/10 to-red-500/10 border border-orange-500/30",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx(ln,{className:"w-8 h-8 mx-auto mb-2 text-orange-400"}),t.jsx("div",{className:"text-2xl font-bold text-orange-400",children:r?.riskAssessment?.criticalIssues||0}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Critical Issues"})]})})]}),t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(Pi,{className:"w-6 h-6 text-primary"}),t.jsx("span",{className:"cyber-text-glow",children:"LATEST COMPLIANCE REPORT"})]})}),t.jsx(q,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Report ID:"}),t.jsx("span",{className:"font-mono text-primary",children:r?.reportId})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Generated:"}),t.jsx("span",{className:"text-sm",children:r?.generatedAt?new Date(r.generatedAt).toLocaleString():"N/A"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Timeframe:"}),t.jsx("span",{className:"text-sm",children:r?.timeframe||"30 days"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Risk Level:"}),t.jsx(de,{variant:"default",className:"bg-green-500/20 text-green-400",children:r?.riskAssessment?.overallRisk||"LOW"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Content:"}),t.jsx("span",{className:"font-bold text-primary",children:r?.summary?.totalContent?.toLocaleString()||"345,621"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Flagged Content:"}),t.jsx("span",{className:"font-bold text-yellow-400",children:r?.summary?.flaggedContent?.toLocaleString()||"8,934"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Appeals Processed:"}),t.jsx("span",{className:"font-bold text-blue-400",children:r?.summary?.appealProcessed||234})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"False Positives:"}),t.jsx("span",{className:"font-bold text-orange-400",children:r?.summary?.falsePositives||172})]})]})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(Uj,{className:"w-6 h-6 text-purple-400"}),t.jsx("span",{children:"Legal Compliance"})]})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center p-3 cyber-card border border-primary/20",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:"DMCA Requests"}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:[r?.legalCompliance?.dmcaComplied||12,"/",r?.legalCompliance?.dmcaRequests||12," ","Complied"]})]}),t.jsx(de,{variant:"default",className:"bg-green-500/20 text-green-400",children:"100%"})]}),t.jsxs("div",{className:"flex justify-between items-center p-3 cyber-card border border-primary/20",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:"Law Enforcement"}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:[r?.legalCompliance?.lawEnforcementComplied||3,"/",r?.legalCompliance?.lawEnforcementRequests||3," ","Complied"]})]}),t.jsx(de,{variant:"default",className:"bg-green-500/20 text-green-400",children:"100%"})]}),t.jsxs("div",{className:"flex justify-between items-center p-3 cyber-card border border-primary/20",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:"GDPR Requests"}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:[r?.legalCompliance?.gdprComplied||8,"/",r?.legalCompliance?.gdprRequests||8," ","Complied"]})]}),t.jsx(de,{variant:"default",className:"bg-green-500/20 text-green-400",children:"100%"})]})]})})]}),t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(Ii,{className:"w-6 h-6 text-blue-400"}),t.jsx("span",{children:"Audit Trail"})]})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Admin Actions:"}),t.jsx("span",{className:"font-bold text-primary",children:r?.auditTrail?.adminActions?.toLocaleString()||"1,203"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"System Actions:"}),t.jsx("span",{className:"font-bold text-primary",children:r?.auditTrail?.systemActions?.toLocaleString()||"14,644"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Data Integrity:"}),t.jsx(de,{variant:"default",className:"bg-green-500/20 text-green-400",children:r?.auditTrail?.dataIntegrity||"Verified"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"All Actions Logged:"}),t.jsx(de,{variant:"default",className:"bg-green-500/20 text-green-400",children:r?.auditTrail?.allActionsLogged?"Yes":"No"})]})]})})]})]}),t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(Mn,{className:"w-6 h-6 text-green-400"}),t.jsx("span",{className:"cyber-text-glow",children:"ADVANCED COMPLIANCE METRICS"})]})}),t.jsx(q,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"text-center p-4 cyber-card",children:[t.jsx("div",{className:"text-2xl font-bold text-green-400 cyber-text-glow",children:i?.complianceMetrics?.reportingAccuracy||"99.2%"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Reporting Accuracy"})]}),t.jsxs("div",{className:"text-center p-4 cyber-card",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-400 cyber-text-glow",children:i?.complianceMetrics?.responseTime||"< 2 min"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Response Time"})]}),t.jsxs("div",{className:"text-center p-4 cyber-card",children:[t.jsx("div",{className:"text-2xl font-bold text-purple-400 cyber-text-glow",children:i?.complianceMetrics?.auditTrail||"Complete"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Audit Trail"})]}),t.jsxs("div",{className:"text-center p-4 cyber-card",children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-400 cyber-text-glow",children:i?.complianceMetrics?.dataRetention||"Compliant"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Data Retention"})]})]})})]}),t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(En,{className:"w-6 h-6 text-red-400"}),t.jsx("span",{children:"Threat Detection Summary"})]})}),t.jsx(q,{children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:i?.threatDetection&&Object.entries(i.threatDetection).map(([l,c])=>t.jsxs("div",{className:"p-4 cyber-card border border-primary/20",children:[t.jsx("div",{className:"font-medium capitalize mb-2",children:l.replace("_"," ")}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Detected:"}),t.jsx("span",{className:"font-bold text-yellow-400",children:c.detected})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Blocked:"}),t.jsx("span",{className:"font-bold text-red-400",children:c.blocked})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Accuracy:"}),t.jsxs("span",{className:"font-bold text-green-400",children:[c.accuracy,"%"]})]})]})]},l))})})]})]})})}function v2e(){const[n,e]=R.useState(""),[s,r]=R.useState("all"),[a,i]=R.useState(!1),{toast:o}=Dn(),l={totalFiles:15847,encryptedSize:"2.4 TB",securityLevel:"AES-256",lastBackup:"2025-08-29T18:00:00Z",categories:[{name:"Flagged Content",count:8934,size:"1.2 TB"},{name:"Evidence Files",count:3421,size:"756 GB"},{name:"User Reports",count:2108,size:"234 GB"},{name:"System Backups",count:1384,size:"412 GB"}],recentFiles:[{id:"vault-001",name:"high_risk_content_batch_001.enc",category:"Flagged Content",size:"45.2 MB",encrypted:!0,uploadedAt:"2025-08-29T17:30:00Z",accessLevel:"Admin Only"},{id:"vault-002",name:"user_report_evidence_789.enc",category:"Evidence Files",size:"12.8 MB",encrypted:!0,uploadedAt:"2025-08-29T16:45:00Z",accessLevel:"Moderator"},{id:"vault-003",name:"compliance_audit_2025_08.enc",category:"System Backups",size:"234.5 MB",encrypted:!0,uploadedAt:"2025-08-29T15:20:00Z",accessLevel:"Legal Team"}]},c=async()=>{i(!0);try{await new Promise(u=>setTimeout(u,2e3)),o({title:"File Uploaded Securely",description:"File encrypted and stored in secure vault"})}catch{o({title:"Upload Failed",description:"Failed to upload file to secure vault",variant:"destructive"})}i(!1)},d=u=>{o({title:"Access Logged",description:`File access logged for audit trail: ${u}`})};return t.jsx("div",{className:"min-h-screen cyber-bg",children:t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"Security Vault"}),t.jsx("p",{className:"text-muted-foreground",children:"Encrypted Content Storage & Evidence Management"})]}),t.jsx(te,{onClick:c,disabled:a,className:"neon-button","data-testid":"upload-vault-button",children:a?t.jsxs(t.Fragment,{children:[t.jsx(yo,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):t.jsxs(t.Fragment,{children:[t.jsx(yo,{className:"w-4 h-4 mr-2"}),"Upload to Vault"]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx($,{className:"cyber-card bg-gradient-to-r from-blue-500/10 to-cyan-500/10 border border-blue-500/30",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx(Lj,{className:"w-8 h-8 mx-auto mb-2 text-blue-400"}),t.jsx("div",{className:"text-2xl font-bold text-blue-400",children:l.totalFiles.toLocaleString()}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Files"})]})}),t.jsx($,{className:"cyber-card bg-gradient-to-r from-purple-500/10 to-violet-500/10 border border-purple-500/30",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx(En,{className:"w-8 h-8 mx-auto mb-2 text-purple-400"}),t.jsx("div",{className:"text-2xl font-bold text-purple-400",children:l.encryptedSize}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Encrypted Data"})]})}),t.jsx($,{className:"cyber-card bg-gradient-to-r from-green-500/10 to-emerald-500/10 border border-green-500/30",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx(WA,{className:"w-8 h-8 mx-auto mb-2 text-green-400"}),t.jsx("div",{className:"text-2xl font-bold text-green-400",children:l.securityLevel}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Encryption"})]})}),t.jsx($,{className:"cyber-card bg-gradient-to-r from-orange-500/10 to-red-500/10 border border-orange-500/30",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx(Q0,{className:"w-8 h-8 mx-auto mb-2 text-orange-400"}),t.jsx("div",{className:"text-2xl font-bold text-orange-400",children:new Date(l.lastBackup).toLocaleDateString()}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Last Backup"})]})})]}),t.jsx($,{className:"cyber-card",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx(jr,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),t.jsx(Fe,{placeholder:"Search encrypted files...",value:n,onChange:u=>e(u.target.value),className:"pl-10 cyber-input","data-testid":"search-vault-input"})]})}),t.jsx("div",{className:"flex gap-2",children:["all","flagged","evidence","reports","backups"].map(u=>t.jsx(te,{variant:s===u?"default":"outline",size:"sm",onClick:()=>r(u),className:s===u?"neon-button":"","data-testid":`filter-${u}-button`,children:u.charAt(0).toUpperCase()+u.slice(1)},u))})]})})}),t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(Pi,{className:"w-6 h-6 text-primary"}),t.jsx("span",{className:"cyber-text-glow",children:"VAULT CATEGORIES"})]})}),t.jsx(q,{children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:l.categories.map(u=>t.jsxs("div",{className:"p-4 cyber-card border border-primary/20",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h3",{className:"font-medium",children:u.name}),t.jsx(Ii,{className:"w-4 h-4 text-primary"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("div",{className:"text-2xl font-bold text-primary",children:u.count.toLocaleString()}),t.jsx("div",{className:"text-sm text-muted-foreground",children:u.size})]})]},u.name))})})]}),t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(En,{className:"w-6 h-6 text-green-400 cyber-pulse"}),t.jsx("span",{className:"cyber-text-glow",children:"RECENT VAULT ACTIVITY"})]})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-4",children:l.recentFiles.map(u=>t.jsxs("div",{className:"flex items-center justify-between p-4 cyber-card border border-primary/20",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:t.jsx(Ii,{className:"w-5 h-5 text-primary"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:u.name}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[u.category," • ",u.size," •"," ",new Date(u.uploadedAt).toLocaleString()]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(de,{variant:u.accessLevel==="Admin Only"?"destructive":"default",className:"text-xs",children:u.accessLevel}),t.jsxs(te,{size:"sm",variant:"outline",onClick:()=>d(u.id),className:"text-xs","data-testid":`access-file-${u.id}`,children:[t.jsx(Mn,{className:"w-3 h-3 mr-1"}),"Access"]}),t.jsxs(te,{size:"sm",variant:"outline",className:"text-xs","data-testid":`download-file-${u.id}`,children:[t.jsx(xi,{className:"w-3 h-3 mr-1"}),"Download"]})]})]},u.id))})})]}),t.jsxs($,{className:"cyber-card bg-gradient-to-r from-green-500/10 to-emerald-500/10 border border-green-500/30",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(En,{className:"w-6 h-6 text-green-400"}),t.jsx("span",{className:"text-green-400",children:"SECURITY STATUS"})]})}),t.jsx(q,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-green-400",children:"ACTIVE"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Encryption Status"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-green-400",children:"SECURE"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Access Control"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-green-400",children:"COMPLIANT"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Legal Standards"})]})]})})]})]})})}function y2e(){const[n,e]=R.useState(""),[s,r]=R.useState("all"),{toast:a}=Dn(),i={totalActions:15847,todayActions:432,adminActions:1203,systemActions:14644,recentLogs:[{id:"audit-001",timestamp:"2025-08-29T18:23:45Z",user:"admin@fanzdash.com",action:"Content Blocked",target:"content-id-12345",result:"SUCCESS",details:"High-risk content automatically blocked by AI system",ipAddress:"192.168.1.100",userAgent:"FanzDash Admin Panel v2.1"},{id:"audit-002",timestamp:"2025-08-29T18:22:10Z",user:"moderator@fanzdash.com",action:"Appeal Reviewed",target:"appeal-789",result:"SUCCESS",details:"User appeal approved, content reinstated",ipAddress:"192.168.1.101",userAgent:"FanzDash Moderator v2.1"},{id:"audit-003",timestamp:"2025-08-29T18:20:33Z",user:"system",action:"Risk Assessment",target:"platform-fanz-main",result:"WARNING",details:"Elevated risk detected on FanzMain platform",ipAddress:"127.0.0.1",userAgent:"FanzDash System v2.1"},{id:"audit-004",timestamp:"2025-08-29T18:18:15Z",user:"admin@fanzdash.com",action:"Settings Modified",target:"moderation-threshold",result:"SUCCESS",details:"Auto-block threshold changed from 0.8 to 0.75",ipAddress:"192.168.1.100",userAgent:"FanzDash Admin Panel v2.1"},{id:"audit-005",timestamp:"2025-08-29T18:15:22Z",user:"system",action:"Backup Created",target:"vault-backup-daily",result:"SUCCESS",details:"Daily encrypted backup completed successfully",ipAddress:"127.0.0.1",userAgent:"FanzDash Backup Service v2.1"}]},o=()=>{a({title:"Audit Export Started",description:"Comprehensive audit log export initiated"})},l=d=>{switch(d.toLowerCase()){case"content blocked":return t.jsx(En,{className:"w-4 h-4 text-red-400"});case"appeal reviewed":return t.jsx(Mn,{className:"w-4 h-4 text-blue-400"});case"risk assessment":return t.jsx(ln,{className:"w-4 h-4 text-yellow-400"});case"settings modified":return t.jsx(Jv,{className:"w-4 h-4 text-purple-400"});case"backup created":return t.jsx(Pi,{className:"w-4 h-4 text-green-400"});default:return t.jsx(As,{className:"w-4 h-4 text-primary"})}},c=d=>{switch(d.toLowerCase()){case"success":return t.jsxs(de,{className:"bg-green-500/20 text-green-400",children:[t.jsx(xn,{className:"w-3 h-3 mr-1"}),"Success"]});case"warning":return t.jsxs(de,{className:"bg-yellow-500/20 text-yellow-400",children:[t.jsx(ln,{className:"w-3 h-3 mr-1"}),"Warning"]});case"error":return t.jsxs(de,{className:"bg-red-500/20 text-red-400",children:[t.jsx(Vs,{className:"w-3 h-3 mr-1"}),"Error"]});default:return t.jsx(de,{variant:"secondary",children:d})}};return t.jsx("div",{className:"min-h-screen cyber-bg",children:t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"Audit Logs"}),t.jsx("p",{className:"text-muted-foreground",children:"Complete Action History & Security Monitoring"})]}),t.jsxs(te,{onClick:o,className:"neon-button","data-testid":"export-audit-button",children:[t.jsx(xi,{className:"w-4 h-4 mr-2"}),"Export Audit"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx($,{className:"cyber-card bg-gradient-to-r from-blue-500/10 to-cyan-500/10 border border-blue-500/30",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx(Pi,{className:"w-8 h-8 mx-auto mb-2 text-blue-400"}),t.jsx("div",{className:"text-2xl font-bold text-blue-400",children:i.totalActions.toLocaleString()}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Actions"})]})}),t.jsx($,{className:"cyber-card bg-gradient-to-r from-green-500/10 to-emerald-500/10 border border-green-500/30",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx(As,{className:"w-8 h-8 mx-auto mb-2 text-green-400"}),t.jsx("div",{className:"text-2xl font-bold text-green-400",children:i.todayActions}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Today's Actions"})]})}),t.jsx($,{className:"cyber-card bg-gradient-to-r from-purple-500/10 to-violet-500/10 border border-purple-500/30",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx(Jv,{className:"w-8 h-8 mx-auto mb-2 text-purple-400"}),t.jsx("div",{className:"text-2xl font-bold text-purple-400",children:i.adminActions.toLocaleString()}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Admin Actions"})]})}),t.jsx($,{className:"cyber-card bg-gradient-to-r from-orange-500/10 to-red-500/10 border border-orange-500/30",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx(En,{className:"w-8 h-8 mx-auto mb-2 text-orange-400"}),t.jsx("div",{className:"text-2xl font-bold text-orange-400",children:i.systemActions.toLocaleString()}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"System Actions"})]})})]}),t.jsx($,{className:"cyber-card",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx(jr,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),t.jsx(Fe,{placeholder:"Search audit logs...",value:n,onChange:d=>e(d.target.value),className:"pl-10 cyber-input","data-testid":"search-audit-input"})]})}),t.jsx("div",{className:"flex gap-2",children:["all","admin","system","content","appeals"].map(d=>t.jsx(te,{variant:s===d?"default":"outline",size:"sm",onClick:()=>r(d),className:s===d?"neon-button":"","data-testid":`filter-${d}-button`,children:d.charAt(0).toUpperCase()+d.slice(1)},d))})]})})}),t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(As,{className:"w-6 h-6 text-primary cyber-pulse"}),t.jsx("span",{className:"cyber-text-glow",children:"RECENT AUDIT ACTIVITY"})]})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:i.recentLogs.map(d=>t.jsxs("div",{className:"p-4 cyber-card border border-primary/20",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[l(d.action),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:d.action}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[d.user," •"," ",new Date(d.timestamp).toLocaleString()]})]})]}),c(d.result)]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-muted-foreground mb-1",children:"Target:"}),t.jsx("div",{className:"font-mono text-primary",children:d.target})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-muted-foreground mb-1",children:"IP Address:"}),t.jsx("div",{className:"font-mono",children:d.ipAddress})]})]}),t.jsxs("div",{className:"mt-3",children:[t.jsx("div",{className:"text-muted-foreground text-sm mb-1",children:"Details:"}),t.jsx("div",{className:"text-sm",children:d.details})]}),t.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:["User Agent: ",d.userAgent]})]},d.id))})})]}),t.jsxs($,{className:"cyber-card bg-gradient-to-r from-green-500/10 to-emerald-500/10 border border-green-500/30",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(En,{className:"w-6 h-6 text-green-400"}),t.jsx("span",{className:"text-green-400",children:"AUDIT COMPLIANCE"})]})}),t.jsx(q,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-green-400",children:"100%"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Actions Logged"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-green-400",children:"VERIFIED"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Data Integrity"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-green-400",children:"COMPLIANT"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Legal Standards"})]})]})})]})]})})}function b2e(){const[n,e]=R.useState(!1),{toast:s}=Dn(),{data:r}=wn({queryKey:["/api/threats/alerts"],refetchInterval:5e3}),a={currentLevel:"ELEVATED",activeThreat:3,mitigated:847,blocked:12943,trends:[{threat:"Coordinated Spam",trend:"increasing",change:"+23%"},{threat:"CSAM Attempts",trend:"decreasing",change:"-45%"},{threat:"Harassment Campaigns",trend:"stable",change:"±2%"}],topTargets:[{platform:"FanzMain",attacks:1249,severity:"HIGH"},{platform:"FanzLive",attacks:892,severity:"MEDIUM"},{platform:"FanzSocial",attacks:634,severity:"LOW"}]},i=async()=>{e(!0);try{await new Promise(l=>setTimeout(l,3e3)),s({title:"Threat Scan Complete",description:"System security verified, no new threats detected"})}catch{s({title:"Scan Failed",description:"Unable to complete threat assessment",variant:"destructive"})}e(!1)},o=l=>{switch(l.toLowerCase()){case"critical":return"text-red-500 border-red-500/30 bg-red-500/10";case"high":return"text-orange-500 border-orange-500/30 bg-orange-500/10";case"medium":return"text-yellow-500 border-yellow-500/30 bg-yellow-500/10";case"low":return"text-green-500 border-green-500/30 bg-green-500/10";default:return"text-primary border-primary/30 bg-primary/10"}};return t.jsx("div",{className:"min-h-screen cyber-bg",children:t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"Threat Center"}),t.jsx("p",{className:"text-muted-foreground",children:"Real-time Security Monitoring & Threat Intelligence"})]}),t.jsx(te,{onClick:i,disabled:n,className:"neon-button","data-testid":"threat-scan-button",children:n?t.jsxs(t.Fragment,{children:[t.jsx(au,{className:"w-4 h-4 mr-2 animate-spin"}),"Scanning..."]}):t.jsxs(t.Fragment,{children:[t.jsx(En,{className:"w-4 h-4 mr-2"}),"Run Scan"]})})]}),t.jsxs($,{className:`cyber-card border-2 ${o(a.currentLevel)}`,children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(ln,{className:"w-8 h-8 text-orange-500 cyber-pulse"}),t.jsxs("span",{className:"text-2xl cyber-text-glow",children:["THREAT LEVEL: ",a.currentLevel]})]})}),t.jsx(q,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-red-400",children:a.activeThreat}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Threats"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-green-400",children:a.mitigated}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Threats Mitigated"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-blue-400",children:a.blocked.toLocaleString()}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Attacks Blocked"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-purple-400",children:"99.7%"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Protection Rate"})]})]})})]}),t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(b_,{className:"w-6 h-6 text-red-400 cyber-pulse"}),t.jsx("span",{className:"cyber-text-glow",children:"ACTIVE THREAT ALERTS"})]})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-4 max-h-80 overflow-y-auto",children:r?.map(l=>t.jsxs("div",{className:`p-4 cyber-card border-2 ${o(l.severity)}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:`w-4 h-4 rounded-full ${l.severity==="HIGH"?"bg-red-500":l.severity==="MEDIUM"?"bg-yellow-500":"bg-green-500"} cyber-pulse`}),t.jsxs("div",{children:[t.jsx("div",{className:"font-bold text-lg",children:l.type}),t.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(l.detectedAt).toLocaleString()})]})]}),t.jsx(de,{variant:l.severity==="HIGH"?"destructive":"default",className:"text-lg px-3 py-1",children:l.severity})]}),t.jsx("div",{className:"mb-3",children:t.jsx("p",{className:"text-white",children:l.description})}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"text-sm",children:[t.jsxs("span",{className:"text-muted-foreground",children:["Affected Platforms:"," "]}),t.jsx("span",{className:"text-primary",children:l.affectedPlatforms?.join(", ")})]}),t.jsx(de,{variant:"outline",className:l.status==="ACTIVE"?"text-red-400":"text-yellow-400",children:l.status})]}),t.jsxs("div",{className:"mt-3",children:[t.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Recommended Actions:"}),t.jsx("ul",{className:"list-disc list-inside text-sm space-y-1",children:l.recommendedActions?.map((c,d)=>t.jsx("li",{className:"text-primary",children:c},d))})]})]},l.id))})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(or,{className:"w-6 h-6 text-primary"}),t.jsx("span",{children:"Threat Trends"})]})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-4",children:a.trends.map((l,c)=>t.jsxs("div",{className:"flex items-center justify-between p-3 cyber-card border border-primary/20",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:l.threat}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.trend.charAt(0).toUpperCase()+l.trend.slice(1)," ","trend"]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:`font-bold ${l.trend==="increasing"?"text-red-400":l.trend==="decreasing"?"text-green-400":"text-yellow-400"}`,children:l.change}),t.jsx("div",{className:`w-2 h-2 rounded-full ${l.trend==="increasing"?"bg-red-500":l.trend==="decreasing"?"bg-green-500":"bg-yellow-500"} cyber-pulse`})]})]},c))})})]}),t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(au,{className:"w-6 h-6 text-red-400"}),t.jsx("span",{children:"Top Targets"})]})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-4",children:a.topTargets.map((l,c)=>t.jsxs("div",{className:"flex items-center justify-between p-3 cyber-card border border-primary/20",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:l.platform}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.attacks," attack attempts"]})]}),t.jsx(de,{variant:l.severity==="HIGH"?"destructive":l.severity==="MEDIUM"?"default":"secondary",children:l.severity})]},c))})})]})]}),t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(Ks,{className:"w-6 h-6 text-green-400"}),t.jsx("span",{className:"cyber-text-glow",children:"SECURITY OPERATIONS STATUS"})]})}),t.jsx(q,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"text-center p-4 cyber-card border border-green-500/30",children:[t.jsx(Mn,{className:"w-8 h-8 mx-auto mb-2 text-green-400"}),t.jsx("div",{className:"text-xl font-bold text-green-400",children:"ACTIVE"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Monitoring"})]}),t.jsxs("div",{className:"text-center p-4 cyber-card border border-blue-500/30",children:[t.jsx(En,{className:"w-8 h-8 mx-auto mb-2 text-blue-400"}),t.jsx("div",{className:"text-xl font-bold text-blue-400",children:"OPERATIONAL"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Defense Systems"})]}),t.jsxs("div",{className:"text-center p-4 cyber-card border border-purple-500/30",children:[t.jsx(va,{className:"w-8 h-8 mx-auto mb-2 text-purple-400"}),t.jsx("div",{className:"text-xl font-bold text-purple-400",children:"READY"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Incident Response"})]}),t.jsxs("div",{className:"text-center p-4 cyber-card border border-yellow-500/30",children:[t.jsx(As,{className:"w-8 h-8 mx-auto mb-2 text-yellow-400"}),t.jsx("div",{className:"text-xl font-bold text-yellow-400",children:"24/7"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Coverage"})]})]})})]})]})})}function j2e(){const[n,e]=R.useState(!1),{toast:s}=Dn(),r={totalSize:"847.3 GB",usage:78.2,connections:142,queries:15847432,performance:"Optimal",tables:[{name:"content_items",size:"234.5 GB",rows:3456789,performance:95},{name:"moderation_results",size:"189.2 GB",rows:2847329,performance:92},{name:"user_sessions",size:"145.8 GB",rows:1923847,performance:88},{name:"audit_logs",size:"127.4 GB",rows:1547893,performance:94},{name:"live_streams",size:"89.7 GB",rows:847392,performance:96}],recentOperations:[{id:"op-001",type:"Backup",status:"Completed",timestamp:"2025-08-29T18:00:00Z",duration:"45 minutes",size:"847.3 GB"},{id:"op-002",type:"Index Optimization",status:"Running",timestamp:"2025-08-29T17:30:00Z",duration:"12 minutes",progress:67},{id:"op-003",type:"Data Migration",status:"Completed",timestamp:"2025-08-29T16:15:00Z",duration:"2 hours 15 minutes",size:"156.2 GB"}]},a=async()=>{e(!0);try{await new Promise(l=>setTimeout(l,3e3)),s({title:"Database Optimization Complete",description:"Database performance optimized, queries 15% faster"})}catch{s({title:"Optimization Failed",description:"Unable to complete database optimization",variant:"destructive"})}e(!1)},i=l=>l>=90?"text-green-400":l>=80?"text-yellow-400":l>=70?"text-orange-400":"text-red-400",o=l=>{switch(l.toLowerCase()){case"completed":return"text-green-400 bg-green-500/20";case"running":return"text-blue-400 bg-blue-500/20";case"failed":return"text-red-400 bg-red-500/20";default:return"text-gray-400 bg-gray-500/20"}};return t.jsx("div",{className:"min-h-screen cyber-bg",children:t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"Data Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Database Operations & Performance Monitoring"})]}),t.jsx(te,{onClick:a,disabled:n,className:"neon-button","data-testid":"optimize-db-button",children:n?t.jsxs(t.Fragment,{children:[t.jsx(Zo,{className:"w-4 h-4 mr-2 animate-spin"}),"Optimizing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(jl,{className:"w-4 h-4 mr-2"}),"Optimize Database"]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx($,{className:"cyber-card bg-gradient-to-r from-blue-500/10 to-cyan-500/10 border border-blue-500/30",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx(Lj,{className:"w-8 h-8 mx-auto mb-2 text-blue-400"}),t.jsx("div",{className:"text-2xl font-bold text-blue-400",children:r.totalSize}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Size"})]})}),t.jsx($,{className:"cyber-card bg-gradient-to-r from-green-500/10 to-emerald-500/10 border border-green-500/30",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx(Ks,{className:"w-8 h-8 mx-auto mb-2 text-green-400"}),t.jsx("div",{className:"text-2xl font-bold text-green-400",children:r.connections}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Active Connections"})]})}),t.jsx($,{className:"cyber-card bg-gradient-to-r from-purple-500/10 to-violet-500/10 border border-purple-500/30",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx(la,{className:"w-8 h-8 mx-auto mb-2 text-purple-400"}),t.jsx("div",{className:"text-2xl font-bold text-purple-400",children:r.queries.toLocaleString()}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Queries"})]})}),t.jsx($,{className:"cyber-card bg-gradient-to-r from-orange-500/10 to-red-500/10 border border-orange-500/30",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx(En,{className:"w-8 h-8 mx-auto mb-2 text-orange-400"}),t.jsx("div",{className:"text-2xl font-bold text-orange-400",children:r.performance}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Performance"})]})})]}),t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(Lj,{className:"w-6 h-6 text-primary"}),t.jsx("span",{children:"Storage Utilization"})]})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:"Database Usage"}),t.jsxs("span",{className:"font-bold text-primary",children:[r.usage,"%"]})]}),t.jsx(Xn,{value:r.usage,className:"h-4"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Storage usage is within normal parameters."})]})})]}),t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(jl,{className:"w-6 h-6 text-primary"}),t.jsx("span",{className:"cyber-text-glow",children:"DATABASE TABLES"})]})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-4",children:r.tables.map(l=>t.jsxs("div",{className:"p-4 cyber-card border border-primary/20",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-lg",children:l.name}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.rows.toLocaleString()," rows • ",l.size]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:`text-lg font-bold ${i(l.performance)}`,children:[l.performance,"%"]}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Performance"})]})]}),t.jsx(Xn,{value:l.performance,className:"h-2"})]},l.name))})})]}),t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(Zo,{className:"w-6 h-6 text-green-400"}),t.jsx("span",{children:"Recent Operations"})]})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-4",children:r.recentOperations.map(l=>t.jsxs("div",{className:"flex items-center justify-between p-4 cyber-card border border-primary/20",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"p-2 bg-primary/10 rounded-lg",children:[l.type==="Backup"&&t.jsx(y_,{className:"w-5 h-5 text-blue-400"}),l.type==="Index Optimization"&&t.jsx(Zo,{className:"w-5 h-5 text-green-400"}),l.type==="Data Migration"&&t.jsx(jl,{className:"w-5 h-5 text-purple-400"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:l.type}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[new Date(l.timestamp).toLocaleString()," •"," ",l.duration,l.size&&` • ${l.size}`]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(de,{className:o(l.status),children:l.status}),l.progress&&t.jsxs("div",{className:"w-24",children:[t.jsx(Xn,{value:l.progress,className:"h-2"}),t.jsxs("div",{className:"text-xs text-muted-foreground text-center mt-1",children:[l.progress,"%"]})]})]})]},l.id))})})]}),t.jsxs($,{className:"cyber-card",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(En,{className:"w-6 h-6 text-primary"}),t.jsx("span",{children:"Data Operations"})]})}),t.jsx(q,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs(te,{variant:"outline",className:"h-16 flex-col","data-testid":"backup-button",children:[t.jsx(y_,{className:"w-6 h-6 mb-2 text-blue-400"}),t.jsx("span",{children:"Create Backup"})]}),t.jsxs(te,{variant:"outline",className:"h-16 flex-col","data-testid":"restore-button",children:[t.jsx(yo,{className:"w-6 h-6 mb-2 text-green-400"}),t.jsx("span",{children:"Restore Data"})]}),t.jsxs(te,{variant:"outline",className:"h-16 flex-col","data-testid":"export-button",children:[t.jsx(xi,{className:"w-6 h-6 mb-2 text-purple-400"}),t.jsx("span",{children:"Export Data"})]}),t.jsxs(te,{variant:"outline",className:"h-16 flex-col","data-testid":"cleanup-button",children:[t.jsx(Wa,{className:"w-6 h-6 mb-2 text-orange-400"}),t.jsx("span",{children:"Cleanup Old Data"})]})]})})]})]})})}function w2e(){const[n,e]=R.useState(null),{data:s,isLoading:r}=wn({queryKey:["/api/system/metrics"],refetchInterval:3e4}),{data:a=[],isLoading:i}=wn({queryKey:["/api/platforms/status"],refetchInterval:15e3}),o=d=>{switch(d){case"online":return"text-green-400 bg-green-500/20";case"offline":return"text-red-400 bg-red-500/20";case"maintenance":return"text-yellow-400 bg-yellow-500/20";default:return"text-gray-400 bg-gray-500/20"}},l=d=>{switch(d){case"low":return"text-green-400 bg-green-500/20";case"medium":return"text-yellow-400 bg-yellow-500/20";case"high":return"text-orange-400 bg-orange-500/20";case"critical":return"text-red-400 bg-red-500/20";default:return"text-gray-400 bg-gray-500/20"}},c=[{title:"2257 Verification",description:"Review creator verifications",icon:mj,href:"/verification-2257",badge:s?.verificationsPending||0,color:"from-blue-500 to-cyan-500"},{title:"Content Review",description:"Moderate pending content",icon:En,href:"/content-review",badge:s?.moderationQueue||0,color:"from-purple-500 to-pink-500"},{title:"Communication Hub",description:"Admin chat system",icon:J1,href:"/chat-system",badge:null,color:"from-green-500 to-emerald-500"},{title:"Platform Manager",description:"Manage connected platforms",icon:Er,href:"/platforms",badge:s?.activePlatforms||0,color:"from-orange-500 to-red-500"},{title:"Analytics Dashboard",description:"View system analytics",icon:la,href:"/analytics",badge:null,color:"from-indigo-500 to-purple-500"},{title:"User Management",description:"Manage admin accounts",icon:er,href:"/users",badge:s?.totalUsers||0,color:"from-teal-500 to-cyan-500"}];return r||i?t.jsx("div",{className:"min-h-screen bg-black p-6",children:t.jsxs("div",{className:"animate-pulse space-y-6",children:[t.jsx("div",{className:"h-12 bg-gray-800 rounded w-1/2"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[...Array(6)].map((d,u)=>t.jsx("div",{className:"h-32 bg-gray-800 rounded"},u))})]})}):t.jsxs("div",{className:"min-h-screen bg-black text-white p-6 space-y-8",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h1",{className:"text-6xl font-bold bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 bg-clip-text text-transparent mb-4",children:"FanzDash"}),t.jsx("p",{className:"text-xl text-cyan-100/80 mb-2",children:"Enterprise Content Moderation & Platform Management"}),t.jsx("p",{className:"text-lg text-gray-400",children:"Scaling to 20+ Million Users Worldwide"}),t.jsx("div",{className:"flex justify-center mt-6",children:t.jsxs(de,{className:`px-4 py-2 text-lg ${l(s?.threatLevel||"low")}`,children:[t.jsx(Ks,{className:"w-5 h-5 mr-2"}),"System Health: ",s?.systemHealth||98,"% | Threat Level:"," ",s?.threatLevel?.toUpperCase()||"LOW"]})})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-8",children:[t.jsx($,{className:"bg-gradient-to-r from-cyan-500/10 to-blue-500/10 border-cyan-500/20",children:t.jsxs(q,{className:"p-6 text-center",children:[t.jsx(er,{className:"w-8 h-8 mx-auto mb-2 text-cyan-400"}),t.jsx("div",{className:"text-2xl font-bold text-white",children:(s?.totalUsers||23456789).toLocaleString()}),t.jsx("div",{className:"text-sm text-cyan-400",children:"Total Users"}),t.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[(s?.activeUsers||8765432).toLocaleString()," active"]})]})}),t.jsx($,{className:"bg-gradient-to-r from-green-500/10 to-emerald-500/10 border-green-500/20",children:t.jsxs(q,{className:"p-6 text-center",children:[t.jsx(Er,{className:"w-8 h-8 mx-auto mb-2 text-green-400"}),t.jsx("div",{className:"text-2xl font-bold text-white",children:s?.totalPlatforms||15}),t.jsx("div",{className:"text-sm text-green-400",children:"Connected Platforms"}),t.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[s?.activePlatforms||12," online"]})]})}),t.jsx($,{className:"bg-gradient-to-r from-purple-500/10 to-pink-500/10 border-purple-500/20",children:t.jsxs(q,{className:"p-6 text-center",children:[t.jsx(En,{className:"w-8 h-8 mx-auto mb-2 text-purple-400"}),t.jsx("div",{className:"text-2xl font-bold text-white",children:s?.moderationQueue||127}),t.jsx("div",{className:"text-sm text-purple-400",children:"Pending Reviews"}),t.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Content moderation"})]})}),t.jsx($,{className:"bg-gradient-to-r from-orange-500/10 to-red-500/10 border-orange-500/20",children:t.jsxs(q,{className:"p-6 text-center",children:[t.jsx(mj,{className:"w-8 h-8 mx-auto mb-2 text-orange-400"}),t.jsx("div",{className:"text-2xl font-bold text-white",children:s?.verificationsPending||43}),t.jsx("div",{className:"text-sm text-orange-400",children:"2257 Verifications"}),t.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Awaiting approval"})]})})]}),t.jsxs("div",{className:"mb-8",children:[t.jsxs("h2",{className:"text-2xl font-bold text-cyan-400 mb-6 flex items-center gap-2",children:[t.jsx(va,{className:"w-6 h-6"}),"Quick Actions"]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map((d,u)=>t.jsx(vn,{href:d.href,children:t.jsx($,{className:"bg-gray-900/50 border-gray-700 hover:border-cyan-500/50 transition-all duration-300 cursor-pointer group h-full",children:t.jsxs(q,{className:"p-6",children:[t.jsx("div",{className:`w-12 h-12 rounded-lg bg-gradient-to-r ${d.color} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:t.jsx(d.icon,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{className:"flex justify-between items-start mb-2",children:[t.jsx("h3",{className:"font-semibold text-white group-hover:text-cyan-400 transition-colors",children:d.title}),d.badge!==null&&d.badge>0&&t.jsx(de,{className:"bg-red-500 text-white ml-2",children:d.badge>99?"99+":d.badge})]}),t.jsx("p",{className:"text-sm text-gray-400",children:d.description})]})})},u))})]}),t.jsxs("div",{className:"mb-8",children:[t.jsxs("h2",{className:"text-2xl font-bold text-cyan-400 mb-6 flex items-center gap-2",children:[t.jsx(jl,{className:"w-6 h-6"}),"Connected Platforms"]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.length>0?a.map(d=>t.jsx($,{className:"bg-gray-900/50 border-gray-700",children:t.jsxs(q,{className:"p-4",children:[t.jsxs("div",{className:"flex justify-between items-start mb-3",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-white",children:d.name}),t.jsx("p",{className:"text-sm text-gray-400",children:d.domain})]}),t.jsxs(de,{className:o(d.status),children:[d.status==="online"&&t.jsx(xn,{className:"w-3 h-3 mr-1"}),d.status==="offline"&&t.jsx(ln,{className:"w-3 h-3 mr-1"}),d.status==="maintenance"&&t.jsx(As,{className:"w-3 h-3 mr-1"}),d.status]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"Users:"}),t.jsx("span",{className:"text-white",children:d.users.toLocaleString()})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"Uptime:"}),t.jsxs("span",{className:"text-white",children:[d.uptime,"%"]})]}),t.jsxs("div",{className:"mt-2",children:[t.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[t.jsx("span",{className:"text-gray-400",children:"Health"}),t.jsxs("span",{className:"text-white",children:[d.uptime,"%"]})]}),t.jsx(Xn,{value:d.uptime,className:"h-2 bg-gray-700"})]})]})]})},d.id)):[{id:"fanz-main",name:"FanzUnlimited.com",domain:"fanzunlimited.com",status:"online",users:15234567,uptime:99.8},{id:"fanz-premium",name:"FanzDash Premium",domain:"premium.fanzdash.com",status:"online",users:3456789,uptime:99.9},{id:"fanz-creator",name:"FanzDash Creator Portal",domain:"creator.fanzdash.com",status:"online",users:234567,uptime:98.7},{id:"fanz-mobile",name:"FanzDash Mobile API",domain:"api.fanzdash.com",status:"maintenance",users:8765432,uptime:97.5},{id:"fanz-media",name:"FanzDash Media Brain",domain:"media.fanzdash.com",status:"online",users:0,uptime:99.6},{id:"fanz-people",name:"FanzDash People Brain",domain:"people.fanzdash.com",status:"online",users:0,uptime:99.4}].map(d=>t.jsx($,{className:"bg-gray-900/50 border-gray-700",children:t.jsxs(q,{className:"p-4",children:[t.jsxs("div",{className:"flex justify-between items-start mb-3",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-white",children:d.name}),t.jsx("p",{className:"text-sm text-gray-400",children:d.domain})]}),t.jsxs(de,{className:o(d.status),children:[d.status==="online"&&t.jsx(xn,{className:"w-3 h-3 mr-1"}),d.status==="offline"&&t.jsx(ln,{className:"w-3 h-3 mr-1"}),d.status==="maintenance"&&t.jsx(As,{className:"w-3 h-3 mr-1"}),d.status]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"Users:"}),t.jsx("span",{className:"text-white",children:d.users.toLocaleString()})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"Uptime:"}),t.jsxs("span",{className:"text-white",children:[d.uptime,"%"]})]}),t.jsxs("div",{className:"mt-2",children:[t.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[t.jsx("span",{className:"text-gray-400",children:"Health"}),t.jsxs("span",{className:"text-white",children:[d.uptime,"%"]})]}),t.jsx(Xn,{value:d.uptime,className:"h-2 bg-gray-700"})]})]})]})},d.id))})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs($,{className:"bg-gray-900/50 border-cyan-500/20",children:[t.jsxs(oe,{children:[t.jsxs(le,{className:"text-cyan-400 flex items-center gap-2",children:[t.jsx(hl,{className:"w-5 h-5"}),"Infrastructure Status"]}),t.jsx(Ct,{className:"text-gray-400",children:"Real-time system health monitoring"})]}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-400",children:"Database Performance"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Xn,{value:95,className:"w-20 h-2"}),t.jsx("span",{className:"text-green-400 text-sm",children:"95%"})]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-400",children:"API Response Time"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Xn,{value:88,className:"w-20 h-2"}),t.jsx("span",{className:"text-cyan-400 text-sm",children:"120ms"})]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-400",children:"Storage Capacity"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Xn,{value:73,className:"w-20 h-2"}),t.jsx("span",{className:"text-yellow-400 text-sm",children:"73%"})]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-400",children:"Network Latency"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Xn,{value:92,className:"w-20 h-2"}),t.jsx("span",{className:"text-green-400 text-sm",children:"45ms"})]})]})]})})]}),t.jsxs($,{className:"bg-gray-900/50 border-cyan-500/20",children:[t.jsxs(oe,{children:[t.jsxs(le,{className:"text-cyan-400 flex items-center gap-2",children:[t.jsx(Ii,{className:"w-5 h-5"}),"Security & Compliance"]}),t.jsx(Ct,{className:"text-gray-400",children:"Enterprise-grade security status"})]}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-400",children:"SSL Certificates"}),t.jsxs(de,{className:"bg-green-500 text-white",children:[t.jsx(xn,{className:"w-3 h-3 mr-1"}),"Valid"]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-400",children:"Data Encryption"}),t.jsxs(de,{className:"bg-green-500 text-white",children:[t.jsx(Ii,{className:"w-3 h-3 mr-1"}),"AES-256"]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-400",children:"Backup Status"}),t.jsxs(de,{className:"bg-green-500 text-white",children:[t.jsx(xn,{className:"w-3 h-3 mr-1"}),"Current"]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-400",children:"Compliance"}),t.jsxs(de,{className:"bg-green-500 text-white",children:[t.jsx(En,{className:"w-3 h-3 mr-1"}),"GDPR/CCPA"]})]})]})})]})]}),t.jsxs("div",{className:"text-center pt-8 border-t border-gray-800",children:[t.jsxs("p",{className:"text-gray-400",children:["FanzDash v2.0 | Enterprise Content Moderation Platform |",t.jsxs("span",{className:"text-cyan-400",children:[" ","Powered by AI & Human Intelligence"]})]}),t.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[t.jsx(vn,{href:"/settings",children:t.jsxs(te,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-cyan-400",children:[t.jsx(lr,{className:"w-4 h-4 mr-2"}),"System Settings"]})}),t.jsx(vn,{href:"/audit",children:t.jsxs(te,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-cyan-400",children:[t.jsx(mj,{className:"w-4 h-4 mr-2"}),"Audit Logs"]})})]})]})]})}var cw=n=>n.type==="checkbox",Bp=n=>n instanceof Date,$o=n=>n==null;const gQ=n=>typeof n=="object";var Ra=n=>!$o(n)&&!Array.isArray(n)&&gQ(n)&&!Bp(n),vQ=n=>Ra(n)&&n.target?cw(n.target)?n.target.checked:n.target.value:n,N2e=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,yQ=(n,e)=>n.has(N2e(e)),S2e=n=>{const e=n.constructor&&n.constructor.prototype;return Ra(e)&&e.hasOwnProperty("isPrototypeOf")},JI=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ha(n){let e;const s=Array.isArray(n),r=typeof FileList<"u"?n instanceof FileList:!1;if(n instanceof Date)e=new Date(n);else if(!(JI&&(n instanceof Blob||r))&&(s||Ra(n)))if(e=s?[]:Object.create(Object.getPrototypeOf(n)),!s&&!S2e(n))e=n;else for(const a in n)n.hasOwnProperty(a)&&(e[a]=Ha(n[a]));else return n;return e}var XC=n=>/^\w*$/.test(n),ia=n=>n===void 0,eD=n=>Array.isArray(n)?n.filter(Boolean):[],tD=n=>eD(n.replace(/["|']|\]/g,"").split(/\.|\[/)),Wt=(n,e,s)=>{if(!e||!Ra(n))return s;const r=(XC(e)?[e]:tD(e)).reduce((a,i)=>$o(a)?a:a[i],n);return ia(r)||r===n?ia(n[e])?s:n[e]:r},pl=n=>typeof n=="boolean",sr=(n,e,s)=>{let r=-1;const a=XC(e)?[e]:tD(e),i=a.length,o=i-1;for(;++r<i;){const l=a[r];let c=s;if(r!==o){const d=n[l];c=Ra(d)||Array.isArray(d)?d:isNaN(+a[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;n[l]=c,n=n[l]}};const C2={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Jc={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ku={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},nD=ge.createContext(null);nD.displayName="HookFormContext";const ZC=()=>ge.useContext(nD),_2e=n=>{const{children:e,...s}=n;return ge.createElement(nD.Provider,{value:s},e)};var bQ=(n,e,s,r=!0)=>{const a={defaultValues:e._defaultValues};for(const i in n)Object.defineProperty(a,i,{get:()=>{const o=i;return e._proxyFormState[o]!==Jc.all&&(e._proxyFormState[o]=!r||Jc.all),s&&(s[o]=!0),n[o]}});return a};const sD=typeof window<"u"?ge.useLayoutEffect:ge.useEffect;function A2e(n){const e=ZC(),{control:s=e.control,disabled:r,name:a,exact:i}=n||{},[o,l]=ge.useState(s._formState),c=ge.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return sD(()=>s._subscribe({name:a,formState:c.current,exact:i,callback:d=>{!r&&l({...s._formState,...d})}}),[a,r,i]),ge.useEffect(()=>{c.current.isValid&&s._setValid(!0)},[s]),ge.useMemo(()=>bQ(o,s,c.current,!1),[o,s])}var vl=n=>typeof n=="string",jQ=(n,e,s,r,a)=>vl(n)?(r&&e.watch.add(n),Wt(s,n,a)):Array.isArray(n)?n.map(i=>(r&&e.watch.add(i),Wt(s,i))):(r&&(e.watchAll=!0),s),P5=n=>$o(n)||!gQ(n);function rh(n,e,s=new WeakSet){if(P5(n)||P5(e))return n===e;if(Bp(n)&&Bp(e))return n.getTime()===e.getTime();const r=Object.keys(n),a=Object.keys(e);if(r.length!==a.length)return!1;if(s.has(n)||s.has(e))return!0;s.add(n),s.add(e);for(const i of r){const o=n[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=e[i];if(Bp(o)&&Bp(l)||Ra(o)&&Ra(l)||Array.isArray(o)&&Array.isArray(l)?!rh(o,l,s):o!==l)return!1}}return!0}function C2e(n){const e=ZC(),{control:s=e.control,name:r,defaultValue:a,disabled:i,exact:o,compute:l}=n||{},c=ge.useRef(a),d=ge.useRef(l),u=ge.useRef(void 0);d.current=l;const h=ge.useMemo(()=>s._getWatch(r,c.current),[s,r]),[m,y]=ge.useState(d.current?d.current(h):h);return sD(()=>s._subscribe({name:r,formState:{values:!0},exact:o,callback:N=>{if(!i){const j=jQ(r,s._names,N.values||s._formValues,!1,c.current);if(d.current){const v=d.current(j);rh(v,u.current)||(y(v),u.current=v)}else y(j)}}}),[s,i,r,o]),ge.useEffect(()=>s._removeUnmounted()),m}function T2e(n){const e=ZC(),{name:s,disabled:r,control:a=e.control,shouldUnregister:i,defaultValue:o}=n,l=yQ(a._names.array,s),c=ge.useMemo(()=>Wt(a._formValues,s,Wt(a._defaultValues,s,o)),[a,s,o]),d=C2e({control:a,name:s,defaultValue:c,exact:!0}),u=A2e({control:a,name:s,exact:!0}),h=ge.useRef(n),m=ge.useRef(void 0),y=ge.useRef(a.register(s,{...n.rules,value:d,...pl(n.disabled)?{disabled:n.disabled}:{}}));h.current=n;const N=ge.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Wt(u.errors,s)},isDirty:{enumerable:!0,get:()=>!!Wt(u.dirtyFields,s)},isTouched:{enumerable:!0,get:()=>!!Wt(u.touchedFields,s)},isValidating:{enumerable:!0,get:()=>!!Wt(u.validatingFields,s)},error:{enumerable:!0,get:()=>Wt(u.errors,s)}}),[u,s]),j=ge.useCallback(S=>y.current.onChange({target:{value:vQ(S),name:s},type:C2.CHANGE}),[s]),v=ge.useCallback(()=>y.current.onBlur({target:{value:Wt(a._formValues,s),name:s},type:C2.BLUR}),[s,a._formValues]),b=ge.useCallback(S=>{const w=Wt(a._fields,s);w&&S&&(w._f.ref={focus:()=>S.focus&&S.focus(),select:()=>S.select&&S.select(),setCustomValidity:E=>S.setCustomValidity(E),reportValidity:()=>S.reportValidity()})},[a._fields,s]),A=ge.useMemo(()=>({name:s,value:d,...pl(r)||u.disabled?{disabled:u.disabled||r}:{},onChange:j,onBlur:v,ref:b}),[s,r,u.disabled,j,v,b,d]);return ge.useEffect(()=>{const S=a._options.shouldUnregister||i,w=m.current;w&&w!==s&&!l&&a.unregister(w),a.register(s,{...h.current.rules,...pl(h.current.disabled)?{disabled:h.current.disabled}:{}});const E=(T,P)=>{const k=Wt(a._fields,T);k&&k._f&&(k._f.mount=P)};if(E(s,!0),S){const T=Ha(Wt(a._options.defaultValues,s,h.current.defaultValue));sr(a._defaultValues,s,T),ia(Wt(a._formValues,s))&&sr(a._formValues,s,T)}return!l&&a.register(s),m.current=s,()=>{(l?S&&!a._state.action:S)?a.unregister(s):E(s,!1)}},[s,a,l,i]),ge.useEffect(()=>{a._setDisabledField({disabled:r,name:s})},[r,s,a]),ge.useMemo(()=>({field:A,formState:u,fieldState:N}),[A,u,N])}const E2e=n=>n.render(T2e(n));var wQ=(n,e,s,r,a)=>e?{...s[n],types:{...s[n]&&s[n].types?s[n].types:{},[r]:a||!0}}:{},wj=n=>Array.isArray(n)?n:[n],LV=()=>{let n=[];return{get observers(){return n},next:a=>{for(const i of n)i.next&&i.next(a)},subscribe:a=>(n.push(a),{unsubscribe:()=>{n=n.filter(i=>i!==a)}}),unsubscribe:()=>{n=[]}}};function NQ(n,e){const s={};for(const r in n)if(n.hasOwnProperty(r)){const a=n[r],i=e[r];if(a&&Ra(a)&&i){const o=NQ(a,i);Ra(o)&&(s[r]=o)}else n[r]&&(s[r]=i)}return s}var Go=n=>Ra(n)&&!Object.keys(n).length,rD=n=>n.type==="file",ed=n=>typeof n=="function",T2=n=>{if(!JI)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},SQ=n=>n.type==="select-multiple",aD=n=>n.type==="radio",M2e=n=>aD(n)||cw(n),pR=n=>T2(n)&&n.isConnected;function P2e(n,e){const s=e.slice(0,-1).length;let r=0;for(;r<s;)n=ia(n)?r++:n[e[r++]];return n}function R2e(n){for(const e in n)if(n.hasOwnProperty(e)&&!ia(n[e]))return!1;return!0}function Sa(n,e){const s=Array.isArray(e)?e:XC(e)?[e]:tD(e),r=s.length===1?n:P2e(n,s),a=s.length-1,i=s[a];return r&&delete r[i],a!==0&&(Ra(r)&&Go(r)||Array.isArray(r)&&R2e(r))&&Sa(n,s.slice(0,-1)),n}var O2e=n=>{for(const e in n)if(ed(n[e]))return!0;return!1};function _Q(n){return Array.isArray(n)||Ra(n)&&!O2e(n)}function R5(n,e={}){for(const s in n)_Q(n[s])?(e[s]=Array.isArray(n[s])?[]:{},R5(n[s],e[s])):ia(n[s])||(e[s]=!0);return e}function Nv(n,e,s){s||(s=R5(e));for(const r in n)_Q(n[r])?ia(e)||P5(s[r])?s[r]=R5(n[r],Array.isArray(n[r])?[]:{}):Nv(n[r],$o(e)?{}:e[r],s[r]):s[r]=!rh(n[r],e[r]);return s}const FV={value:!1,isValid:!1},UV={value:!0,isValid:!0};var AQ=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!ia(n[0].attributes.value)?ia(n[0].value)||n[0].value===""?UV:{value:n[0].value,isValid:!0}:UV:FV}return FV},CQ=(n,{valueAsNumber:e,valueAsDate:s,setValueAs:r})=>ia(n)?n:e?n===""?NaN:n&&+n:s&&vl(n)?new Date(n):r?r(n):n;const zV={isValid:!1,value:null};var TQ=n=>Array.isArray(n)?n.reduce((e,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:e,zV):zV;function BV(n){const e=n.ref;return rD(e)?e.files:aD(e)?TQ(n.refs).value:SQ(e)?[...e.selectedOptions].map(({value:s})=>s):cw(e)?AQ(n.refs).value:CQ(ia(e.value)?n.ref.value:e.value,n)}var k2e=(n,e,s,r)=>{const a={};for(const i of n){const o=Wt(e,i);o&&sr(a,i,o._f)}return{criteriaMode:s,names:[...n],fields:a,shouldUseNativeValidation:r}},E2=n=>n instanceof RegExp,Fb=n=>ia(n)?n:E2(n)?n.source:Ra(n)?E2(n.value)?n.value.source:n.value:n,VV=n=>({isOnSubmit:!n||n===Jc.onSubmit,isOnBlur:n===Jc.onBlur,isOnChange:n===Jc.onChange,isOnAll:n===Jc.all,isOnTouch:n===Jc.onTouched});const HV="AsyncFunction";var I2e=n=>!!n&&!!n.validate&&!!(ed(n.validate)&&n.validate.constructor.name===HV||Ra(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===HV)),D2e=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate),GV=(n,e,s)=>!s&&(e.watchAll||e.watch.has(n)||[...e.watch].some(r=>n.startsWith(r)&&/^\.\w+/.test(n.slice(r.length))));const Nj=(n,e,s,r)=>{for(const a of s||Object.keys(n)){const i=Wt(n,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],a)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Nj(l,e))break}else if(Ra(l)&&Nj(l,e))break}}};function $V(n,e,s){const r=Wt(n,s);if(r||XC(s))return{error:r,name:s};const a=s.split(".");for(;a.length;){const i=a.join("."),o=Wt(e,i),l=Wt(n,i);if(o&&!Array.isArray(o)&&s!==i)return{name:s};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:s}}var L2e=(n,e,s,r)=>{s(n);const{name:a,...i}=n;return Go(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||Jc.all))},F2e=(n,e,s)=>!n||!e||n===e||wj(n).some(r=>r&&(s?r===e:r.startsWith(e)||e.startsWith(r))),U2e=(n,e,s,r,a)=>a.isOnAll?!1:!s&&a.isOnTouch?!(e||n):(s?r.isOnBlur:a.isOnBlur)?!n:(s?r.isOnChange:a.isOnChange)?n:!0,z2e=(n,e)=>!eD(Wt(n,e)).length&&Sa(n,e),B2e=(n,e,s)=>{const r=wj(Wt(n,s));return sr(r,"root",e[s]),sr(n,s,r),n};function qV(n,e,s="validate"){if(vl(n)||Array.isArray(n)&&n.every(vl)||pl(n)&&!n)return{type:s,message:vl(n)?n:"",ref:e}}var Yg=n=>Ra(n)&&!E2(n)?n:{value:n,message:""},WV=async(n,e,s,r,a,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:h,max:m,pattern:y,validate:N,name:j,valueAsNumber:v,mount:b}=n._f,A=Wt(s,j);if(!b||e.has(j))return{};const S=l?l[0]:o,w=H=>{a&&S.reportValidity&&(S.setCustomValidity(pl(H)?"":H||""),S.reportValidity())},E={},T=aD(o),P=cw(o),k=T||P,I=(v||rD(o))&&ia(o.value)&&ia(A)||T2(o)&&o.value===""||A===""||Array.isArray(A)&&!A.length,L=wQ.bind(null,j,r,E),U=(H,B,K,J=Ku.maxLength,W=Ku.minLength)=>{const ee=H?B:K;E[j]={type:H?J:W,message:ee,ref:o,...L(H?J:W,ee)}};if(i?!Array.isArray(A)||!A.length:c&&(!k&&(I||$o(A))||pl(A)&&!A||P&&!AQ(l).isValid||T&&!TQ(l).isValid)){const{value:H,message:B}=vl(c)?{value:!!c,message:c}:Yg(c);if(H&&(E[j]={type:Ku.required,message:B,ref:S,...L(Ku.required,B)},!r))return w(B),E}if(!I&&(!$o(h)||!$o(m))){let H,B;const K=Yg(m),J=Yg(h);if(!$o(A)&&!isNaN(A)){const W=o.valueAsNumber||A&&+A;$o(K.value)||(H=W>K.value),$o(J.value)||(B=W<J.value)}else{const W=o.valueAsDate||new Date(A),ee=fe=>new Date(new Date().toDateString()+" "+fe),G=o.type=="time",ae=o.type=="week";vl(K.value)&&A&&(H=G?ee(A)>ee(K.value):ae?A>K.value:W>new Date(K.value)),vl(J.value)&&A&&(B=G?ee(A)<ee(J.value):ae?A<J.value:W<new Date(J.value))}if((H||B)&&(U(!!H,K.message,J.message,Ku.max,Ku.min),!r))return w(E[j].message),E}if((d||u)&&!I&&(vl(A)||i&&Array.isArray(A))){const H=Yg(d),B=Yg(u),K=!$o(H.value)&&A.length>+H.value,J=!$o(B.value)&&A.length<+B.value;if((K||J)&&(U(K,H.message,B.message),!r))return w(E[j].message),E}if(y&&!I&&vl(A)){const{value:H,message:B}=Yg(y);if(E2(H)&&!A.match(H)&&(E[j]={type:Ku.pattern,message:B,ref:o,...L(Ku.pattern,B)},!r))return w(B),E}if(N){if(ed(N)){const H=await N(A,s),B=qV(H,S);if(B&&(E[j]={...B,...L(Ku.validate,B.message)},!r))return w(B.message),E}else if(Ra(N)){let H={};for(const B in N){if(!Go(H)&&!r)break;const K=qV(await N[B](A,s),S,B);K&&(H={...K,...L(B,K.message)},w(K.message),r&&(E[j]=H))}if(!Go(H)&&(E[j]={ref:S,...H},!r))return E}}return w(!0),E};const V2e={mode:Jc.onSubmit,reValidateMode:Jc.onChange,shouldFocusError:!0};function H2e(n={}){let e={...V2e,...n},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:ed(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},a=Ra(e.defaultValues)||Ra(e.values)?Ha(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Ha(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...u};const m={array:LV(),state:LV()},y=e.criteriaMode===Jc.all,N=ue=>Ee=>{clearTimeout(d),d=setTimeout(ue,Ee)},j=async ue=>{if(!e.disabled&&(u.isValid||h.isValid||ue)){const Ee=e.resolver?Go((await P()).errors):await I(r,!0);Ee!==s.isValid&&m.state.next({isValid:Ee})}},v=(ue,Ee)=>{!e.disabled&&(u.isValidating||u.validatingFields||h.isValidating||h.validatingFields)&&((ue||Array.from(l.mount)).forEach(Ie=>{Ie&&(Ee?sr(s.validatingFields,Ie,Ee):Sa(s.validatingFields,Ie))}),m.state.next({validatingFields:s.validatingFields,isValidating:!Go(s.validatingFields)}))},b=(ue,Ee=[],Ie,ne,X=!0,je=!0)=>{if(ne&&Ie&&!e.disabled){if(o.action=!0,je&&Array.isArray(Wt(r,ue))){const Re=Ie(Wt(r,ue),ne.argA,ne.argB);X&&sr(r,ue,Re)}if(je&&Array.isArray(Wt(s.errors,ue))){const Re=Ie(Wt(s.errors,ue),ne.argA,ne.argB);X&&sr(s.errors,ue,Re),z2e(s.errors,ue)}if((u.touchedFields||h.touchedFields)&&je&&Array.isArray(Wt(s.touchedFields,ue))){const Re=Ie(Wt(s.touchedFields,ue),ne.argA,ne.argB);X&&sr(s.touchedFields,ue,Re)}(u.dirtyFields||h.dirtyFields)&&(s.dirtyFields=Nv(a,i)),m.state.next({name:ue,isDirty:U(ue,Ee),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else sr(i,ue,Ee)},A=(ue,Ee)=>{sr(s.errors,ue,Ee),m.state.next({errors:s.errors})},S=ue=>{s.errors=ue,m.state.next({errors:s.errors,isValid:!1})},w=(ue,Ee,Ie,ne)=>{const X=Wt(r,ue);if(X){const je=Wt(i,ue,ia(Ie)?Wt(a,ue):Ie);ia(je)||ne&&ne.defaultChecked||Ee?sr(i,ue,Ee?je:BV(X._f)):K(ue,je),o.mount&&j()}},E=(ue,Ee,Ie,ne,X)=>{let je=!1,Re=!1;const nt={name:ue};if(!e.disabled){if(!Ie||ne){(u.isDirty||h.isDirty)&&(Re=s.isDirty,s.isDirty=nt.isDirty=U(),je=Re!==nt.isDirty);const We=rh(Wt(a,ue),Ee);Re=!!Wt(s.dirtyFields,ue),We?Sa(s.dirtyFields,ue):sr(s.dirtyFields,ue,!0),nt.dirtyFields=s.dirtyFields,je=je||(u.dirtyFields||h.dirtyFields)&&Re!==!We}if(Ie){const We=Wt(s.touchedFields,ue);We||(sr(s.touchedFields,ue,Ie),nt.touchedFields=s.touchedFields,je=je||(u.touchedFields||h.touchedFields)&&We!==Ie)}je&&X&&m.state.next(nt)}return je?nt:{}},T=(ue,Ee,Ie,ne)=>{const X=Wt(s.errors,ue),je=(u.isValid||h.isValid)&&pl(Ee)&&s.isValid!==Ee;if(e.delayError&&Ie?(c=N(()=>A(ue,Ie)),c(e.delayError)):(clearTimeout(d),c=null,Ie?sr(s.errors,ue,Ie):Sa(s.errors,ue)),(Ie?!rh(X,Ie):X)||!Go(ne)||je){const Re={...ne,...je&&pl(Ee)?{isValid:Ee}:{},errors:s.errors,name:ue};s={...s,...Re},m.state.next(Re)}},P=async ue=>{v(ue,!0);const Ee=await e.resolver(i,e.context,k2e(ue||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return v(ue),Ee},k=async ue=>{const{errors:Ee}=await P(ue);if(ue)for(const Ie of ue){const ne=Wt(Ee,Ie);ne?sr(s.errors,Ie,ne):Sa(s.errors,Ie)}else s.errors=Ee;return Ee},I=async(ue,Ee,Ie={valid:!0})=>{for(const ne in ue){const X=ue[ne];if(X){const{_f:je,...Re}=X;if(je){const nt=l.array.has(je.name),We=X._f&&I2e(X._f);We&&u.validatingFields&&v([je.name],!0);const Ft=await WV(X,l.disabled,i,y,e.shouldUseNativeValidation&&!Ee,nt);if(We&&u.validatingFields&&v([je.name]),Ft[je.name]&&(Ie.valid=!1,Ee))break;!Ee&&(Wt(Ft,je.name)?nt?B2e(s.errors,Ft,je.name):sr(s.errors,je.name,Ft[je.name]):Sa(s.errors,je.name))}!Go(Re)&&await I(Re,Ee,Ie)}}return Ie.valid},L=()=>{for(const ue of l.unMount){const Ee=Wt(r,ue);Ee&&(Ee._f.refs?Ee._f.refs.every(Ie=>!pR(Ie)):!pR(Ee._f.ref))&&Ce(ue)}l.unMount=new Set},U=(ue,Ee)=>!e.disabled&&(ue&&Ee&&sr(i,ue,Ee),!rh(fe(),a)),H=(ue,Ee,Ie)=>jQ(ue,l,{...o.mount?i:ia(Ee)?a:vl(ue)?{[ue]:Ee}:Ee},Ie,Ee),B=ue=>eD(Wt(o.mount?i:a,ue,e.shouldUnregister?Wt(a,ue,[]):[])),K=(ue,Ee,Ie={})=>{const ne=Wt(r,ue);let X=Ee;if(ne){const je=ne._f;je&&(!je.disabled&&sr(i,ue,CQ(Ee,je)),X=T2(je.ref)&&$o(Ee)?"":Ee,SQ(je.ref)?[...je.ref.options].forEach(Re=>Re.selected=X.includes(Re.value)):je.refs?cw(je.ref)?je.refs.forEach(Re=>{(!Re.defaultChecked||!Re.disabled)&&(Array.isArray(X)?Re.checked=!!X.find(nt=>nt===Re.value):Re.checked=X===Re.value||!!X)}):je.refs.forEach(Re=>Re.checked=Re.value===X):rD(je.ref)?je.ref.value="":(je.ref.value=X,je.ref.type||m.state.next({name:ue,values:Ha(i)})))}(Ie.shouldDirty||Ie.shouldTouch)&&E(ue,X,Ie.shouldTouch,Ie.shouldDirty,!0),Ie.shouldValidate&&ae(ue)},J=(ue,Ee,Ie)=>{for(const ne in Ee){if(!Ee.hasOwnProperty(ne))return;const X=Ee[ne],je=ue+"."+ne,Re=Wt(r,je);(l.array.has(ue)||Ra(X)||Re&&!Re._f)&&!Bp(X)?J(je,X,Ie):K(je,X,Ie)}},W=(ue,Ee,Ie={})=>{const ne=Wt(r,ue),X=l.array.has(ue),je=Ha(Ee);sr(i,ue,je),X?(m.array.next({name:ue,values:Ha(i)}),(u.isDirty||u.dirtyFields||h.isDirty||h.dirtyFields)&&Ie.shouldDirty&&m.state.next({name:ue,dirtyFields:Nv(a,i),isDirty:U(ue,je)})):ne&&!ne._f&&!$o(je)?J(ue,je,Ie):K(ue,je,Ie),GV(ue,l)&&m.state.next({...s,name:ue}),m.state.next({name:o.mount?ue:void 0,values:Ha(i)})},ee=async ue=>{o.mount=!0;const Ee=ue.target;let Ie=Ee.name,ne=!0;const X=Wt(r,Ie),je=We=>{ne=Number.isNaN(We)||Bp(We)&&isNaN(We.getTime())||rh(We,Wt(i,Ie,We))},Re=VV(e.mode),nt=VV(e.reValidateMode);if(X){let We,Ft;const Et=Ee.type?BV(X._f):vQ(ue),Ut=ue.type===C2.BLUR||ue.type===C2.FOCUS_OUT,Qt=!D2e(X._f)&&!e.resolver&&!Wt(s.errors,Ie)&&!X._f.deps||U2e(Ut,Wt(s.touchedFields,Ie),s.isSubmitted,nt,Re),wt=GV(Ie,l,Ut);sr(i,Ie,Et),Ut?(!Ee||!Ee.readOnly)&&(X._f.onBlur&&X._f.onBlur(ue),c&&c(0)):X._f.onChange&&X._f.onChange(ue);const _t=E(Ie,Et,Ut),hn=!Go(_t)||wt;if(!Ut&&m.state.next({name:Ie,type:ue.type,values:Ha(i)}),Qt)return(u.isValid||h.isValid)&&(e.mode==="onBlur"?Ut&&j():Ut||j()),hn&&m.state.next({name:Ie,...wt?{}:_t});if(!Ut&&wt&&m.state.next({...s}),e.resolver){const{errors:Se}=await P([Ie]);if(je(Et),ne){const Be=$V(s.errors,r,Ie),bt=$V(Se,r,Be.name||Ie);We=bt.error,Ie=bt.name,Ft=Go(Se)}}else v([Ie],!0),We=(await WV(X,l.disabled,i,y,e.shouldUseNativeValidation))[Ie],v([Ie]),je(Et),ne&&(We?Ft=!1:(u.isValid||h.isValid)&&(Ft=await I(r,!0)));ne&&(X._f.deps&&(!Array.isArray(X._f.deps)||X._f.deps.length>0)&&ae(X._f.deps),T(Ie,Ft,We,_t))}},G=(ue,Ee)=>{if(Wt(s.errors,Ee)&&ue.focus)return ue.focus(),1},ae=async(ue,Ee={})=>{let Ie,ne;const X=wj(ue);if(e.resolver){const je=await k(ia(ue)?ue:X);Ie=Go(je),ne=ue?!X.some(Re=>Wt(je,Re)):Ie}else ue?(ne=(await Promise.all(X.map(async je=>{const Re=Wt(r,je);return await I(Re&&Re._f?{[je]:Re}:Re)}))).every(Boolean),!(!ne&&!s.isValid)&&j()):ne=Ie=await I(r);return m.state.next({...!vl(ue)||(u.isValid||h.isValid)&&Ie!==s.isValid?{}:{name:ue},...e.resolver||!ue?{isValid:Ie}:{},errors:s.errors}),Ee.shouldFocus&&!ne&&Nj(r,G,ue?X:l.mount),ne},fe=(ue,Ee)=>{let Ie={...o.mount?i:a};return Ee&&(Ie=NQ(Ee.dirtyFields?s.dirtyFields:s.touchedFields,Ie)),ia(ue)?Ie:vl(ue)?Wt(Ie,ue):ue.map(ne=>Wt(Ie,ne))},se=(ue,Ee)=>({invalid:!!Wt((Ee||s).errors,ue),isDirty:!!Wt((Ee||s).dirtyFields,ue),error:Wt((Ee||s).errors,ue),isValidating:!!Wt(s.validatingFields,ue),isTouched:!!Wt((Ee||s).touchedFields,ue)}),me=ue=>{ue&&wj(ue).forEach(Ee=>Sa(s.errors,Ee)),m.state.next({errors:ue?s.errors:{}})},Oe=(ue,Ee,Ie)=>{const ne=(Wt(r,ue,{_f:{}})._f||{}).ref,X=Wt(s.errors,ue)||{},{ref:je,message:Re,type:nt,...We}=X;sr(s.errors,ue,{...We,...Ee,ref:ne}),m.state.next({name:ue,errors:s.errors,isValid:!1}),Ie&&Ie.shouldFocus&&ne&&ne.focus&&ne.focus()},Ye=(ue,Ee)=>ed(ue)?m.state.subscribe({next:Ie=>"values"in Ie&&ue(H(void 0,Ee),Ie)}):H(ue,Ee,!0),dt=ue=>m.state.subscribe({next:Ee=>{F2e(ue.name,Ee.name,ue.exact)&&L2e(Ee,ue.formState||u,Qe,ue.reRenderRoot)&&ue.callback({values:{...i},...s,...Ee,defaultValues:a})}}).unsubscribe,be=ue=>(o.mount=!0,h={...h,...ue.formState},dt({...ue,formState:h})),Ce=(ue,Ee={})=>{for(const Ie of ue?wj(ue):l.mount)l.mount.delete(Ie),l.array.delete(Ie),Ee.keepValue||(Sa(r,Ie),Sa(i,Ie)),!Ee.keepError&&Sa(s.errors,Ie),!Ee.keepDirty&&Sa(s.dirtyFields,Ie),!Ee.keepTouched&&Sa(s.touchedFields,Ie),!Ee.keepIsValidating&&Sa(s.validatingFields,Ie),!e.shouldUnregister&&!Ee.keepDefaultValue&&Sa(a,Ie);m.state.next({values:Ha(i)}),m.state.next({...s,...Ee.keepDirty?{isDirty:U()}:{}}),!Ee.keepIsValid&&j()},Ue=({disabled:ue,name:Ee})=>{(pl(ue)&&o.mount||ue||l.disabled.has(Ee))&&(ue?l.disabled.add(Ee):l.disabled.delete(Ee))},De=(ue,Ee={})=>{let Ie=Wt(r,ue);const ne=pl(Ee.disabled)||pl(e.disabled);return sr(r,ue,{...Ie||{},_f:{...Ie&&Ie._f?Ie._f:{ref:{name:ue}},name:ue,mount:!0,...Ee}}),l.mount.add(ue),Ie?Ue({disabled:pl(Ee.disabled)?Ee.disabled:e.disabled,name:ue}):w(ue,!0,Ee.value),{...ne?{disabled:Ee.disabled||e.disabled}:{},...e.progressive?{required:!!Ee.required,min:Fb(Ee.min),max:Fb(Ee.max),minLength:Fb(Ee.minLength),maxLength:Fb(Ee.maxLength),pattern:Fb(Ee.pattern)}:{},name:ue,onChange:ee,onBlur:ee,ref:X=>{if(X){De(ue,Ee),Ie=Wt(r,ue);const je=ia(X.value)&&X.querySelectorAll&&X.querySelectorAll("input,select,textarea")[0]||X,Re=M2e(je),nt=Ie._f.refs||[];if(Re?nt.find(We=>We===je):je===Ie._f.ref)return;sr(r,ue,{_f:{...Ie._f,...Re?{refs:[...nt.filter(pR),je,...Array.isArray(Wt(a,ue))?[{}]:[]],ref:{type:je.type,name:ue}}:{ref:je}}}),w(ue,!1,void 0,je)}else Ie=Wt(r,ue,{}),Ie._f&&(Ie._f.mount=!1),(e.shouldUnregister||Ee.shouldUnregister)&&!(yQ(l.array,ue)&&o.action)&&l.unMount.add(ue)}}},qe=()=>e.shouldFocusError&&Nj(r,G,l.mount),rt=ue=>{pl(ue)&&(m.state.next({disabled:ue}),Nj(r,(Ee,Ie)=>{const ne=Wt(r,Ie);ne&&(Ee.disabled=ne._f.disabled||ue,Array.isArray(ne._f.refs)&&ne._f.refs.forEach(X=>{X.disabled=ne._f.disabled||ue}))},0,!1))},$e=(ue,Ee)=>async Ie=>{let ne;Ie&&(Ie.preventDefault&&Ie.preventDefault(),Ie.persist&&Ie.persist());let X=Ha(i);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:je,values:Re}=await P();s.errors=je,X=Ha(Re)}else await I(r);if(l.disabled.size)for(const je of l.disabled)Sa(X,je);if(Sa(s.errors,"root"),Go(s.errors)){m.state.next({errors:{}});try{await ue(X,Ie)}catch(je){ne=je}}else Ee&&await Ee({...s.errors},Ie),qe(),setTimeout(qe);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Go(s.errors)&&!ne,submitCount:s.submitCount+1,errors:s.errors}),ne)throw ne},pe=(ue,Ee={})=>{Wt(r,ue)&&(ia(Ee.defaultValue)?W(ue,Ha(Wt(a,ue))):(W(ue,Ee.defaultValue),sr(a,ue,Ha(Ee.defaultValue))),Ee.keepTouched||Sa(s.touchedFields,ue),Ee.keepDirty||(Sa(s.dirtyFields,ue),s.isDirty=Ee.defaultValue?U(ue,Ha(Wt(a,ue))):U()),Ee.keepError||(Sa(s.errors,ue),u.isValid&&j()),m.state.next({...s}))},Ke=(ue,Ee={})=>{const Ie=ue?Ha(ue):a,ne=Ha(Ie),X=Go(ue),je=X?a:ne;if(Ee.keepDefaultValues||(a=Ie),!Ee.keepValues){if(Ee.keepDirtyValues){const Re=new Set([...l.mount,...Object.keys(Nv(a,i))]);for(const nt of Array.from(Re))Wt(s.dirtyFields,nt)?sr(je,nt,Wt(i,nt)):W(nt,Wt(je,nt))}else{if(JI&&ia(ue))for(const Re of l.mount){const nt=Wt(r,Re);if(nt&&nt._f){const We=Array.isArray(nt._f.refs)?nt._f.refs[0]:nt._f.ref;if(T2(We)){const Ft=We.closest("form");if(Ft){Ft.reset();break}}}}if(Ee.keepFieldsRef)for(const Re of l.mount)W(Re,Wt(je,Re));else r={}}i=e.shouldUnregister?Ee.keepDefaultValues?Ha(a):{}:Ha(je),m.array.next({values:{...je}}),m.state.next({values:{...je}})}l={mount:Ee.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!Ee.keepIsValid||!!Ee.keepDirtyValues,o.watch=!!e.shouldUnregister,m.state.next({submitCount:Ee.keepSubmitCount?s.submitCount:0,isDirty:X?!1:Ee.keepDirty?s.isDirty:!!(Ee.keepDefaultValues&&!rh(ue,a)),isSubmitted:Ee.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:X?{}:Ee.keepDirtyValues?Ee.keepDefaultValues&&i?Nv(a,i):s.dirtyFields:Ee.keepDefaultValues&&ue?Nv(a,ue):Ee.keepDirty?s.dirtyFields:{},touchedFields:Ee.keepTouched?s.touchedFields:{},errors:Ee.keepErrors?s.errors:{},isSubmitSuccessful:Ee.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},et=(ue,Ee)=>Ke(ed(ue)?ue(i):ue,Ee),st=(ue,Ee={})=>{const Ie=Wt(r,ue),ne=Ie&&Ie._f;if(ne){const X=ne.refs?ne.refs[0]:ne.ref;X.focus&&(X.focus(),Ee.shouldSelect&&ed(X.select)&&X.select())}},Qe=ue=>{s={...s,...ue}},xt={control:{register:De,unregister:Ce,getFieldState:se,handleSubmit:$e,setError:Oe,_subscribe:dt,_runSchema:P,_focusError:qe,_getWatch:H,_getDirty:U,_setValid:j,_setFieldArray:b,_setDisabledField:Ue,_setErrors:S,_getFieldArray:B,_reset:Ke,_resetDefaultValues:()=>ed(e.defaultValues)&&e.defaultValues().then(ue=>{et(ue,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:L,_disableForm:rt,_subjects:m,_proxyFormState:u,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(ue){o=ue},get _defaultValues(){return a},get _names(){return l},set _names(ue){l=ue},get _formState(){return s},get _options(){return e},set _options(ue){e={...e,...ue}}},subscribe:be,trigger:ae,register:De,handleSubmit:$e,watch:Ye,setValue:W,getValues:fe,reset:et,resetField:pe,clearErrors:me,unregister:Ce,setError:Oe,setFocus:st,getFieldState:se};return{...xt,formControl:xt}}function Qd(n={}){const e=ge.useRef(void 0),s=ge.useRef(void 0),[r,a]=ge.useState({isDirty:!1,isValidating:!1,isLoading:ed(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,isReady:!1,defaultValues:ed(n.defaultValues)?void 0:n.defaultValues});if(!e.current)if(n.formControl)e.current={...n.formControl,formState:r},n.defaultValues&&!ed(n.defaultValues)&&n.formControl.reset(n.defaultValues,n.resetOptions);else{const{formControl:o,...l}=H2e(n);e.current={...l,formState:r}}const i=e.current.control;return i._options=n,sD(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),ge.useEffect(()=>i._disableForm(n.disabled),[i,n.disabled]),ge.useEffect(()=>{n.mode&&(i._options.mode=n.mode),n.reValidateMode&&(i._options.reValidateMode=n.reValidateMode)},[i,n.mode,n.reValidateMode]),ge.useEffect(()=>{n.errors&&(i._setErrors(n.errors),i._focusError())},[i,n.errors]),ge.useEffect(()=>{n.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,n.shouldUnregister]),ge.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),ge.useEffect(()=>{n.values&&!rh(n.values,s.current)?(i._reset(n.values,{keepFieldsRef:!0,...i._options.resetOptions}),s.current=n.values,a(o=>({...o}))):i._resetDefaultValues()},[i,n.values]),ge.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=bQ(r,i),e.current}const KV=(n,e,s)=>{if(n&&"reportValidity"in n){const r=Wt(s,e);n.setCustomValidity(r&&r.message||""),n.reportValidity()}},EQ=(n,e)=>{for(const s in e.fields){const r=e.fields[s];r&&r.ref&&"reportValidity"in r.ref?KV(r.ref,s,n):r.refs&&r.refs.forEach(a=>KV(a,s,n))}},G2e=(n,e)=>{e.shouldUseNativeValidation&&EQ(n,e);const s={};for(const r in n){const a=Wt(e.fields,r),i=Object.assign(n[r]||{},{ref:a&&a.ref});if($2e(e.names||Object.keys(n),r)){const o=Object.assign({},Wt(s,r));sr(o,"root",i),sr(s,r,o)}else sr(s,r,i)}return s},$2e=(n,e)=>n.some(s=>s.startsWith(e+"."));var q2e=function(n,e){for(var s={};n.length;){var r=n[0],a=r.code,i=r.message,o=r.path.join(".");if(!s[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];s[o]={message:l.message,type:l.code}}else s[o]={message:i,type:a};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return n.push(h)})}),e){var c=s[o].types,d=c&&c[r.code];s[o]=wQ(o,e,s,a,d?[].concat(d,r.message):r.message)}n.shift()}return s},Jd=function(n,e,s){return s===void 0&&(s={}),function(r,a,i){try{return Promise.resolve((function(o,l){try{var c=Promise.resolve(n[s.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return i.shouldUseNativeValidation&&EQ({},i),{errors:{},values:s.raw?r:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c})(0,function(o){if((function(l){return Array.isArray(l?.errors)})(o))return{values:{},errors:G2e(q2e(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Bs;(function(n){n.assertEqual=a=>{};function e(a){}n.assertIs=e;function s(a){throw new Error}n.assertNever=s,n.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},n.getValidEnumValues=a=>{const i=n.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return n.objectValues(o)},n.objectValues=a=>n.objectKeys(a).map(function(i){return a[i]}),n.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},n.find=(a,i)=>{for(const o of a)if(i(o))return o},n.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function r(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}n.joinValues=r,n.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Bs||(Bs={}));var XV;(function(n){n.mergeShapes=(e,s)=>({...e,...s})})(XV||(XV={}));const jn=Bs.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Mf=n=>{switch(typeof n){case"undefined":return jn.undefined;case"string":return jn.string;case"number":return Number.isNaN(n)?jn.nan:jn.number;case"boolean":return jn.boolean;case"function":return jn.function;case"bigint":return jn.bigint;case"symbol":return jn.symbol;case"object":return Array.isArray(n)?jn.array:n===null?jn.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?jn.promise:typeof Map<"u"&&n instanceof Map?jn.map:typeof Set<"u"&&n instanceof Set?jn.set:typeof Date<"u"&&n instanceof Date?jn.date:jn.object;default:return jn.unknown}},Lt=Bs.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ch extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=e}format(e){const s=e||function(i){return i.message},r={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)r._errors.push(s(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(s(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),r}static assert(e){if(!(e instanceof Ch))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Bs.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=s=>s.message){const s={},r=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];s[i]=s[i]||[],s[i].push(e(a))}else r.push(e(a));return{formErrors:r,fieldErrors:s}}get formErrors(){return this.flatten()}}Ch.create=n=>new Ch(n);const O5=(n,e)=>{let s;switch(n.code){case Lt.invalid_type:n.received===jn.undefined?s="Required":s=`Expected ${n.expected}, received ${n.received}`;break;case Lt.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(n.expected,Bs.jsonStringifyReplacer)}`;break;case Lt.unrecognized_keys:s=`Unrecognized key(s) in object: ${Bs.joinValues(n.keys,", ")}`;break;case Lt.invalid_union:s="Invalid input";break;case Lt.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${Bs.joinValues(n.options)}`;break;case Lt.invalid_enum_value:s=`Invalid enum value. Expected ${Bs.joinValues(n.options)}, received '${n.received}'`;break;case Lt.invalid_arguments:s="Invalid function arguments";break;case Lt.invalid_return_type:s="Invalid function return type";break;case Lt.invalid_date:s="Invalid date";break;case Lt.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(s=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?s=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?s=`Invalid input: must end with "${n.validation.endsWith}"`:Bs.assertNever(n.validation):n.validation!=="regex"?s=`Invalid ${n.validation}`:s="Invalid";break;case Lt.too_small:n.type==="array"?s=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?s=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?s=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="bigint"?s=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?s=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:s="Invalid input";break;case Lt.too_big:n.type==="array"?s=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?s=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?s=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?s=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?s=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:s="Invalid input";break;case Lt.custom:s="Invalid input";break;case Lt.invalid_intersection_types:s="Intersection results could not be merged";break;case Lt.not_multiple_of:s=`Number must be a multiple of ${n.multipleOf}`;break;case Lt.not_finite:s="Number must be finite";break;default:s=e.defaultError,Bs.assertNever(n)}return{message:s}};let W2e=O5;function K2e(){return W2e}const X2e=n=>{const{data:e,path:s,errorMaps:r,issueData:a}=n,i=[...s,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...a,path:i,message:l}};function on(n,e){const s=K2e(),r=X2e({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,s,s===O5?void 0:O5].filter(a=>!!a)});n.common.issues.push(r)}class El{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,s){const r=[];for(const a of s){if(a.status==="aborted")return ns;a.status==="dirty"&&e.dirty(),r.push(a.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,s){const r=[];for(const a of s){const i=await a.key,o=await a.value;r.push({key:i,value:o})}return El.mergeObjectSync(e,r)}static mergeObjectSync(e,s){const r={};for(const a of s){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return ns;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const ns=Object.freeze({status:"aborted"}),ij=n=>({status:"dirty",value:n}),cc=n=>({status:"valid",value:n}),ZV=n=>n.status==="aborted",YV=n=>n.status==="dirty",M0=n=>n.status==="valid",M2=n=>typeof Promise<"u"&&n instanceof Promise;var An;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e?.message})(An||(An={}));class Kf{constructor(e,s,r,a){this._cachedPath=[],this.parent=e,this.data=s,this._path=r,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const QV=(n,e)=>{if(M0(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new Ch(n.common.issues);return this._error=s,this._error}}};function Ss(n){if(!n)return{};const{errorMap:e,invalid_type_error:s,required_error:r,description:a}=n;if(e&&(s||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(o,l)=>{const{message:c}=n;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??s??l.defaultError}},description:a}}class Fs{get description(){return this._def.description}_getType(e){return Mf(e.data)}_getOrReturnCtx(e,s){return s||{common:e.parent.common,data:e.data,parsedType:Mf(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new El,ctx:{common:e.parent.common,data:e.data,parsedType:Mf(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const s=this._parse(e);if(M2(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(e){const s=this._parse(e);return Promise.resolve(s)}parse(e,s){const r=this.safeParse(e,s);if(r.success)return r.data;throw r.error}safeParse(e,s){const r={common:{issues:[],async:s?.async??!1,contextualErrorMap:s?.errorMap},path:s?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mf(e)},a=this._parseSync({data:e,path:r.path,parent:r});return QV(r,a)}"~validate"(e){const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mf(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:s});return M0(r)?{value:r.value}:{issues:s.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(r=>M0(r)?{value:r.value}:{issues:s.common.issues})}async parseAsync(e,s){const r=await this.safeParseAsync(e,s);if(r.success)return r.data;throw r.error}async safeParseAsync(e,s){const r={common:{issues:[],contextualErrorMap:s?.errorMap,async:!0},path:s?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mf(e)},a=this._parse({data:e,path:r.path,parent:r}),i=await(M2(a)?a:Promise.resolve(a));return QV(r,i)}refine(e,s){const r=a=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(a):s;return this._refinement((a,i)=>{const o=e(a),l=()=>i.addIssue({code:Lt.custom,...r(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,s){return this._refinement((r,a)=>e(r)?!0:(a.addIssue(typeof s=="function"?s(r,a):s),!1))}_refinement(e){return new O0({schema:this,typeName:ss.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return Bf.create(this,this._def)}nullable(){return k0.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return eu.create(this)}promise(){return k2.create(this,this._def)}or(e){return R2.create([this,e],this._def)}and(e){return O2.create(this,e,this._def)}transform(e){return new O0({...Ss(this._def),schema:this,typeName:ss.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const s=typeof e=="function"?e:()=>e;return new I5({...Ss(this._def),innerType:this,defaultValue:s,typeName:ss.ZodDefault})}brand(){return new vAe({typeName:ss.ZodBranded,type:this,...Ss(this._def)})}catch(e){const s=typeof e=="function"?e:()=>e;return new D5({...Ss(this._def),innerType:this,catchValue:s,typeName:ss.ZodCatch})}describe(e){const s=this.constructor;return new s({...this._def,description:e})}pipe(e){return iD.create(this,e)}readonly(){return L5.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Z2e=/^c[^\s-]{8,}$/i,Y2e=/^[0-9a-z]+$/,Q2e=/^[0-9A-HJKMNP-TV-Z]{26}$/i,J2e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,eAe=/^[a-z0-9_-]{21}$/i,tAe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,nAe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,sAe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,rAe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let xR;const aAe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,iAe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,oAe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,lAe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,cAe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dAe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,MQ="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",uAe=new RegExp(`^${MQ}$`);function PQ(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const s=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${s}`}function hAe(n){return new RegExp(`^${PQ(n)}$`)}function fAe(n){let e=`${MQ}T${PQ(n)}`;const s=[];return s.push(n.local?"Z?":"Z"),n.offset&&s.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${s.join("|")})`,new RegExp(`^${e}$`)}function mAe(n,e){return!!((e==="v4"||!e)&&aAe.test(n)||(e==="v6"||!e)&&oAe.test(n))}function pAe(n,e){if(!tAe.test(n))return!1;try{const[s]=n.split(".");if(!s)return!1;const r=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),a=JSON.parse(atob(r));return!(typeof a!="object"||a===null||"typ"in a&&a?.typ!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function xAe(n,e){return!!((e==="v4"||!e)&&iAe.test(n)||(e==="v6"||!e)&&lAe.test(n))}class dh extends Fs{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==jn.string){const i=this._getOrReturnCtx(e);return on(i,{code:Lt.invalid_type,expected:jn.string,received:i.parsedType}),ns}const r=new El;let a;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(a=this._getOrReturnCtx(e,a),on(a,{code:Lt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(a=this._getOrReturnCtx(e,a),on(a,{code:Lt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,l=e.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(e,a),o?on(a,{code:Lt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&on(a,{code:Lt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")sAe.test(e.data)||(a=this._getOrReturnCtx(e,a),on(a,{validation:"email",code:Lt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")xR||(xR=new RegExp(rAe,"u")),xR.test(e.data)||(a=this._getOrReturnCtx(e,a),on(a,{validation:"emoji",code:Lt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")J2e.test(e.data)||(a=this._getOrReturnCtx(e,a),on(a,{validation:"uuid",code:Lt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")eAe.test(e.data)||(a=this._getOrReturnCtx(e,a),on(a,{validation:"nanoid",code:Lt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")Z2e.test(e.data)||(a=this._getOrReturnCtx(e,a),on(a,{validation:"cuid",code:Lt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")Y2e.test(e.data)||(a=this._getOrReturnCtx(e,a),on(a,{validation:"cuid2",code:Lt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")Q2e.test(e.data)||(a=this._getOrReturnCtx(e,a),on(a,{validation:"ulid",code:Lt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),on(a,{validation:"url",code:Lt.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),on(a,{validation:"regex",code:Lt.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(e,a),on(a,{code:Lt.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(a=this._getOrReturnCtx(e,a),on(a,{code:Lt.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(a=this._getOrReturnCtx(e,a),on(a,{code:Lt.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?fAe(i).test(e.data)||(a=this._getOrReturnCtx(e,a),on(a,{code:Lt.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?uAe.test(e.data)||(a=this._getOrReturnCtx(e,a),on(a,{code:Lt.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?hAe(i).test(e.data)||(a=this._getOrReturnCtx(e,a),on(a,{code:Lt.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?nAe.test(e.data)||(a=this._getOrReturnCtx(e,a),on(a,{validation:"duration",code:Lt.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?mAe(e.data,i.version)||(a=this._getOrReturnCtx(e,a),on(a,{validation:"ip",code:Lt.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?pAe(e.data,i.alg)||(a=this._getOrReturnCtx(e,a),on(a,{validation:"jwt",code:Lt.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?xAe(e.data,i.version)||(a=this._getOrReturnCtx(e,a),on(a,{validation:"cidr",code:Lt.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?cAe.test(e.data)||(a=this._getOrReturnCtx(e,a),on(a,{validation:"base64",code:Lt.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?dAe.test(e.data)||(a=this._getOrReturnCtx(e,a),on(a,{validation:"base64url",code:Lt.invalid_string,message:i.message}),r.dirty()):Bs.assertNever(i);return{status:r.value,value:e.data}}_regex(e,s,r){return this.refinement(a=>e.test(a),{validation:s,code:Lt.invalid_string,...An.errToObj(r)})}_addCheck(e){return new dh({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...An.errToObj(e)})}url(e){return this._addCheck({kind:"url",...An.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...An.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...An.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...An.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...An.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...An.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...An.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...An.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...An.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...An.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...An.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...An.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...An.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...An.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...An.errToObj(e)})}regex(e,s){return this._addCheck({kind:"regex",regex:e,...An.errToObj(s)})}includes(e,s){return this._addCheck({kind:"includes",value:e,position:s?.position,...An.errToObj(s?.message)})}startsWith(e,s){return this._addCheck({kind:"startsWith",value:e,...An.errToObj(s)})}endsWith(e,s){return this._addCheck({kind:"endsWith",value:e,...An.errToObj(s)})}min(e,s){return this._addCheck({kind:"min",value:e,...An.errToObj(s)})}max(e,s){return this._addCheck({kind:"max",value:e,...An.errToObj(s)})}length(e,s){return this._addCheck({kind:"length",value:e,...An.errToObj(s)})}nonempty(e){return this.min(1,An.errToObj(e))}trim(){return new dh({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new dh({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new dh({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxLength(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}dh.create=n=>new dh({checks:[],typeName:ss.ZodString,coerce:n?.coerce??!1,...Ss(n)});function gAe(n,e){const s=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,a=s>r?s:r,i=Number.parseInt(n.toFixed(a).replace(".","")),o=Number.parseInt(e.toFixed(a).replace(".",""));return i%o/10**a}class wx extends Fs{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==jn.number){const i=this._getOrReturnCtx(e);return on(i,{code:Lt.invalid_type,expected:jn.number,received:i.parsedType}),ns}let r;const a=new El;for(const i of this._def.checks)i.kind==="int"?Bs.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),on(r,{code:Lt.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),on(r,{code:Lt.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),on(r,{code:Lt.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?gAe(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),on(r,{code:Lt.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),on(r,{code:Lt.not_finite,message:i.message}),a.dirty()):Bs.assertNever(i);return{status:a.value,value:e.data}}gte(e,s){return this.setLimit("min",e,!0,An.toString(s))}gt(e,s){return this.setLimit("min",e,!1,An.toString(s))}lte(e,s){return this.setLimit("max",e,!0,An.toString(s))}lt(e,s){return this.setLimit("max",e,!1,An.toString(s))}setLimit(e,s,r,a){return new wx({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:r,message:An.toString(a)}]})}_addCheck(e){return new wx({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:An.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:An.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:An.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:An.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:An.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:An.toString(s)})}finite(e){return this._addCheck({kind:"finite",message:An.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:An.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:An.toString(e)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Bs.isInteger(e.value))}get isFinite(){let e=null,s=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(s===null||r.value>s)&&(s=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(s)&&Number.isFinite(e)}}wx.create=n=>new wx({checks:[],typeName:ss.ZodNumber,coerce:n?.coerce||!1,...Ss(n)});class Nx extends Fs{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==jn.bigint)return this._getInvalidInput(e);let r;const a=new El;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),on(r,{code:Lt.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),on(r,{code:Lt.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),on(r,{code:Lt.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Bs.assertNever(i);return{status:a.value,value:e.data}}_getInvalidInput(e){const s=this._getOrReturnCtx(e);return on(s,{code:Lt.invalid_type,expected:jn.bigint,received:s.parsedType}),ns}gte(e,s){return this.setLimit("min",e,!0,An.toString(s))}gt(e,s){return this.setLimit("min",e,!1,An.toString(s))}lte(e,s){return this.setLimit("max",e,!0,An.toString(s))}lt(e,s){return this.setLimit("max",e,!1,An.toString(s))}setLimit(e,s,r,a){return new Nx({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:r,message:An.toString(a)}]})}_addCheck(e){return new Nx({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:An.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:An.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:An.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:An.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:An.toString(s)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}Nx.create=n=>new Nx({checks:[],typeName:ss.ZodBigInt,coerce:n?.coerce??!1,...Ss(n)});class P2 extends Fs{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==jn.boolean){const r=this._getOrReturnCtx(e);return on(r,{code:Lt.invalid_type,expected:jn.boolean,received:r.parsedType}),ns}return cc(e.data)}}P2.create=n=>new P2({typeName:ss.ZodBoolean,coerce:n?.coerce||!1,...Ss(n)});class P0 extends Fs{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==jn.date){const i=this._getOrReturnCtx(e);return on(i,{code:Lt.invalid_type,expected:jn.date,received:i.parsedType}),ns}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return on(i,{code:Lt.invalid_date}),ns}const r=new El;let a;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(a=this._getOrReturnCtx(e,a),on(a,{code:Lt.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(a=this._getOrReturnCtx(e,a),on(a,{code:Lt.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Bs.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new P0({...this._def,checks:[...this._def.checks,e]})}min(e,s){return this._addCheck({kind:"min",value:e.getTime(),message:An.toString(s)})}max(e,s){return this._addCheck({kind:"max",value:e.getTime(),message:An.toString(s)})}get minDate(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e!=null?new Date(e):null}}P0.create=n=>new P0({checks:[],coerce:n?.coerce||!1,typeName:ss.ZodDate,...Ss(n)});class JV extends Fs{_parse(e){if(this._getType(e)!==jn.symbol){const r=this._getOrReturnCtx(e);return on(r,{code:Lt.invalid_type,expected:jn.symbol,received:r.parsedType}),ns}return cc(e.data)}}JV.create=n=>new JV({typeName:ss.ZodSymbol,...Ss(n)});class eH extends Fs{_parse(e){if(this._getType(e)!==jn.undefined){const r=this._getOrReturnCtx(e);return on(r,{code:Lt.invalid_type,expected:jn.undefined,received:r.parsedType}),ns}return cc(e.data)}}eH.create=n=>new eH({typeName:ss.ZodUndefined,...Ss(n)});class tH extends Fs{_parse(e){if(this._getType(e)!==jn.null){const r=this._getOrReturnCtx(e);return on(r,{code:Lt.invalid_type,expected:jn.null,received:r.parsedType}),ns}return cc(e.data)}}tH.create=n=>new tH({typeName:ss.ZodNull,...Ss(n)});class nH extends Fs{constructor(){super(...arguments),this._any=!0}_parse(e){return cc(e.data)}}nH.create=n=>new nH({typeName:ss.ZodAny,...Ss(n)});class sH extends Fs{constructor(){super(...arguments),this._unknown=!0}_parse(e){return cc(e.data)}}sH.create=n=>new sH({typeName:ss.ZodUnknown,...Ss(n)});class Xf extends Fs{_parse(e){const s=this._getOrReturnCtx(e);return on(s,{code:Lt.invalid_type,expected:jn.never,received:s.parsedType}),ns}}Xf.create=n=>new Xf({typeName:ss.ZodNever,...Ss(n)});class rH extends Fs{_parse(e){if(this._getType(e)!==jn.undefined){const r=this._getOrReturnCtx(e);return on(r,{code:Lt.invalid_type,expected:jn.void,received:r.parsedType}),ns}return cc(e.data)}}rH.create=n=>new rH({typeName:ss.ZodVoid,...Ss(n)});class eu extends Fs{_parse(e){const{ctx:s,status:r}=this._processInputParams(e),a=this._def;if(s.parsedType!==jn.array)return on(s,{code:Lt.invalid_type,expected:jn.array,received:s.parsedType}),ns;if(a.exactLength!==null){const o=s.data.length>a.exactLength.value,l=s.data.length<a.exactLength.value;(o||l)&&(on(s,{code:o?Lt.too_big:Lt.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&s.data.length<a.minLength.value&&(on(s,{code:Lt.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&s.data.length>a.maxLength.value&&(on(s,{code:Lt.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),s.common.async)return Promise.all([...s.data].map((o,l)=>a.type._parseAsync(new Kf(s,o,s.path,l)))).then(o=>El.mergeArray(r,o));const i=[...s.data].map((o,l)=>a.type._parseSync(new Kf(s,o,s.path,l)));return El.mergeArray(r,i)}get element(){return this._def.type}min(e,s){return new eu({...this._def,minLength:{value:e,message:An.toString(s)}})}max(e,s){return new eu({...this._def,maxLength:{value:e,message:An.toString(s)}})}length(e,s){return new eu({...this._def,exactLength:{value:e,message:An.toString(s)}})}nonempty(e){return this.min(1,e)}}eu.create=(n,e)=>new eu({type:n,minLength:null,maxLength:null,exactLength:null,typeName:ss.ZodArray,...Ss(e)});function Sv(n){if(n instanceof Aa){const e={};for(const s in n.shape){const r=n.shape[s];e[s]=Bf.create(Sv(r))}return new Aa({...n._def,shape:()=>e})}else return n instanceof eu?new eu({...n._def,type:Sv(n.element)}):n instanceof Bf?Bf.create(Sv(n.unwrap())):n instanceof k0?k0.create(Sv(n.unwrap())):n instanceof Sx?Sx.create(n.items.map(e=>Sv(e))):n}class Aa extends Fs{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),s=Bs.objectKeys(e);return this._cached={shape:e,keys:s},this._cached}_parse(e){if(this._getType(e)!==jn.object){const d=this._getOrReturnCtx(e);return on(d,{code:Lt.invalid_type,expected:jn.object,received:d.parsedType}),ns}const{status:r,ctx:a}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Xf&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],h=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Kf(a,h,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof Xf){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")l.length>0&&(on(a,{code:Lt.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const h=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Kf(a,h,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,m=await u.value;d.push({key:h,value:m,alwaysSet:u.alwaysSet})}return d}).then(d=>El.mergeObjectSync(r,d)):El.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return An.errToObj,new Aa({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(s,r)=>{const a=this._def.errorMap?.(s,r).message??r.defaultError;return s.code==="unrecognized_keys"?{message:An.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new Aa({...this._def,unknownKeys:"strip"})}passthrough(){return new Aa({...this._def,unknownKeys:"passthrough"})}extend(e){return new Aa({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Aa({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ss.ZodObject})}setKey(e,s){return this.augment({[e]:s})}catchall(e){return new Aa({...this._def,catchall:e})}pick(e){const s={};for(const r of Bs.objectKeys(e))e[r]&&this.shape[r]&&(s[r]=this.shape[r]);return new Aa({...this._def,shape:()=>s})}omit(e){const s={};for(const r of Bs.objectKeys(this.shape))e[r]||(s[r]=this.shape[r]);return new Aa({...this._def,shape:()=>s})}deepPartial(){return Sv(this)}partial(e){const s={};for(const r of Bs.objectKeys(this.shape)){const a=this.shape[r];e&&!e[r]?s[r]=a:s[r]=a.optional()}return new Aa({...this._def,shape:()=>s})}required(e){const s={};for(const r of Bs.objectKeys(this.shape))if(e&&!e[r])s[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Bf;)i=i._def.innerType;s[r]=i}return new Aa({...this._def,shape:()=>s})}keyof(){return RQ(Bs.objectKeys(this.shape))}}Aa.create=(n,e)=>new Aa({shape:()=>n,unknownKeys:"strip",catchall:Xf.create(),typeName:ss.ZodObject,...Ss(e)});Aa.strictCreate=(n,e)=>new Aa({shape:()=>n,unknownKeys:"strict",catchall:Xf.create(),typeName:ss.ZodObject,...Ss(e)});Aa.lazycreate=(n,e)=>new Aa({shape:n,unknownKeys:"strip",catchall:Xf.create(),typeName:ss.ZodObject,...Ss(e)});class R2 extends Fs{_parse(e){const{ctx:s}=this._processInputParams(e),r=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return s.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Ch(l.ctx.common.issues));return on(s,{code:Lt.invalid_union,unionErrors:o}),ns}if(s.common.async)return Promise.all(r.map(async i=>{const o={...s,common:{...s.common,issues:[]},parent:null};return{result:await i._parseAsync({data:s.data,path:s.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of r){const d={...s,common:{...s.common,issues:[]},parent:null},u=c._parseSync({data:s.data,path:s.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return s.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Ch(c));return on(s,{code:Lt.invalid_union,unionErrors:l}),ns}}get options(){return this._def.options}}R2.create=(n,e)=>new R2({options:n,typeName:ss.ZodUnion,...Ss(e)});function k5(n,e){const s=Mf(n),r=Mf(e);if(n===e)return{valid:!0,data:n};if(s===jn.object&&r===jn.object){const a=Bs.objectKeys(e),i=Bs.objectKeys(n).filter(l=>a.indexOf(l)!==-1),o={...n,...e};for(const l of i){const c=k5(n[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(s===jn.array&&r===jn.array){if(n.length!==e.length)return{valid:!1};const a=[];for(let i=0;i<n.length;i++){const o=n[i],l=e[i],c=k5(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return s===jn.date&&r===jn.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class O2 extends Fs{_parse(e){const{status:s,ctx:r}=this._processInputParams(e),a=(i,o)=>{if(ZV(i)||ZV(o))return ns;const l=k5(i.value,o.value);return l.valid?((YV(i)||YV(o))&&s.dirty(),{status:s.value,value:l.data}):(on(r,{code:Lt.invalid_intersection_types}),ns)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}O2.create=(n,e,s)=>new O2({left:n,right:e,typeName:ss.ZodIntersection,...Ss(s)});class Sx extends Fs{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==jn.array)return on(r,{code:Lt.invalid_type,expected:jn.array,received:r.parsedType}),ns;if(r.data.length<this._def.items.length)return on(r,{code:Lt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ns;!this._def.rest&&r.data.length>this._def.items.length&&(on(r,{code:Lt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const i=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Kf(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>El.mergeArray(s,o)):El.mergeArray(s,i)}get items(){return this._def.items}rest(e){return new Sx({...this._def,rest:e})}}Sx.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Sx({items:n,typeName:ss.ZodTuple,rest:null,...Ss(e)})};class aH extends Fs{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==jn.map)return on(r,{code:Lt.invalid_type,expected:jn.map,received:r.parsedType}),ns;const a=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:a._parse(new Kf(r,l,r.path,[d,"key"])),value:i._parse(new Kf(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return ns;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),l.set(d.value,u.value)}return{status:s.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return ns;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),l.set(d.value,u.value)}return{status:s.value,value:l}}}}aH.create=(n,e,s)=>new aH({valueType:e,keyType:n,typeName:ss.ZodMap,...Ss(s)});class _1 extends Fs{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==jn.set)return on(r,{code:Lt.invalid_type,expected:jn.set,received:r.parsedType}),ns;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(on(r,{code:Lt.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),s.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(on(r,{code:Lt.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),s.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return ns;u.status==="dirty"&&s.dirty(),d.add(u.value)}return{status:s.value,value:d}}const l=[...r.data.values()].map((c,d)=>i._parse(new Kf(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,s){return new _1({...this._def,minSize:{value:e,message:An.toString(s)}})}max(e,s){return new _1({...this._def,maxSize:{value:e,message:An.toString(s)}})}size(e,s){return this.min(e,s).max(e,s)}nonempty(e){return this.min(1,e)}}_1.create=(n,e)=>new _1({valueType:n,minSize:null,maxSize:null,typeName:ss.ZodSet,...Ss(e)});class iH extends Fs{get schema(){return this._def.getter()}_parse(e){const{ctx:s}=this._processInputParams(e);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}iH.create=(n,e)=>new iH({getter:n,typeName:ss.ZodLazy,...Ss(e)});class oH extends Fs{_parse(e){if(e.data!==this._def.value){const s=this._getOrReturnCtx(e);return on(s,{received:s.data,code:Lt.invalid_literal,expected:this._def.value}),ns}return{status:"valid",value:e.data}}get value(){return this._def.value}}oH.create=(n,e)=>new oH({value:n,typeName:ss.ZodLiteral,...Ss(e)});function RQ(n,e){return new R0({values:n,typeName:ss.ZodEnum,...Ss(e)})}class R0 extends Fs{_parse(e){if(typeof e.data!="string"){const s=this._getOrReturnCtx(e),r=this._def.values;return on(s,{expected:Bs.joinValues(r),received:s.parsedType,code:Lt.invalid_type}),ns}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const s=this._getOrReturnCtx(e),r=this._def.values;return on(s,{received:s.data,code:Lt.invalid_enum_value,options:r}),ns}return cc(e.data)}get options(){return this._def.values}get enum(){const e={};for(const s of this._def.values)e[s]=s;return e}get Values(){const e={};for(const s of this._def.values)e[s]=s;return e}get Enum(){const e={};for(const s of this._def.values)e[s]=s;return e}extract(e,s=this._def){return R0.create(e,{...this._def,...s})}exclude(e,s=this._def){return R0.create(this.options.filter(r=>!e.includes(r)),{...this._def,...s})}}R0.create=RQ;class lH extends Fs{_parse(e){const s=Bs.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==jn.string&&r.parsedType!==jn.number){const a=Bs.objectValues(s);return on(r,{expected:Bs.joinValues(a),received:r.parsedType,code:Lt.invalid_type}),ns}if(this._cache||(this._cache=new Set(Bs.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const a=Bs.objectValues(s);return on(r,{received:r.data,code:Lt.invalid_enum_value,options:a}),ns}return cc(e.data)}get enum(){return this._def.values}}lH.create=(n,e)=>new lH({values:n,typeName:ss.ZodNativeEnum,...Ss(e)});class k2 extends Fs{unwrap(){return this._def.type}_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==jn.promise&&s.common.async===!1)return on(s,{code:Lt.invalid_type,expected:jn.promise,received:s.parsedType}),ns;const r=s.parsedType===jn.promise?s.data:Promise.resolve(s.data);return cc(r.then(a=>this._def.type.parseAsync(a,{path:s.path,errorMap:s.common.contextualErrorMap})))}}k2.create=(n,e)=>new k2({type:n,typeName:ss.ZodPromise,...Ss(e)});class O0 extends Fs{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ss.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:s,ctx:r}=this._processInputParams(e),a=this._def.effect||null,i={addIssue:o=>{on(r,o),o.fatal?s.abort():s.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async l=>{if(s.value==="aborted")return ns;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?ns:c.status==="dirty"||s.value==="dirty"?ij(c.value):c});{if(s.value==="aborted")return ns;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?ns:l.status==="dirty"||s.value==="dirty"?ij(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?ns:(l.status==="dirty"&&s.dirty(),o(l.value),{status:s.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?ns:(l.status==="dirty"&&s.dirty(),o(l.value).then(()=>({status:s.value,value:l.value}))))}if(a.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!M0(o))return ns;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>M0(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:s.value,value:l})):ns);Bs.assertNever(a)}}O0.create=(n,e,s)=>new O0({schema:n,typeName:ss.ZodEffects,effect:e,...Ss(s)});O0.createWithPreprocess=(n,e,s)=>new O0({schema:e,effect:{type:"preprocess",transform:n},typeName:ss.ZodEffects,...Ss(s)});class Bf extends Fs{_parse(e){return this._getType(e)===jn.undefined?cc(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Bf.create=(n,e)=>new Bf({innerType:n,typeName:ss.ZodOptional,...Ss(e)});class k0 extends Fs{_parse(e){return this._getType(e)===jn.null?cc(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}k0.create=(n,e)=>new k0({innerType:n,typeName:ss.ZodNullable,...Ss(e)});class I5 extends Fs{_parse(e){const{ctx:s}=this._processInputParams(e);let r=s.data;return s.parsedType===jn.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}I5.create=(n,e)=>new I5({innerType:n,typeName:ss.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ss(e)});class D5 extends Fs{_parse(e){const{ctx:s}=this._processInputParams(e),r={...s,common:{...s.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return M2(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ch(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ch(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}D5.create=(n,e)=>new D5({innerType:n,typeName:ss.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ss(e)});class cH extends Fs{_parse(e){if(this._getType(e)!==jn.nan){const r=this._getOrReturnCtx(e);return on(r,{code:Lt.invalid_type,expected:jn.nan,received:r.parsedType}),ns}return{status:"valid",value:e.data}}}cH.create=n=>new cH({typeName:ss.ZodNaN,...Ss(n)});class vAe extends Fs{_parse(e){const{ctx:s}=this._processInputParams(e),r=s.data;return this._def.type._parse({data:r,path:s.path,parent:s})}unwrap(){return this._def.type}}class iD extends Fs{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ns:i.status==="dirty"?(s.dirty(),ij(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?ns:a.status==="dirty"?(s.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(e,s){return new iD({in:e,out:s,typeName:ss.ZodPipeline})}}class L5 extends Fs{_parse(e){const s=this._def.innerType._parse(e),r=a=>(M0(a)&&(a.value=Object.freeze(a.value)),a);return M2(s)?s.then(a=>r(a)):r(s)}unwrap(){return this._def.innerType}}L5.create=(n,e)=>new L5({innerType:n,typeName:ss.ZodReadonly,...Ss(e)});var ss;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(ss||(ss={}));const ys=dh.create,dH=wx.create;Nx.create;const Zf=P2.create;P0.create;Xf.create;const yAe=eu.create,kh=Aa.create;R2.create;O2.create;Sx.create;const bAe=R0.create;k2.create;Bf.create;k0.create;const gR={string:(n=>dh.create({...n,coerce:!0})),number:(n=>wx.create({...n,coerce:!0})),boolean:(n=>P2.create({...n,coerce:!0})),bigint:(n=>Nx.create({...n,coerce:!0})),date:(n=>P0.create({...n,coerce:!0}))},tu=_2e,OQ=R.createContext({}),On=({...n})=>t.jsx(OQ.Provider,{value:{name:n.name},children:t.jsx(E2e,{...n})}),YC=()=>{const n=R.useContext(OQ),e=R.useContext(kQ),{getFieldState:s,formState:r}=ZC(),a=s(n.name,r);if(!n)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:n.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},kQ=R.createContext({}),Pn=R.forwardRef(({className:n,...e},s)=>{const r=R.useId();return t.jsx(kQ.Provider,{value:{id:r},children:t.jsx("div",{ref:s,className:Bt("space-y-2",n),...e})})});Pn.displayName="FormItem";const Rn=R.forwardRef(({className:n,...e},s)=>{const{error:r,formItemId:a}=YC();return t.jsx(Pe,{ref:s,className:Bt(r&&"text-destructive",n),htmlFor:a,...e})});Rn.displayName="FormLabel";const kn=R.forwardRef(({...n},e)=>{const{error:s,formItemId:r,formDescriptionId:a,formMessageId:i}=YC();return t.jsx(e$,{ref:e,id:r,"aria-describedby":s?`${a} ${i}`:`${a}`,"aria-invalid":!!s,...n})});kn.displayName="FormControl";const Zp=R.forwardRef(({className:n,...e},s)=>{const{formDescriptionId:r}=YC();return t.jsx("p",{ref:s,id:r,className:Bt("text-sm text-muted-foreground",n),...e})});Zp.displayName="FormDescription";const Gn=R.forwardRef(({className:n,children:e,...s},r)=>{const{error:a,formMessageId:i}=YC(),o=a?String(a?.message??""):e;return o?t.jsx("p",{ref:r,id:i,className:Bt("text-sm font-medium text-destructive",n),...s,children:o}):null});Gn.displayName="FormMessage";const jAe=kh({stageName:ys().min(1,"Stage name is required"),legalName:ys().min(1,"Legal name is required"),address:ys().min(1,"Address is required"),city:ys().min(1,"City is required"),country:ys().min(1,"Country is required"),postalCode:ys().min(1,"Postal/ZIP code is required"),dateOfBirth:ys().min(1,"Date of birth is required"),idFrontImageUrl:ys().optional(),idBackImageUrl:ys().optional(),holdingIdImageUrl:ys().optional(),w9FormUrl:ys().optional()});function wAe(){const{toast:n}=Dn(),e=ps(),[s,r]=R.useState(null),[a,i]=R.useState(null),o=Qd({resolver:Jd(jAe),defaultValues:{stageName:"",legalName:"",address:"",city:"",country:"",postalCode:"",dateOfBirth:""}}),{data:l=[],isLoading:c}=wn({queryKey:["/api/2257-verifications"]}),d=kt({mutationFn:async v=>Kt("POST","/api/2257-verifications",v),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/2257-verifications"]}),o.reset(),n({title:"Verification Submitted",description:"2257 verification form has been submitted for review"})},onError:v=>{n({title:"Submission Failed",description:v.message,variant:"destructive"})}}),u=kt({mutationFn:async({id:v,status:b,reason:A})=>Kt("PATCH",`/api/2257-verifications/${v}`,{status:b,actionReason:A}),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/2257-verifications"]}),n({title:"Verification Updated",description:"Verification status has been updated"})},onError:v=>{n({title:"Update Failed",description:v.message,variant:"destructive"})}}),h=v=>b=>{const A=b.target.files?.[0];A&&(o.setValue(v,A.name),n({title:"File Selected",description:`${v} selected: ${A.name}`}))},m=v=>{u.mutate({id:v,status:"verified"})},y=(v,b)=>{u.mutate({id:v,status:"declined",reason:b})},N=v=>{d.mutate(v)},j=v=>{switch(v){case"verified":return t.jsxs(de,{className:"bg-green-600",children:[t.jsx(xn,{className:"w-3 h-3 mr-1"}),"Verified"]});case"declined":return t.jsxs(de,{variant:"destructive",children:[t.jsx(Vs,{className:"w-3 h-3 mr-1"}),"Declined"]});case"pending":default:return t.jsxs(de,{variant:"secondary",children:[t.jsx(As,{className:"w-3 h-3 mr-1"}),"Pending"]})}};return c?t.jsx("div",{className:"min-h-screen cyber-bg flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Pi,{className:"w-16 h-16 mx-auto mb-4 cyber-pulse text-primary"}),t.jsx("p",{className:"cyber-text-glow",children:"Loading 2257 Verification System..."})]})}):t.jsx("div",{className:"min-h-screen cyber-bg",children:t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"2257 Record Verification"}),t.jsx("p",{className:"text-muted-foreground",children:"Age Verification & Compliance Documentation"})]}),t.jsxs(de,{variant:"outline",className:"border-cyan-500 text-cyan-400",children:[t.jsx(En,{className:"w-4 h-4 mr-2"}),"Legal Compliance"]})]}),t.jsxs($,{className:"bg-gray-900/50 border-cyan-500/20",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-cyan-400",children:"Submit New Verification"}),t.jsx(Ct,{className:"text-gray-400",children:"Complete age verification and compliance documentation"})]}),t.jsx(q,{children:t.jsx(tu,{...o,children:t.jsxs("form",{onSubmit:o.handleSubmit(N),className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsx(On,{control:o.control,name:"stageName",render:({field:v})=>t.jsxs(Pn,{children:[t.jsx(Rn,{className:"text-cyan-400",children:"Stage/Performance Name"}),t.jsx(kn,{children:t.jsx(Fe,{...v,className:"bg-gray-800 border-gray-700","data-testid":"input-stage-name"})}),t.jsx(Gn,{})]})}),t.jsx(On,{control:o.control,name:"legalName",render:({field:v})=>t.jsxs(Pn,{children:[t.jsx(Rn,{className:"text-cyan-400",children:"Legal Full Name"}),t.jsx(kn,{children:t.jsx(Fe,{...v,className:"bg-gray-800 border-gray-700","data-testid":"input-legal-name"})}),t.jsx(Gn,{})]})}),t.jsx(On,{control:o.control,name:"dateOfBirth",render:({field:v})=>t.jsxs(Pn,{children:[t.jsx(Rn,{className:"text-cyan-400",children:"Date of Birth"}),t.jsx(kn,{children:t.jsx(Fe,{...v,type:"date",className:"bg-gray-800 border-gray-700","data-testid":"input-dob"})}),t.jsx(Gn,{})]})}),t.jsx(On,{control:o.control,name:"country",render:({field:v})=>t.jsxs(Pn,{children:[t.jsx(Rn,{className:"text-cyan-400",children:"Country"}),t.jsx(kn,{children:t.jsx(Fe,{...v,className:"bg-gray-800 border-gray-700","data-testid":"input-country"})}),t.jsx(Gn,{})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsx(On,{control:o.control,name:"address",render:({field:v})=>t.jsxs(Pn,{children:[t.jsx(Rn,{className:"text-cyan-400",children:"Address"}),t.jsx(kn,{children:t.jsx(Fe,{...v,className:"bg-gray-800 border-gray-700","data-testid":"input-address"})}),t.jsx(Gn,{})]})}),t.jsx(On,{control:o.control,name:"city",render:({field:v})=>t.jsxs(Pn,{children:[t.jsx(Rn,{className:"text-cyan-400",children:"City"}),t.jsx(kn,{children:t.jsx(Fe,{...v,className:"bg-gray-800 border-gray-700","data-testid":"input-city"})}),t.jsx(Gn,{})]})}),t.jsx(On,{control:o.control,name:"postalCode",render:({field:v})=>t.jsxs(Pn,{children:[t.jsx(Rn,{className:"text-cyan-400",children:"Postal/ZIP Code"}),t.jsx(kn,{children:t.jsx(Fe,{...v,className:"bg-gray-800 border-gray-700","data-testid":"input-postal-code"})}),t.jsx(Gn,{})]})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-cyan-400",children:"Required Documentation"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx(Pe,{className:"text-cyan-400",children:"ID Front Image"}),t.jsx(Fe,{type:"file",accept:"image/*",onChange:h("idFrontImageUrl"),className:"bg-gray-800 border-gray-700","data-testid":"input-id-front"}),o.watch("idFrontImageUrl")&&t.jsx("p",{className:"text-green-400 text-sm",children:"✓ ID front selected"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(Pe,{className:"text-cyan-400",children:"ID Back Image"}),t.jsx(Fe,{type:"file",accept:"image/*",onChange:h("idBackImageUrl"),className:"bg-gray-800 border-gray-700","data-testid":"input-id-back"}),o.watch("idBackImageUrl")&&t.jsx("p",{className:"text-green-400 text-sm",children:"✓ ID back selected"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(Pe,{className:"text-cyan-400",children:"Holding ID Photo"}),t.jsx(Fe,{type:"file",accept:"image/*",onChange:h("holdingIdImageUrl"),className:"bg-gray-800 border-gray-700","data-testid":"input-holding-id"}),o.watch("holdingIdImageUrl")&&t.jsx("p",{className:"text-green-400 text-sm",children:"✓ Holding ID photo selected"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(Pe,{className:"text-cyan-400",children:"W-9 Form (Optional)"}),t.jsx(Fe,{type:"file",accept:".pdf,.doc,.docx",onChange:h("w9FormUrl"),className:"bg-gray-800 border-gray-700","data-testid":"input-w9-form"}),o.watch("w9FormUrl")&&t.jsx("p",{className:"text-green-400 text-sm",children:"✓ W-9 form selected"})]})]})]}),t.jsx(te,{type:"submit",className:"w-full bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600",disabled:d.isPending,"data-testid":"button-submit-verification",children:d.isPending?"Submitting...":"Submit Verification"})]})})})]}),t.jsxs($,{className:"bg-gray-900/50 border-cyan-500/20",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-cyan-400",children:"Recent Verifications"}),t.jsx(Ct,{className:"text-gray-400",children:"Review and manage 2257 form submissions"})]}),t.jsx(q,{children:t.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:l.length===0?t.jsx("p",{className:"text-gray-400 text-center py-8",children:"No verifications submitted yet"}):l.map(v=>t.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg border border-gray-700",children:[t.jsxs("div",{className:"flex justify-between items-start mb-2",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-white",children:v.stageName}),t.jsx("p",{className:"text-sm text-gray-400",children:v.legalName})]}),j(v.status)]}),t.jsxs("p",{className:"text-sm text-gray-400 mb-3",children:["Submitted:"," ",new Date(v.submittedAt).toLocaleDateString()]}),v.status==="pending"&&t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(te,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>m(v.id),"data-testid":`button-approve-${v.id}`,children:[t.jsx(xn,{className:"w-3 h-3 mr-1"}),"Approve"]}),t.jsxs(te,{size:"sm",variant:"outline",className:"border-red-500 text-red-400 hover:bg-red-500 hover:text-white",onClick:()=>y(v.id,"Documentation incomplete"),"data-testid":`button-decline-${v.id}`,children:[t.jsx(Vs,{className:"w-3 h-3 mr-1"}),"Decline"]})]})]},v.id))})})]})]})})}function NAe(){return PG.useSyncExternalStore(SAe,()=>!0,()=>!1)}function SAe(){return()=>{}}var oD="Avatar",[_Ae]=Co(oD),[AAe,IQ]=_Ae(oD),DQ=R.forwardRef((n,e)=>{const{__scopeAvatar:s,...r}=n,[a,i]=R.useState("idle");return t.jsx(AAe,{scope:s,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:t.jsx(Nn.span,{...r,ref:e})})});DQ.displayName=oD;var LQ="AvatarImage",FQ=R.forwardRef((n,e)=>{const{__scopeAvatar:s,src:r,onLoadingStatusChange:a=()=>{},...i}=n,o=IQ(LQ,s),l=CAe(r,i),c=Ca(d=>{a(d),o.onImageLoadingStatusChange(d)});return ga(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?t.jsx(Nn.img,{...i,ref:e,src:r}):null});FQ.displayName=LQ;var UQ="AvatarFallback",zQ=R.forwardRef((n,e)=>{const{__scopeAvatar:s,delayMs:r,...a}=n,i=IQ(UQ,s),[o,l]=R.useState(r===void 0);return R.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&i.imageLoadingStatus!=="loaded"?t.jsx(Nn.span,{...a,ref:e}):null});zQ.displayName=UQ;function uH(n,e){return n?e?(n.src!==e&&(n.src=e),n.complete&&n.naturalWidth>0?"loaded":"loading"):"error":"idle"}function CAe(n,{referrerPolicy:e,crossOrigin:s}){const r=NAe(),a=R.useRef(null),i=r?(a.current||(a.current=new window.Image),a.current):null,[o,l]=R.useState(()=>uH(i,n));return ga(()=>{l(uH(i,n))},[i,n]),ga(()=>{const c=h=>()=>{l(h)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),e&&(i.referrerPolicy=e),typeof s=="string"&&(i.crossOrigin=s),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,s,e]),o}var BQ=DQ,VQ=FQ,HQ=zQ;const _l=R.forwardRef(({className:n,...e},s)=>t.jsx(BQ,{ref:s,className:Bt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n),...e}));_l.displayName=BQ.displayName;const Th=R.forwardRef(({className:n,...e},s)=>t.jsx(VQ,{ref:s,className:Bt("aspect-square h-full w-full",n),...e}));Th.displayName=VQ.displayName;const Al=R.forwardRef(({className:n,...e},s)=>t.jsx(HQ,{ref:s,className:Bt("flex h-full w-full items-center justify-center rounded-full bg-muted",n),...e}));Al.displayName=HQ.displayName;function TAe(n,e){return R.useReducer((s,r)=>e[s][r]??s,n)}var lD="ScrollArea",[GQ]=Co(lD),[EAe,dc]=GQ(lD),$Q=R.forwardRef((n,e)=>{const{__scopeScrollArea:s,type:r="hover",dir:a,scrollHideDelay:i=600,...o}=n,[l,c]=R.useState(null),[d,u]=R.useState(null),[h,m]=R.useState(null),[y,N]=R.useState(null),[j,v]=R.useState(null),[b,A]=R.useState(0),[S,w]=R.useState(0),[E,T]=R.useState(!1),[P,k]=R.useState(!1),I=rs(e,U=>c(U)),L=tw(a);return t.jsx(EAe,{scope:s,type:r,dir:L,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:h,onContentChange:m,scrollbarX:y,onScrollbarXChange:N,scrollbarXEnabled:E,onScrollbarXEnabledChange:T,scrollbarY:j,onScrollbarYChange:v,scrollbarYEnabled:P,onScrollbarYEnabledChange:k,onCornerWidthChange:A,onCornerHeightChange:w,children:t.jsx(Nn.div,{dir:L,...o,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":S+"px",...n.style}})})});$Q.displayName=lD;var qQ="ScrollAreaViewport",WQ=R.forwardRef((n,e)=>{const{__scopeScrollArea:s,children:r,nonce:a,...i}=n,o=dc(qQ,s),l=R.useRef(null),c=rs(e,l,o.onViewportChange);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),t.jsx(Nn.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...n.style},children:t.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});WQ.displayName=qQ;var mu="ScrollAreaScrollbar",cD=R.forwardRef((n,e)=>{const{forceMount:s,...r}=n,a=dc(mu,n.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=n.orientation==="horizontal";return R.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?t.jsx(MAe,{...r,ref:e,forceMount:s}):a.type==="scroll"?t.jsx(PAe,{...r,ref:e,forceMount:s}):a.type==="auto"?t.jsx(KQ,{...r,ref:e,forceMount:s}):a.type==="always"?t.jsx(dD,{...r,ref:e}):null});cD.displayName=mu;var MAe=R.forwardRef((n,e)=>{const{forceMount:s,...r}=n,a=dc(mu,n.__scopeScrollArea),[i,o]=R.useState(!1);return R.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),t.jsx(oc,{present:s||i,children:t.jsx(KQ,{"data-state":i?"visible":"hidden",...r,ref:e})})}),PAe=R.forwardRef((n,e)=>{const{forceMount:s,...r}=n,a=dc(mu,n.__scopeScrollArea),i=n.orientation==="horizontal",o=JC(()=>c("SCROLL_END"),100),[l,c]=TAe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return R.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),R.useEffect(()=>{const d=a.viewport,u=i?"scrollLeft":"scrollTop";if(d){let h=d[u];const m=()=>{const y=d[u];h!==y&&(c("SCROLL"),o()),h=y};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[a.viewport,i,c,o]),t.jsx(oc,{present:s||l!=="hidden",children:t.jsx(dD,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:cn(n.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:cn(n.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),KQ=R.forwardRef((n,e)=>{const s=dc(mu,n.__scopeScrollArea),{forceMount:r,...a}=n,[i,o]=R.useState(!1),l=n.orientation==="horizontal",c=JC(()=>{if(s.viewport){const d=s.viewport.offsetWidth<s.viewport.scrollWidth,u=s.viewport.offsetHeight<s.viewport.scrollHeight;o(l?d:u)}},10);return I0(s.viewport,c),I0(s.content,c),t.jsx(oc,{present:r||i,children:t.jsx(dD,{"data-state":i?"visible":"hidden",...a,ref:e})})}),dD=R.forwardRef((n,e)=>{const{orientation:s="vertical",...r}=n,a=dc(mu,n.__scopeScrollArea),i=R.useRef(null),o=R.useRef(0),[l,c]=R.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=JQ(l.viewport,l.content),u={...r,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function h(m,y){return LAe(m,o.current,l,y)}return s==="horizontal"?t.jsx(RAe,{...u,ref:e,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollLeft,y=hH(m,l,a.dir);i.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=h(m,a.dir))}}):s==="vertical"?t.jsx(OAe,{...u,ref:e,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollTop,y=hH(m,l);i.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=h(m))}}):null}),RAe=R.forwardRef((n,e)=>{const{sizes:s,onSizesChange:r,...a}=n,i=dc(mu,n.__scopeScrollArea),[o,l]=R.useState(),c=R.useRef(null),d=rs(e,c,i.onScrollbarXChange);return R.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),t.jsx(ZQ,{"data-orientation":"horizontal",...a,ref:d,sizes:s,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":QC(s)+"px",...n.style},onThumbPointerDown:u=>n.onThumbPointerDown(u.x),onDragScroll:u=>n.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(i.viewport){const m=i.viewport.scrollLeft+u.deltaX;n.onWheelScroll(m),tJ(m,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:D2(o.paddingLeft),paddingEnd:D2(o.paddingRight)}})}})}),OAe=R.forwardRef((n,e)=>{const{sizes:s,onSizesChange:r,...a}=n,i=dc(mu,n.__scopeScrollArea),[o,l]=R.useState(),c=R.useRef(null),d=rs(e,c,i.onScrollbarYChange);return R.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),t.jsx(ZQ,{"data-orientation":"vertical",...a,ref:d,sizes:s,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":QC(s)+"px",...n.style},onThumbPointerDown:u=>n.onThumbPointerDown(u.y),onDragScroll:u=>n.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(i.viewport){const m=i.viewport.scrollTop+u.deltaY;n.onWheelScroll(m),tJ(m,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:D2(o.paddingTop),paddingEnd:D2(o.paddingBottom)}})}})}),[kAe,XQ]=GQ(mu),ZQ=R.forwardRef((n,e)=>{const{__scopeScrollArea:s,sizes:r,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:h,...m}=n,y=dc(mu,s),[N,j]=R.useState(null),v=rs(e,I=>j(I)),b=R.useRef(null),A=R.useRef(""),S=y.viewport,w=r.content-r.viewport,E=Ca(u),T=Ca(c),P=JC(h,10);function k(I){if(b.current){const L=I.clientX-b.current.left,U=I.clientY-b.current.top;d({x:L,y:U})}}return R.useEffect(()=>{const I=L=>{const U=L.target;N?.contains(U)&&E(L,w)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[S,N,w,E]),R.useEffect(T,[r,T]),I0(N,P),I0(y.content,P),t.jsx(kAe,{scope:s,scrollbar:N,hasThumb:a,onThumbChange:Ca(i),onThumbPointerUp:Ca(o),onThumbPositionChange:T,onThumbPointerDown:Ca(l),children:t.jsx(Nn.div,{...m,ref:v,style:{position:"absolute",...m.style},onPointerDown:cn(n.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),b.current=N.getBoundingClientRect(),A.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),k(I))}),onPointerMove:cn(n.onPointerMove,k),onPointerUp:cn(n.onPointerUp,I=>{const L=I.target;L.hasPointerCapture(I.pointerId)&&L.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=A.current,y.viewport&&(y.viewport.style.scrollBehavior=""),b.current=null})})})}),I2="ScrollAreaThumb",YQ=R.forwardRef((n,e)=>{const{forceMount:s,...r}=n,a=XQ(I2,n.__scopeScrollArea);return t.jsx(oc,{present:s||a.hasThumb,children:t.jsx(IAe,{ref:e,...r})})}),IAe=R.forwardRef((n,e)=>{const{__scopeScrollArea:s,style:r,...a}=n,i=dc(I2,s),o=XQ(I2,s),{onThumbPositionChange:l}=o,c=rs(e,h=>o.onThumbChange(h)),d=R.useRef(void 0),u=JC(()=>{d.current&&(d.current(),d.current=void 0)},100);return R.useEffect(()=>{const h=i.viewport;if(h){const m=()=>{if(u(),!d.current){const y=FAe(h,l);d.current=y,l()}};return l(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[i.viewport,u,l]),t.jsx(Nn.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:cn(n.onPointerDownCapture,h=>{const y=h.target.getBoundingClientRect(),N=h.clientX-y.left,j=h.clientY-y.top;o.onThumbPointerDown({x:N,y:j})}),onPointerUp:cn(n.onPointerUp,o.onThumbPointerUp)})});YQ.displayName=I2;var uD="ScrollAreaCorner",QQ=R.forwardRef((n,e)=>{const s=dc(uD,n.__scopeScrollArea),r=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&r?t.jsx(DAe,{...n,ref:e}):null});QQ.displayName=uD;var DAe=R.forwardRef((n,e)=>{const{__scopeScrollArea:s,...r}=n,a=dc(uD,s),[i,o]=R.useState(0),[l,c]=R.useState(0),d=!!(i&&l);return I0(a.scrollbarX,()=>{const u=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(u),c(u)}),I0(a.scrollbarY,()=>{const u=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(u),o(u)}),d?t.jsx(Nn.div,{...r,ref:e,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...n.style}}):null});function D2(n){return n?parseInt(n,10):0}function JQ(n,e){const s=n/e;return isNaN(s)?0:s}function QC(n){const e=JQ(n.viewport,n.content),s=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,r=(n.scrollbar.size-s)*e;return Math.max(r,18)}function LAe(n,e,s,r="ltr"){const a=QC(s),i=a/2,o=e||i,l=a-o,c=s.scrollbar.paddingStart+o,d=s.scrollbar.size-s.scrollbar.paddingEnd-l,u=s.content-s.viewport,h=r==="ltr"?[0,u]:[u*-1,0];return eJ([c,d],h)(n)}function hH(n,e,s="ltr"){const r=QC(e),a=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-a,o=e.content-e.viewport,l=i-r,c=s==="ltr"?[0,o]:[o*-1,0],d=S1(n,c);return eJ([0,o],[0,l])(d)}function eJ(n,e){return s=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(s-n[0])}}function tJ(n,e){return n>0&&n<e}var FAe=(n,e=()=>{})=>{let s={left:n.scrollLeft,top:n.scrollTop},r=0;return(function a(){const i={left:n.scrollLeft,top:n.scrollTop},o=s.left!==i.left,l=s.top!==i.top;(o||l)&&e(),s=i,r=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(r)};function JC(n,e){const s=Ca(n),r=R.useRef(0);return R.useEffect(()=>()=>window.clearTimeout(r.current),[]),R.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(s,e)},[s,e])}function I0(n,e){const s=Ca(e);ga(()=>{let r=0;if(n){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(s)});return a.observe(n),()=>{window.cancelAnimationFrame(r),a.unobserve(n)}}},[n,s])}var nJ=$Q,UAe=WQ,zAe=QQ;const L2=R.forwardRef(({className:n,children:e,...s},r)=>t.jsxs(nJ,{ref:r,className:Bt("relative overflow-hidden",n),...s,children:[t.jsx(UAe,{className:"h-full w-full rounded-[inherit]",children:e}),t.jsx(sJ,{}),t.jsx(zAe,{})]}));L2.displayName=nJ.displayName;const sJ=R.forwardRef(({className:n,orientation:e="vertical",...s},r)=>t.jsx(cD,{ref:r,orientation:e,className:Bt("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...s,children:t.jsx(YQ,{className:"relative flex-1 rounded-full bg-border"})}));sJ.displayName=cD.displayName;function BAe(){const{toast:n}=Dn(),e=ps(),[s,r]=R.useState(null),[a,i]=R.useState(""),[o,l]=R.useState(""),c=R.useRef(null),{data:d=[],isLoading:u}=wn({queryKey:["/api/chat/rooms"],refetchInterval:3e3}),{data:h=[],isLoading:m}=wn({queryKey:["/api/chat/messages",s],enabled:!!s,refetchInterval:1e3}),{data:y=[]}=wn({queryKey:["/api/users"]}),N=kt({mutationFn:async({roomId:P,content:k})=>Kt("POST","/api/chat/messages",{roomId:P,content:k,messageType:"text"}),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/chat/messages",s]}),e.invalidateQueries({queryKey:["/api/chat/rooms"]}),i(""),v()},onError:P=>{n({title:"Message Failed",description:P.message,variant:"destructive"})}}),j=kt({mutationFn:async({name:P,type:k,participants:I})=>Kt("POST","/api/chat/rooms",{name:P,type:k,participants:I}),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/chat/rooms"]}),n({title:"Room Created",description:"New chat room created successfully"})},onError:P=>{n({title:"Room Creation Failed",description:P.message,variant:"destructive"})}}),v=()=>{c.current?.scrollIntoView({behavior:"smooth"})};R.useEffect(()=>{v()},[h]);const b=()=>{!s||!a.trim()||N.mutate({roomId:s,content:a.trim()})},A=P=>{P.key==="Enter"&&!P.shiftKey&&(P.preventDefault(),b())},S=()=>{j.mutate({name:`Emergency - ${new Date().toLocaleTimeString()}`,type:"emergency",participants:[]})},w=P=>new Date(P).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),E=P=>{switch(P){case"emergency":return"🚨";case"broadcast":return"📢";case"group":return"👥";case"direct":default:return"💬"}},T=d.filter(P=>P.name.toLowerCase().includes(o.toLowerCase()));return u?t.jsx("div",{className:"min-h-screen cyber-bg flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Gf,{className:"w-16 h-16 mx-auto mb-4 cyber-pulse text-primary"}),t.jsx("p",{className:"cyber-text-glow",children:"Loading Communication System..."})]})}):t.jsx("div",{className:"min-h-screen cyber-bg",children:t.jsxs("div",{className:"container mx-auto p-6 h-screen flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"Secure Communication Hub"}),t.jsx("p",{className:"text-muted-foreground",children:"Enterprise Team Communication & Crisis Response"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(te,{onClick:S,className:"bg-red-600 hover:bg-red-700","data-testid":"button-create-emergency",children:"🚨 Emergency Room"}),t.jsxs(te,{variant:"outline",className:"border-cyan-500 text-cyan-400",children:[t.jsx(lr,{className:"w-4 h-4 mr-2"}),"Settings"]})]})]}),t.jsxs("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-4 gap-6",children:[t.jsxs($,{className:"bg-gray-900/50 border-cyan-500/20 lg:col-span-1",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-cyan-400",children:"Chat Rooms"}),t.jsx(Fe,{placeholder:"Search rooms...",value:o,onChange:P=>l(P.target.value),className:"bg-gray-800 border-gray-700","data-testid":"input-search-rooms"})]}),t.jsx(q,{children:t.jsx(L2,{className:"h-96",children:t.jsx("div",{className:"space-y-2",children:T.map(P=>t.jsxs("div",{className:`p-3 rounded-lg cursor-pointer transition-colors ${s===P.id?"bg-cyan-500/20 border border-cyan-500/50":"bg-gray-800/50 hover:bg-gray-700/50"}`,onClick:()=>r(P.id),"data-testid":`room-${P.id}`,children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-lg",children:E(P.type)}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:P.name}),t.jsxs("p",{className:"text-xs text-gray-400",children:[P.participants.length," participants"]})]})]}),P.isActive&&t.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"})]}),P.lastMessage&&t.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:P.lastMessage.content})]},P.id))})})})]}),t.jsx($,{className:"bg-gray-900/50 border-cyan-500/20 lg:col-span-3",children:s?t.jsxs(t.Fragment,{children:[t.jsx(oe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(le,{className:"text-cyan-400",children:d.find(P=>P.id===s)?.name||"Chat Room"}),t.jsxs(Ct,{className:"text-gray-400",children:[d.find(P=>P.id===s)?.participants.length||0," ","participants"]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(te,{size:"sm",variant:"outline",className:"border-cyan-500 text-cyan-400",children:t.jsx(kv,{className:"w-4 h-4"})}),t.jsx(te,{size:"sm",variant:"outline",className:"border-cyan-500 text-cyan-400",children:t.jsx(yh,{className:"w-4 h-4"})}),t.jsx(te,{size:"sm",variant:"outline",className:"border-cyan-500 text-cyan-400",children:t.jsx(er,{className:"w-4 h-4"})})]})]})}),t.jsxs(q,{className:"flex-1 flex flex-col",children:[t.jsx(L2,{className:"flex-1 h-96 mb-4",children:t.jsxs("div",{className:"space-y-4 p-4",children:[m?t.jsx("p",{className:"text-center text-gray-400",children:"Loading messages..."}):h.length===0?t.jsx("p",{className:"text-center text-gray-400",children:"No messages yet. Start the conversation!"}):h.map(P=>t.jsxs("div",{className:"flex gap-3",children:[t.jsx(_l,{className:"w-8 h-8",children:t.jsx(Al,{className:"bg-cyan-500/20 text-cyan-400",children:P.senderName?.charAt(0)||"U"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("span",{className:"font-medium text-white",children:P.senderName||`User ${P.senderId}`}),t.jsx("span",{className:"text-xs text-gray-400",children:w(P.createdAt)}),P.isEdited&&t.jsx(de,{variant:"secondary",className:"text-xs",children:"edited"})]}),t.jsx("p",{className:"text-gray-300",children:P.content})]})]},P.id)),t.jsx("div",{ref:c})]})}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Fe,{placeholder:"Type your message...",value:a,onChange:P=>i(P.target.value),onKeyPress:A,className:"flex-1 bg-gray-800 border-gray-700","data-testid":"input-message"}),t.jsx(te,{onClick:b,disabled:!a.trim()||N.isPending,className:"bg-cyan-500 hover:bg-cyan-600","data-testid":"button-send-message",children:t.jsx($f,{className:"w-4 h-4"})})]})]})]}):t.jsx(q,{className:"flex items-center justify-center h-full",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Gf,{className:"w-16 h-16 mx-auto mb-4 text-gray-500"}),t.jsx("p",{className:"text-gray-400",children:"Select a room to start chatting"})]})})})]}),t.jsxs($,{className:"bg-gray-900/50 border-cyan-500/20 mt-6",children:[t.jsx(oe,{children:t.jsxs(le,{className:"text-cyan-400",children:["Team Status (",y.filter(P=>P.isActive).length," online)"]})}),t.jsx(q,{children:t.jsx("div",{className:"flex flex-wrap gap-2",children:y.map(P=>t.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-gray-800/50 rounded-full",children:[t.jsx("div",{className:`w-2 h-2 rounded-full ${P.isActive?"bg-green-400":"bg-gray-500"}`}),t.jsx("span",{className:"text-sm text-white",children:P.username}),t.jsx(de,{variant:"outline",className:"text-xs",children:P.role})]},P.id))})})]})]})})}function VAe(){const{toast:n}=Dn(),e=ps(),[s,r]=R.useState(""),[a,i]=R.useState(""),[o,l]=R.useState(""),{data:c=[],isLoading:d}=wn({queryKey:["/api/stream/channels"],refetchInterval:5e3}),{data:u=[]}=wn({queryKey:["/api/stream/tokens"],refetchInterval:1e4}),h=kt({mutationFn:async({userId:b,tokenType:A})=>Kt("POST","/api/stream/token",{userId:b,tokenType:A}),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/stream/tokens"]}),n({title:"Token Generated",description:"Stream token generated successfully"})},onError:b=>{n({title:"Token Generation Failed",description:b.message,variant:"destructive"})}}),m=kt({mutationFn:async b=>Kt("POST","/api/stream/moderate",b),onSuccess:()=>{n({title:"Moderation Action Completed",description:"Stream moderation action applied successfully"}),i(""),l("")},onError:b=>{n({title:"Moderation Action Failed",description:b.message,variant:"destructive"})}}),y=()=>{if(!s||!a||!o){n({title:"Missing Information",description:"Please fill in all moderation fields",variant:"destructive"});return}m.mutate({action:s,targetId:a,reason:o,moderatorId:"current-user-id"})},N=b=>{switch(b){case"messaging":return t.jsx(Gf,{className:"w-4 h-4"});case"livestream":return t.jsx(Ri,{className:"w-4 h-4"});case"team":return t.jsx(er,{className:"w-4 h-4"});default:return t.jsx(Kre,{className:"w-4 h-4"})}},j=b=>{const A={messaging:"default",livestream:"destructive",team:"secondary"};return t.jsxs(de,{variant:A[b]||"default",children:[N(b),t.jsx("span",{className:"ml-1 capitalize",children:b})]})},v=b=>{const A={chat:"bg-blue-600",feeds:"bg-green-600",activity:"bg-purple-600"};return t.jsx(de,{className:A[b]||"bg-gray-600",children:b.toUpperCase()})};return d?t.jsx("div",{className:"min-h-screen cyber-bg flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Gf,{className:"w-16 h-16 mx-auto mb-4 cyber-pulse text-primary"}),t.jsx("p",{className:"cyber-text-glow",children:"Loading Stream Management..."})]})}):t.jsx("div",{className:"min-h-screen cyber-bg",children:t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"GetStream Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage feeds, chat channels, and real-time moderation"})]}),t.jsxs(de,{variant:"outline",className:"border-cyan-500 text-cyan-400",children:[t.jsx(En,{className:"w-4 h-4 mr-2"}),"Adult-Safe Platform"]})]}),t.jsxs($,{className:"bg-gray-900/50 border-red-500/20",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-red-400",children:"Live Moderation Center"}),t.jsx(Ct,{className:"text-gray-400",children:"Real-time content moderation and user management"})]}),t.jsx(q,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs(sn,{value:s,onValueChange:r,children:[t.jsx(en,{className:"bg-gray-800 border-gray-700",children:t.jsx(rn,{placeholder:"Moderation Action"})}),t.jsxs(tn,{children:[t.jsx(re,{value:"ban_user",children:"Ban User"}),t.jsx(re,{value:"timeout_user",children:"Timeout User"}),t.jsx(re,{value:"delete_message",children:"Delete Message"}),t.jsx(re,{value:"flag_channel",children:"Flag Channel"}),t.jsx(re,{value:"restrict_channel",children:"Restrict Channel"})]})]}),t.jsx(Fe,{placeholder:"User/Channel/Message ID",value:a,onChange:b=>i(b.target.value),className:"bg-gray-800 border-gray-700","data-testid":"input-moderation-target"}),t.jsx(Fe,{placeholder:"Moderation reason",value:o,onChange:b=>l(b.target.value),className:"bg-gray-800 border-gray-700","data-testid":"input-moderation-reason"}),t.jsxs(te,{onClick:y,disabled:m.isPending,className:"bg-red-600 hover:bg-red-700","data-testid":"button-apply-moderation",children:[t.jsx(s_,{className:"w-4 h-4 mr-2"}),"Apply Action"]})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs($,{className:"bg-gray-900/50 border-cyan-500/20",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-cyan-400",children:"Active Channels"}),t.jsx(Ct,{className:"text-gray-400",children:"Live chat channels and their moderation status"})]}),t.jsx(q,{children:t.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:c.length===0?t.jsx("p",{className:"text-gray-400 text-center py-8",children:"No active channels"}):c.map(b=>t.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg border border-gray-700",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[j(b.channelType),t.jsxs("span",{className:"font-mono text-sm text-gray-400",children:["#",b.streamChannelId]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(de,{variant:b.isActive?"default":"secondary",children:b.isActive?"Active":"Inactive"}),t.jsx(te,{size:"sm",variant:"outline",className:"border-cyan-500 text-cyan-400",children:t.jsx(lr,{className:"w-3 h-3"})})]})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(er,{className:"w-3 h-3"}),b.members.length," members"]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(As,{className:"w-3 h-3"}),new Date(b.createdAt).toLocaleDateString()]})]})]},b.id))})})]}),t.jsxs($,{className:"bg-gray-900/50 border-cyan-500/20",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-cyan-400",children:"Stream Tokens"}),t.jsx(Ct,{className:"text-gray-400",children:"Manage user authentication tokens for streams"})]}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Fe,{placeholder:"User ID",className:"bg-gray-800 border-gray-700","data-testid":"input-user-id",id:"userId"}),t.jsxs(sn,{defaultValue:"chat",children:[t.jsx(en,{className:"bg-gray-800 border-gray-700 w-32",children:t.jsx(rn,{})}),t.jsxs(tn,{children:[t.jsx(re,{value:"chat",children:"Chat"}),t.jsx(re,{value:"feeds",children:"Feeds"}),t.jsx(re,{value:"activity",children:"Activity"})]})]}),t.jsx(te,{onClick:()=>{const b=document.getElementById("userId")?.value;b&&h.mutate({userId:b,tokenType:"chat"})},disabled:h.isPending,className:"bg-cyan-500 hover:bg-cyan-600","data-testid":"button-generate-token",children:"Generate"})]}),t.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:u.map(b=>t.jsxs("div",{className:"p-3 bg-gray-800/50 rounded border border-gray-700",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("span",{className:"font-mono text-sm text-gray-300",children:["User: ",b.userId]}),t.jsxs("div",{className:"flex items-center gap-2",children:[v(b.tokenType),b.isRevoked&&t.jsx(de,{variant:"destructive",children:"Revoked"})]})]}),t.jsxs("div",{className:"text-xs text-gray-400",children:["Expires: ",new Date(b.expiresAt).toLocaleString()]})]},b.id))})]})})]})]}),t.jsxs($,{className:"bg-gray-900/50 border-cyan-500/20",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-cyan-400",children:"Stream Analytics"}),t.jsx(Ct,{className:"text-gray-400",children:"Real-time platform activity and engagement metrics"})]}),t.jsx(q,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-cyan-400 mb-2",children:c.filter(b=>b.isActive).length}),t.jsx("div",{className:"text-sm text-gray-400",children:"Active Channels"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-green-400 mb-2",children:c.reduce((b,A)=>b+A.members.length,0)}),t.jsx("div",{className:"text-sm text-gray-400",children:"Connected Users"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:u.filter(b=>!b.isRevoked).length}),t.jsx("div",{className:"text-sm text-gray-400",children:"Valid Tokens"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:c.filter(b=>b.channelType==="livestream").length}),t.jsx("div",{className:"text-sm text-gray-400",children:"Live Streams"})]})]})})]})]})})}function HAe(){const{toast:n}=Dn(),e=ps(),[s,r]=R.useState(null),[a,i]=R.useState(""),[o,l]=R.useState(""),{data:c=[],isLoading:d}=wn({queryKey:["/api/payment/processors"],refetchInterval:1e4}),{data:u=[]}=wn({queryKey:["/api/payment/transactions"],refetchInterval:5e3}),h=kt({mutationFn:async b=>Kt("POST","/api/payment/processors",b),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/payment/processors"]}),i(""),l(""),n({title:"Processor Added",description:"Payment processor added successfully"})},onError:b=>{n({title:"Failed to Add Processor",description:b.message,variant:"destructive"})}}),m=()=>{if(!a||!o){n({title:"Missing Information",description:"Please provide processor name and type",variant:"destructive"});return}h.mutate({name:a,processorType:o,adultFriendly:!0})},y=b=>{switch(b){case"crypto":return t.jsx(uj,{className:"w-4 h-4"});case"traditional":return t.jsx(Ko,{className:"w-4 h-4"});case"adult_friendly":return t.jsx(En,{className:"w-4 h-4"});default:return t.jsx(Jr,{className:"w-4 h-4"})}},N=b=>{if(b.isBanned)return t.jsxs(de,{variant:"destructive",children:[t.jsx(s_,{className:"w-3 h-3 mr-1"}),"BANNED"]});if(!b.adultFriendly)return t.jsxs(de,{variant:"destructive",children:[t.jsx(Vs,{className:"w-3 h-3 mr-1"}),"NOT ADULT-FRIENDLY"]});switch(b.status){case"active":return t.jsxs(de,{className:"bg-green-600",children:[t.jsx(xn,{className:"w-3 h-3 mr-1"}),"Active"]});case"inactive":return t.jsxs(de,{variant:"secondary",children:[t.jsx(Vs,{className:"w-3 h-3 mr-1"}),"Inactive"]});default:return t.jsx(de,{variant:"outline",children:b.status})}},j=b=>{const A={completed:"bg-green-600",pending:"bg-yellow-600",failed:"bg-red-600",refunded:"bg-blue-600"};return t.jsx(de,{className:A[b]||"bg-gray-600",children:b.toUpperCase()})},v=[{name:"Stripe",reason:"Not adult-industry friendly"},{name:"PayPal",reason:"Prohibits adult content"},{name:"Square",reason:"Adult content restrictions"},{name:"Venmo",reason:"Consumer payment app"},{name:"Cash App",reason:"Personal payment app"}];return d?t.jsx("div",{className:"min-h-screen cyber-bg flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Ko,{className:"w-16 h-16 mx-auto mb-4 cyber-pulse text-primary"}),t.jsx("p",{className:"cyber-text-glow",children:"Loading Payment Management..."})]})}):t.jsx("div",{className:"min-h-screen cyber-bg",children:t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"Payment Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Adult-friendly payment processors only"})]}),t.jsxs(de,{variant:"outline",className:"border-red-500 text-red-400",children:[t.jsx(s_,{className:"w-4 h-4 mr-2"}),"Stripe/PayPal BANNED"]})]}),t.jsxs($,{className:"bg-red-900/20 border-red-500/50",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-red-400",children:"🚫 Permanently Banned Processors"}),t.jsx(Ct,{className:"text-red-300",children:"These processors are not allowed and will cause application startup failure"})]}),t.jsx(q,{children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:v.map(b=>t.jsxs("div",{className:"p-3 bg-red-800/30 rounded border border-red-600/50",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(s_,{className:"w-4 h-4 text-red-400"}),t.jsx("span",{className:"font-semibold text-red-300",children:b.name})]}),t.jsx("p",{className:"text-xs text-red-400",children:b.reason})]},b.name))})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs($,{className:"bg-gray-900/50 border-cyan-500/20",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-cyan-400",children:"Add Adult-Friendly Processor"}),t.jsx(Ct,{className:"text-gray-400",children:"Only adult-industry friendly processors allowed"})]}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs(sn,{value:a,onValueChange:i,children:[t.jsx(en,{className:"bg-gray-800 border-gray-700","data-testid":"select-processor-name",children:t.jsx(rn,{placeholder:"Select adult-friendly processor"})}),t.jsxs(tn,{className:"max-h-[400px] overflow-y-auto",children:[t.jsx(re,{value:"CCBill",children:"CCBill - Global adult IPSP; ~5–12% fees"}),t.jsx(re,{value:"Segpay",children:"Segpay - Adult specialist; ~4–6% + fee"}),t.jsx(re,{value:"Epoch",children:"Epoch - Adult subscription billing pioneer; ~15% small-volume"}),t.jsx(re,{value:"Verotel",children:"Verotel - Netherlands-based; ~15% low-volume"}),t.jsx(re,{value:"Vendo",children:"Vendo - EU focus; ~5–10%"}),t.jsx(re,{value:"Netbilling",children:"Netbilling - US gateway; ~2.5–5% + $0.25"}),t.jsx(re,{value:"PaymentCloud",children:"PaymentCloud - US-based; ~3–4% + $0.30"}),t.jsx(re,{value:"PayKings",children:"PayKings - High-risk network; ~3–5%"}),t.jsx(re,{value:"Durango Merchant Services",children:"Durango Merchant Services - Offshore; ~4%+"}),t.jsx(re,{value:"Corepay",children:"Corepay - Adult specialists; ~3–5%"}),t.jsx(re,{value:"Instabill",children:"Instabill - Offshore-friendly; ~4–6%"}),t.jsx(re,{value:"Host Merchant Services",children:"Host Merchant Services - US high-risk accounts"}),t.jsx(re,{value:"Payment Nerds",children:"Payment Nerds - No monthly fees; flat ~3.5%"}),t.jsx(re,{value:"SensaPay",children:"SensaPay - Global; ~2.95–5%"}),t.jsx(re,{value:"Tower Payments",children:"Tower Payments - US-based; adult e-commerce focus"}),t.jsx(re,{value:"Zen Payments",children:"Zen Payments - US; ~3%+; OnlyFans-style platforms"}),t.jsx(re,{value:"Easy Pay Direct",children:"Easy Pay Direct - US gateway; $49/mo + ~3–5%"}),t.jsx(re,{value:"eMerchantBroker (EMB)",children:"eMerchantBroker (EMB) - High-risk specialists; 4%+"}),t.jsx(re,{value:"NOWPayments",children:"NOWPayments - Adult-friendly; 100+ cryptos; 0.5% fee"}),t.jsx(re,{value:"CoinPayments",children:"CoinPayments - 75+ cryptos; 0.5–1% fees"}),t.jsx(re,{value:"CoinGate",children:"CoinGate - 1% fee; Bitcoin/Ethereum/etc."}),t.jsx(re,{value:"BTCPay Server",children:"BTCPay Server - Open-source, self-hosted; 0% fee"}),t.jsx(re,{value:"PayRam",children:"PayRam - Non-custodial; 0% fee"}),t.jsx(re,{value:"Confirmo",children:"Confirmo - EU-based; ~1% fee"}),t.jsx(re,{value:"Paxum Bank",children:"Paxum Bank (Dominica) - Offshore bank for adult industry"}),t.jsx(re,{value:"Yoursafe/Bitsafe",children:"Yoursafe/Bitsafe - Dutch EMI offering IBANs/cards"})]})]}),t.jsxs(sn,{value:o,onValueChange:l,children:[t.jsx(en,{className:"bg-gray-800 border-gray-700",children:t.jsx(rn,{placeholder:"Processor category"})}),t.jsxs(tn,{children:[t.jsx(re,{value:"adult_friendly",children:"Payment Processors & Merchant Accounts"}),t.jsx(re,{value:"crypto",children:"Crypto Payment Solutions"}),t.jsx(re,{value:"bank",children:"Banks & Financial Institutions"}),t.jsx(re,{value:"international",children:"International High-Risk"})]})]}),t.jsxs(te,{onClick:m,disabled:h.isPending,className:"w-full bg-green-600 hover:bg-green-700","data-testid":"button-add-processor",children:[t.jsx(xn,{className:"w-4 h-4 mr-2"}),"Add Processor"]})]})})]}),t.jsxs($,{className:"bg-gray-900/50 border-cyan-500/20 lg:col-span-2",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-cyan-400",children:"Active Payment Processors"}),t.jsx(Ct,{className:"text-gray-400",children:"Adult-industry approved payment methods"})]}),t.jsx(q,{children:t.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:c.length===0?t.jsx("p",{className:"text-gray-400 text-center py-8",children:"No processors configured"}):c.map(b=>t.jsxs("div",{className:`p-4 rounded-lg border cursor-pointer transition-colors ${s?.id===b.id?"bg-cyan-500/20 border-cyan-500/50":"bg-gray-800/50 border-gray-700 hover:border-gray-600"}`,onClick:()=>r(b),children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[y(b.processorType),t.jsx("span",{className:"font-semibold text-white",children:b.name})]}),N(b)]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-2",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Er,{className:"w-3 h-3"}),b.supportedCurrencies?.length||0," ","currencies"]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Ii,{className:"w-3 h-3"}),b.adultFriendly?"Adult-Safe":"Restricted"]})]}),b.geographicRestrictions?.length>0&&t.jsxs("div",{className:"text-xs text-orange-400",children:["Geographic restrictions:"," ",b.geographicRestrictions.join(", ")]})]},b.id))})})]})]}),t.jsxs($,{className:"bg-gray-900/50 border-cyan-500/20",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-cyan-400",children:"Recent Transactions"}),t.jsx(Ct,{className:"text-gray-400",children:"Latest payment activity across all processors"})]}),t.jsx(q,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-gray-700",children:[t.jsx("th",{className:"text-left py-2 text-gray-400",children:"Transaction ID"}),t.jsx("th",{className:"text-left py-2 text-gray-400",children:"User"}),t.jsx("th",{className:"text-left py-2 text-gray-400",children:"Amount"}),t.jsx("th",{className:"text-left py-2 text-gray-400",children:"Type"}),t.jsx("th",{className:"text-left py-2 text-gray-400",children:"Status"}),t.jsx("th",{className:"text-left py-2 text-gray-400",children:"Date"})]})}),t.jsx("tbody",{children:u.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"text-center py-8 text-gray-400",children:"No transactions yet"})}):u.slice(0,10).map(b=>t.jsxs("tr",{className:"border-b border-gray-800",children:[t.jsxs("td",{className:"py-2 font-mono text-sm text-gray-300",children:[b.externalTransactionId.substring(0,12),"..."]}),t.jsxs("td",{className:"py-2 text-gray-300",children:[b.userId.substring(0,8),"..."]}),t.jsxs("td",{className:"py-2 text-white font-semibold",children:[b.amount," ",b.currency]}),t.jsx("td",{className:"py-2 text-gray-300 capitalize",children:b.transactionType}),t.jsx("td",{className:"py-2",children:j(b.status)}),t.jsx("td",{className:"py-2 text-gray-400 text-sm",children:new Date(b.createdAt).toLocaleDateString()})]},b.id))})]})})})]}),t.jsxs($,{className:"bg-gray-900/50 border-cyan-500/20",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-cyan-400",children:"Payment Statistics"}),t.jsx(Ct,{className:"text-gray-400",children:"Adult-friendly payment processor performance"})]}),t.jsx(q,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-green-400 mb-2",children:c.filter(b=>b.status==="active"&&b.adultFriendly).length}),t.jsx("div",{className:"text-sm text-gray-400",children:"Active Adult-Safe"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:c.filter(b=>b.processorType==="crypto").length}),t.jsx("div",{className:"text-sm text-gray-400",children:"Crypto Processors"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:u.filter(b=>b.status==="completed").length}),t.jsx("div",{className:"text-sm text-gray-400",children:"Completed Transactions"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-red-400 mb-2",children:v.length}),t.jsx("div",{className:"text-sm text-gray-400",children:"Banned Processors"})]})]})})]})]})})}function GAe(){const[n,e]=R.useState(null),s=ps(),r=[{id:"1",name:"CCBill",slug:"ccbill",processorType:"adult_friendly",region:"Global",status:"active",isBanned:!1,adultFriendly:!0,supportedCurrencies:["USD","EUR","GBP"],processingTime:"1-3 days",testMode:!1},{id:"2",name:"Segpay",slug:"segpay",processorType:"adult_friendly",region:"Global",status:"active",isBanned:!1,adultFriendly:!0,supportedCurrencies:["USD","EUR"],processingTime:"2-5 days",testMode:!1},{id:"3",name:"Epoch",slug:"epoch",processorType:"adult_friendly",region:"Global",status:"active",isBanned:!1,adultFriendly:!0,supportedCurrencies:["USD","EUR","CAD"],processingTime:"1-2 days",testMode:!1},{id:"4",name:"Binance",slug:"binance",processorType:"crypto",region:"Global",status:"active",isBanned:!1,adultFriendly:!0,supportedCurrencies:["BTC","ETH","BNB","USDT"],processingTime:"instant",testMode:!1},{id:"5",name:"Coinbase",slug:"coinbase",processorType:"crypto",region:"Global",status:"active",isBanned:!1,adultFriendly:!0,supportedCurrencies:["BTC","ETH","USDC"],processingTime:"instant",testMode:!1},{id:"6",name:"Flutterwave",slug:"flutterwave",processorType:"regional",region:"Africa",status:"active",isBanned:!1,adultFriendly:!0,supportedCurrencies:["USD","NGN","KES"],processingTime:"1-3 days",testMode:!1},{id:"7",name:"MercadoPago",slug:"mercadopago",processorType:"regional",region:"LatAm",status:"active",isBanned:!1,adultFriendly:!0,supportedCurrencies:["USD","ARS","BRL"],processingTime:"1-2 days",testMode:!1},{id:"8",name:"NowPayments",slug:"nowpayments",processorType:"crypto",region:"Global",status:"active",isBanned:!1,adultFriendly:!0,supportedCurrencies:["BTC","ETH","USDT","LTC","XMR"],processingTime:"instant",testMode:!1},{id:"9",name:"OpenPix",slug:"openpix",processorType:"regional",region:"Brazil",status:"active",isBanned:!1,adultFriendly:!0,supportedCurrencies:["BRL","USD"],processingTime:"instant",testMode:!1},{id:"10",name:"Payku",slug:"payku",processorType:"regional",region:"Chile",status:"active",isBanned:!1,adultFriendly:!0,supportedCurrencies:["CLP","USD"],processingTime:"1-2 days",testMode:!1},{id:"11",name:"Paystack",slug:"paystack",processorType:"regional",region:"Africa",status:"active",isBanned:!1,adultFriendly:!0,supportedCurrencies:["NGN","GHS","USD"],processingTime:"1-3 days",testMode:!1},{id:"12",name:"Mollie",slug:"mollie",processorType:"regional",region:"Europe",status:"active",isBanned:!1,adultFriendly:!0,supportedCurrencies:["EUR","USD","GBP"],processingTime:"1-2 days",testMode:!1}],{toast:a}=Dn();kt({mutationFn:h=>Kt(`/api/admin/payment-processors/${h.id}`,"PATCH",h.updates),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/admin/payment-processors"]}),a({title:"Payment processor updated successfully"})}});const i=[{name:"Stripe",reason:"Adult content policy violation",type:"traditional"},{name:"PayPal",reason:"Adult content policy violation",type:"traditional"},{name:"Square",reason:"Adult content restrictions",type:"traditional"},{name:"Venmo",reason:"Adult content policy violation",type:"traditional"}],o=r.filter(h=>h.adultFriendly&&!h.isBanned),l=r.filter(h=>h.processorType==="crypto"),c=r.filter(h=>h.processorType==="regional"),d=h=>{switch(h){case"crypto":return t.jsx(uj,{className:"h-4 w-4"});case"regional":return t.jsx(Er,{className:"h-4 w-4"});default:return t.jsx(Ko,{className:"h-4 w-4"})}},u=h=>h.isBanned?t.jsx(de,{variant:"destructive",children:"Banned"}):h.status==="active"?t.jsx(de,{variant:"default",children:"Active"}):h.status==="inactive"?t.jsx(de,{variant:"secondary",children:"Inactive"}):t.jsx(de,{variant:"outline",children:h.status});return t.jsxs("div",{className:"container mx-auto p-6 space-y-6","data-testid":"payment-processor-management",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Payment Processor Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage adult-friendly payment processors and enforce compliance policies"})]}),t.jsxs(te,{"data-testid":"button-add-processor",children:[t.jsx(oa,{className:"h-4 w-4 mr-2"}),"Add Processor"]})]}),t.jsxs($,{className:"border-red-200 bg-red-50 dark:bg-red-950/10",children:[t.jsxs(oe,{children:[t.jsxs(le,{className:"flex items-center text-red-700 dark:text-red-400",children:[t.jsx(ln,{className:"h-5 w-5 mr-2"}),"Banned Payment Processors"]}),t.jsx(Ct,{className:"text-red-600 dark:text-red-400",children:"These processors are automatically blocked due to adult content policies"})]}),t.jsx(q,{children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:i.map((h,m)=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-900 rounded-lg border",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(td,{className:"h-4 w-4 text-red-500 mr-2"}),t.jsx("span",{className:"font-medium",children:h.name})]}),t.jsx(de,{variant:"destructive",children:"Banned"})]},m))})})]}),t.jsxs(Xs,{defaultValue:"adult-friendly",className:"w-full",children:[t.jsxs($s,{className:"grid w-full grid-cols-4",children:[t.jsxs(lt,{value:"adult-friendly",children:["Adult-Friendly (",o.length,")"]}),t.jsxs(lt,{value:"crypto",children:["Crypto (",l.length,")"]}),t.jsxs(lt,{value:"regional",children:["Regional (",c.length,")"]}),t.jsxs(lt,{value:"all",children:["All Processors (",r.length,")"]})]}),t.jsx(ct,{value:"adult-friendly",className:"space-y-4",children:t.jsxs($,{children:[t.jsxs(oe,{children:[t.jsx(le,{children:"Adult-Friendly Payment Processors"}),t.jsx(Ct,{children:"Payment processors that support adult content and creator economy platforms"})]}),t.jsx(q,{children:t.jsxs(Ar,{children:[t.jsx(Cr,{children:t.jsxs(Vn,{children:[t.jsx(He,{children:"Processor"}),t.jsx(He,{children:"Region"}),t.jsx(He,{children:"Currencies"}),t.jsx(He,{children:"Processing Time"}),t.jsx(He,{children:"Status"}),t.jsx(He,{children:"Actions"})]})}),t.jsx(Tr,{children:o.map(h=>t.jsxs(Vn,{children:[t.jsxs(Ve,{className:"flex items-center",children:[d(h.processorType),t.jsx("span",{className:"ml-2 font-medium",children:h.name})]}),t.jsx(Ve,{children:t.jsx(de,{variant:"outline",children:h.region})}),t.jsx(Ve,{children:t.jsxs("div",{className:"flex flex-wrap gap-1",children:[h.supportedCurrencies.slice(0,3).map(m=>t.jsx(de,{variant:"secondary",className:"text-xs",children:m},m)),h.supportedCurrencies.length>3&&t.jsxs(de,{variant:"secondary",className:"text-xs",children:["+",h.supportedCurrencies.length-3]})]})}),t.jsx(Ve,{children:h.processingTime}),t.jsx(Ve,{children:u(h)}),t.jsx(Ve,{children:t.jsxs(te,{variant:"outline",size:"sm","data-testid":`button-configure-${h.slug}`,children:[t.jsx(lr,{className:"h-4 w-4 mr-1"}),"Configure"]})})]},h.id))})]})})]})}),t.jsx(ct,{value:"crypto",className:"space-y-4",children:t.jsxs($,{children:[t.jsxs(oe,{children:[t.jsxs(le,{className:"flex items-center",children:[t.jsx(uj,{className:"h-5 w-5 mr-2"}),"Cryptocurrency Processors"]}),t.jsx(Ct,{children:"Crypto payment gateways for anonymous and decentralized transactions"})]}),t.jsx(q,{children:t.jsx("div",{className:"grid gap-4",children:l.map(h=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(uj,{className:"h-8 w-8 text-orange-500 mr-3"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium",children:h.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Supports ",h.supportedCurrencies.join(", ")]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[u(h),t.jsx(te,{variant:"outline",size:"sm",children:"Configure"})]})]},h.id))})})]})}),t.jsx(ct,{value:"regional",className:"space-y-4",children:t.jsxs($,{children:[t.jsxs(oe,{children:[t.jsxs(le,{className:"flex items-center",children:[t.jsx(Er,{className:"h-5 w-5 mr-2"}),"Regional Payment Processors"]}),t.jsx(Ct,{children:"Localized payment solutions for specific geographic regions"})]}),t.jsx(q,{children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(h=>t.jsxs($,{className:"p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h3",{className:"font-medium",children:h.name}),u(h)]}),t.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Region: ",h.region]}),t.jsxs("p",{className:"text-sm text-muted-foreground mb-3",children:["Processing: ",h.processingTime]}),t.jsx(te,{variant:"outline",size:"sm",className:"w-full",children:"Manage Settings"})]},h.id))})})]})}),t.jsx(ct,{value:"all",className:"space-y-4",children:t.jsxs($,{children:[t.jsxs(oe,{children:[t.jsx(le,{children:"All Payment Processors"}),t.jsx(Ct,{children:"Complete overview of all payment processing integrations"})]}),t.jsx(q,{children:t.jsxs(Ar,{children:[t.jsx(Cr,{children:t.jsxs(Vn,{children:[t.jsx(He,{children:"Processor"}),t.jsx(He,{children:"Type"}),t.jsx(He,{children:"Adult Friendly"}),t.jsx(He,{children:"Test Mode"}),t.jsx(He,{children:"Status"}),t.jsx(He,{children:"Actions"})]})}),t.jsx(Tr,{children:r.map(h=>t.jsxs(Vn,{children:[t.jsxs(Ve,{className:"flex items-center",children:[d(h.processorType),t.jsx("span",{className:"ml-2 font-medium",children:h.name})]}),t.jsx(Ve,{children:t.jsx(de,{variant:"outline",children:h.processorType})}),t.jsx(Ve,{children:h.adultFriendly?t.jsx(HA,{className:"h-4 w-4 text-green-500"}):t.jsx(td,{className:"h-4 w-4 text-red-500"})}),t.jsx(Ve,{children:h.testMode?t.jsx(de,{variant:"secondary",children:"Test"}):t.jsx(de,{variant:"default",children:"Live"})}),t.jsx(Ve,{children:u(h)}),t.jsx(Ve,{children:t.jsxs(te,{variant:"outline",size:"sm",children:[t.jsx(lr,{className:"h-4 w-4 mr-1"}),"Settings"]})})]},h.id))})]})})]})})]})]})}function $Ae(){const[n,e]=R.useState(!1),[s,r]=R.useState(null),a=ps(),i=[{id:"1",name:"UK VAT",rate:"0.20",type:"vat",country:"United Kingdom",state:null,region:"European Union",applicableServices:["subscriptions","tips","content"],isActive:!0,effectiveDate:"2024-01-01",expiryDate:null},{id:"2",name:"California Sales Tax",rate:"0.0825",type:"sales_tax",country:"United States",state:"California",region:"North America",applicableServices:["subscriptions","content"],isActive:!0,effectiveDate:"2024-01-01",expiryDate:null},{id:"3",name:"Canada GST/HST",rate:"0.13",type:"gst",country:"Canada",state:"Ontario",region:"North America",applicableServices:["subscriptions","tips","content"],isActive:!0,effectiveDate:"2024-01-01",expiryDate:null},{id:"4",name:"Australia GST",rate:"0.10",type:"gst",country:"Australia",state:null,region:"Asia-Pacific",applicableServices:["subscriptions","content"],isActive:!0,effectiveDate:"2024-01-01",expiryDate:null}],{toast:o}=Dn(),l=kt({mutationFn:m=>Kt("/api/admin/tax-rates","POST",m),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/admin/tax-rates"]}),e(!1),o({title:"Tax rate created successfully"})}}),c=kt({mutationFn:m=>Kt(`/api/admin/tax-rates/${m.id}`,"PATCH",m.updates),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/admin/tax-rates"]}),r(null)}}),d=m=>{const y={vat:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",gst:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",sales_tax:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300",income_tax:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300"};return t.jsx(de,{className:y[m]||"bg-gray-100 text-gray-800",children:m.toUpperCase()})},u=(m,y=100)=>{const N=parseFloat(m),j=(y*N).toFixed(2),v=(y+parseFloat(j)).toFixed(2);return{tax:j,total:v}},h=({taxRate:m,onSubmit:y,onCancel:N})=>{const[j,v]=R.useState({name:m?.name||"",rate:m?.rate||"",type:m?.type||"vat",country:m?.country||"",state:m?.state||"",region:m?.region||"",applicableServices:m?.applicableServices||["subscriptions","tips","content"]}),b=A=>{A.preventDefault(),y(j)};return t.jsxs("form",{onSubmit:b,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"name",children:"Tax Name"}),t.jsx(Fe,{id:"name",value:j.name,onChange:A=>v({...j,name:A.target.value}),placeholder:"e.g., UK VAT, California Sales Tax",required:!0,"data-testid":"input-tax-name"})]}),t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"rate",children:"Rate (%)"}),t.jsx(Fe,{id:"rate",type:"number",step:"0.0001",min:"0",max:"1",value:j.rate,onChange:A=>v({...j,rate:A.target.value}),placeholder:"0.20 for 20%",required:!0,"data-testid":"input-tax-rate"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"type",children:"Tax Type"}),t.jsxs(sn,{value:j.type,onValueChange:A=>v({...j,type:A}),children:[t.jsx(en,{"data-testid":"select-tax-type",children:t.jsx(rn,{})}),t.jsxs(tn,{children:[t.jsx(re,{value:"vat",children:"VAT (Value Added Tax)"}),t.jsx(re,{value:"gst",children:"GST (Goods & Services Tax)"}),t.jsx(re,{value:"sales_tax",children:"Sales Tax"}),t.jsx(re,{value:"income_tax",children:"Income Tax"})]})]})]}),t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"country",children:"Country"}),t.jsx(Fe,{id:"country",value:j.country,onChange:A=>v({...j,country:A.target.value}),placeholder:"e.g., United Kingdom, United States",required:!0,"data-testid":"input-tax-country"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"state",children:"State/Province (Optional)"}),t.jsx(Fe,{id:"state",value:j.state,onChange:A=>v({...j,state:A.target.value}),placeholder:"e.g., California, Ontario","data-testid":"input-tax-state"})]}),t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"region",children:"Region (Optional)"}),t.jsx(Fe,{id:"region",value:j.region,onChange:A=>v({...j,region:A.target.value}),placeholder:"e.g., European Union, NAFTA","data-testid":"input-tax-region"})]})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx(te,{type:"button",variant:"outline",onClick:N,children:"Cancel"}),t.jsxs(te,{type:"submit","data-testid":"button-save-tax",children:[m?"Update":"Create"," Tax Rate"]})]})]})};return t.jsxs("div",{className:"container mx-auto p-6 space-y-6","data-testid":"tax-management",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Tax Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Configure tax rates for global compliance and creator payouts"})]}),t.jsxs(pi,{open:n,onOpenChange:e,children:[t.jsx(Qo,{asChild:!0,children:t.jsxs(te,{"data-testid":"button-add-tax-rate",children:[t.jsx(oa,{className:"h-4 w-4 mr-2"}),"Add Tax Rate"]})}),t.jsxs(Ka,{className:"max-w-2xl",children:[t.jsxs(Xa,{children:[t.jsx(Za,{children:"Create New Tax Rate"}),t.jsx(Sl,{children:"Add a new tax rate for compliance with local regulations"})]}),t.jsx(h,{onSubmit:m=>l.mutate(m),onCancel:()=>e(!1)})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs($,{children:[t.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(le,{className:"text-sm font-medium",children:"Total Tax Rates"}),t.jsx(hj,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(q,{children:[t.jsx("div",{className:"text-2xl font-bold",children:i.length}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Active across all regions"})]})]}),t.jsxs($,{children:[t.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(le,{className:"text-sm font-medium",children:"Countries"}),t.jsx(Er,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(q,{children:[t.jsx("div",{className:"text-2xl font-bold",children:new Set(i.map(m=>m.country)).size}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Tax jurisdictions"})]})]}),t.jsxs($,{children:[t.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(le,{className:"text-sm font-medium",children:"VAT Rates"}),t.jsx(de,{variant:"outline",children:"VAT"})]}),t.jsxs(q,{children:[t.jsx("div",{className:"text-2xl font-bold",children:i.filter(m=>m.type==="vat").length}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"European compliance"})]})]}),t.jsxs($,{children:[t.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(le,{className:"text-sm font-medium",children:"Avg Rate"}),t.jsx(ln,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(q,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:[i.length>0?(i.reduce((m,y)=>m+parseFloat(y.rate),0)/i.length*100).toFixed(1):0,"%"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Average tax burden"})]})]})]}),t.jsxs($,{children:[t.jsxs(oe,{children:[t.jsx(le,{children:"Tax Rates Configuration"}),t.jsx(Ct,{children:"Manage tax rates for different jurisdictions and service types"})]}),t.jsx(q,{children:t.jsxs(Ar,{children:[t.jsx(Cr,{children:t.jsxs(Vn,{children:[t.jsx(He,{children:"Name"}),t.jsx(He,{children:"Type"}),t.jsx(He,{children:"Rate"}),t.jsx(He,{children:"Jurisdiction"}),t.jsx(He,{children:"Services"}),t.jsx(He,{children:"Example (on $100)"}),t.jsx(He,{children:"Status"}),t.jsx(He,{children:"Actions"})]})}),t.jsx(Tr,{children:i.map(m=>{const y=u(m.rate);return t.jsxs(Vn,{children:[t.jsx(Ve,{className:"font-medium",children:m.name}),t.jsx(Ve,{children:d(m.type)}),t.jsxs(Ve,{className:"font-mono",children:[(parseFloat(m.rate)*100).toFixed(2),"%"]}),t.jsx(Ve,{children:t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"font-medium",children:m.country}),m.state&&t.jsx("span",{className:"text-xs text-muted-foreground",children:m.state})]})}),t.jsx(Ve,{children:t.jsxs("div",{className:"flex flex-wrap gap-1",children:[m.applicableServices.slice(0,2).map(N=>t.jsx(de,{variant:"secondary",className:"text-xs",children:N},N)),m.applicableServices.length>2&&t.jsxs(de,{variant:"secondary",className:"text-xs",children:["+",m.applicableServices.length-2]})]})}),t.jsx(Ve,{className:"font-mono text-sm",children:t.jsxs("div",{className:"flex flex-col",children:[t.jsxs("span",{children:["Tax: $",y.tax]}),t.jsxs("span",{className:"text-muted-foreground",children:["Total: $",y.total]})]})}),t.jsx(Ve,{children:m.isActive?t.jsx(de,{variant:"default",children:"Active"}):t.jsx(de,{variant:"secondary",children:"Inactive"})}),t.jsx(Ve,{children:t.jsxs("div",{className:"flex space-x-1",children:[t.jsx(te,{variant:"outline",size:"sm",onClick:()=>r(m),"data-testid":`button-edit-tax-${m.id}`,children:t.jsx(Oi,{className:"h-4 w-4"})}),t.jsx(te,{variant:"outline",size:"sm","data-testid":`button-delete-tax-${m.id}`,children:t.jsx(Wa,{className:"h-4 w-4"})})]})})]},m.id)})})]})})]}),t.jsx(pi,{open:!!s,onOpenChange:()=>r(null),children:t.jsxs(Ka,{className:"max-w-2xl",children:[t.jsxs(Xa,{children:[t.jsx(Za,{children:"Edit Tax Rate"}),t.jsxs(Sl,{children:["Update tax rate configuration for ",s?.name]})]}),s&&t.jsx(h,{taxRate:s,onSubmit:m=>c.mutate({id:s.id,updates:m}),onCancel:()=>r(null)})]})})]})}function qAe(){const[n,e]=R.useState(!1),[s,r]=R.useState(null),a=ps(),i=[{id:"1",title:"Summer Creator Boost",description:"Promote top creators during summer season",type:"creator_promotion",status:"active",budget:"5000.00",dailyBudget:"200.00",spend:"1250.00",impressions:125e3,clicks:2500,conversions:125,startDate:"2024-06-01T00:00:00Z",endDate:"2024-08-31T23:59:59Z",targetAudience:{age:"18-35",interests:["adult","content"]},advertiserId:"admin-1"},{id:"2",title:"Premium Subscription Banner",description:"Drive premium subscription conversions",type:"banner",status:"active",budget:"2000.00",dailyBudget:"100.00",spend:"780.00",impressions:78e3,clicks:1560,conversions:89,startDate:"2024-07-01T00:00:00Z",endDate:"2024-09-30T23:59:59Z",targetAudience:{age:"25-45",interests:["premium","subscriptions"]},advertiserId:"admin-1"},{id:"3",title:"Live Stream Promotion",description:"Boost live streaming engagement",type:"video",status:"paused",budget:"3000.00",dailyBudget:"150.00",spend:"450.00",impressions:45e3,clicks:900,conversions:67,startDate:"2024-08-01T00:00:00Z",endDate:"2024-10-31T23:59:59Z",targetAudience:{age:"18-40",interests:["live","streaming"]},advertiserId:"admin-2"}],{toast:o}=Dn(),l=kt({mutationFn:A=>Kt("/api/admin/ad-campaigns","POST",A),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/admin/ad-campaigns"]}),e(!1),o({title:"Campaign created successfully"})}}),c=kt({mutationFn:A=>Kt(`/api/admin/ad-campaigns/${A.id}`,"PATCH",A.updates),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/admin/ad-campaigns"]})}}),d=A=>{const S={draft:"secondary",pending:"outline",approved:"default",active:"default",paused:"secondary",completed:"default",rejected:"destructive"},w={active:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",paused:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",completed:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300"};return t.jsx(de,{variant:S[A]||"outline",className:w[A],children:A})},u=A=>{switch(A){case"video":return t.jsx(Ri,{className:"h-4 w-4"});case"creator_promotion":return t.jsx(or,{className:"h-4 w-4"});default:return t.jsx(rF,{className:"h-4 w-4"})}},h=(A,S)=>S===0?"0.00":(A/S*100).toFixed(2),m=(A,S)=>S===0?"0.00":(parseFloat(A)/S*1e3).toFixed(2),y=({campaign:A,onSubmit:S,onCancel:w})=>{const[E,T]=R.useState({title:A?.title||"",description:A?.description||"",type:A?.type||"banner",budget:A?.budget||"",dailyBudget:A?.dailyBudget||"",startDate:A?.startDate||"",endDate:A?.endDate||"",targetAudience:A?.targetAudience||{}}),P=k=>{k.preventDefault(),S(E)};return t.jsxs("form",{onSubmit:P,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"title",children:"Campaign Title"}),t.jsx(Fe,{id:"title",value:E.title,onChange:k=>T({...E,title:k.target.value}),placeholder:"Summer Creator Promotion",required:!0,"data-testid":"input-campaign-title"})]}),t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"type",children:"Campaign Type"}),t.jsxs(sn,{value:E.type,onValueChange:k=>T({...E,type:k}),children:[t.jsx(en,{"data-testid":"select-campaign-type",children:t.jsx(rn,{})}),t.jsxs(tn,{children:[t.jsx(re,{value:"banner",children:"Banner Ad"}),t.jsx(re,{value:"video",children:"Video Ad"}),t.jsx(re,{value:"sponsored_post",children:"Sponsored Post"}),t.jsx(re,{value:"creator_promotion",children:"Creator Promotion"})]})]})]})]}),t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"description",children:"Description"}),t.jsx(Js,{id:"description",value:E.description,onChange:k=>T({...E,description:k.target.value}),placeholder:"Campaign description and objectives...","data-testid":"textarea-campaign-description"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"budget",children:"Total Budget ($)"}),t.jsx(Fe,{id:"budget",type:"number",min:"1",value:E.budget,onChange:k=>T({...E,budget:k.target.value}),placeholder:"1000.00",required:!0,"data-testid":"input-campaign-budget"})]}),t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"dailyBudget",children:"Daily Budget ($)"}),t.jsx(Fe,{id:"dailyBudget",type:"number",min:"1",value:E.dailyBudget,onChange:k=>T({...E,dailyBudget:k.target.value}),placeholder:"50.00","data-testid":"input-daily-budget"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"startDate",children:"Start Date"}),t.jsx(Fe,{id:"startDate",type:"datetime-local",value:E.startDate,onChange:k=>T({...E,startDate:k.target.value}),required:!0,"data-testid":"input-start-date"})]}),t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"endDate",children:"End Date"}),t.jsx(Fe,{id:"endDate",type:"datetime-local",value:E.endDate,onChange:k=>T({...E,endDate:k.target.value}),required:!0,"data-testid":"input-end-date"})]})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx(te,{type:"button",variant:"outline",onClick:w,children:"Cancel"}),t.jsxs(te,{type:"submit","data-testid":"button-save-campaign",children:[A?"Update":"Create"," Campaign"]})]})]})},N=i.filter(A=>A.status==="active"),j=i.reduce((A,S)=>A+parseFloat(S.spend||"0"),0),v=i.reduce((A,S)=>A+S.impressions,0),b=i.reduce((A,S)=>A+S.clicks,0);return t.jsxs("div",{className:"container mx-auto p-6 space-y-6","data-testid":"advertising-management",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Advertising Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage ad campaigns, creator promotions, and platform advertising"})]}),t.jsxs(pi,{open:n,onOpenChange:e,children:[t.jsx(Qo,{asChild:!0,children:t.jsxs(te,{"data-testid":"button-create-campaign",children:[t.jsx(oa,{className:"h-4 w-4 mr-2"}),"Create Campaign"]})}),t.jsxs(Ka,{className:"max-w-2xl",children:[t.jsxs(Xa,{children:[t.jsx(Za,{children:"Create New Ad Campaign"}),t.jsx(Sl,{children:"Launch a new advertising campaign or creator promotion"})]}),t.jsx(y,{onSubmit:A=>l.mutate(A),onCancel:()=>e(!1)})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs($,{children:[t.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(le,{className:"text-sm font-medium",children:"Active Campaigns"}),t.jsx(rF,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(q,{children:[t.jsx("div",{className:"text-2xl font-bold",children:N.length}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Running now"})]})]}),t.jsxs($,{children:[t.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(le,{className:"text-sm font-medium",children:"Total Spend"}),t.jsx(Jr,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(q,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:["$",j.toFixed(2)]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all campaigns"})]})]}),t.jsxs($,{children:[t.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(le,{className:"text-sm font-medium",children:"Impressions"}),t.jsx(Mn,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(q,{children:[t.jsx("div",{className:"text-2xl font-bold",children:v.toLocaleString()}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Total views"})]})]}),t.jsxs($,{children:[t.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(le,{className:"text-sm font-medium",children:"Click Rate"}),t.jsx(iae,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(q,{children:[t.jsxs("div",{className:"text-2xl font-bold",children:[h(b,v),"%"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Average CTR"})]})]})]}),t.jsxs(Xs,{defaultValue:"campaigns",className:"w-full",children:[t.jsxs($s,{className:"grid w-full grid-cols-3",children:[t.jsxs(lt,{value:"campaigns",children:["All Campaigns (",i.length,")"]}),t.jsxs(lt,{value:"active",children:["Active (",N.length,")"]}),t.jsx(lt,{value:"analytics",children:"Analytics"})]}),t.jsx(ct,{value:"campaigns",className:"space-y-4",children:t.jsxs($,{children:[t.jsxs(oe,{children:[t.jsx(le,{children:"All Advertising Campaigns"}),t.jsx(Ct,{children:"Manage all advertising campaigns and promotional content"})]}),t.jsx(q,{children:t.jsxs(Ar,{children:[t.jsx(Cr,{children:t.jsxs(Vn,{children:[t.jsx(He,{children:"Campaign"}),t.jsx(He,{children:"Type"}),t.jsx(He,{children:"Budget"}),t.jsx(He,{children:"Spend"}),t.jsx(He,{children:"Performance"}),t.jsx(He,{children:"Status"}),t.jsx(He,{children:"Actions"})]})}),t.jsx(Tr,{children:i.map(A=>t.jsxs(Vn,{children:[t.jsx(Ve,{children:t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"font-medium",children:A.title}),t.jsxs("span",{className:"text-sm text-muted-foreground",children:[A.description?.substring(0,50),"..."]})]})}),t.jsx(Ve,{children:t.jsxs("div",{className:"flex items-center",children:[u(A.type),t.jsx("span",{className:"ml-2 capitalize",children:A.type.replace("_"," ")})]})}),t.jsx(Ve,{children:t.jsxs("div",{className:"flex flex-col",children:[t.jsxs("span",{className:"font-medium",children:["$",A.budget]}),A.dailyBudget&&t.jsxs("span",{className:"text-sm text-muted-foreground",children:["$",A.dailyBudget,"/day"]})]})}),t.jsx(Ve,{children:t.jsxs("div",{className:"flex flex-col",children:[t.jsxs("span",{className:"font-medium",children:["$",A.spend]}),t.jsx(Xn,{value:parseFloat(A.spend)/parseFloat(A.budget)*100,className:"w-16 h-2 mt-1"})]})}),t.jsx(Ve,{children:t.jsxs("div",{className:"flex flex-col text-sm",children:[t.jsxs("span",{children:[A.impressions.toLocaleString()," views"]}),t.jsxs("span",{children:[A.clicks," clicks"]}),t.jsxs("span",{className:"text-muted-foreground",children:["CTR:"," ",h(A.clicks,A.impressions),"%"]})]})}),t.jsx(Ve,{children:d(A.status)}),t.jsx(Ve,{children:t.jsxs("div",{className:"flex space-x-1",children:[A.status==="active"?t.jsx(te,{variant:"outline",size:"sm",onClick:()=>c.mutate({id:A.id,updates:{status:"paused"}}),"data-testid":`button-pause-${A.id}`,children:t.jsx(j_,{className:"h-4 w-4"})}):t.jsx(te,{variant:"outline",size:"sm",onClick:()=>c.mutate({id:A.id,updates:{status:"active"}}),"data-testid":`button-play-${A.id}`,children:t.jsx(Ri,{className:"h-4 w-4"})}),t.jsx(te,{variant:"outline",size:"sm",onClick:()=>r(A),"data-testid":`button-view-${A.id}`,children:"View"})]})})]},A.id))})]})})]})}),t.jsx(ct,{value:"active",className:"space-y-4",children:t.jsx("div",{className:"grid gap-4",children:N.map(A=>t.jsxs($,{children:[t.jsx(oe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(le,{className:"flex items-center",children:[u(A.type),t.jsx("span",{className:"ml-2",children:A.title})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[d(A.status),t.jsxs(te,{variant:"outline",size:"sm",onClick:()=>c.mutate({id:A.id,updates:{status:"paused"}}),children:[t.jsx(j_,{className:"h-4 w-4 mr-1"}),"Pause"]})]})]})}),t.jsx(q,{children:t.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Budget Progress"}),t.jsx(Xn,{value:parseFloat(A.spend)/parseFloat(A.budget)*100,className:"mt-2"}),t.jsxs("p",{className:"text-sm mt-1",children:["$",A.spend," / $",A.budget]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Impressions"}),t.jsx("p",{className:"text-2xl font-bold",children:A.impressions.toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Clicks"}),t.jsx("p",{className:"text-2xl font-bold",children:A.clicks})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"CTR"}),t.jsxs("p",{className:"text-2xl font-bold",children:[h(A.clicks,A.impressions),"%"]})]})]})})]},A.id))})}),t.jsx(ct,{value:"analytics",className:"space-y-4",children:t.jsxs($,{children:[t.jsxs(oe,{children:[t.jsx(le,{children:"Campaign Analytics"}),t.jsx(Ct,{children:"Performance metrics and insights across all campaigns"})]}),t.jsx(q,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("h3",{className:"font-medium",children:"Cost Per Mille (CPM)"}),t.jsxs("p",{className:"text-2xl font-bold",children:["$",v>0?m(j.toString(),v):"0.00"]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Average cost per 1,000 impressions"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("h3",{className:"font-medium",children:"Cost Per Click (CPC)"}),t.jsxs("p",{className:"text-2xl font-bold",children:["$",b>0?(j/b).toFixed(2):"0.00"]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Average cost per click"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("h3",{className:"font-medium",children:"Conversion Rate"}),t.jsxs("p",{className:"text-2xl font-bold",children:[b>0?(i.reduce((A,S)=>A+S.conversions,0)/b*100).toFixed(2):"0.00","%"]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Clicks that converted"})]})]})})]})})]})]})}const WAe=kh({audioCallStatus:Zf(),agoraAppId:ys().optional(),audioCallMinPrice:gR.number().min(1),audioCallMaxPrice:gR.number().min(1),audioCallMaxDuration:gR.number().min(10).max(60)});function KAe(){const{toast:n}=Dn(),e=ps(),{data:s,isLoading:r}=wn({queryKey:["/api/audio-call-settings"]}),a=kt({mutationFn:c=>Kt("/api/audio-call-settings","POST",c),onSuccess:()=>{n({title:"Success",description:"Audio call settings updated successfully"}),e.invalidateQueries({queryKey:["/api/audio-call-settings"]})},onError:()=>{n({title:"Error",description:"Failed to update audio call settings",variant:"destructive"})}}),i=Qd({resolver:Jd(WAe),defaultValues:{audioCallStatus:!1,agoraAppId:"",audioCallMinPrice:1,audioCallMaxPrice:100,audioCallMaxDuration:60}});R.useEffect(()=>{s&&i.reset({audioCallStatus:s.audioCallStatus||!1,agoraAppId:s.agoraAppId||"",audioCallMinPrice:s.audioCallMinPrice||1,audioCallMaxPrice:s.audioCallMaxPrice||100,audioCallMaxDuration:s.audioCallMaxDuration||60})},[s,i]);const o=c=>{a.mutate(c)};if(r)return t.jsx("div",{className:"flex items-center justify-center h-96",children:t.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})});const l=[];for(let c=10;c<=60;c+=10)l.push({value:c,label:`${c} minutes`});return t.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(dae,{className:"h-8 w-8 text-blue-600"}),t.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Audio Call Settings"})]}),t.jsx("p",{className:"text-gray-600",children:"Configure audio calling features with Agora WebRTC integration and pricing controls"})]}),t.jsxs("div",{className:"grid gap-6",children:[t.jsxs($,{className:"border-2 border-dashed border-blue-200 bg-blue-50/50",children:[t.jsxs(oe,{children:[t.jsxs(le,{className:"flex items-center gap-2",children:[t.jsx(dF,{className:"h-5 w-5 text-blue-600"}),"System Status"]}),t.jsx(Ct,{children:"Current audio calling system status and configuration"})]}),t.jsx(q,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[t.jsx("span",{className:"font-medium",children:"Audio Calls"}),t.jsx(de,{variant:s?.audioCallStatus?"default":"secondary",children:s?.audioCallStatus?"Active":"Disabled"})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[t.jsx("span",{className:"font-medium",children:"WebRTC Provider"}),t.jsx(de,{variant:"outline",children:"Agora"})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[t.jsx("span",{className:"font-medium",children:"Price Range"}),t.jsxs(de,{variant:"outline",children:["$",s?.audioCallMinPrice||1," - $",s?.audioCallMaxPrice||100]})]})]})})]}),t.jsxs($,{children:[t.jsxs(oe,{children:[t.jsxs(le,{className:"flex items-center gap-2",children:[t.jsx(Fj,{className:"h-5 w-5 text-green-600"}),"Audio Call Configuration"]}),t.jsx(Ct,{children:"Configure Agora WebRTC settings and pricing controls for audio calls"})]}),t.jsx(q,{children:t.jsx(tu,{...i,children:t.jsxs("form",{onSubmit:i.handleSubmit(o),className:"space-y-6",children:[t.jsx(On,{control:i.control,name:"audioCallStatus",render:({field:c})=>t.jsxs(Pn,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[t.jsxs("div",{className:"space-y-0.5",children:[t.jsx(Rn,{className:"text-base font-medium",children:"Enable Audio Calls"}),t.jsx("div",{className:"text-sm text-gray-600",children:"Allow creators and fans to make paid audio calls"})]}),t.jsx(kn,{children:t.jsx(fn,{checked:c.value,onCheckedChange:c.onChange,"data-testid":"switch-audio-call-status"})})]})}),t.jsx(On,{control:i.control,name:"agoraAppId",render:({field:c})=>t.jsxs(Pn,{children:[t.jsxs(Rn,{className:"flex items-center gap-2",children:[t.jsx(dF,{className:"h-4 w-4"}),"Agora APP ID"]}),t.jsx(kn,{children:t.jsx(Fe,{type:"password",placeholder:"Enter your Agora APP ID",...c,"data-testid":"input-agora-app-id"})}),t.jsx(Gn,{})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(On,{control:i.control,name:"audioCallMinPrice",render:({field:c})=>t.jsxs(Pn,{children:[t.jsxs(Rn,{className:"flex items-center gap-2",children:[t.jsx(Jr,{className:"h-4 w-4 text-green-600"}),"Minimum Price (USD)"]}),t.jsx(kn,{children:t.jsx(Fe,{type:"number",min:"1",placeholder:"1",...c,"data-testid":"input-min-price"})}),t.jsx(Gn,{})]})}),t.jsx(On,{control:i.control,name:"audioCallMaxPrice",render:({field:c})=>t.jsxs(Pn,{children:[t.jsxs(Rn,{className:"flex items-center gap-2",children:[t.jsx(Jr,{className:"h-4 w-4 text-red-600"}),"Maximum Price (USD)"]}),t.jsx(kn,{children:t.jsx(Fe,{type:"number",min:"1",placeholder:"100",...c,"data-testid":"input-max-price"})}),t.jsx(Gn,{})]})})]}),t.jsx(On,{control:i.control,name:"audioCallMaxDuration",render:({field:c})=>t.jsxs(Pn,{children:[t.jsxs(Rn,{className:"flex items-center gap-2",children:[t.jsx(As,{className:"h-4 w-4 text-orange-600"}),"Maximum Call Duration"]}),t.jsxs(sn,{value:c.value?.toString(),onValueChange:d=>c.onChange(parseInt(d)),children:[t.jsx(kn,{children:t.jsx(en,{"data-testid":"select-max-duration",children:t.jsx(rn,{placeholder:"Select maximum duration"})})}),t.jsx(tn,{children:l.map(d=>t.jsx(re,{value:d.value.toString(),children:d.label},d.value))})]}),t.jsx(Gn,{})]})}),t.jsx(te,{type:"submit",disabled:a.isPending,className:"w-full md:w-auto","data-testid":"button-save-settings",children:a.isPending?"Saving...":"Save Settings"})]})})})]}),t.jsxs($,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200",children:[t.jsx(oe,{children:t.jsx(le,{className:"text-blue-800",children:"Integration Information"})}),t.jsxs(q,{className:"text-sm space-y-2",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Agora WebRTC:"})," Provides high-quality, low-latency audio calling"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Per-Minute Billing:"})," Charges creators and fans based on actual call duration"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Pricing Controls:"})," Set platform-wide minimum and maximum pricing limits"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Duration Limits:"})," Prevent excessively long calls with configurable time limits"]})]})]})]})]})}var rJ="AlertDialog",[XAe]=Co(rJ,[YY]),Ih=YY(),aJ=n=>{const{__scopeAlertDialog:e,...s}=n,r=Ih(e);return t.jsx(fQ,{...r,...s,modal:!0})};aJ.displayName=rJ;var ZAe="AlertDialogTrigger",iJ=R.forwardRef((n,e)=>{const{__scopeAlertDialog:s,...r}=n,a=Ih(s);return t.jsx(mQ,{...a,...r,ref:e})});iJ.displayName=ZAe;var YAe="AlertDialogPortal",oJ=n=>{const{__scopeAlertDialog:e,...s}=n,r=Ih(e);return t.jsx(pQ,{...r,...s})};oJ.displayName=YAe;var QAe="AlertDialogOverlay",lJ=R.forwardRef((n,e)=>{const{__scopeAlertDialog:s,...r}=n,a=Ih(s);return t.jsx(KI,{...a,...r,ref:e})});lJ.displayName=QAe;var Hv="AlertDialogContent",[JAe,eCe]=XAe(Hv),tCe=n$("AlertDialogContent"),cJ=R.forwardRef((n,e)=>{const{__scopeAlertDialog:s,children:r,...a}=n,i=Ih(s),o=R.useRef(null),l=rs(e,o),c=R.useRef(null);return t.jsx(a2e,{contentName:Hv,titleName:dJ,docsSlug:"alert-dialog",children:t.jsx(JAe,{scope:s,cancelRef:c,children:t.jsxs(XI,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:cn(a.onOpenAutoFocus,d=>{d.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[t.jsx(tCe,{children:r}),t.jsx(sCe,{contentRef:o})]})})})});cJ.displayName=Hv;var dJ="AlertDialogTitle",uJ=R.forwardRef((n,e)=>{const{__scopeAlertDialog:s,...r}=n,a=Ih(s);return t.jsx(ZI,{...a,...r,ref:e})});uJ.displayName=dJ;var hJ="AlertDialogDescription",fJ=R.forwardRef((n,e)=>{const{__scopeAlertDialog:s,...r}=n,a=Ih(s);return t.jsx(YI,{...a,...r,ref:e})});fJ.displayName=hJ;var nCe="AlertDialogAction",mJ=R.forwardRef((n,e)=>{const{__scopeAlertDialog:s,...r}=n,a=Ih(s);return t.jsx(QI,{...a,...r,ref:e})});mJ.displayName=nCe;var pJ="AlertDialogCancel",xJ=R.forwardRef((n,e)=>{const{__scopeAlertDialog:s,...r}=n,{cancelRef:a}=eCe(pJ,s),i=Ih(s),o=rs(e,a);return t.jsx(QI,{...i,...r,ref:o})});xJ.displayName=pJ;var sCe=({contentRef:n})=>{const e=`\`${Hv}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Hv}\` by passing a \`${hJ}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Hv}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return R.useEffect(()=>{document.getElementById(n.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,n]),null},rCe=aJ,aCe=iJ,iCe=oJ,gJ=lJ,vJ=cJ,yJ=mJ,bJ=xJ,jJ=uJ,wJ=fJ;const Gv=rCe,$v=aCe,oCe=iCe,NJ=R.forwardRef(({className:n,...e},s)=>t.jsx(gJ,{className:Bt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e,ref:s}));NJ.displayName=gJ.displayName;const Yp=R.forwardRef(({className:n,...e},s)=>t.jsxs(oCe,{children:[t.jsx(NJ,{}),t.jsx(vJ,{ref:s,className:Bt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...e})]}));Yp.displayName=vJ.displayName;const Qp=({className:n,...e})=>t.jsx("div",{className:Bt("flex flex-col space-y-2 text-center sm:text-left",n),...e});Qp.displayName="AlertDialogHeader";const Jp=({className:n,...e})=>t.jsx("div",{className:Bt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});Jp.displayName="AlertDialogFooter";const ex=R.forwardRef(({className:n,...e},s)=>t.jsx(jJ,{ref:s,className:Bt("text-lg font-semibold",n),...e}));ex.displayName=jJ.displayName;const tx=R.forwardRef(({className:n,...e},s)=>t.jsx(wJ,{ref:s,className:Bt("text-sm text-muted-foreground",n),...e}));tx.displayName=wJ.displayName;const nx=R.forwardRef(({className:n,...e},s)=>t.jsx(yJ,{ref:s,className:Bt(Ok(),n),...e}));nx.displayName=yJ.displayName;const sx=R.forwardRef(({className:n,...e},s)=>t.jsx(bJ,{ref:s,className:Bt(Ok({variant:"outline"}),"mt-2 sm:mt-0",n),...e}));sx.displayName=bJ.displayName;function lCe(){const[n,e]=R.useState(""),{toast:s}=Dn(),r=ps(),{data:a=[],isLoading:i}=wn({queryKey:["/api/blog/posts"],queryFn:()=>fetch("/api/blog/posts").then(d=>d.json())}),o=kt({mutationFn:d=>fetch(`/api/blog/posts/${d}`,{method:"DELETE"}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/blog/posts"]}),s({title:"Success",description:"Blog post deleted successfully"})},onError:()=>{s({title:"Error",description:"Failed to delete blog post",variant:"destructive"})}}),l=a.filter(d=>d.title.toLowerCase().includes(n.toLowerCase())||d.content.toLowerCase().includes(n.toLowerCase())),c=d=>{o.mutate(d)};return t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Blog Management"}),t.jsxs("p",{className:"text-muted-foreground",children:["Manage blog posts and articles (",a.length," total)"]})]}),t.jsx(vn,{href:"/blog/create",children:t.jsxs(te,{"data-testid":"button-create-blog",children:[t.jsx(oa,{className:"mr-2 h-4 w-4"}),"Add New Post"]})})]}),t.jsxs($,{children:[t.jsx(oe,{children:t.jsx(le,{children:"Blog Posts"})}),t.jsxs(q,{children:[t.jsx("div",{className:"flex items-center space-x-2 mb-6",children:t.jsxs("div",{className:"relative flex-1",children:[t.jsx(jr,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),t.jsx(Fe,{placeholder:"Search blog posts...",value:n,onChange:d=>e(d.target.value),className:"pl-8","data-testid":"input-search-blogs"})]})}),i?t.jsx("div",{className:"space-y-4",children:[...Array(3)].map((d,u)=>t.jsxs("div",{className:"animate-pulse",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),t.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},u))}):l.length===0?t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:n?"No blog posts found matching your search.":"No blog posts found. Create your first post to get started."}):t.jsx("div",{className:"space-y-4",children:l.map(d=>t.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50","data-testid":`card-blog-${d.id}`,children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("h3",{className:"font-semibold text-lg",children:d.title}),t.jsx(de,{variant:d.isPublished?"default":"secondary",children:d.isPublished?"Published":"Draft"})]}),t.jsx("p",{className:"text-muted-foreground text-sm mb-2",children:d.excerpt||(d.content?d.content.substring(0,150)+"...":"No content")}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[t.jsxs("span",{children:["Views: ",d.viewCount||0]}),t.jsxs("span",{children:["Created:"," ",new Date(d.createdAt).toLocaleDateString()]}),d.publishedAt&&t.jsxs("span",{children:["Published:"," ",new Date(d.publishedAt).toLocaleDateString()]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(vn,{href:`/blog/edit/${d.id}`,children:t.jsx(te,{variant:"outline",size:"sm","data-testid":`button-edit-blog-${d.id}`,children:t.jsx(cae,{className:"h-4 w-4"})})}),d.isPublished&&t.jsx(te,{variant:"outline",size:"sm","data-testid":`button-view-blog-${d.id}`,children:t.jsx(Mn,{className:"h-4 w-4"})}),t.jsxs(Gv,{children:[t.jsx($v,{asChild:!0,children:t.jsx(te,{variant:"outline",size:"sm","data-testid":`button-delete-blog-${d.id}`,children:t.jsx(Wa,{className:"h-4 w-4"})})}),t.jsxs(Yp,{children:[t.jsxs(Qp,{children:[t.jsx(ex,{children:"Delete Blog Post"}),t.jsxs(tx,{children:['Are you sure you want to delete "',d.title,'"? This action cannot be undone.']})]}),t.jsxs(Jp,{children:[t.jsx(sx,{children:"Cancel"}),t.jsx(nx,{onClick:()=>c(d.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})]})},d.id))})]})]})]})}const cCe=kh({title:ys().min(1,"Title is required").max(200,"Title must be less than 200 characters"),content:ys().optional(),featuredImage:ys().optional(),isPublished:Zf().default(!1)});function dCe(){const[,n]=Tx(),{toast:e}=Dn(),s=ps(),r=Qd({resolver:Jd(cCe),defaultValues:{title:"",content:"",featuredImage:"",isPublished:!1}}),a=kt({mutationFn:async o=>{const l=await fetch("/api/blog/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...o,authorId:"system"})});if(!l.ok)throw new Error("Failed to create blog post");return l.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/blog/posts"]}),e({title:"Success",description:"Blog post created successfully"}),n("/blog")},onError:()=>{e({title:"Error",description:"Failed to create blog post",variant:"destructive"})}}),i=o=>{a.mutate(o)};return t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(vn,{href:"/blog",children:t.jsxs(te,{variant:"ghost",size:"sm","data-testid":"button-back-to-blog",children:[t.jsx(cd,{className:"mr-2 h-4 w-4"}),"Back to Blog"]})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Create New Blog Post"}),t.jsx("p",{className:"text-muted-foreground",children:"Create a new blog post or article"})]})]})}),t.jsxs($,{children:[t.jsx(oe,{children:t.jsx(le,{children:"Blog Post Details"})}),t.jsx(q,{children:t.jsx(tu,{...r,children:t.jsxs("form",{onSubmit:r.handleSubmit(i),className:"space-y-6",children:[t.jsx(On,{control:r.control,name:"title",render:({field:o})=>t.jsxs(Pn,{children:[t.jsx(Rn,{children:"Title"}),t.jsx(kn,{children:t.jsx(Fe,{placeholder:"Enter blog post title...","data-testid":"input-blog-title",...o})}),t.jsx(Gn,{})]})}),t.jsx(On,{control:r.control,name:"featuredImage",render:({field:o})=>t.jsxs(Pn,{children:[t.jsx(Rn,{children:"Featured Image"}),t.jsx(kn,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Fe,{type:"file",accept:"image/*",placeholder:"Select featured image...","data-testid":"input-blog-thumbnail",onChange:l=>{const c=l.target.files?.[0];c&&o.onChange(c.name)}}),t.jsx(F$,{className:"h-4 w-4 text-muted-foreground"})]})}),t.jsx(Zp,{children:"Recommended size: 650x430px"}),t.jsx(Gn,{})]})}),t.jsx(On,{control:r.control,name:"content",render:({field:o})=>t.jsxs(Pn,{children:[t.jsx(Rn,{children:"Content"}),t.jsx(kn,{children:t.jsx(Js,{placeholder:"Write your blog post content here...",className:"min-h-[400px]","data-testid":"textarea-blog-content",...o})}),t.jsx(Zp,{children:"You can use rich text formatting here"}),t.jsx(Gn,{})]})}),t.jsx(On,{control:r.control,name:"isPublished",render:({field:o})=>t.jsxs(Pn,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[t.jsxs("div",{className:"space-y-0.5",children:[t.jsx(Rn,{className:"text-base",children:"Publish Immediately"}),t.jsx(Zp,{children:"Make this blog post visible to the public immediately"})]}),t.jsx(kn,{children:t.jsx(fn,{checked:o.value,onCheckedChange:o.onChange,"data-testid":"switch-blog-published"})})]})}),t.jsxs("div",{className:"flex justify-end gap-4",children:[t.jsx(vn,{href:"/blog",children:t.jsx(te,{variant:"outline","data-testid":"button-cancel-blog",children:"Cancel"})}),t.jsx(te,{type:"submit",disabled:a.isPending,"data-testid":"button-save-blog",children:a.isPending?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}),"Creating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Qv,{className:"mr-2 h-4 w-4"}),"Create Post"]})})]})]})})})]})]})}const uCe=kh({title:ys().min(1,"Title is required").max(200,"Title must be less than 200 characters"),content:ys().optional(),featuredImage:ys().optional(),isPublished:Zf().default(!1)});function hCe(){const e=LA().id,[,s]=Tx(),{toast:r}=Dn(),a=ps(),{data:i,isLoading:o}=wn({queryKey:["/api/blog/posts",e],queryFn:()=>fetch(`/api/blog/posts/${e}`).then(u=>u.json()),enabled:!!e}),l=Qd({resolver:Jd(uCe),defaultValues:{title:"",content:"",featuredImage:"",isPublished:!1}});R.useEffect(()=>{i&&l.reset({title:i.title,content:i.content||"",featuredImage:i.featuredImage||"",isPublished:i.isPublished})},[i,l]);const c=kt({mutationFn:async u=>{const h=await fetch(`/api/blog/posts/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)});if(!h.ok)throw new Error("Failed to update blog post");return h.json()},onSuccess:()=>{a.invalidateQueries({queryKey:["/api/blog/posts"]}),a.invalidateQueries({queryKey:["/api/blog/posts",e]}),r({title:"Success",description:"Blog post updated successfully"}),s("/blog")},onError:()=>{r({title:"Error",description:"Failed to update blog post",variant:"destructive"})}}),d=u=>{c.mutate(u)};return o?t.jsx("div",{className:"p-6 space-y-6",children:t.jsxs("div",{className:"animate-pulse",children:[t.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-8"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),t.jsx("div",{className:"h-32 bg-gray-200 rounded"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]})}):i?t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(vn,{href:"/blog",children:t.jsxs(te,{variant:"ghost",size:"sm","data-testid":"button-back-to-blog",children:[t.jsx(cd,{className:"mr-2 h-4 w-4"}),"Back to Blog"]})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit Blog Post"}),t.jsxs("p",{className:"text-muted-foreground",children:['Edit "',i.title,'"']})]})]})}),t.jsxs($,{children:[t.jsx(oe,{children:t.jsx(le,{children:"Blog Post Details"})}),t.jsx(q,{children:t.jsx(tu,{...l,children:t.jsxs("form",{onSubmit:l.handleSubmit(d),className:"space-y-6",children:[t.jsx(On,{control:l.control,name:"title",render:({field:u})=>t.jsxs(Pn,{children:[t.jsx(Rn,{children:"Title"}),t.jsx(kn,{children:t.jsx(Fe,{placeholder:"Enter blog post title...","data-testid":"input-blog-title",...u})}),t.jsx(Gn,{})]})}),t.jsx(On,{control:l.control,name:"featuredImage",render:({field:u})=>t.jsxs(Pn,{children:[t.jsx(Rn,{children:"Featured Image"}),t.jsx(kn,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Fe,{type:"file",accept:"image/*",placeholder:"Select featured image...","data-testid":"input-blog-thumbnail",onChange:h=>{const m=h.target.files?.[0];m&&u.onChange(m.name)}}),t.jsx(F$,{className:"h-4 w-4 text-muted-foreground"})]})}),t.jsxs(Zp,{children:["Recommended size: 650x430px. Current:"," ",i.featuredImage||"No image"]}),t.jsx(Gn,{})]})}),t.jsx(On,{control:l.control,name:"content",render:({field:u})=>t.jsxs(Pn,{children:[t.jsx(Rn,{children:"Content"}),t.jsx(kn,{children:t.jsx(Js,{placeholder:"Write your blog post content here...",className:"min-h-[400px]","data-testid":"textarea-blog-content",...u})}),t.jsx(Zp,{children:"You can use rich text formatting here"}),t.jsx(Gn,{})]})}),t.jsx(On,{control:l.control,name:"isPublished",render:({field:u})=>t.jsxs(Pn,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[t.jsxs("div",{className:"space-y-0.5",children:[t.jsx(Rn,{className:"text-base",children:"Published Status"}),t.jsx(Zp,{children:"Control whether this blog post is visible to the public"})]}),t.jsx(kn,{children:t.jsx(fn,{checked:u.value,onCheckedChange:u.onChange,"data-testid":"switch-blog-published"})})]})}),t.jsxs("div",{className:"flex justify-end gap-4",children:[t.jsx(vn,{href:"/blog",children:t.jsx(te,{variant:"outline","data-testid":"button-cancel-blog",children:"Cancel"})}),t.jsx(te,{type:"submit",disabled:c.isPending,"data-testid":"button-save-blog",children:c.isPending?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}),"Updating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Qv,{className:"mr-2 h-4 w-4"}),"Update Post"]})})]})]})})})]})]}):t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"text-center py-8",children:[t.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Blog Post Not Found"}),t.jsx("p",{className:"text-muted-foreground mb-4",children:"The blog post you're looking for doesn't exist."}),t.jsx(vn,{href:"/blog",children:t.jsx(te,{children:"Back to Blog"})})]})})}function fCe(){const[n,e]=R.useState(""),{toast:s}=Dn(),r=ps(),{data:a=[],isLoading:i}=wn({queryKey:["/api/deposits",n],queryFn:()=>{const m=n?`/api/deposits?q=${encodeURIComponent(n)}`:"/api/deposits";return fetch(m).then(y=>y.json())}}),o=kt({mutationFn:m=>fetch(`/api/deposits/${m}/approve`,{method:"POST"}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/deposits"]}),s({title:"Success",description:"Deposit approved successfully"})},onError:()=>{s({title:"Error",description:"Failed to approve deposit",variant:"destructive"})}}),l=kt({mutationFn:m=>fetch(`/api/deposits/${m}`,{method:"DELETE"}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/deposits"]}),s({title:"Success",description:"Deposit deleted successfully"})},onError:()=>{s({title:"Error",description:"Failed to delete deposit",variant:"destructive"})}}),c=m=>{o.mutate(m)},d=m=>{l.mutate(m)},u=m=>{switch(m){case"completed":return"default";case"pending":return"secondary";case"failed":return"destructive";case"refunded":return"outline";default:return"secondary"}},h=m=>{switch(m){case"completed":return"Success";case"pending":return"Pending";case"failed":return"Failed";case"refunded":return"Refunded";default:return m}};return t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Deposits Management"}),t.jsxs("p",{className:"text-muted-foreground",children:["Monitor and manage user deposits (",a.length," total)"]})]})}),t.jsxs($,{children:[t.jsx(oe,{children:t.jsx(le,{children:"User Deposits"})}),t.jsxs(q,{children:[t.jsx("div",{className:"flex items-center space-x-2 mb-6",children:t.jsxs("div",{className:"relative flex-1",children:[t.jsx(jr,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),t.jsx(Fe,{placeholder:"Search by transaction ID...",value:n,onChange:m=>e(m.target.value),className:"pl-8","data-testid":"input-search-deposits"})]})}),i?t.jsx("div",{className:"space-y-4",children:[...Array(5)].map((m,y)=>t.jsxs("div",{className:"animate-pulse",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),t.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},y))}):a.length===0?t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:n?"No deposits found matching your search.":"No deposits found."}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-7 gap-4 px-4 py-2 bg-muted rounded-lg font-medium text-sm",children:[t.jsx("div",{children:"ID"}),t.jsx("div",{children:"User ID"}),t.jsx("div",{children:"Transaction ID"}),t.jsx("div",{children:"Amount"}),t.jsx("div",{children:"Payment Gateway"}),t.jsx("div",{children:"Date"}),t.jsx("div",{children:"Status"})]}),a.map(m=>t.jsxs("div",{className:"grid grid-cols-7 gap-4 px-4 py-3 border rounded-lg hover:bg-gray-50","data-testid":`card-deposit-${m.id}`,children:[t.jsxs("div",{className:"text-sm font-mono",children:[m.id.substring(0,8),"..."]}),t.jsx("div",{className:"text-sm",children:m.userId?t.jsx(vn,{href:`/users/${m.userId}`,children:t.jsxs(te,{variant:"link",size:"sm",className:"p-0 h-auto",children:[m.userId.substring(0,8),"..."," ",t.jsx(vh,{className:"ml-1 h-3 w-3"})]})}):t.jsx("span",{className:"text-muted-foreground",children:"No user"})}),t.jsx("div",{className:"text-sm",children:m.status==="pending"?t.jsx("span",{className:"font-mono",children:m.transactionId||"—"}):t.jsx(vn,{href:`/deposits/invoice/${m.id}`,children:t.jsxs(te,{variant:"link",size:"sm",className:"p-0 h-auto font-mono",children:[m.transactionId||"—"," ",t.jsx(vh,{className:"ml-1 h-3 w-3"})]})})}),t.jsxs("div",{className:"text-sm font-medium",children:["$",parseFloat(m.amount).toFixed(2)]}),t.jsx("div",{className:"text-sm",children:m.method||"Unknown"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(m.createdAt).toLocaleDateString()}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(de,{variant:u(m.status),children:h(m.status)}),(m.method==="Bank Transfer"||m.method==="Bank")&&t.jsx(vn,{href:`/deposits/${m.id}`,children:t.jsx(te,{variant:"outline",size:"sm","data-testid":`button-view-deposit-${m.id}`,children:t.jsx(Mn,{className:"h-4 w-4"})})}),m.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsx(te,{variant:"outline",size:"sm",onClick:()=>c(m.id),disabled:o.isPending,"data-testid":`button-approve-deposit-${m.id}`,children:t.jsx(xn,{className:"h-4 w-4"})}),t.jsxs(Gv,{children:[t.jsx($v,{asChild:!0,children:t.jsx(te,{variant:"outline",size:"sm","data-testid":`button-delete-deposit-${m.id}`,children:t.jsx(Wa,{className:"h-4 w-4"})})}),t.jsxs(Yp,{children:[t.jsxs(Qp,{children:[t.jsx(ex,{children:"Delete Deposit"}),t.jsx(tx,{children:"Are you sure you want to delete this deposit? This action cannot be undone."})]}),t.jsxs(Jp,{children:[t.jsx(sx,{children:"Cancel"}),t.jsx(nx,{onClick:()=>d(m.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})]})]},m.id))]})]})]})]})}function mCe(){const e=LA().id,[,s]=Tx(),{toast:r}=Dn(),a=ps(),{data:i,isLoading:o}=wn({queryKey:["/api/deposits",e],queryFn:()=>fetch(`/api/deposits/${e}`).then(y=>y.json()),enabled:!!e}),l=kt({mutationFn:()=>fetch(`/api/deposits/${e}/approve`,{method:"POST"}),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/deposits"]}),a.invalidateQueries({queryKey:["/api/deposits",e]}),r({title:"Success",description:"Deposit approved successfully"})},onError:()=>{r({title:"Error",description:"Failed to approve deposit",variant:"destructive"})}}),c=kt({mutationFn:()=>fetch(`/api/deposits/${e}`,{method:"DELETE"}),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/deposits"]}),r({title:"Success",description:"Deposit deleted successfully"}),s("/deposits")},onError:()=>{r({title:"Error",description:"Failed to delete deposit",variant:"destructive"})}}),d=()=>{l.mutate()},u=()=>{c.mutate()},h=y=>{switch(y){case"completed":return"default";case"pending":return"secondary";case"failed":return"destructive";case"refunded":return"outline";default:return"secondary"}},m=y=>{switch(y){case"completed":return"Success";case"pending":return"Pending";case"failed":return"Failed";case"refunded":return"Refunded";default:return y}};return o?t.jsx("div",{className:"p-6 space-y-6",children:t.jsxs("div",{className:"animate-pulse",children:[t.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-8"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]})]})}):i?t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(vn,{href:"/deposits",children:t.jsxs(te,{variant:"ghost",size:"sm","data-testid":"button-back-to-deposits",children:[t.jsx(cd,{className:"mr-2 h-4 w-4"}),"Back to Deposits"]})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Deposit Details"}),t.jsxs("p",{className:"text-muted-foreground",children:["Deposit #",i.id]})]})]})}),t.jsxs($,{children:[t.jsx(oe,{children:t.jsx(le,{children:"Deposit Information"})}),t.jsxs(q,{children:[t.jsxs("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("dt",{className:"font-medium text-sm text-muted-foreground",children:"ID"}),t.jsx("dd",{className:"mt-1 font-mono",children:i.id})]}),t.jsxs("div",{children:[t.jsx("dt",{className:"font-medium text-sm text-muted-foreground",children:"Transaction ID"}),t.jsx("dd",{className:"mt-1",children:i.transactionId!=="null"&&i.transactionId?t.jsx("span",{className:"font-mono",children:i.transactionId}):t.jsx("span",{className:"text-muted-foreground",children:"Not Available"})})]}),t.jsxs("div",{children:[t.jsx("dt",{className:"font-medium text-sm text-muted-foreground",children:"User"}),t.jsx("dd",{className:"mt-1",children:i.userId?t.jsx(vn,{href:`/users/${i.userId}`,children:t.jsxs(te,{variant:"link",size:"sm",className:"p-0 h-auto",children:[i.userId," ",t.jsx(vh,{className:"ml-1 h-3 w-3"})]})}):t.jsx("span",{className:"text-muted-foreground",children:"No User Available"})})]}),t.jsxs("div",{children:[t.jsx("dt",{className:"font-medium text-sm text-muted-foreground",children:"Screenshot"}),t.jsx("dd",{className:"mt-1",children:i.metadata?.screenshot_transfer?t.jsxs(te,{variant:"link",size:"sm",className:"p-0 h-auto",children:[t.jsx(Mn,{className:"mr-1 h-4 w-4"}),"View ",t.jsx(vh,{className:"ml-1 h-3 w-3"})]}):t.jsx("span",{className:"text-muted-foreground",children:"No screenshot"})})]}),t.jsxs("div",{children:[t.jsx("dt",{className:"font-medium text-sm text-muted-foreground",children:"Amount"}),t.jsx("dd",{className:"mt-1",children:t.jsxs("span",{className:"text-lg font-semibold text-green-600",children:["$",parseFloat(i.amount).toFixed(2)]})})]}),t.jsxs("div",{children:[t.jsx("dt",{className:"font-medium text-sm text-muted-foreground",children:"Payment Gateway"}),t.jsx("dd",{className:"mt-1",children:i.method==="Bank Transfer"?"Bank Transfer":i.method||"Unknown"})]}),t.jsxs("div",{children:[t.jsx("dt",{className:"font-medium text-sm text-muted-foreground",children:"Date"}),t.jsx("dd",{className:"mt-1",children:new Date(i.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),t.jsxs("div",{children:[t.jsx("dt",{className:"font-medium text-sm text-muted-foreground",children:"Status"}),t.jsx("dd",{className:"mt-1",children:t.jsx(de,{variant:h(i.status),children:m(i.status)})})]})]}),i.status==="pending"&&t.jsxs("div",{className:"flex gap-4 mt-6 pt-6 border-t",children:[t.jsx(te,{onClick:d,disabled:l.isPending,"data-testid":"button-approve-deposit",children:l.isPending?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}),"Approving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(xn,{className:"mr-2 h-4 w-4"}),"Approve"]})}),t.jsxs(Gv,{children:[t.jsx($v,{asChild:!0,children:t.jsxs(te,{variant:"destructive","data-testid":"button-delete-deposit",children:[t.jsx(Wa,{className:"mr-2 h-4 w-4"}),"Delete"]})}),t.jsxs(Yp,{children:[t.jsxs(Qp,{children:[t.jsx(ex,{children:"Delete Deposit"}),t.jsx(tx,{children:"Are you sure you want to delete this deposit? This action cannot be undone."})]}),t.jsxs(Jp,{children:[t.jsx(sx,{children:"Cancel"}),t.jsx(nx,{onClick:u,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})]})]})]}):t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"text-center py-8",children:[t.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Deposit Not Found"}),t.jsx("p",{className:"text-muted-foreground mb-4",children:"The deposit you're looking for doesn't exist."}),t.jsx(vn,{href:"/deposits",children:t.jsx(te,{children:"Back to Deposits"})})]})})}const pCe=kh({countryCode:ys().min(2,"Country code must be at least 2 characters").max(3,"Country code must be at most 3 characters"),countryName:ys().min(1,"Country name is required"),isActive:Zf().default(!0)}),xCe=kh({countryId:ys().min(1,"Country is required"),stateCode:ys().min(1,"State code is required"),stateName:ys().min(1,"State name is required"),isActive:Zf().default(!0)}),gCe=kh({languageName:ys().min(1,"Language name is required"),languageCode:ys().min(2,"Language code must be at least 2 characters").max(5,"Language code must be at most 5 characters"),isActive:Zf().default(!0),isDefault:Zf().default(!1)});function vCe(){const[n,e]=R.useState(""),[s,r]=R.useState(null),[a,i]=R.useState(null),[o,l]=R.useState(null),[c,d]=R.useState(!1),[u,h]=R.useState(!1),[m,y]=R.useState(!1),{toast:N}=Dn(),j=ps(),{data:v=[],isLoading:b}=wn({queryKey:["/api/countries"],queryFn:()=>fetch("/api/countries").then(G=>G.json())}),A=Qd({resolver:Jd(pCe),defaultValues:{countryCode:"",countryName:"",isActive:!0}}),S=kt({mutationFn:G=>fetch("/api/countries",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)}),onSuccess:()=>{j.invalidateQueries({queryKey:["/api/countries"]}),N({title:"Success",description:"Country created successfully"}),A.reset(),d(!1)},onError:()=>{N({title:"Error",description:"Failed to create country",variant:"destructive"})}});kt({mutationFn:({id:G,data:ae})=>fetch(`/api/countries/${G}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae)}),onSuccess:()=>{j.invalidateQueries({queryKey:["/api/countries"]}),N({title:"Success",description:"Country updated successfully"}),r(null)},onError:()=>{N({title:"Error",description:"Failed to update country",variant:"destructive"})}});const w=kt({mutationFn:G=>fetch(`/api/countries/${G}`,{method:"DELETE"}),onSuccess:()=>{j.invalidateQueries({queryKey:["/api/countries"]}),N({title:"Success",description:"Country deleted successfully"})},onError:()=>{N({title:"Error",description:"Failed to delete country",variant:"destructive"})}}),{data:E=[],isLoading:T}=wn({queryKey:["/api/states"],queryFn:()=>fetch("/api/states").then(G=>G.json())}),P=Qd({resolver:Jd(xCe),defaultValues:{countryId:"",stateCode:"",stateName:"",isActive:!0}}),k=kt({mutationFn:G=>fetch("/api/states",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)}),onSuccess:()=>{j.invalidateQueries({queryKey:["/api/states"]}),N({title:"Success",description:"State created successfully"}),P.reset(),h(!1)},onError:()=>{N({title:"Error",description:"Failed to create state",variant:"destructive"})}});kt({mutationFn:({id:G,data:ae})=>fetch(`/api/states/${G}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae)}),onSuccess:()=>{j.invalidateQueries({queryKey:["/api/states"]}),N({title:"Success",description:"State updated successfully"}),i(null)},onError:()=>{N({title:"Error",description:"Failed to update state",variant:"destructive"})}});const I=kt({mutationFn:G=>fetch(`/api/states/${G}`,{method:"DELETE"}),onSuccess:()=>{j.invalidateQueries({queryKey:["/api/states"]}),N({title:"Success",description:"State deleted successfully"})},onError:()=>{N({title:"Error",description:"Failed to delete state",variant:"destructive"})}}),{data:L=[],isLoading:U}=wn({queryKey:["/api/languages"],queryFn:()=>fetch("/api/languages").then(G=>G.json())}),H=Qd({resolver:Jd(gCe),defaultValues:{languageName:"",languageCode:"",isActive:!0,isDefault:!1}}),B=kt({mutationFn:G=>fetch("/api/languages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)}),onSuccess:()=>{j.invalidateQueries({queryKey:["/api/languages"]}),N({title:"Success",description:"Language created successfully"}),H.reset(),y(!1)},onError:()=>{N({title:"Error",description:"Failed to create language",variant:"destructive"})}});kt({mutationFn:({id:G,data:ae})=>fetch(`/api/languages/${G}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae)}),onSuccess:()=>{j.invalidateQueries({queryKey:["/api/languages"]}),N({title:"Success",description:"Language updated successfully"}),l(null)},onError:()=>{N({title:"Error",description:"Failed to update language",variant:"destructive"})}});const K=kt({mutationFn:G=>fetch(`/api/languages/${G}`,{method:"DELETE"}),onSuccess:()=>{j.invalidateQueries({queryKey:["/api/languages"]}),N({title:"Success",description:"Language deleted successfully"})},onError:()=>{N({title:"Error",description:"Failed to delete language",variant:"destructive"})}}),J=v.filter(G=>G.countryName.toLowerCase().includes(n.toLowerCase())||G.countryCode.toLowerCase().includes(n.toLowerCase())),W=E.filter(G=>G.stateName.toLowerCase().includes(n.toLowerCase())||G.stateCode.toLowerCase().includes(n.toLowerCase())),ee=L.filter(G=>G.languageName.toLowerCase().includes(n.toLowerCase())||G.languageCode.toLowerCase().includes(n.toLowerCase()));return t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Location Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage countries, states, and languages"})]})}),t.jsxs($,{children:[t.jsx(oe,{children:t.jsx(le,{children:"Location & Language Settings"})}),t.jsxs(q,{children:[t.jsx("div",{className:"flex items-center space-x-2 mb-6",children:t.jsxs("div",{className:"relative flex-1",children:[t.jsx(jr,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),t.jsx(Fe,{placeholder:"Search by name or code...",value:n,onChange:G=>e(G.target.value),className:"pl-8","data-testid":"input-search-locations"})]})}),t.jsxs(Xs,{defaultValue:"countries",className:"space-y-6",children:[t.jsxs($s,{className:"grid w-full grid-cols-3",children:[t.jsxs(lt,{value:"countries",className:"flex items-center space-x-2",children:[t.jsx(Er,{className:"w-4 h-4"}),t.jsx("span",{children:"Countries"})]}),t.jsxs(lt,{value:"states",className:"flex items-center space-x-2",children:[t.jsx(B$,{className:"w-4 h-4"}),t.jsx("span",{children:"States"})]}),t.jsxs(lt,{value:"languages",className:"flex items-center space-x-2",children:[t.jsx(Xre,{className:"w-4 h-4"}),t.jsx("span",{children:"Languages"})]})]}),t.jsxs(ct,{value:"countries",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsxs("h3",{className:"text-lg font-medium",children:["Countries (",J.length,")"]}),t.jsxs(te,{onClick:()=>d(!0),"data-testid":"button-add-country",children:[t.jsx(oa,{className:"w-4 h-4 mr-2"}),"Add Country"]})]}),c&&t.jsxs($,{className:"mb-6",children:[t.jsx(oe,{children:t.jsx(le,{children:"Add New Country"})}),t.jsx(q,{children:t.jsx(tu,{...A,children:t.jsxs("form",{onSubmit:A.handleSubmit(G=>S.mutate(G)),className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(On,{control:A.control,name:"countryCode",render:({field:G})=>t.jsxs(Pn,{children:[t.jsx(Rn,{children:"Country Code"}),t.jsx(kn,{children:t.jsx(Fe,{placeholder:"US, CA, GB...",...G,"data-testid":"input-country-code"})}),t.jsx(Gn,{})]})}),t.jsx(On,{control:A.control,name:"countryName",render:({field:G})=>t.jsxs(Pn,{children:[t.jsx(Rn,{children:"Country Name"}),t.jsx(kn,{children:t.jsx(Fe,{placeholder:"United States, Canada...",...G,"data-testid":"input-country-name"})}),t.jsx(Gn,{})]})}),t.jsx(On,{control:A.control,name:"isActive",render:({field:G})=>t.jsxs(Pn,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[t.jsx("div",{className:"space-y-0.5",children:t.jsx(Rn,{className:"text-base",children:"Active"})}),t.jsx(kn,{children:t.jsx(fn,{checked:G.value,onCheckedChange:G.onChange,"data-testid":"switch-country-active"})})]})})]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(te,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancel"}),t.jsx(te,{type:"submit",disabled:S.isPending,children:S.isPending?"Creating...":"Create Country"})]})]})})})]}),t.jsx("div",{className:"space-y-2",children:b?t.jsx("div",{className:"space-y-2",children:[...Array(5)].map((G,ae)=>t.jsx("div",{className:"animate-pulse h-12 bg-gray-200 rounded"},ae))}):J.map(G=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg","data-testid":`card-country-${G.id}`,children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx(de,{variant:G.isActive?"default":"secondary",children:G.countryCode}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:G.countryName}),t.jsx("p",{className:"text-sm text-muted-foreground",children:G.isActive?"Active":"Inactive"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(te,{variant:"outline",size:"sm",onClick:()=>r(G),"data-testid":`button-edit-country-${G.id}`,children:t.jsx(Oi,{className:"w-4 h-4"})}),t.jsxs(Gv,{children:[t.jsx($v,{asChild:!0,children:t.jsx(te,{variant:"outline",size:"sm","data-testid":`button-delete-country-${G.id}`,children:t.jsx(Wa,{className:"w-4 h-4"})})}),t.jsxs(Yp,{children:[t.jsxs(Qp,{children:[t.jsx(ex,{children:"Delete Country"}),t.jsxs(tx,{children:['Are you sure you want to delete "',G.countryName,'"? This action cannot be undone.']})]}),t.jsxs(Jp,{children:[t.jsx(sx,{children:"Cancel"}),t.jsx(nx,{onClick:()=>w.mutate(G.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})]},G.id))})]}),t.jsxs(ct,{value:"states",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsxs("h3",{className:"text-lg font-medium",children:["States/Regions (",W.length,")"]}),t.jsxs(te,{onClick:()=>h(!0),"data-testid":"button-add-state",children:[t.jsx(oa,{className:"w-4 h-4 mr-2"}),"Add State"]})]}),u&&t.jsxs($,{className:"mb-6",children:[t.jsx(oe,{children:t.jsx(le,{children:"Add New State/Region"})}),t.jsx(q,{children:t.jsx(tu,{...P,children:t.jsxs("form",{onSubmit:P.handleSubmit(G=>k.mutate(G)),className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(On,{control:P.control,name:"countryId",render:({field:G})=>t.jsxs(Pn,{children:[t.jsx(Rn,{children:"Country"}),t.jsxs(sn,{onValueChange:G.onChange,defaultValue:G.value,children:[t.jsx(kn,{children:t.jsx(en,{"data-testid":"select-state-country",children:t.jsx(rn,{placeholder:"Select a country"})})}),t.jsx(tn,{children:v.map(ae=>t.jsx(re,{value:ae.id,children:ae.countryName},ae.id))})]}),t.jsx(Gn,{})]})}),t.jsx(On,{control:P.control,name:"stateCode",render:({field:G})=>t.jsxs(Pn,{children:[t.jsx(Rn,{children:"State Code"}),t.jsx(kn,{children:t.jsx(Fe,{placeholder:"CA, NY, TX...",...G,"data-testid":"input-state-code"})}),t.jsx(Gn,{})]})}),t.jsx(On,{control:P.control,name:"stateName",render:({field:G})=>t.jsxs(Pn,{children:[t.jsx(Rn,{children:"State Name"}),t.jsx(kn,{children:t.jsx(Fe,{placeholder:"California, New York...",...G,"data-testid":"input-state-name"})}),t.jsx(Gn,{})]})}),t.jsx(On,{control:P.control,name:"isActive",render:({field:G})=>t.jsxs(Pn,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[t.jsx("div",{className:"space-y-0.5",children:t.jsx(Rn,{className:"text-base",children:"Active"})}),t.jsx(kn,{children:t.jsx(fn,{checked:G.value,onCheckedChange:G.onChange,"data-testid":"switch-state-active"})})]})})]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(te,{type:"button",variant:"outline",onClick:()=>h(!1),children:"Cancel"}),t.jsx(te,{type:"submit",disabled:k.isPending,children:k.isPending?"Creating...":"Create State"})]})]})})})]}),t.jsx("div",{className:"space-y-2",children:T?t.jsx("div",{className:"space-y-2",children:[...Array(5)].map((G,ae)=>t.jsx("div",{className:"animate-pulse h-12 bg-gray-200 rounded"},ae))}):W.map(G=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg","data-testid":`card-state-${G.id}`,children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx(de,{variant:G.isActive?"default":"secondary",children:G.stateCode}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:G.stateName}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[v.find(ae=>ae.id===G.countryId)?.countryName||"Unknown Country"," ","• ",G.isActive?"Active":"Inactive"]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(te,{variant:"outline",size:"sm",onClick:()=>i(G),"data-testid":`button-edit-state-${G.id}`,children:t.jsx(Oi,{className:"w-4 h-4"})}),t.jsxs(Gv,{children:[t.jsx($v,{asChild:!0,children:t.jsx(te,{variant:"outline",size:"sm","data-testid":`button-delete-state-${G.id}`,children:t.jsx(Wa,{className:"w-4 h-4"})})}),t.jsxs(Yp,{children:[t.jsxs(Qp,{children:[t.jsx(ex,{children:"Delete State"}),t.jsxs(tx,{children:['Are you sure you want to delete "',G.stateName,'"? This action cannot be undone.']})]}),t.jsxs(Jp,{children:[t.jsx(sx,{children:"Cancel"}),t.jsx(nx,{onClick:()=>I.mutate(G.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})]},G.id))})]}),t.jsxs(ct,{value:"languages",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsxs("h3",{className:"text-lg font-medium",children:["Languages (",ee.length,")"]}),t.jsxs(te,{onClick:()=>y(!0),"data-testid":"button-add-language",children:[t.jsx(oa,{className:"w-4 h-4 mr-2"}),"Add Language"]})]}),m&&t.jsxs($,{className:"mb-6",children:[t.jsx(oe,{children:t.jsx(le,{children:"Add New Language"})}),t.jsx(q,{children:t.jsx(tu,{...H,children:t.jsxs("form",{onSubmit:H.handleSubmit(G=>B.mutate(G)),className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(On,{control:H.control,name:"languageCode",render:({field:G})=>t.jsxs(Pn,{children:[t.jsx(Rn,{children:"Language Code"}),t.jsx(kn,{children:t.jsx(Fe,{placeholder:"en, es, fr...",...G,"data-testid":"input-language-code"})}),t.jsx(Gn,{})]})}),t.jsx(On,{control:H.control,name:"languageName",render:({field:G})=>t.jsxs(Pn,{children:[t.jsx(Rn,{children:"Language Name"}),t.jsx(kn,{children:t.jsx(Fe,{placeholder:"English, Spanish...",...G,"data-testid":"input-language-name"})}),t.jsx(Gn,{})]})}),t.jsx(On,{control:H.control,name:"isActive",render:({field:G})=>t.jsxs(Pn,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[t.jsx("div",{className:"space-y-0.5",children:t.jsx(Rn,{className:"text-base",children:"Active"})}),t.jsx(kn,{children:t.jsx(fn,{checked:G.value,onCheckedChange:G.onChange,"data-testid":"switch-language-active"})})]})}),t.jsx(On,{control:H.control,name:"isDefault",render:({field:G})=>t.jsxs(Pn,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[t.jsx("div",{className:"space-y-0.5",children:t.jsx(Rn,{className:"text-base",children:"Default Language"})}),t.jsx(kn,{children:t.jsx(fn,{checked:G.value,onCheckedChange:G.onChange,"data-testid":"switch-language-default"})})]})})]}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(te,{type:"button",variant:"outline",onClick:()=>y(!1),children:"Cancel"}),t.jsx(te,{type:"submit",disabled:B.isPending,children:B.isPending?"Creating...":"Create Language"})]})]})})})]}),t.jsx("div",{className:"space-y-2",children:U?t.jsx("div",{className:"space-y-2",children:[...Array(5)].map((G,ae)=>t.jsx("div",{className:"animate-pulse h-12 bg-gray-200 rounded"},ae))}):ee.map(G=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg","data-testid":`card-language-${G.id}`,children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx(de,{variant:G.isActive?"default":"secondary",children:G.languageCode}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:G.languageName}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[G.isDefault?"Default • ":"",G.isActive?"Active":"Inactive"]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(te,{variant:"outline",size:"sm",onClick:()=>l(G),"data-testid":`button-edit-language-${G.id}`,children:t.jsx(Oi,{className:"w-4 h-4"})}),t.jsxs(Gv,{children:[t.jsx($v,{asChild:!0,children:t.jsx(te,{variant:"outline",size:"sm","data-testid":`button-delete-language-${G.id}`,children:t.jsx(Wa,{className:"w-4 h-4"})})}),t.jsxs(Yp,{children:[t.jsxs(Qp,{children:[t.jsx(ex,{children:"Delete Language"}),t.jsxs(tx,{children:['Are you sure you want to delete "',G.languageName,'"? This action cannot be undone.']})]}),t.jsxs(Jp,{children:[t.jsx(sx,{children:"Cancel"}),t.jsx(nx,{onClick:()=>K.mutate(G.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})]},G.id))})]})]})]})]})]})}function br(n){const e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function Yf(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}const SJ=6048e5,yCe=864e5,eS=43200,fH=1440;let bCe={};function dw(){return bCe}function A1(n,e){const s=dw(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,a=br(n),i=a.getDay(),o=(i<r?7:0)+i-r;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function F2(n){return A1(n,{weekStartsOn:1})}function _J(n){const e=br(n),s=e.getFullYear(),r=Yf(n,0);r.setFullYear(s+1,0,4),r.setHours(0,0,0,0);const a=F2(r),i=Yf(n,0);i.setFullYear(s,0,4),i.setHours(0,0,0,0);const o=F2(i);return e.getTime()>=a.getTime()?s+1:e.getTime()>=o.getTime()?s:s-1}function mH(n){const e=br(n);return e.setHours(0,0,0,0),e}function U2(n){const e=br(n),s=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return s.setUTCFullYear(e.getFullYear()),+n-+s}function jCe(n,e){const s=mH(n),r=mH(e),a=+s-U2(s),i=+r-U2(r);return Math.round((a-i)/yCe)}function wCe(n){const e=_J(n),s=Yf(n,0);return s.setFullYear(e,0,4),s.setHours(0,0,0,0),F2(s)}function c_(n,e){const s=br(n),r=br(e),a=s.getTime()-r.getTime();return a<0?-1:a>0?1:a}function NCe(n){return Yf(n,Date.now())}function SCe(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function _Ce(n){if(!SCe(n)&&typeof n!="number")return!1;const e=br(n);return!isNaN(Number(e))}function ACe(n,e){const s=br(n),r=br(e),a=s.getFullYear()-r.getFullYear(),i=s.getMonth()-r.getMonth();return a*12+i}function CCe(n){return e=>{const r=(n?Math[n]:Math.trunc)(e);return r===0?0:r}}function TCe(n,e){return+br(n)-+br(e)}function ECe(n){const e=br(n);return e.setHours(23,59,59,999),e}function MCe(n){const e=br(n),s=e.getMonth();return e.setFullYear(e.getFullYear(),s+1,0),e.setHours(23,59,59,999),e}function PCe(n){const e=br(n);return+ECe(e)==+MCe(e)}function RCe(n,e){const s=br(n),r=br(e),a=c_(s,r),i=Math.abs(ACe(s,r));let o;if(i<1)o=0;else{s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-a*i);let l=c_(s,r)===-a;PCe(br(n))&&i===1&&c_(n,r)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function OCe(n,e,s){const r=TCe(n,e)/1e3;return CCe(s?.roundingMethod)(r)}function kCe(n){const e=br(n),s=Yf(n,0);return s.setFullYear(e.getFullYear(),0,1),s.setHours(0,0,0,0),s}const ICe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},DCe=(n,e,s)=>{let r;const a=ICe[n];return typeof a=="string"?r=a:e===1?r=a.one:r=a.other.replace("{{count}}",e.toString()),s?.addSuffix?s.comparison&&s.comparison>0?"in "+r:r+" ago":r};function vR(n){return(e={})=>{const s=e.width?String(e.width):n.defaultWidth;return n.formats[s]||n.formats[n.defaultWidth]}}const LCe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},FCe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},UCe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zCe={date:vR({formats:LCe,defaultWidth:"full"}),time:vR({formats:FCe,defaultWidth:"full"}),dateTime:vR({formats:UCe,defaultWidth:"full"})},BCe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},VCe=(n,e,s,r)=>BCe[n];function Ub(n){return(e,s)=>{const r=s?.context?String(s.context):"standalone";let a;if(r==="formatting"&&n.formattingValues){const o=n.defaultFormattingWidth||n.defaultWidth,l=s?.width?String(s.width):o;a=n.formattingValues[l]||n.formattingValues[o]}else{const o=n.defaultWidth,l=s?.width?String(s.width):n.defaultWidth;a=n.values[l]||n.values[o]}const i=n.argumentCallback?n.argumentCallback(e):e;return a[i]}}const HCe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},GCe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$Ce={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},qCe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},WCe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},KCe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},XCe=(n,e)=>{const s=Number(n),r=s%100;if(r>20||r<10)switch(r%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},ZCe={ordinalNumber:XCe,era:Ub({values:HCe,defaultWidth:"wide"}),quarter:Ub({values:GCe,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Ub({values:$Ce,defaultWidth:"wide"}),day:Ub({values:qCe,defaultWidth:"wide"}),dayPeriod:Ub({values:WCe,defaultWidth:"wide",formattingValues:KCe,defaultFormattingWidth:"wide"})};function zb(n){return(e,s={})=>{const r=s.width,a=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],i=e.match(a);if(!i)return null;const o=i[0],l=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],c=Array.isArray(l)?QCe(l,h=>h.test(o)):YCe(l,h=>h.test(o));let d;d=n.valueCallback?n.valueCallback(c):c,d=s.valueCallback?s.valueCallback(d):d;const u=e.slice(o.length);return{value:d,rest:u}}}function YCe(n,e){for(const s in n)if(Object.prototype.hasOwnProperty.call(n,s)&&e(n[s]))return s}function QCe(n,e){for(let s=0;s<n.length;s++)if(e(n[s]))return s}function JCe(n){return(e,s={})=>{const r=e.match(n.matchPattern);if(!r)return null;const a=r[0],i=e.match(n.parsePattern);if(!i)return null;let o=n.valueCallback?n.valueCallback(i[0]):i[0];o=s.valueCallback?s.valueCallback(o):o;const l=e.slice(a.length);return{value:o,rest:l}}}const eTe=/^(\d+)(th|st|nd|rd)?/i,tTe=/\d+/i,nTe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},sTe={any:[/^b/i,/^(a|c)/i]},rTe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},aTe={any:[/1/i,/2/i,/3/i,/4/i]},iTe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},oTe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},lTe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},cTe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},dTe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},uTe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},hTe={ordinalNumber:JCe({matchPattern:eTe,parsePattern:tTe,valueCallback:n=>parseInt(n,10)}),era:zb({matchPatterns:nTe,defaultMatchWidth:"wide",parsePatterns:sTe,defaultParseWidth:"any"}),quarter:zb({matchPatterns:rTe,defaultMatchWidth:"wide",parsePatterns:aTe,defaultParseWidth:"any",valueCallback:n=>n+1}),month:zb({matchPatterns:iTe,defaultMatchWidth:"wide",parsePatterns:oTe,defaultParseWidth:"any"}),day:zb({matchPatterns:lTe,defaultMatchWidth:"wide",parsePatterns:cTe,defaultParseWidth:"any"}),dayPeriod:zb({matchPatterns:dTe,defaultMatchWidth:"any",parsePatterns:uTe,defaultParseWidth:"any"})},AJ={code:"en-US",formatDistance:DCe,formatLong:zCe,formatRelative:VCe,localize:ZCe,match:hTe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function fTe(n){const e=br(n);return jCe(e,kCe(e))+1}function mTe(n){const e=br(n),s=+F2(e)-+wCe(e);return Math.round(s/SJ)+1}function CJ(n,e){const s=br(n),r=s.getFullYear(),a=dw(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=Yf(n,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const l=A1(o,e),c=Yf(n,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const d=A1(c,e);return s.getTime()>=l.getTime()?r+1:s.getTime()>=d.getTime()?r:r-1}function pTe(n,e){const s=dw(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,a=CJ(n,e),i=Yf(n,0);return i.setFullYear(a,0,r),i.setHours(0,0,0,0),A1(i,e)}function xTe(n,e){const s=br(n),r=+A1(s,e)-+pTe(s,e);return Math.round(r/SJ)+1}function ar(n,e){const s=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return s+r}const gf={y(n,e){const s=n.getFullYear(),r=s>0?s:1-s;return ar(e==="yy"?r%100:r,e.length)},M(n,e){const s=n.getMonth();return e==="M"?String(s+1):ar(s+1,2)},d(n,e){return ar(n.getDate(),e.length)},a(n,e){const s=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(n,e){return ar(n.getHours()%12||12,e.length)},H(n,e){return ar(n.getHours(),e.length)},m(n,e){return ar(n.getMinutes(),e.length)},s(n,e){return ar(n.getSeconds(),e.length)},S(n,e){const s=e.length,r=n.getMilliseconds(),a=Math.trunc(r*Math.pow(10,s-3));return ar(a,e.length)}},Qg={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},pH={G:function(n,e,s){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return s.era(r,{width:"abbreviated"});case"GGGGG":return s.era(r,{width:"narrow"});case"GGGG":default:return s.era(r,{width:"wide"})}},y:function(n,e,s){if(e==="yo"){const r=n.getFullYear(),a=r>0?r:1-r;return s.ordinalNumber(a,{unit:"year"})}return gf.y(n,e)},Y:function(n,e,s,r){const a=CJ(n,r),i=a>0?a:1-a;if(e==="YY"){const o=i%100;return ar(o,2)}return e==="Yo"?s.ordinalNumber(i,{unit:"year"}):ar(i,e.length)},R:function(n,e){const s=_J(n);return ar(s,e.length)},u:function(n,e){const s=n.getFullYear();return ar(s,e.length)},Q:function(n,e,s){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ar(r,2);case"Qo":return s.ordinalNumber(r,{unit:"quarter"});case"QQQ":return s.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,s){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ar(r,2);case"qo":return s.ordinalNumber(r,{unit:"quarter"});case"qqq":return s.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,s){const r=n.getMonth();switch(e){case"M":case"MM":return gf.M(n,e);case"Mo":return s.ordinalNumber(r+1,{unit:"month"});case"MMM":return s.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,s){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return ar(r+1,2);case"Lo":return s.ordinalNumber(r+1,{unit:"month"});case"LLL":return s.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,s,r){const a=xTe(n,r);return e==="wo"?s.ordinalNumber(a,{unit:"week"}):ar(a,e.length)},I:function(n,e,s){const r=mTe(n);return e==="Io"?s.ordinalNumber(r,{unit:"week"}):ar(r,e.length)},d:function(n,e,s){return e==="do"?s.ordinalNumber(n.getDate(),{unit:"date"}):gf.d(n,e)},D:function(n,e,s){const r=fTe(n);return e==="Do"?s.ordinalNumber(r,{unit:"dayOfYear"}):ar(r,e.length)},E:function(n,e,s){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return s.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(r,{width:"short",context:"formatting"});case"EEEE":default:return s.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,s,r){const a=n.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return ar(i,2);case"eo":return s.ordinalNumber(i,{unit:"day"});case"eee":return s.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(a,{width:"short",context:"formatting"});case"eeee":default:return s.day(a,{width:"wide",context:"formatting"})}},c:function(n,e,s,r){const a=n.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return ar(i,e.length);case"co":return s.ordinalNumber(i,{unit:"day"});case"ccc":return s.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(a,{width:"narrow",context:"standalone"});case"cccccc":return s.day(a,{width:"short",context:"standalone"});case"cccc":default:return s.day(a,{width:"wide",context:"standalone"})}},i:function(n,e,s){const r=n.getDay(),a=r===0?7:r;switch(e){case"i":return String(a);case"ii":return ar(a,e.length);case"io":return s.ordinalNumber(a,{unit:"day"});case"iii":return s.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(r,{width:"short",context:"formatting"});case"iiii":default:return s.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,s){const a=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(n,e,s){const r=n.getHours();let a;switch(r===12?a=Qg.noon:r===0?a=Qg.midnight:a=r/12>=1?"pm":"am",e){case"b":case"bb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(n,e,s){const r=n.getHours();let a;switch(r>=17?a=Qg.evening:r>=12?a=Qg.afternoon:r>=4?a=Qg.morning:a=Qg.night,e){case"B":case"BB":case"BBB":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(n,e,s){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),s.ordinalNumber(r,{unit:"hour"})}return gf.h(n,e)},H:function(n,e,s){return e==="Ho"?s.ordinalNumber(n.getHours(),{unit:"hour"}):gf.H(n,e)},K:function(n,e,s){const r=n.getHours()%12;return e==="Ko"?s.ordinalNumber(r,{unit:"hour"}):ar(r,e.length)},k:function(n,e,s){let r=n.getHours();return r===0&&(r=24),e==="ko"?s.ordinalNumber(r,{unit:"hour"}):ar(r,e.length)},m:function(n,e,s){return e==="mo"?s.ordinalNumber(n.getMinutes(),{unit:"minute"}):gf.m(n,e)},s:function(n,e,s){return e==="so"?s.ordinalNumber(n.getSeconds(),{unit:"second"}):gf.s(n,e)},S:function(n,e){return gf.S(n,e)},X:function(n,e,s){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return gH(r);case"XXXX":case"XX":return Tp(r);case"XXXXX":case"XXX":default:return Tp(r,":")}},x:function(n,e,s){const r=n.getTimezoneOffset();switch(e){case"x":return gH(r);case"xxxx":case"xx":return Tp(r);case"xxxxx":case"xxx":default:return Tp(r,":")}},O:function(n,e,s){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+xH(r,":");case"OOOO":default:return"GMT"+Tp(r,":")}},z:function(n,e,s){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+xH(r,":");case"zzzz":default:return"GMT"+Tp(r,":")}},t:function(n,e,s){const r=Math.trunc(n.getTime()/1e3);return ar(r,e.length)},T:function(n,e,s){const r=n.getTime();return ar(r,e.length)}};function xH(n,e=""){const s=n>0?"-":"+",r=Math.abs(n),a=Math.trunc(r/60),i=r%60;return i===0?s+String(a):s+String(a)+e+ar(i,2)}function gH(n,e){return n%60===0?(n>0?"-":"+")+ar(Math.abs(n)/60,2):Tp(n,e)}function Tp(n,e=""){const s=n>0?"-":"+",r=Math.abs(n),a=ar(Math.trunc(r/60),2),i=ar(r%60,2);return s+a+e+i}const vH=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},TJ=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},gTe=(n,e)=>{const s=n.match(/(P+)(p+)?/)||[],r=s[1],a=s[2];if(!a)return vH(n,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",vH(r,e)).replace("{{time}}",TJ(a,e))},vTe={p:TJ,P:gTe},yTe=/^D+$/,bTe=/^Y+$/,jTe=["D","DD","YY","YYYY"];function wTe(n){return yTe.test(n)}function NTe(n){return bTe.test(n)}function STe(n,e,s){const r=_Te(n,e,s);if(console.warn(r),jTe.includes(n))throw new RangeError(r)}function _Te(n,e,s){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ATe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,CTe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,TTe=/^'([^]*?)'?$/,ETe=/''/g,MTe=/[a-zA-Z]/;function tS(n,e,s){const r=dw(),a=r.locale??AJ,i=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,l=br(n);if(!_Ce(l))throw new RangeError("Invalid time value");let c=e.match(CTe).map(u=>{const h=u[0];if(h==="p"||h==="P"){const m=vTe[h];return m(u,a.formatLong)}return u}).join("").match(ATe).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const h=u[0];if(h==="'")return{isToken:!1,value:PTe(u)};if(pH[h])return{isToken:!0,value:u};if(h.match(MTe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:u}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(u=>{if(!u.isToken)return u.value;const h=u.value;(NTe(h)||wTe(h))&&STe(h,e,String(n));const m=pH[h[0]];return m(l,h,a.localize,d)}).join("")}function PTe(n){const e=n.match(TTe);return e?e[1].replace(ETe,"'"):n}function RTe(n,e,s){const r=dw(),a=s?.locale??r.locale??AJ,i=2520,o=c_(n,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},s,{addSuffix:s?.addSuffix,comparison:o});let c,d;o>0?(c=br(e),d=br(n)):(c=br(n),d=br(e));const u=OCe(d,c),h=(U2(d)-U2(c))/1e3,m=Math.round((u-h)/60);let y;if(m<2)return s?.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,l):u<10?a.formatDistance("lessThanXSeconds",10,l):u<20?a.formatDistance("lessThanXSeconds",20,l):u<40?a.formatDistance("halfAMinute",0,l):u<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):m===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",m,l);if(m<45)return a.formatDistance("xMinutes",m,l);if(m<90)return a.formatDistance("aboutXHours",1,l);if(m<fH){const N=Math.round(m/60);return a.formatDistance("aboutXHours",N,l)}else{if(m<i)return a.formatDistance("xDays",1,l);if(m<eS){const N=Math.round(m/fH);return a.formatDistance("xDays",N,l)}else if(m<eS*2)return y=Math.round(m/eS),a.formatDistance("aboutXMonths",y,l)}if(y=RCe(d,c),y<12){const N=Math.round(m/eS);return a.formatDistance("xMonths",N,l)}else{const N=y%12,j=Math.trunc(y/12);return N<3?a.formatDistance("aboutXYears",j,l):N<9?a.formatDistance("overXYears",j,l):a.formatDistance("almostXYears",j+1,l)}}function EJ(n,e){return RTe(n,NCe(n),e)}const yH=kh({name:ys().min(1,"Name is required"),description:ys().optional(),command:ys().min(1,"Command is required"),schedule:ys().min(1,"Schedule is required"),category:ys().min(1,"Category is required"),priority:ys().default("normal"),timeout:dH().min(10,"Timeout must be at least 10 seconds").default(300),maxRetries:dH().min(0,"Max retries must be 0 or greater").default(3),isActive:Zf().default(!0),createdBy:ys().default("admin")}),OTe={maintenance:t.jsx(lr,{className:"h-4 w-4"}),analytics:t.jsx(or,{className:"h-4 w-4"}),payments:t.jsx(Ks,{className:"h-4 w-4"}),content:t.jsx(Pi,{className:"h-4 w-4"}),backup:t.jsx(y_,{className:"h-4 w-4"}),database:t.jsx(jl,{className:"h-4 w-4"}),email:t.jsx(Kd,{className:"h-4 w-4"}),security:t.jsx(En,{className:"h-4 w-4"})},kTe={low:"bg-gray-500/10 text-gray-600 border-gray-200",normal:"bg-blue-500/10 text-blue-600 border-blue-200",high:"bg-orange-500/10 text-orange-600 border-orange-200",critical:"bg-red-500/10 text-red-600 border-red-200"},yR={success:"bg-green-500/10 text-green-600 border-green-200",failed:"bg-red-500/10 text-red-600 border-red-200",running:"bg-blue-500/10 text-blue-600 border-blue-200",timeout:"bg-orange-500/10 text-orange-600 border-orange-200",cancelled:"bg-gray-500/10 text-gray-600 border-gray-200"};function ITe(){const[n,e]=R.useState(null),[s,r]=R.useState(!1),[a,i]=R.useState(!1),[o,l]=R.useState(!1),[c,d]=R.useState("overview"),{toast:u}=Dn(),h=ps(),{data:m=[],isLoading:y}=wn({queryKey:["/api/cron-jobs"]}),{data:N=[],isLoading:j}=wn({queryKey:["/api/cron-job-logs"],enabled:c==="logs"}),v=kt({mutationFn:B=>Kt("/api/cron-jobs","POST",B),onSuccess:()=>{h.invalidateQueries({queryKey:["/api/cron-jobs"]}),r(!1),u({title:"Cron job created",description:"The cron job has been created successfully."})},onError:()=>{u({title:"Error",description:"Failed to create cron job.",variant:"destructive"})}}),b=kt({mutationFn:({id:B,data:K})=>Kt(`/api/cron-jobs/${B}`,"PUT",K),onSuccess:()=>{h.invalidateQueries({queryKey:["/api/cron-jobs"]}),i(!1),u({title:"Cron job updated",description:"The cron job has been updated successfully."})}}),A=kt({mutationFn:B=>Kt(`/api/cron-jobs/${B}`,"DELETE"),onSuccess:()=>{h.invalidateQueries({queryKey:["/api/cron-jobs"]}),u({title:"Cron job deleted",description:"The cron job has been deleted successfully."})}}),S=kt({mutationFn:({id:B,isActive:K})=>Kt(`/api/cron-jobs/${B}/toggle`,"POST",{isActive:K}),onSuccess:()=>{h.invalidateQueries({queryKey:["/api/cron-jobs"]})}}),w=kt({mutationFn:B=>Kt(`/api/cron-jobs/${B}/run`,"POST"),onSuccess:()=>{h.invalidateQueries({queryKey:["/api/cron-jobs"]}),h.invalidateQueries({queryKey:["/api/cron-job-logs"]}),u({title:"Cron job started",description:"The cron job has been started successfully."})}}),E=Qd({resolver:Jd(yH),defaultValues:{name:"",description:"",command:"",schedule:"",category:"maintenance",priority:"normal",timeout:300,maxRetries:3,isActive:!0,createdBy:"admin"}}),T=Qd({resolver:Jd(yH)}),P=B=>{v.mutate(B)},k=B=>{n&&b.mutate({id:n.id,data:B})},I=B=>{e(B),T.reset({name:B.name,description:B.description||"",command:B.command,schedule:B.schedule,category:B.category,priority:B.priority,timeout:B.timeout,maxRetries:B.maxRetries,isActive:B.isActive,createdBy:B.createdBy||"admin"}),i(!0)},L=B=>{e(B),l(!0)},H=(()=>{const B=m.length,K=m.filter(ee=>ee.isActive).length,J=m.filter(ee=>ee.isRunning).length,W=m.filter(ee=>ee.lastResult==="failed").length;return{totalJobs:B,activeJobs:K,runningJobs:J,failedJobs:W}})();return y?t.jsx("div",{className:"min-h-screen bg-slate-950 p-6",children:t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"text-cyan-400",children:"Loading cron jobs..."})})}):t.jsxs("div",{className:"min-h-screen bg-slate-950 text-white p-6",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("div",{className:"flex items-center gap-4 mb-4",children:t.jsx(vn,{href:"/",className:"text-cyan-400 hover:text-cyan-300 transition-colors",children:"← Back to Dashboard"})}),t.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-cyan-400 via-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Cron Job Management"}),t.jsx("p",{className:"text-slate-400 mt-2",children:"Enterprise-grade task scheduling and automation system"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[t.jsx($,{className:"bg-slate-900/50 border-slate-800",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(As,{className:"h-8 w-8 text-cyan-400"}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-slate-400",children:"Total Jobs"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:H.totalJobs})]})]})})}),t.jsx($,{className:"bg-slate-900/50 border-slate-800",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(xn,{className:"h-8 w-8 text-green-400"}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-slate-400",children:"Active Jobs"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:H.activeJobs})]})]})})}),t.jsx($,{className:"bg-slate-900/50 border-slate-800",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ks,{className:"h-8 w-8 text-blue-400"}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-slate-400",children:"Running Now"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:H.runningJobs})]})]})})}),t.jsx($,{className:"bg-slate-900/50 border-slate-800",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(Vs,{className:"h-8 w-8 text-red-400"}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-slate-400",children:"Failed Jobs"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:H.failedJobs})]})]})})})]}),t.jsxs(Xs,{value:c,onValueChange:d,className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs($s,{className:"bg-slate-900/50 border-slate-800",children:[t.jsx(lt,{value:"overview",className:"data-[state=active]:bg-cyan-500/20",children:"Overview"}),t.jsx(lt,{value:"logs",className:"data-[state=active]:bg-cyan-500/20",children:"Execution Logs"})]}),t.jsxs(pi,{open:s,onOpenChange:r,children:[t.jsx(Qo,{asChild:!0,children:t.jsxs(te,{className:"bg-gradient-to-r from-cyan-500 to-purple-500 hover:from-cyan-600 hover:to-purple-600",children:[t.jsx(oa,{className:"h-4 w-4 mr-2"}),"Create Cron Job"]})}),t.jsxs(Ka,{className:"bg-slate-900 border-slate-800 max-w-2xl",children:[t.jsxs(Xa,{children:[t.jsx(Za,{className:"text-white",children:"Create New Cron Job"}),t.jsx(Sl,{className:"text-slate-400",children:"Set up a new automated task with custom scheduling and execution parameters."})]}),t.jsx(tu,{...E,children:t.jsxs("form",{onSubmit:E.handleSubmit(P),className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx(On,{control:E.control,name:"name",render:({field:B})=>t.jsxs(Pn,{children:[t.jsx(Rn,{className:"text-white",children:"Job Name"}),t.jsx(kn,{children:t.jsx(Fe,{...B,className:"bg-slate-800 border-slate-700 text-white",placeholder:"Daily cleanup job","data-testid":"input-job-name"})}),t.jsx(Gn,{})]})}),t.jsx(On,{control:E.control,name:"category",render:({field:B})=>t.jsxs(Pn,{children:[t.jsx(Rn,{className:"text-white",children:"Category"}),t.jsxs(sn,{onValueChange:B.onChange,defaultValue:B.value,children:[t.jsx(kn,{children:t.jsx(en,{className:"bg-slate-800 border-slate-700 text-white",children:t.jsx(rn,{placeholder:"Select category"})})}),t.jsxs(tn,{className:"bg-slate-800 border-slate-700",children:[t.jsx(re,{value:"maintenance",children:"Maintenance"}),t.jsx(re,{value:"analytics",children:"Analytics"}),t.jsx(re,{value:"payments",children:"Payments"}),t.jsx(re,{value:"content",children:"Content"}),t.jsx(re,{value:"backup",children:"Backup"}),t.jsx(re,{value:"database",children:"Database"}),t.jsx(re,{value:"email",children:"Email"}),t.jsx(re,{value:"security",children:"Security"})]})]}),t.jsx(Gn,{})]})})]}),t.jsx(On,{control:E.control,name:"description",render:({field:B})=>t.jsxs(Pn,{children:[t.jsx(Rn,{className:"text-white",children:"Description"}),t.jsx(kn,{children:t.jsx(Js,{...B,className:"bg-slate-800 border-slate-700 text-white",placeholder:"Brief description of what this job does","data-testid":"textarea-job-description"})}),t.jsx(Gn,{})]})}),t.jsx(On,{control:E.control,name:"command",render:({field:B})=>t.jsxs(Pn,{children:[t.jsx(Rn,{className:"text-white",children:"Command"}),t.jsx(kn,{children:t.jsx(Fe,{...B,className:"bg-slate-800 border-slate-700 text-white font-mono",placeholder:"node scripts/cleanup.js","data-testid":"input-job-command"})}),t.jsx(Gn,{})]})}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx(On,{control:E.control,name:"schedule",render:({field:B})=>t.jsxs(Pn,{children:[t.jsx(Rn,{className:"text-white",children:"Cron Schedule"}),t.jsx(kn,{children:t.jsx(Fe,{...B,className:"bg-slate-800 border-slate-700 text-white font-mono",placeholder:"0 2 * * *","data-testid":"input-job-schedule"})}),t.jsx(Gn,{})]})}),t.jsx(On,{control:E.control,name:"priority",render:({field:B})=>t.jsxs(Pn,{children:[t.jsx(Rn,{className:"text-white",children:"Priority"}),t.jsxs(sn,{onValueChange:B.onChange,defaultValue:B.value,children:[t.jsx(kn,{children:t.jsx(en,{className:"bg-slate-800 border-slate-700 text-white",children:t.jsx(rn,{placeholder:"Select priority"})})}),t.jsxs(tn,{className:"bg-slate-800 border-slate-700",children:[t.jsx(re,{value:"low",children:"Low"}),t.jsx(re,{value:"normal",children:"Normal"}),t.jsx(re,{value:"high",children:"High"}),t.jsx(re,{value:"critical",children:"Critical"})]})]}),t.jsx(Gn,{})]})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx(On,{control:E.control,name:"timeout",render:({field:B})=>t.jsxs(Pn,{children:[t.jsx(Rn,{className:"text-white",children:"Timeout (seconds)"}),t.jsx(kn,{children:t.jsx(Fe,{...B,type:"number",className:"bg-slate-800 border-slate-700 text-white",onChange:K=>B.onChange(parseInt(K.target.value)),"data-testid":"input-job-timeout"})}),t.jsx(Gn,{})]})}),t.jsx(On,{control:E.control,name:"maxRetries",render:({field:B})=>t.jsxs(Pn,{children:[t.jsx(Rn,{className:"text-white",children:"Max Retries"}),t.jsx(kn,{children:t.jsx(Fe,{...B,type:"number",className:"bg-slate-800 border-slate-700 text-white",onChange:K=>B.onChange(parseInt(K.target.value)),"data-testid":"input-job-retries"})}),t.jsx(Gn,{})]})})]}),t.jsxs(l_,{children:[t.jsx(te,{type:"button",variant:"outline",onClick:()=>r(!1),className:"border-slate-700 text-white hover:bg-slate-800",children:"Cancel"}),t.jsx(te,{type:"submit",disabled:v.isPending,className:"bg-gradient-to-r from-cyan-500 to-purple-500 hover:from-cyan-600 hover:to-purple-600","data-testid":"button-create-job",children:v.isPending?"Creating...":"Create Job"})]})]})})]})]})]}),t.jsx(ct,{value:"overview",className:"space-y-6",children:m.length===0?t.jsx($,{className:"bg-slate-900/50 border-slate-800",children:t.jsxs(q,{className:"p-12 text-center",children:[t.jsx(As,{className:"h-12 w-12 text-slate-600 mx-auto mb-4"}),t.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"No Cron Jobs Found"}),t.jsx("p",{className:"text-slate-400 mb-6",children:"Get started by creating your first automated task."}),t.jsxs(te,{onClick:()=>r(!0),className:"bg-gradient-to-r from-cyan-500 to-purple-500 hover:from-cyan-600 hover:to-purple-600",children:[t.jsx(oa,{className:"h-4 w-4 mr-2"}),"Create First Cron Job"]})]})}):t.jsx("div",{className:"grid gap-6",children:m.map(B=>t.jsxs($,{className:"bg-slate-900/50 border-slate-800 hover:border-slate-700 transition-colors",children:[t.jsx(oe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-slate-800",children:OTe[B.category]||t.jsx(lr,{className:"h-4 w-4"})}),t.jsxs("div",{children:[t.jsx(le,{className:"text-white text-lg",children:B.name}),t.jsx(Ct,{className:"text-slate-400",children:B.description||"No description provided"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(de,{variant:"outline",className:kTe[B.priority],children:B.priority}),B.lastResult&&t.jsx(de,{variant:"outline",className:yR[B.lastResult],children:B.lastResult}),B.isRunning&&t.jsx(de,{variant:"outline",className:"bg-blue-500/10 text-blue-400 border-blue-200 animate-pulse",children:"Running"})]})]})}),t.jsxs(q,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-400 mb-1",children:"Command"}),t.jsx("p",{className:"text-white font-mono text-sm bg-slate-800 p-2 rounded border",children:B.command})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-400 mb-1",children:"Schedule"}),t.jsx("p",{className:"text-white font-mono text-sm",children:B.schedule})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-400 mb-1",children:"Last Run"}),t.jsx("p",{className:"text-white text-sm",children:B.lastRunAt?tS(new Date(B.lastRunAt),"MMM dd, yyyy HH:mm"):"Never"})]})]}),B.lastError&&t.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded p-3 mb-4",children:[t.jsx("p",{className:"text-red-400 text-sm font-medium mb-1",children:"Last Error:"}),t.jsx("p",{className:"text-red-300 text-sm font-mono",children:B.lastError})]}),B.lastOutput&&t.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 rounded p-3 mb-4",children:[t.jsx("p",{className:"text-green-400 text-sm font-medium mb-1",children:"Last Output:"}),t.jsx("p",{className:"text-green-300 text-sm font-mono",children:B.lastOutput})]})]}),t.jsxs(zq,{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(fn,{checked:B.isActive,onCheckedChange:K=>S.mutate({id:B.id,isActive:K}),disabled:S.isPending,"data-testid":`switch-job-${B.id}`}),t.jsx("span",{className:"text-sm text-slate-400",children:B.isActive?"Active":"Inactive"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(te,{size:"sm",variant:"outline",onClick:()=>L(B),className:"border-slate-700 text-white hover:bg-slate-800","data-testid":`button-logs-${B.id}`,children:[t.jsx(Pi,{className:"h-4 w-4 mr-1"}),"Logs"]}),t.jsxs(te,{size:"sm",variant:"outline",onClick:()=>w.mutate(B.id),disabled:B.isRunning||w.isPending,className:"border-slate-700 text-white hover:bg-slate-800","data-testid":`button-run-${B.id}`,children:[t.jsx(Ri,{className:"h-4 w-4 mr-1"}),"Run Now"]}),t.jsxs(te,{size:"sm",variant:"outline",onClick:()=>I(B),className:"border-slate-700 text-white hover:bg-slate-800","data-testid":`button-edit-${B.id}`,children:[t.jsx(Oi,{className:"h-4 w-4 mr-1"}),"Edit"]}),t.jsxs(te,{size:"sm",variant:"outline",onClick:()=>A.mutate(B.id),disabled:A.isPending,className:"border-red-700 text-red-400 hover:bg-red-900/20","data-testid":`button-delete-${B.id}`,children:[t.jsx(Wa,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})]},B.id))})}),t.jsx(ct,{value:"logs",className:"space-y-6",children:j?t.jsx("div",{className:"text-center py-12",children:t.jsx("div",{className:"text-cyan-400",children:"Loading execution logs..."})}):N.length===0?t.jsx($,{className:"bg-slate-900/50 border-slate-800",children:t.jsxs(q,{className:"p-12 text-center",children:[t.jsx(Pi,{className:"h-12 w-12 text-slate-600 mx-auto mb-4"}),t.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"No Execution Logs"}),t.jsx("p",{className:"text-slate-400",children:"Execution logs will appear here after jobs start running."})]})}):t.jsx("div",{className:"space-y-4",children:N.map(B=>{const K=m.find(J=>J.id===B.jobId);return t.jsxs($,{className:"bg-slate-900/50 border-slate-800",children:[t.jsx(oe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(le,{className:"text-white text-lg",children:K?.name||"Unknown Job"}),t.jsxs(Ct,{className:"text-slate-400",children:["Started:"," ",tS(new Date(B.startedAt),"MMM dd, yyyy HH:mm:ss"),B.completedAt&&t.jsxs(t.Fragment,{children:[" ","• Completed:"," ",tS(new Date(B.completedAt),"MMM dd, yyyy HH:mm:ss")]}),B.duration&&t.jsxs(t.Fragment,{children:[" ","• Duration: ",(B.duration/1e3).toFixed(2),"s"]})]})]}),t.jsx(de,{variant:"outline",className:yR[B.status],children:B.status})]})}),t.jsxs(q,{children:[B.output&&t.jsxs("div",{className:"bg-slate-800 rounded p-4 mb-4",children:[t.jsx("p",{className:"text-green-400 text-sm font-medium mb-2",children:"Output:"}),t.jsx("pre",{className:"text-green-300 text-sm font-mono whitespace-pre-wrap",children:B.output})]}),B.errorOutput&&t.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded p-4",children:[t.jsx("p",{className:"text-red-400 text-sm font-medium mb-2",children:"Error Output:"}),t.jsx("pre",{className:"text-red-300 text-sm font-mono whitespace-pre-wrap",children:B.errorOutput})]}),B.memoryUsage&&t.jsxs("div",{className:"flex items-center gap-4 mt-4 text-sm text-slate-400",children:[t.jsxs("span",{children:["Memory: ",(B.memoryUsage/1024/1024).toFixed(2)," ","MB"]}),B.cpuUsage&&t.jsxs("span",{children:["CPU: ",B.cpuUsage,"%"]}),B.exitCode!==null&&t.jsxs("span",{children:["Exit Code: ",B.exitCode]})]})]})]},B.id)})})})]}),t.jsx(pi,{open:a,onOpenChange:i,children:t.jsxs(Ka,{className:"bg-slate-900 border-slate-800 max-w-2xl",children:[t.jsxs(Xa,{children:[t.jsx(Za,{className:"text-white",children:"Edit Cron Job"}),t.jsx(Sl,{className:"text-slate-400",children:"Modify the cron job settings and execution parameters."})]}),t.jsx(tu,{...T,children:t.jsxs("form",{onSubmit:T.handleSubmit(k),className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx(On,{control:T.control,name:"name",render:({field:B})=>t.jsxs(Pn,{children:[t.jsx(Rn,{className:"text-white",children:"Job Name"}),t.jsx(kn,{children:t.jsx(Fe,{...B,className:"bg-slate-800 border-slate-700 text-white","data-testid":"input-edit-job-name"})}),t.jsx(Gn,{})]})}),t.jsx(On,{control:T.control,name:"category",render:({field:B})=>t.jsxs(Pn,{children:[t.jsx(Rn,{className:"text-white",children:"Category"}),t.jsxs(sn,{onValueChange:B.onChange,value:B.value,children:[t.jsx(kn,{children:t.jsx(en,{className:"bg-slate-800 border-slate-700 text-white",children:t.jsx(rn,{})})}),t.jsxs(tn,{className:"bg-slate-800 border-slate-700",children:[t.jsx(re,{value:"maintenance",children:"Maintenance"}),t.jsx(re,{value:"analytics",children:"Analytics"}),t.jsx(re,{value:"payments",children:"Payments"}),t.jsx(re,{value:"content",children:"Content"}),t.jsx(re,{value:"backup",children:"Backup"}),t.jsx(re,{value:"database",children:"Database"}),t.jsx(re,{value:"email",children:"Email"}),t.jsx(re,{value:"security",children:"Security"})]})]}),t.jsx(Gn,{})]})})]}),t.jsx(On,{control:T.control,name:"description",render:({field:B})=>t.jsxs(Pn,{children:[t.jsx(Rn,{className:"text-white",children:"Description"}),t.jsx(kn,{children:t.jsx(Js,{...B,className:"bg-slate-800 border-slate-700 text-white","data-testid":"textarea-edit-job-description"})}),t.jsx(Gn,{})]})}),t.jsx(On,{control:T.control,name:"command",render:({field:B})=>t.jsxs(Pn,{children:[t.jsx(Rn,{className:"text-white",children:"Command"}),t.jsx(kn,{children:t.jsx(Fe,{...B,className:"bg-slate-800 border-slate-700 text-white font-mono","data-testid":"input-edit-job-command"})}),t.jsx(Gn,{})]})}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx(On,{control:T.control,name:"schedule",render:({field:B})=>t.jsxs(Pn,{children:[t.jsx(Rn,{className:"text-white",children:"Cron Schedule"}),t.jsx(kn,{children:t.jsx(Fe,{...B,className:"bg-slate-800 border-slate-700 text-white font-mono","data-testid":"input-edit-job-schedule"})}),t.jsx(Gn,{})]})}),t.jsx(On,{control:T.control,name:"priority",render:({field:B})=>t.jsxs(Pn,{children:[t.jsx(Rn,{className:"text-white",children:"Priority"}),t.jsxs(sn,{onValueChange:B.onChange,value:B.value,children:[t.jsx(kn,{children:t.jsx(en,{className:"bg-slate-800 border-slate-700 text-white",children:t.jsx(rn,{})})}),t.jsxs(tn,{className:"bg-slate-800 border-slate-700",children:[t.jsx(re,{value:"low",children:"Low"}),t.jsx(re,{value:"normal",children:"Normal"}),t.jsx(re,{value:"high",children:"High"}),t.jsx(re,{value:"critical",children:"Critical"})]})]}),t.jsx(Gn,{})]})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx(On,{control:T.control,name:"timeout",render:({field:B})=>t.jsxs(Pn,{children:[t.jsx(Rn,{className:"text-white",children:"Timeout (seconds)"}),t.jsx(kn,{children:t.jsx(Fe,{...B,type:"number",className:"bg-slate-800 border-slate-700 text-white",onChange:K=>B.onChange(parseInt(K.target.value)),"data-testid":"input-edit-job-timeout"})}),t.jsx(Gn,{})]})}),t.jsx(On,{control:T.control,name:"maxRetries",render:({field:B})=>t.jsxs(Pn,{children:[t.jsx(Rn,{className:"text-white",children:"Max Retries"}),t.jsx(kn,{children:t.jsx(Fe,{...B,type:"number",className:"bg-slate-800 border-slate-700 text-white",onChange:K=>B.onChange(parseInt(K.target.value)),"data-testid":"input-edit-job-retries"})}),t.jsx(Gn,{})]})})]}),t.jsxs(l_,{children:[t.jsx(te,{type:"button",variant:"outline",onClick:()=>i(!1),className:"border-slate-700 text-white hover:bg-slate-800",children:"Cancel"}),t.jsx(te,{type:"submit",disabled:b.isPending,className:"bg-gradient-to-r from-cyan-500 to-purple-500 hover:from-cyan-600 hover:to-purple-600","data-testid":"button-update-job",children:b.isPending?"Updating...":"Update Job"})]})]})})]})}),t.jsx(pi,{open:o,onOpenChange:l,children:t.jsxs(Ka,{className:"bg-slate-900 border-slate-800 max-w-4xl",children:[t.jsxs(Xa,{children:[t.jsxs(Za,{className:"text-white",children:["Execution Logs: ",n?.name]}),t.jsx(Sl,{className:"text-slate-400",children:"Recent execution history and output logs for this cron job."})]}),t.jsx("div",{className:"max-h-96 overflow-y-auto space-y-4",children:n&&N.filter(B=>B.jobId===n.id).slice(0,10).map(B=>t.jsxs("div",{className:"bg-slate-800 rounded p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-white font-medium",children:tS(new Date(B.startedAt),"MMM dd, yyyy HH:mm:ss")}),t.jsx(de,{variant:"outline",className:yR[B.status],children:B.status})]}),B.output&&t.jsxs("div",{className:"bg-slate-900 rounded p-3 mb-2",children:[t.jsx("p",{className:"text-green-400 text-sm font-medium mb-1",children:"Output:"}),t.jsx("pre",{className:"text-green-300 text-xs font-mono whitespace-pre-wrap",children:B.output})]}),B.errorOutput&&t.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded p-3",children:[t.jsx("p",{className:"text-red-400 text-sm font-medium mb-1",children:"Error:"}),t.jsx("pre",{className:"text-red-300 text-xs font-mono whitespace-pre-wrap",children:B.errorOutput})]})]},B.id))}),t.jsx(l_,{children:t.jsx(te,{onClick:()=>l(!1),className:"bg-slate-700 hover:bg-slate-600 text-white",children:"Close"})})]})})]})}function DTe(){const[n,e]=R.useState("settings"),s=ps(),{toast:r}=Dn(),a={shopEnabled:!0,allowFreeItems:!1,allowExternalLinks:!0,digitalProductsEnabled:!0,customContentEnabled:!0,physicalProductsEnabled:!1,minPriceProduct:"5.00",maxPriceProduct:"500.00",commissionRate:"0.15"},i=[{id:"1",sellerId:"creator_1",title:"Premium Photo Set",description:"Exclusive high-quality photos",type:"digital",category:"Photography",price:"25.00",currency:"USD",imageUrls:["/placeholder.jpg"],downloadUrl:"/downloads/photo-set-1.zip",fileSize:15728640,isActive:!0,totalSales:47,tags:["premium","photos","exclusive"],createdAt:"2025-01-15T10:00:00Z"},{id:"2",sellerId:"creator_2",title:"Custom Video Request",description:"Personalized video content",type:"custom_content",category:"Custom",price:"75.00",currency:"USD",imageUrls:["/placeholder.jpg"],isActive:!0,totalSales:23,tags:["custom","video","personal"],createdAt:"2025-01-14T15:30:00Z"},{id:"3",sellerId:"creator_3",title:"Adult Toy Collection",description:"Premium adult products",type:"physical",category:"Adult Products",price:"150.00",currency:"USD",imageUrls:["/placeholder.jpg"],stock:12,isActive:!0,totalSales:8,tags:["physical","adult","toys"],createdAt:"2025-01-13T12:00:00Z"}],o=kt({mutationFn:m=>Kt("/api/admin/shop/settings","PATCH",m),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/admin/shop/settings"]}),r({title:"Shop settings updated successfully"})}}),l=(m,y)=>{o.mutate({[m]:y})},c=m=>{switch(m){case"digital":return t.jsx(pj,{className:"h-4 w-4"});case"physical":return t.jsx(uF,{className:"h-4 w-4"});case"custom_content":return t.jsx(ru,{className:"h-4 w-4"});default:return t.jsx(pj,{className:"h-4 w-4"})}},d=m=>{const y={digital:"default",physical:"secondary",custom_content:"outline"};return t.jsx(de,{variant:y[m]||"default",children:m.replace("_"," ")})},u=m=>{if(!m)return"N/A";const y=["Bytes","KB","MB","GB"],N=Math.floor(Math.log(m)/Math.log(1024));return Math.round(m/Math.pow(1024,N)*100)/100+" "+y[N]},h=()=>i.reduce((m,y)=>m+parseFloat(y.price)*y.totalSales,0);return t.jsxs("div",{className:"container mx-auto p-6 space-y-6","data-testid":"shop-management",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"Shop Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage digital products, physical items, and custom content marketplace"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(fF,{className:"h-5 w-5"}),t.jsxs("span",{className:"text-sm font-medium",children:["Revenue: $",h().toFixed(2)]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(fF,{className:"h-8 w-8 text-primary"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Shop Status"}),t.jsx("p",{className:"text-2xl font-bold",children:"Active"})]})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(pj,{className:"h-8 w-8 text-blue-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Total Products"}),t.jsx("p",{className:"text-2xl font-bold",children:i.length})]})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(uF,{className:"h-8 w-8 text-green-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Total Sales"}),t.jsx("p",{className:"text-2xl font-bold",children:i.reduce((m,y)=>m+y.totalSales,0)})]})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Jr,{className:"h-8 w-8 text-yellow-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Revenue"}),t.jsxs("p",{className:"text-2xl font-bold",children:["$",h().toFixed(2)]})]})]})})})]}),t.jsxs(Xs,{value:n,onValueChange:e,children:[t.jsxs($s,{className:"grid w-full grid-cols-3",children:[t.jsx(lt,{value:"settings",children:"Shop Settings"}),t.jsxs(lt,{value:"products",children:["Products (",i.length,")"]}),t.jsx(lt,{value:"analytics",children:"Analytics"})]}),t.jsx(ct,{value:"settings",className:"space-y-6",children:t.jsxs($,{className:"cyber-border",children:[t.jsxs(oe,{children:[t.jsxs(le,{className:"flex items-center",children:[t.jsx(lr,{className:"h-5 w-5 mr-2"}),"Shop Configuration"]}),t.jsx(Ct,{children:"Configure marketplace settings and product types"})]}),t.jsxs(q,{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"space-y-0.5",children:[t.jsx(Pe,{htmlFor:"shop-enabled",children:"Enable Shop"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow creators to sell products on the platform"})]}),t.jsx(fn,{id:"shop-enabled",checked:a.shopEnabled,onCheckedChange:m=>l("shopEnabled",m),"data-testid":"switch-shop-enabled"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"space-y-0.5",children:[t.jsx(Pe,{htmlFor:"allow-free",children:"Allow Free Items"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Permit creators to offer free products"})]}),t.jsx(fn,{id:"allow-free",checked:a.allowFreeItems,onCheckedChange:m=>l("allowFreeItems",m),"data-testid":"switch-allow-free"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"space-y-0.5",children:[t.jsx(Pe,{htmlFor:"allow-external",children:"Allow External Links"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow links to external stores and platforms"})]}),t.jsx(fn,{id:"allow-external",checked:a.allowExternalLinks,onCheckedChange:m=>l("allowExternalLinks",m),"data-testid":"switch-allow-external"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-medium",children:"Product Types"}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"space-y-0.5",children:[t.jsx(Pe,{htmlFor:"digital-products",children:"Digital Products"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Photos, videos, audio files, digital downloads"})]}),t.jsx(fn,{id:"digital-products",checked:a.digitalProductsEnabled,onCheckedChange:m=>l("digitalProductsEnabled",m),"data-testid":"switch-digital-products"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"space-y-0.5",children:[t.jsx(Pe,{htmlFor:"custom-content",children:"Custom Content"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Personalized content and requests"})]}),t.jsx(fn,{id:"custom-content",checked:a.customContentEnabled,onCheckedChange:m=>l("customContentEnabled",m),"data-testid":"switch-custom-content"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"space-y-0.5",children:[t.jsx(Pe,{htmlFor:"physical-products",children:"Physical Products"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Adult toys, merchandise, physical items"})]}),t.jsx(fn,{id:"physical-products",checked:a.physicalProductsEnabled,onCheckedChange:m=>l("physicalProductsEnabled",m),"data-testid":"switch-physical-products"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"min-price",children:"Minimum Price"}),t.jsxs("div",{className:"relative",children:[t.jsx(Jr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Fe,{id:"min-price",type:"number",min:"0",step:"0.01",value:a.minPriceProduct,onChange:m=>l("minPriceProduct",m.target.value),className:"pl-9","data-testid":"input-min-price"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"max-price",children:"Maximum Price"}),t.jsxs("div",{className:"relative",children:[t.jsx(Jr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Fe,{id:"max-price",type:"number",min:"0",step:"0.01",value:a.maxPriceProduct,onChange:m=>l("maxPriceProduct",m.target.value),className:"pl-9","data-testid":"input-max-price"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"commission-rate",children:"Platform Commission Rate (%)"}),t.jsx(Fe,{id:"commission-rate",type:"number",min:"0",max:"50",step:"0.01",value:(parseFloat(a.commissionRate)*100).toFixed(2),onChange:m=>l("commissionRate",(parseFloat(m.target.value)/100).toString()),"data-testid":"input-commission-rate"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Platform fee taken from each sale"})]})]})]})}),t.jsx(ct,{value:"products",className:"space-y-6",children:t.jsxs($,{className:"cyber-border",children:[t.jsx(oe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(le,{children:"Product Management"}),t.jsx(Ct,{children:"Manage creator products and marketplace listings"})]}),t.jsxs(te,{"data-testid":"button-add-product",children:[t.jsx(oa,{className:"h-4 w-4 mr-2"}),"Add Product"]})]})}),t.jsx(q,{children:t.jsxs(Ar,{children:[t.jsx(Cr,{children:t.jsxs(Vn,{children:[t.jsx(He,{children:"Product"}),t.jsx(He,{children:"Type"}),t.jsx(He,{children:"Price"}),t.jsx(He,{children:"Sales"}),t.jsx(He,{children:"Status"}),t.jsx(He,{children:"Actions"})]})}),t.jsx(Tr,{children:i.map(m=>t.jsxs(Vn,{children:[t.jsx(Ve,{children:t.jsxs("div",{className:"flex items-center space-x-3",children:[c(m.type),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:m.title}),t.jsx("div",{className:"text-sm text-muted-foreground",children:m.category||"Uncategorized"}),m.type==="digital"&&t.jsx("div",{className:"text-xs text-muted-foreground",children:u(m.fileSize)}),m.type==="physical"&&t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Stock: ",m.stock||0]})]})]})}),t.jsx(Ve,{children:d(m.type)}),t.jsxs(Ve,{children:[t.jsxs("div",{className:"font-medium",children:["$",m.price]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:m.currency})]}),t.jsxs(Ve,{children:[t.jsx("div",{className:"font-medium",children:m.totalSales}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:["$",(parseFloat(m.price)*m.totalSales).toFixed(2)," ","revenue"]})]}),t.jsx(Ve,{children:t.jsx(de,{variant:m.isActive?"default":"secondary",children:m.isActive?"Active":"Inactive"})}),t.jsx(Ve,{children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(te,{variant:"outline",size:"sm","data-testid":`button-view-${m.id}`,children:t.jsx(Mn,{className:"h-4 w-4"})}),t.jsx(te,{variant:"outline",size:"sm","data-testid":`button-edit-${m.id}`,children:t.jsx(Oi,{className:"h-4 w-4"})}),m.externalUrl&&t.jsx(te,{variant:"outline",size:"sm","data-testid":`button-external-${m.id}`,children:t.jsx(vh,{className:"h-4 w-4"})})]})})]},m.id))})]})})]})}),t.jsx(ct,{value:"analytics",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs($,{className:"cyber-border",children:[t.jsx(oe,{children:t.jsx(le,{children:"Sales by Product Type"})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-4",children:["digital","custom_content","physical"].map(m=>{const y=i.filter(v=>v.type===m),N=y.reduce((v,b)=>v+b.totalSales,0),j=y.reduce((v,b)=>v+parseFloat(b.price)*b.totalSales,0);return t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[c(m),t.jsx("span",{className:"capitalize",children:m.replace("_"," ")})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"font-medium",children:[N," sales"]}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:["$",j.toFixed(2)]})]})]},m)})})})]}),t.jsxs($,{className:"cyber-border",children:[t.jsx(oe,{children:t.jsx(le,{children:"Top Performing Products"})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-4",children:i.sort((m,y)=>y.totalSales-m.totalSales).slice(0,5).map(m=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[c(m.type),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:m.title}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:["$",m.price]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"font-medium",children:[m.totalSales," sales"]}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:["$",(parseFloat(m.price)*m.totalSales).toFixed(2)]})]})]},m.id))})})]})]})})]})]})}function LTe(){const[n,e]=R.useState("settings"),[s,r]=R.useState(null),a=ps(),{toast:i}=Dn(),o={storyStatus:!0,storyImage:!0,storyText:!0,storyVideo:!0,maxVideoLength:30,autoDeleteAfter:24,allowDownload:!1},l=[{id:"1",name:"Gradient Blue",imageUrl:"/api/placeholder/400/800",category:"gradients",isActive:!0,createdAt:"2025-01-15T10:00:00Z"},{id:"2",name:"Sunset Beach",imageUrl:"/api/placeholder/400/800",category:"nature",isActive:!0,createdAt:"2025-01-14T15:30:00Z"},{id:"3",name:"Neon City",imageUrl:"/api/placeholder/400/800",category:"urban",isActive:!0,createdAt:"2025-01-13T12:00:00Z"}],c=[{id:"1",name:"Roboto",fontFamily:"Roboto, sans-serif",googleFontName:"Roboto",isActive:!0,createdAt:"2025-01-15T10:00:00Z"},{id:"2",name:"Open Sans",fontFamily:"Open Sans, sans-serif",googleFontName:"Open Sans",isActive:!0,createdAt:"2025-01-14T15:30:00Z"},{id:"3",name:"Playfair Display",fontFamily:"Playfair Display, serif",googleFontName:"Playfair Display",isActive:!0,createdAt:"2025-01-13T12:00:00Z"}],d=[{id:"1",userId:"user_1",username:"sarah_model",title:"Behind the scenes",mediaType:"image",mediaUrl:"/api/placeholder/300/600",backgroundImageUrl:l[0].imageUrl,duration:24,viewCount:1250,isActive:!0,expiresAt:"2025-01-16T10:00:00Z",createdAt:"2025-01-15T10:00:00Z"},{id:"2",userId:"user_2",username:"alex_creator",textContent:"New content coming soon! 🔥",mediaType:"text",backgroundColor:"#FF6B6B",fontFamily:"Roboto, sans-serif",fontSize:24,textColor:"#FFFFFF",duration:24,viewCount:890,isActive:!0,expiresAt:"2025-01-16T15:30:00Z",createdAt:"2025-01-15T15:30:00Z"},{id:"3",userId:"user_3",username:"maya_performer",title:"Live stream preview",mediaType:"video",mediaUrl:"/api/placeholder/300/600",duration:24,viewCount:2100,isActive:!0,expiresAt:"2025-01-16T12:00:00Z",createdAt:"2025-01-15T12:00:00Z"}],u=kt({mutationFn:w=>Kt("/api/admin/stories/settings","PATCH",w),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/admin/stories/settings"]}),i({title:"Story settings updated successfully"})}}),h=kt({mutationFn:w=>Kt(`/api/admin/stories/backgrounds/${w}`,"DELETE"),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/admin/stories/backgrounds"]}),i({title:"Background deleted successfully"})}}),m=kt({mutationFn:w=>Kt(`/api/admin/stories/fonts/${w}`,"DELETE"),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/admin/stories/fonts"]}),i({title:"Font deleted successfully"})}}),y=kt({mutationFn:w=>Kt(`/api/admin/stories/posts/${w}`,"DELETE"),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/admin/stories/posts"]}),i({title:"Story deleted successfully"})}}),N=(w,E)=>{u.mutate({[w]:E})},j=w=>{switch(w){case"image":return t.jsx(ru,{className:"h-4 w-4"});case"video":return t.jsx(Ri,{className:"h-4 w-4"});case"text":return t.jsx(K$,{className:"h-4 w-4"});default:return t.jsx(ru,{className:"h-4 w-4"})}},v=w=>{const E={image:"default",video:"secondary",text:"outline"};return t.jsx(de,{variant:E[w]||"default",children:w})},b=w=>{const E=new Date,T=new Date(w);return`${Math.max(0,Math.floor((T.getTime()-E.getTime())/(1e3*60*60)))}h remaining`},S=(()=>{const w=d.reduce((P,k)=>P+k.viewCount,0),E=d.filter(P=>P.isActive).length,T=new Set(d.map(P=>P.userId)).size;return{totalViews:w,activeStories:E,totalCreators:T}})();return t.jsxs("div",{className:"container mx-auto p-6 space-y-6","data-testid":"stories-management",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"Stories Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage ephemeral content, backgrounds, fonts, and story settings"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ri,{className:"h-5 w-5"}),t.jsxs("span",{className:"text-sm font-medium",children:[S.activeStories," Active Stories"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ri,{className:"h-8 w-8 text-primary"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Active Stories"}),t.jsx("p",{className:"text-2xl font-bold",children:S.activeStories})]})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Mn,{className:"h-8 w-8 text-blue-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Total Views"}),t.jsx("p",{className:"text-2xl font-bold",children:S.totalViews.toLocaleString()})]})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(er,{className:"h-8 w-8 text-green-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Active Creators"}),t.jsx("p",{className:"text-2xl font-bold",children:S.totalCreators})]})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(KA,{className:"h-8 w-8 text-purple-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Backgrounds"}),t.jsx("p",{className:"text-2xl font-bold",children:l.length})]})]})})})]}),t.jsxs(Xs,{value:n,onValueChange:e,children:[t.jsxs($s,{className:"grid w-full grid-cols-5",children:[t.jsx(lt,{value:"settings",children:"Settings"}),t.jsxs(lt,{value:"posts",children:["Posts (",d.length,")"]}),t.jsxs(lt,{value:"backgrounds",children:["Backgrounds (",l.length,")"]}),t.jsxs(lt,{value:"fonts",children:["Fonts (",c.length,")"]}),t.jsx(lt,{value:"analytics",children:"Analytics"})]}),t.jsx(ct,{value:"settings",className:"space-y-6",children:t.jsxs($,{className:"cyber-border",children:[t.jsxs(oe,{children:[t.jsxs(le,{className:"flex items-center",children:[t.jsx(lr,{className:"h-5 w-5 mr-2"}),"Story Settings"]}),t.jsx(Ct,{children:"Configure story features and content policies"})]}),t.jsxs(q,{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"space-y-0.5",children:[t.jsx(Pe,{htmlFor:"story-status",children:"Enable Stories"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow creators to post ephemeral stories"})]}),t.jsx(fn,{id:"story-status",checked:o.storyStatus,onCheckedChange:w=>N("storyStatus",w),"data-testid":"switch-story-status"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-medium",children:"Content Types"}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"space-y-0.5",children:[t.jsx(Pe,{htmlFor:"story-image",children:"Image Stories"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow photo uploads and image stories"})]}),t.jsx(fn,{id:"story-image",checked:o.storyImage,onCheckedChange:w=>N("storyImage",w),"data-testid":"switch-story-image"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"space-y-0.5",children:[t.jsx(Pe,{htmlFor:"story-text",children:"Text Stories"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow text-only stories with backgrounds"})]}),t.jsx(fn,{id:"story-text",checked:o.storyText,onCheckedChange:w=>N("storyText",w),"data-testid":"switch-story-text"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"space-y-0.5",children:[t.jsx(Pe,{htmlFor:"story-video",children:"Video Stories"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow video uploads and video stories"})]}),t.jsx(fn,{id:"story-video",checked:o.storyVideo,onCheckedChange:w=>N("storyVideo",w),"data-testid":"switch-story-video"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"max-video-length",children:"Max Video Length (seconds)"}),t.jsxs(sn,{value:o.maxVideoLength.toString(),onValueChange:w=>N("maxVideoLength",parseInt(w)),children:[t.jsx(en,{"data-testid":"select-max-video-length",children:t.jsx(rn,{})}),t.jsxs(tn,{children:[t.jsx(re,{value:"10",children:"10 seconds"}),t.jsx(re,{value:"15",children:"15 seconds"}),t.jsx(re,{value:"20",children:"20 seconds"}),t.jsx(re,{value:"30",children:"30 seconds"}),t.jsx(re,{value:"60",children:"60 seconds"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"auto-delete",children:"Auto Delete After (hours)"}),t.jsxs(sn,{value:o.autoDeleteAfter.toString(),onValueChange:w=>N("autoDeleteAfter",parseInt(w)),children:[t.jsx(en,{"data-testid":"select-auto-delete",children:t.jsx(rn,{})}),t.jsxs(tn,{children:[t.jsx(re,{value:"12",children:"12 hours"}),t.jsx(re,{value:"24",children:"24 hours"}),t.jsx(re,{value:"48",children:"48 hours"}),t.jsx(re,{value:"72",children:"72 hours"}),t.jsx(re,{value:"168",children:"1 week"})]})]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"space-y-0.5",children:[t.jsx(Pe,{htmlFor:"allow-download",children:"Allow Downloads"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Let users download stories before they expire"})]}),t.jsx(fn,{id:"allow-download",checked:o.allowDownload,onCheckedChange:w=>N("allowDownload",w),"data-testid":"switch-allow-download"})]})]})]})}),t.jsx(ct,{value:"posts",className:"space-y-6",children:t.jsxs($,{className:"cyber-border",children:[t.jsxs(oe,{children:[t.jsx(le,{children:"Story Posts"}),t.jsx(Ct,{children:"Manage user-created story content"})]}),t.jsx(q,{children:t.jsxs(Ar,{children:[t.jsx(Cr,{children:t.jsxs(Vn,{children:[t.jsx(He,{children:"Creator"}),t.jsx(He,{children:"Content"}),t.jsx(He,{children:"Type"}),t.jsx(He,{children:"Views"}),t.jsx(He,{children:"Expires"}),t.jsx(He,{children:"Actions"})]})}),t.jsx(Tr,{children:d.map(w=>t.jsxs(Vn,{children:[t.jsxs(Ve,{children:[t.jsxs("div",{className:"font-medium",children:["@",w.username]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(w.createdAt).toLocaleDateString()})]}),t.jsx(Ve,{children:t.jsxs("div",{className:"flex items-center space-x-3",children:[w.mediaUrl&&t.jsx("div",{className:"w-10 h-10 rounded bg-muted",children:t.jsx("img",{src:w.mediaUrl,alt:"Story preview",className:"w-full h-full object-cover rounded"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:w.title||w.textContent||"Untitled"}),w.textContent&&w.mediaType==="text"&&t.jsx("div",{className:"text-sm text-muted-foreground",children:"Text story"})]})]})}),t.jsx(Ve,{children:v(w.mediaType)}),t.jsx(Ve,{children:t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(Mn,{className:"h-4 w-4"}),t.jsx("span",{children:w.viewCount.toLocaleString()})]})}),t.jsx(Ve,{children:t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(As,{className:"h-4 w-4"}),t.jsx("span",{className:"text-sm",children:b(w.expiresAt)})]})}),t.jsx(Ve,{children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(te,{variant:"outline",size:"sm","data-testid":`button-view-story-${w.id}`,children:t.jsx(Mn,{className:"h-4 w-4"})}),o.allowDownload,t.jsx(te,{variant:"outline",size:"sm",onClick:()=>y.mutate(w.id),"data-testid":`button-delete-story-${w.id}`,children:t.jsx(Wa,{className:"h-4 w-4"})})]})})]},w.id))})]})})]})}),t.jsx(ct,{value:"backgrounds",className:"space-y-6",children:t.jsxs($,{className:"cyber-border",children:[t.jsx(oe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(le,{children:"Story Backgrounds"}),t.jsx(Ct,{children:"Manage background images and patterns for stories"})]}),t.jsxs(te,{"data-testid":"button-add-background",children:[t.jsx(oa,{className:"h-4 w-4 mr-2"}),"Add Background"]})]})}),t.jsx(q,{children:t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:l.map(w=>t.jsxs("div",{className:"relative group",children:[t.jsx("div",{className:"aspect-[9/16] bg-muted rounded-lg overflow-hidden",children:t.jsx("img",{src:w.imageUrl,alt:w.name,className:"w-full h-full object-cover"})}),t.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(pi,{children:[t.jsx(Qo,{asChild:!0,children:t.jsx(te,{variant:"secondary",size:"sm",onClick:()=>r(w),"data-testid":`button-view-background-${w.id}`,children:t.jsx(Mn,{className:"h-4 w-4"})})}),t.jsxs(Ka,{className:"max-w-md",children:[t.jsxs(Xa,{children:[t.jsx(Za,{children:w.name}),t.jsxs(Sl,{children:["Category: ",w.category]})]}),t.jsx("div",{className:"aspect-[9/16] bg-muted rounded-lg overflow-hidden",children:t.jsx("img",{src:w.imageUrl,alt:w.name,className:"w-full h-full object-cover"})})]})]}),t.jsx(te,{variant:"destructive",size:"sm",onClick:()=>h.mutate(w.id),"data-testid":`button-delete-background-${w.id}`,children:t.jsx(Wa,{className:"h-4 w-4"})})]})}),t.jsxs("div",{className:"mt-2",children:[t.jsx("p",{className:"text-sm font-medium",children:w.name}),t.jsx("p",{className:"text-xs text-muted-foreground",children:w.category})]})]},w.id))})})]})}),t.jsx(ct,{value:"fonts",className:"space-y-6",children:t.jsxs($,{className:"cyber-border",children:[t.jsx(oe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(le,{children:"Story Fonts"}),t.jsx(Ct,{children:"Manage Google Fonts available for text stories"})]}),t.jsxs(te,{"data-testid":"button-add-font",children:[t.jsx(oa,{className:"h-4 w-4 mr-2"}),"Add Font"]})]})}),t.jsx(q,{children:t.jsxs(Ar,{children:[t.jsx(Cr,{children:t.jsxs(Vn,{children:[t.jsx(He,{children:"Font Name"}),t.jsx(He,{children:"Preview"}),t.jsx(He,{children:"Google Font"}),t.jsx(He,{children:"Status"}),t.jsx(He,{children:"Actions"})]})}),t.jsx(Tr,{children:c.map(w=>t.jsxs(Vn,{children:[t.jsxs(Ve,{children:[t.jsx("div",{className:"font-medium",children:w.name}),t.jsx("div",{className:"text-sm text-muted-foreground",children:w.fontFamily})]}),t.jsx(Ve,{children:t.jsx("div",{style:{fontFamily:w.fontFamily},className:"text-lg",children:"The quick brown fox"})}),t.jsx(Ve,{children:w.googleFontName?t.jsx(de,{variant:"default",children:w.googleFontName}):t.jsx(de,{variant:"secondary",children:"System Font"})}),t.jsx(Ve,{children:t.jsx(de,{variant:w.isActive?"default":"secondary",children:w.isActive?"Active":"Inactive"})}),t.jsx(Ve,{children:t.jsx(te,{variant:"outline",size:"sm",onClick:()=>m.mutate(w.id),"data-testid":`button-delete-font-${w.id}`,children:t.jsx(Wa,{className:"h-4 w-4"})})})]},w.id))})]})})]})}),t.jsx(ct,{value:"analytics",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs($,{className:"cyber-border",children:[t.jsx(oe,{children:t.jsx(le,{children:"Views by Content Type"})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-4",children:["image","video","text"].map(w=>{const E=d.filter(k=>k.mediaType===w),T=E.reduce((k,I)=>k+I.viewCount,0),P=E.length>0?Math.round(T/E.length):0;return t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[j(w),t.jsxs("span",{className:"capitalize",children:[w," Stories"]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"font-medium",children:[T.toLocaleString()," views"]}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[P," avg per post"]})]})]},w)})})})]}),t.jsxs($,{className:"cyber-border",children:[t.jsx(oe,{children:t.jsx(le,{children:"Top Performing Stories"})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-4",children:d.sort((w,E)=>E.viewCount-w.viewCount).slice(0,5).map(w=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[j(w.mediaType),t.jsxs("div",{children:[t.jsxs("div",{className:"font-medium",children:["@",w.username]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:w.title||w.textContent||"Untitled"})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"font-medium",children:w.viewCount.toLocaleString()}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"views"})]})]},w.id))})})]})]})})]})]})}function FTe(){const[n,e]=R.useState({}),s=ps(),{toast:r}=Dn(),a=[{id:"1",provider:"facebook",clientId:"your-facebook-app-id",clientSecret:"your-facebook-app-secret",isEnabled:!0,callbackUrl:`${window.location.origin}/oauth/facebook/callback`,scopes:["email","public_profile"],additionalConfig:{}},{id:"2",provider:"twitter",clientId:"your-twitter-api-key",clientSecret:"your-twitter-api-secret",isEnabled:!1,callbackUrl:`${window.location.origin}/oauth/twitter/callback`,scopes:["tweet.read","users.read"],additionalConfig:{}},{id:"3",provider:"google",clientId:"your-google-client-id.apps.googleusercontent.com",clientSecret:"your-google-client-secret",isEnabled:!0,callbackUrl:`${window.location.origin}/oauth/google/callback`,scopes:["openid","email","profile"],additionalConfig:{}}],i=kt({mutationFn:v=>Kt(`/api/admin/social-login/${v.id}`,"PATCH",v.updates),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/admin/social-login"]}),r({title:"Social login provider updated successfully"})}}),o=kt({mutationFn:v=>Kt(`/api/admin/social-login/${v}/test`,"POST"),onSuccess:(v,b)=>{r({title:"Connection test successful",description:`${b} OAuth configuration is working correctly`})},onError:(v,b)=>{r({title:"Connection test failed",description:`Unable to connect to ${b}. Please check your credentials.`,variant:"destructive"})}}),l=(v,b,A)=>{i.mutate({id:v,updates:{[b]:A}})},c=v=>{e(b=>({...b,[v]:!b[v]}))},d=v=>{navigator.clipboard.writeText(v),r({title:"Copied to clipboard"})},u=v=>{switch(v){case"facebook":return t.jsx(L$,{className:"h-5 w-5 text-blue-600"});case"twitter":return t.jsx(W$,{className:"h-5 w-5 text-sky-500"});case"google":return t.jsx(Ure,{className:"h-5 w-5 text-red-500"});default:return t.jsx(er,{className:"h-5 w-5"})}},h=v=>{switch(v){case"facebook":return"Facebook";case"twitter":return"X (Twitter)";case"google":return"Google";default:return v}},m=v=>{switch(v){case"facebook":return"bg-blue-50 border-blue-200";case"twitter":return"bg-sky-50 border-sky-200";case"google":return"bg-red-50 border-red-200";default:return"bg-gray-50 border-gray-200"}},y=v=>({facebook:{title:"Facebook App Setup",steps:["Go to Facebook Developers Console","Create a new App or select existing","Add Facebook Login product","Copy App ID and App Secret","Add callback URL to Valid OAuth Redirect URIs"],docsUrl:"https://developers.facebook.com/docs/facebook-login"},twitter:{title:"X (Twitter) App Setup",steps:["Go to X Developer Portal","Create a new App","Generate API Key and Secret","Enable OAuth 2.0","Add callback URL to redirect URIs"],docsUrl:"https://developer.twitter.com/en/docs/authentication"},google:{title:"Google OAuth Setup",steps:["Go to Google Cloud Console","Create or select a project","Enable Google+ API","Create OAuth 2.0 credentials","Add authorized redirect URIs"],docsUrl:"https://developers.google.com/identity/protocols/oauth2"}})[v],N=()=>a.filter(v=>v.isEnabled).length,j=()=>2847;return t.jsxs("div",{className:"container mx-auto p-6 space-y-6","data-testid":"social-login-settings",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"Social Login Settings"}),t.jsx("p",{className:"text-muted-foreground",children:"Configure OAuth integrations for Facebook, X (Twitter), and Google"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(er,{className:"h-5 w-5"}),t.jsxs("span",{className:"text-sm font-medium",children:[N(),"/",a.length," Enabled"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(er,{className:"h-8 w-8 text-primary"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Enabled Providers"}),t.jsx("p",{className:"text-2xl font-bold",children:N()})]})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(WA,{className:"h-8 w-8 text-blue-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Total Connections"}),t.jsx("p",{className:"text-2xl font-bold",children:j().toLocaleString()})]})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(xn,{className:"h-8 w-8 text-green-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Active Sessions"}),t.jsx("p",{className:"text-2xl font-bold",children:"1,452"})]})]})})})]}),t.jsx("div",{className:"space-y-6",children:a.map(v=>{const b=y(v.provider);return t.jsxs($,{className:`cyber-border ${m(v.provider)}`,children:[t.jsx(oe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[u(v.provider),t.jsxs("div",{children:[t.jsxs(le,{children:[h(v.provider)," Login"]}),t.jsxs(Ct,{children:["OAuth integration for"," ",h(v.provider)," authentication"]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(de,{variant:v.isEnabled?"default":"secondary",children:v.isEnabled?"Enabled":"Disabled"}),t.jsx(fn,{checked:v.isEnabled,onCheckedChange:A=>l(v.id,"isEnabled",A),"data-testid":`switch-${v.provider}-enabled`})]})]})}),t.jsxs(q,{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:`${v.provider}-client-id`,children:v.provider==="facebook"?"App ID":v.provider==="twitter"?"API Key":"Client ID"}),t.jsxs("div",{className:"relative",children:[t.jsx(Fe,{id:`${v.provider}-client-id`,type:"text",value:v.clientId||"",onChange:A=>l(v.id,"clientId",A.target.value),placeholder:`Enter ${v.provider==="facebook"?"App ID":"Client ID"}`,"data-testid":`input-${v.provider}-client-id`}),v.clientId&&t.jsx(te,{variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 h-6 w-6 p-0",onClick:()=>d(v.clientId),children:t.jsx(Wd,{className:"h-3 w-3"})})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:`${v.provider}-client-secret`,children:v.provider==="facebook"?"App Secret":v.provider==="twitter"?"API Secret":"Client Secret"}),t.jsxs("div",{className:"relative",children:[t.jsx(Fe,{id:`${v.provider}-client-secret`,type:n[v.id]?"text":"password",value:v.clientSecret||"",onChange:A=>l(v.id,"clientSecret",A.target.value),placeholder:`Enter ${v.provider==="facebook"?"App Secret":"Client Secret"}`,"data-testid":`input-${v.provider}-client-secret`}),t.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center space-x-1",children:[t.jsx(te,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>c(v.id),"data-testid":`button-toggle-${v.provider}-secret`,children:n[v.id]?t.jsx(Z1,{className:"h-3 w-3"}):t.jsx(Mn,{className:"h-3 w-3"})}),v.clientSecret&&t.jsx(te,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>d(v.clientSecret),children:t.jsx(Wd,{className:"h-3 w-3"})})]})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:`${v.provider}-callback`,children:"Callback URL"}),t.jsxs("div",{className:"relative",children:[t.jsx(Fe,{id:`${v.provider}-callback`,type:"text",value:v.callbackUrl,readOnly:!0,className:"bg-muted","data-testid":`input-${v.provider}-callback`}),t.jsx(te,{variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 h-6 w-6 p-0",onClick:()=>d(v.callbackUrl),children:t.jsx(Wd,{className:"h-3 w-3"})})]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Add this URL to your ",h(v.provider)," ","app's authorized redirect URIs"]})]}),t.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs(te,{variant:"outline",onClick:()=>o.mutate(v.provider),disabled:!v.clientId||!v.clientSecret||o.isPending,"data-testid":`button-test-${v.provider}`,children:[o.isPending?t.jsx(lr,{className:"h-4 w-4 mr-2 animate-spin"}):t.jsx(xn,{className:"h-4 w-4 mr-2"}),"Test Connection"]}),b&&t.jsxs(te,{variant:"ghost",onClick:()=>window.open(b.docsUrl,"_blank"),"data-testid":`button-docs-${v.provider}`,children:[t.jsx(vh,{className:"h-4 w-4 mr-2"}),"Setup Guide"]})]}),t.jsx("div",{className:"flex items-center space-x-2",children:v.clientId&&v.clientSecret?t.jsxs("div",{className:"flex items-center space-x-1 text-green-600",children:[t.jsx(xn,{className:"h-4 w-4"}),t.jsx("span",{className:"text-sm",children:"Configured"})]}):t.jsxs("div",{className:"flex items-center space-x-1 text-yellow-600",children:[t.jsx(ln,{className:"h-4 w-4"}),t.jsx("span",{className:"text-sm",children:"Incomplete"})]})})]}),b&&t.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 mt-4",children:[t.jsx("h4",{className:"font-medium mb-2",children:b.title}),t.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm text-muted-foreground",children:b.steps.map((A,S)=>t.jsx("li",{children:A},S))})]})]})]},v.id)})}),t.jsx($,{className:"cyber-border border-yellow-200 bg-yellow-50",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx(ln,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-yellow-800",children:"Security Best Practices"}),t.jsxs("ul",{className:"text-sm text-yellow-700 mt-2 space-y-1",children:[t.jsx("li",{children:"• Store client secrets securely and never expose them in client-side code"}),t.jsx("li",{children:"• Regularly rotate your OAuth credentials"}),t.jsx("li",{children:"• Use HTTPS for all callback URLs in production"}),t.jsx("li",{children:"• Monitor OAuth usage for suspicious activity"}),t.jsx("li",{children:"• Keep your OAuth scopes minimal and only request necessary permissions"})]})]})]})})})]})}var UTe="Separator",bH="horizontal",zTe=["horizontal","vertical"],MJ=R.forwardRef((n,e)=>{const{decorative:s,orientation:r=bH,...a}=n,i=BTe(r)?r:bH,l=s?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return t.jsx(Nn.div,{"data-orientation":i,...l,...a,ref:e})});MJ.displayName=UTe;function BTe(n){return zTe.includes(n)}var PJ=MJ;const eT=R.forwardRef(({className:n,orientation:e="horizontal",decorative:s=!0,...r},a)=>t.jsx(PJ,{ref:a,decorative:s,orientation:e,className:Bt("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",n),...r}));eT.displayName=PJ.displayName;var vf={};function VTe(){const[n,e]=R.useState("providers"),[s,r]=R.useState({}),a=ps(),{toast:i}=Dn(),o=[{id:"1",provider:"default",name:"Local Storage",isDefault:!0,isEnabled:!0,cdnEnabled:!1,forceHttps:!0,additionalConfig:{}},{id:"2",provider:"s3",name:"Amazon S3",isDefault:!1,isEnabled:!0,region:"us-east-1",bucket:"fanzdash-content",accessKey:vf.VITE_AWS_ACCESS_KEY||"",secretKey:vf.VITE_AWS_SECRET_KEY||"",endpoint:"s3.amazonaws.com",cdnEnabled:!0,cdnUrl:"https://d123456789.cloudfront.net",forceHttps:!0,additionalConfig:{}},{id:"3",provider:"dospace",name:"DigitalOcean Spaces",isDefault:!1,isEnabled:!1,region:"nyc3",bucket:"fanzdash-spaces",accessKey:vf.VITE_DO_ACCESS_KEY||"",secretKey:vf.VITE_DO_SECRET_KEY||"",endpoint:"nyc3.digitaloceanspaces.com",cdnEnabled:!0,cdnUrl:"https://fanzdash-spaces.nyc3.cdn.digitaloceanspaces.com",forceHttps:!0,additionalConfig:{}},{id:"4",provider:"wasabi",name:"Wasabi Hot Cloud Storage",isDefault:!1,isEnabled:!1,region:"us-east-1",bucket:"fanzdash-wasabi",accessKey:vf.VITE_WASABI_ACCESS_KEY||"",secretKey:vf.VITE_WASABI_SECRET_KEY||"",endpoint:"s3.wasabisys.com",cdnEnabled:!1,forceHttps:!0,additionalConfig:{}},{id:"5",provider:"r2",name:"Cloudflare R2",isDefault:!1,isEnabled:!1,region:"auto",bucket:"fanzdash-r2",accessKey:vf.VITE_R2_ACCESS_KEY||"",secretKey:vf.VITE_R2_SECRET_KEY||"",endpoint:"1234567890abcdef.r2.cloudflarestorage.com",cdnEnabled:!0,cdnUrl:"https://fanzdash.example.com",forceHttps:!0,additionalConfig:{}}],l={totalFiles:25847,totalSize:512e9,bandwidthUsed:12e11,cost:89.5},c=kt({mutationFn:w=>Kt(`/api/admin/storage/${w.id}`,"PATCH",w.updates),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/admin/storage"]}),i({title:"Storage provider updated successfully"})}}),d=kt({mutationFn:w=>Kt(`/api/admin/storage/${w}/test`,"POST"),onSuccess:(w,E)=>{i({title:"Connection test successful",description:"Storage provider connection is working correctly"})},onError:(w,E)=>{i({title:"Connection test failed",description:"Unable to connect to storage provider. Please check your credentials.",variant:"destructive"})}}),u=kt({mutationFn:w=>Kt(`/api/admin/storage/${w}/set-default`,"POST"),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/admin/storage"]}),i({title:"Default storage provider updated"})}}),h=(w,E,T)=>{c.mutate({id:w,updates:{[E]:T}})},m=w=>{r(E=>({...E,[w]:!E[w]}))},y=w=>{navigator.clipboard.writeText(w),i({title:"Copied to clipboard"})},N=w=>{switch(w){case"default":return t.jsx(Lj,{className:"h-5 w-5 text-gray-600"});case"s3":return t.jsx(hl,{className:"h-5 w-5 text-orange-500"});case"dospace":return t.jsx(hl,{className:"h-5 w-5 text-blue-500"});case"wasabi":return t.jsx(hl,{className:"h-5 w-5 text-green-500"});case"backblaze":return t.jsx(hl,{className:"h-5 w-5 text-red-500"});case"vultr":return t.jsx(hl,{className:"h-5 w-5 text-purple-500"});case"r2":return t.jsx(hl,{className:"h-5 w-5 text-yellow-500"});case"pushr":return t.jsx(hl,{className:"h-5 w-5 text-pink-500"});case"idrive":return t.jsx(hl,{className:"h-5 w-5 text-indigo-500"});default:return t.jsx(hl,{className:"h-5 w-5"})}},j=w=>{switch(w){case"default":return"bg-gray-50 border-gray-200";case"s3":return"bg-orange-50 border-orange-200";case"dospace":return"bg-blue-50 border-blue-200";case"wasabi":return"bg-green-50 border-green-200";case"backblaze":return"bg-red-50 border-red-200";case"vultr":return"bg-purple-50 border-purple-200";case"r2":return"bg-yellow-50 border-yellow-200";case"pushr":return"bg-pink-50 border-pink-200";case"idrive":return"bg-indigo-50 border-indigo-200";default:return"bg-gray-50 border-gray-200"}},v=w=>{const E=["Bytes","KB","MB","GB","TB"];if(w===0)return"0 Bytes";const T=Math.floor(Math.log(w)/Math.log(1024));return Math.round(w/Math.pow(1024,T)*100)/100+" "+E[T]},b=()=>o.filter(w=>w.isEnabled).length,A=()=>o.find(w=>w.isDefault),S=w=>({s3:{title:"Amazon S3 Setup",steps:["Create an AWS account and access IAM console","Create a new IAM user with S3 permissions","Generate access key and secret key","Create S3 bucket in desired region","Configure bucket permissions and CORS"],docsUrl:"https://docs.aws.amazon.com/s3/"},dospace:{title:"DigitalOcean Spaces Setup",steps:["Create DigitalOcean account","Go to Spaces section in control panel","Create a new Space in desired region","Generate API key in API section","Configure CORS settings if needed"],docsUrl:"https://docs.digitalocean.com/products/spaces/"},wasabi:{title:"Wasabi Hot Cloud Storage Setup",steps:["Create Wasabi account","Create a new bucket","Generate access key and secret key","Note: Trial accounts may not support public files","Contact support@wasabi.com to enable public files"],docsUrl:"https://wasabi.com/wp-content/themes/wasabi/docs/"},r2:{title:"Cloudflare R2 Setup",steps:["Create Cloudflare account","Navigate to R2 Object Storage","Create a new R2 bucket","Generate R2 API token","Configure custom domain if needed"],docsUrl:"https://developers.cloudflare.com/r2/"}})[w];return t.jsxs("div",{className:"container mx-auto p-6 space-y-6","data-testid":"storage-settings",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"Storage Settings"}),t.jsx("p",{className:"text-muted-foreground",children:"Configure cloud storage providers and file management settings"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(hl,{className:"h-5 w-5"}),t.jsxs("span",{className:"text-sm font-medium",children:[b(),"/",o.length," Providers"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Lj,{className:"h-8 w-8 text-primary"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Total Files"}),t.jsx("p",{className:"text-2xl font-bold",children:l.totalFiles.toLocaleString()})]})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(la,{className:"h-8 w-8 text-blue-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Storage Used"}),t.jsx("p",{className:"text-2xl font-bold",children:v(l.totalSize)})]})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(va,{className:"h-8 w-8 text-green-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Bandwidth"}),t.jsx("p",{className:"text-2xl font-bold",children:v(l.bandwidthUsed)})]})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Er,{className:"h-8 w-8 text-yellow-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Monthly Cost"}),t.jsxs("p",{className:"text-2xl font-bold",children:["$",l.cost.toFixed(2)]})]})]})})})]}),t.jsxs(Xs,{value:n,onValueChange:e,children:[t.jsxs($s,{className:"grid w-full grid-cols-3",children:[t.jsx(lt,{value:"providers",children:"Storage Providers"}),t.jsx(lt,{value:"settings",children:"Global Settings"}),t.jsx(lt,{value:"analytics",children:"Usage Analytics"})]}),t.jsxs(ct,{value:"providers",className:"space-y-6",children:[t.jsx($,{className:"cyber-border border-green-200 bg-green-50",children:t.jsx(oe,{children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(xn,{className:"h-5 w-5 text-green-600"}),t.jsxs("div",{children:[t.jsx(le,{className:"text-green-800",children:"Default Storage Provider"}),t.jsxs(Ct,{className:"text-green-700",children:["Currently using: ",A()?.name]})]})]})})})}),t.jsx("div",{className:"space-y-4",children:o.map(w=>{const E=S(w.provider);return t.jsxs($,{className:`cyber-border ${j(w.provider)}`,children:[t.jsx(oe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[N(w.provider),t.jsxs("div",{children:[t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx("span",{children:w.name}),w.isDefault&&t.jsx(de,{variant:"default",children:"Default"})]}),t.jsx(Ct,{children:w.provider==="default"?"Local file storage on server disk":`Cloud storage provider: ${w.provider.toUpperCase()}`})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(de,{variant:w.isEnabled?"default":"secondary",children:w.isEnabled?"Enabled":"Disabled"}),w.provider!=="default"&&t.jsx(fn,{checked:w.isEnabled,onCheckedChange:T=>h(w.id,"isEnabled",T),"data-testid":`switch-${w.provider}-enabled`})]})]})}),w.provider!=="default"&&t.jsxs(q,{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:`${w.provider}-access-key`,children:"Access Key"}),t.jsxs("div",{className:"relative",children:[t.jsx(Fe,{id:`${w.provider}-access-key`,type:"text",value:w.accessKey||"",onChange:T=>h(w.id,"accessKey",T.target.value),placeholder:"Enter access key","data-testid":`input-${w.provider}-access-key`}),w.accessKey&&t.jsx(te,{variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 h-6 w-6 p-0",onClick:()=>y(w.accessKey),children:t.jsx(Wd,{className:"h-3 w-3"})})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:`${w.provider}-secret-key`,children:"Secret Key"}),t.jsxs("div",{className:"relative",children:[t.jsx(Fe,{id:`${w.provider}-secret-key`,type:s[w.id]?"text":"password",value:w.secretKey||"",onChange:T=>h(w.id,"secretKey",T.target.value),placeholder:"Enter secret key","data-testid":`input-${w.provider}-secret-key`}),t.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center space-x-1",children:[t.jsx(te,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>m(w.id),"data-testid":`button-toggle-${w.provider}-secret`,children:s[w.id]?t.jsx(Z1,{className:"h-3 w-3"}):t.jsx(Mn,{className:"h-3 w-3"})}),w.secretKey&&t.jsx(te,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>y(w.secretKey),children:t.jsx(Wd,{className:"h-3 w-3"})})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:`${w.provider}-region`,children:"Region"}),t.jsx(Fe,{id:`${w.provider}-region`,type:"text",value:w.region||"",onChange:T=>h(w.id,"region",T.target.value),placeholder:"e.g., us-east-1","data-testid":`input-${w.provider}-region`})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:`${w.provider}-bucket`,children:"Bucket Name"}),t.jsx(Fe,{id:`${w.provider}-bucket`,type:"text",value:w.bucket||"",onChange:T=>h(w.id,"bucket",T.target.value),placeholder:"Enter bucket name","data-testid":`input-${w.provider}-bucket`})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"space-y-0.5",children:[t.jsx(Pe,{htmlFor:`${w.provider}-cdn`,children:"Enable CDN"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Use content delivery network for faster file access"})]}),t.jsx(fn,{id:`${w.provider}-cdn`,checked:w.cdnEnabled,onCheckedChange:T=>h(w.id,"cdnEnabled",T),"data-testid":`switch-${w.provider}-cdn`})]}),w.cdnEnabled&&t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:`${w.provider}-cdn-url`,children:"CDN URL"}),t.jsx(Fe,{id:`${w.provider}-cdn-url`,type:"text",value:w.cdnUrl||"",onChange:T=>h(w.id,"cdnUrl",T.target.value),placeholder:"https://cdn.example.com","data-testid":`input-${w.provider}-cdn-url`})]})]}),t.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs(te,{variant:"outline",onClick:()=>d.mutate(w.id),disabled:!w.accessKey||!w.secretKey||d.isPending,"data-testid":`button-test-${w.provider}`,children:[d.isPending?t.jsx(lr,{className:"h-4 w-4 mr-2 animate-spin"}):t.jsx(xn,{className:"h-4 w-4 mr-2"}),"Test Connection"]}),!w.isDefault&&w.isEnabled&&w.accessKey&&w.secretKey&&t.jsx(te,{variant:"default",onClick:()=>u.mutate(w.id),disabled:u.isPending,"data-testid":`button-set-default-${w.provider}`,children:"Set as Default"}),E&&t.jsxs(te,{variant:"ghost",onClick:()=>window.open(E.docsUrl,"_blank"),"data-testid":`button-docs-${w.provider}`,children:[t.jsx(vh,{className:"h-4 w-4 mr-2"}),"Setup Guide"]})]}),t.jsx("div",{className:"flex items-center space-x-2",children:w.accessKey&&w.secretKey&&w.bucket?t.jsxs("div",{className:"flex items-center space-x-1 text-green-600",children:[t.jsx(xn,{className:"h-4 w-4"}),t.jsx("span",{className:"text-sm",children:"Configured"})]}):t.jsxs("div",{className:"flex items-center space-x-1 text-yellow-600",children:[t.jsx(ln,{className:"h-4 w-4"}),t.jsx("span",{className:"text-sm",children:"Incomplete"})]})})]}),E&&t.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 mt-4",children:[t.jsx("h4",{className:"font-medium mb-2",children:E.title}),t.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm text-muted-foreground",children:E.steps.map((T,P)=>t.jsx("li",{children:T},P))})]})]})]},w.id)})})]}),t.jsx(ct,{value:"settings",className:"space-y-6",children:t.jsxs($,{className:"cyber-border",children:[t.jsxs(oe,{children:[t.jsx(le,{children:"Global Storage Settings"}),t.jsx(Ct,{children:"Configure platform-wide storage behavior and security"})]}),t.jsxs(q,{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"space-y-0.5",children:[t.jsx(Pe,{htmlFor:"force-https",children:"Force HTTPS"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Always use secure HTTPS URLs for file access"})]}),t.jsx(fn,{id:"force-https",defaultChecked:!0,"data-testid":"switch-force-https"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"app-url",children:"Application URL"}),t.jsx(Fe,{id:"app-url",type:"text",value:window.location.origin,readOnly:!0,className:"bg-muted","data-testid":"input-app-url"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Base URL for your application. Used for generating file URLs."})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"max-file-size",children:"Maximum File Size (MB)"}),t.jsxs(sn,{defaultValue:"100",children:[t.jsx(en,{"data-testid":"select-max-file-size",children:t.jsx(rn,{})}),t.jsxs(tn,{children:[t.jsx(re,{value:"10",children:"10 MB"}),t.jsx(re,{value:"25",children:"25 MB"}),t.jsx(re,{value:"50",children:"50 MB"}),t.jsx(re,{value:"100",children:"100 MB"}),t.jsx(re,{value:"250",children:"250 MB"}),t.jsx(re,{value:"500",children:"500 MB"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"allowed-types",children:"Allowed File Types"}),t.jsx(Fe,{id:"allowed-types",type:"text",defaultValue:"jpg,jpeg,png,gif,mp4,mov,avi,pdf,zip",placeholder:"jpg,png,mp4,pdf","data-testid":"input-allowed-types"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Comma-separated list of allowed file extensions"})]})]})]})}),t.jsx(ct,{value:"analytics",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs($,{className:"cyber-border",children:[t.jsx(oe,{children:t.jsx(le,{children:"Storage by Provider"})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-4",children:o.filter(w=>w.isEnabled).map(w=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[N(w.provider),t.jsx("span",{children:w.name}),w.isDefault&&t.jsx(de,{variant:"outline",children:"Default"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"font-medium",children:w.provider==="default"?"128 GB":w.provider==="s3"?"384 GB":"0 GB"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:w.provider==="default"?"12.5k files":w.provider==="s3"?"13.3k files":"0 files"})]})]},w.id))})})]}),t.jsxs($,{className:"cyber-border",children:[t.jsx(oe,{children:t.jsx(le,{children:"Cost Breakdown"})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Storage Costs"}),t.jsx("span",{className:"font-medium",children:"$42.50"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Bandwidth Costs"}),t.jsx("span",{className:"font-medium",children:"$28.75"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Request Costs"}),t.jsx("span",{className:"font-medium",children:"$18.25"})]}),t.jsx(eT,{}),t.jsxs("div",{className:"flex items-center justify-between font-medium",children:[t.jsx("span",{children:"Total Monthly"}),t.jsxs("span",{children:["$",l.cost.toFixed(2)]})]})]})})]})]})})]})]})}const HTe=kh({name:ys().min(1,"Name is required"),rate:ys().min(1,"Rate is required"),type:bAe(["vat","gst","sales_tax","income_tax"]),country:ys().min(1,"Country is required"),state:ys().optional(),region:ys().optional(),applicableServices:yAe(ys()).min(1,"At least one service must be selected"),effectiveDate:ys().min(1,"Effective date is required"),expiryDate:ys().optional()});function GTe(){const[n,e]=R.useState(!1),[s,r]=R.useState(null),a=ps(),{toast:i}=Dn(),o=[{id:"1",name:"US Sales Tax",rate:"0.0875",type:"sales_tax",country:"United States",state:"California",applicableServices:["subscriptions","tips","content"],isActive:!0,effectiveDate:"2025-01-01T00:00:00Z",createdAt:"2025-01-15T10:00:00Z",updatedAt:"2025-01-15T10:00:00Z"},{id:"2",name:"UK VAT",rate:"0.2000",type:"vat",country:"United Kingdom",applicableServices:["subscriptions","content","gifts"],isActive:!0,effectiveDate:"2025-01-01T00:00:00Z",createdAt:"2025-01-14T15:30:00Z",updatedAt:"2025-01-14T15:30:00Z"},{id:"3",name:"Canadian GST",rate:"0.0500",type:"gst",country:"Canada",applicableServices:["subscriptions","tips"],isActive:!0,effectiveDate:"2025-01-01T00:00:00Z",createdAt:"2025-01-13T12:00:00Z",updatedAt:"2025-01-13T12:00:00Z"},{id:"4",name:"EU VAT (Germany)",rate:"0.1900",type:"vat",country:"Germany",applicableServices:["subscriptions","content"],isActive:!1,effectiveDate:"2025-01-01T00:00:00Z",expiryDate:"2025-12-31T23:59:59Z",createdAt:"2025-01-12T09:00:00Z",updatedAt:"2025-01-15T14:30:00Z"}],l=Qd({resolver:Jd(HTe),defaultValues:{name:"",rate:"",type:"vat",country:"",state:"",region:"",applicableServices:[],effectiveDate:new Date().toISOString().split("T")[0],expiryDate:""}}),c=kt({mutationFn:T=>Kt("/api/admin/tax-rates","POST",T),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/admin/tax-rates"]}),i({title:"Tax rate created successfully"}),e(!1),l.reset()}}),d=kt({mutationFn:T=>Kt(`/api/admin/tax-rates/${T.id}`,"PATCH",T.updates),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/admin/tax-rates"]}),i({title:"Tax rate updated successfully"}),r(null)}}),u=kt({mutationFn:T=>Kt(`/api/admin/tax-rates/${T}`,"DELETE"),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/admin/tax-rates"]}),i({title:"Tax rate deleted successfully"})}}),h=T=>{s?d.mutate({id:s.id,updates:T}):c.mutate(T)},m=T=>{r(T),l.reset({name:T.name,rate:(parseFloat(T.rate)*100).toFixed(4),type:T.type,country:T.country,state:T.state||"",region:T.region||"",applicableServices:T.applicableServices,effectiveDate:T.effectiveDate.split("T")[0],expiryDate:T.expiryDate?T.expiryDate.split("T")[0]:""}),e(!0)},y=(T,P)=>{d.mutate({id:T,updates:{isActive:P}})},N=T=>{switch(T){case"vat":return t.jsx(Er,{className:"h-4 w-4"});case"gst":return t.jsx(eae,{className:"h-4 w-4"});case"sales_tax":return t.jsx(Jr,{className:"h-4 w-4"});case"income_tax":return t.jsx(hj,{className:"h-4 w-4"});default:return t.jsx(hj,{className:"h-4 w-4"})}},j=T=>{const P={vat:"default",gst:"secondary",sales_tax:"outline",income_tax:"destructive"};return t.jsx(de,{variant:P[T]||"default",children:T.toUpperCase().replace("_"," ")})},v=T=>(parseFloat(T)*100).toFixed(2)+"%",b=()=>o.filter(T=>T.isActive).length,A=()=>45890.5,S=()=>8750.25,w=["United States","United Kingdom","Canada","Australia","Germany","France","Italy","Spain","Netherlands","Sweden","Norway","Denmark","Japan","South Korea","Singapore","New Zealand"],E=[{value:"subscriptions",label:"Subscriptions"},{value:"tips",label:"Tips & Donations"},{value:"content",label:"Content Purchases"},{value:"gifts",label:"Virtual Gifts"},{value:"merchandise",label:"Merchandise"},{value:"private_shows",label:"Private Shows"}];return t.jsxs("div",{className:"container mx-auto p-6 space-y-6","data-testid":"tax-rate-management",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"Tax Rate Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Configure tax rates for different countries, states, and service types"})]}),t.jsxs(pi,{open:n,onOpenChange:e,children:[t.jsx(Qo,{asChild:!0,children:t.jsxs(te,{onClick:()=>{r(null),l.reset()},"data-testid":"button-add-tax-rate",children:[t.jsx(oa,{className:"h-4 w-4 mr-2"}),"Add Tax Rate"]})}),t.jsxs(Ka,{className:"max-w-2xl",children:[t.jsxs(Xa,{children:[t.jsx(Za,{children:s?"Edit Tax Rate":"Add New Tax Rate"}),t.jsx(Sl,{children:"Configure tax rates for specific regions and service types"})]}),t.jsx(tu,{...l,children:t.jsxs("form",{onSubmit:l.handleSubmit(h),className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(On,{control:l.control,name:"name",render:({field:T})=>t.jsxs(Pn,{children:[t.jsx(Rn,{children:"Tax Rate Name"}),t.jsx(kn,{children:t.jsx(Fe,{...T,placeholder:"e.g., California Sales Tax","data-testid":"input-tax-name"})}),t.jsx(Gn,{})]})}),t.jsx(On,{control:l.control,name:"rate",render:({field:T})=>t.jsxs(Pn,{children:[t.jsx(Rn,{children:"Rate (%)"}),t.jsx(kn,{children:t.jsx(Fe,{...T,type:"number",step:"0.01",min:"0",max:"50",placeholder:"8.75","data-testid":"input-tax-rate"})}),t.jsx(Gn,{})]})}),t.jsx(On,{control:l.control,name:"type",render:({field:T})=>t.jsxs(Pn,{children:[t.jsx(Rn,{children:"Tax Type"}),t.jsxs(sn,{value:T.value,onValueChange:T.onChange,children:[t.jsx(kn,{children:t.jsx(en,{"data-testid":"select-tax-type",children:t.jsx(rn,{})})}),t.jsxs(tn,{children:[t.jsx(re,{value:"vat",children:"VAT"}),t.jsx(re,{value:"gst",children:"GST"}),t.jsx(re,{value:"sales_tax",children:"Sales Tax"}),t.jsx(re,{value:"income_tax",children:"Income Tax"})]})]}),t.jsx(Gn,{})]})}),t.jsx(On,{control:l.control,name:"country",render:({field:T})=>t.jsxs(Pn,{children:[t.jsx(Rn,{children:"Country"}),t.jsxs(sn,{value:T.value,onValueChange:T.onChange,children:[t.jsx(kn,{children:t.jsx(en,{"data-testid":"select-country",children:t.jsx(rn,{placeholder:"Select country"})})}),t.jsx(tn,{children:w.map(P=>t.jsx(re,{value:P,children:P},P))})]}),t.jsx(Gn,{})]})}),t.jsx(On,{control:l.control,name:"state",render:({field:T})=>t.jsxs(Pn,{children:[t.jsx(Rn,{children:"State/Province (Optional)"}),t.jsx(kn,{children:t.jsx(Fe,{...T,placeholder:"e.g., California","data-testid":"input-state"})}),t.jsx(Gn,{})]})}),t.jsx(On,{control:l.control,name:"region",render:({field:T})=>t.jsxs(Pn,{children:[t.jsx(Rn,{children:"Region (Optional)"}),t.jsx(kn,{children:t.jsx(Fe,{...T,placeholder:"e.g., Los Angeles County","data-testid":"input-region"})}),t.jsx(Gn,{})]})}),t.jsx(On,{control:l.control,name:"effectiveDate",render:({field:T})=>t.jsxs(Pn,{children:[t.jsx(Rn,{children:"Effective Date"}),t.jsx(kn,{children:t.jsx(Fe,{...T,type:"date","data-testid":"input-effective-date"})}),t.jsx(Gn,{})]})}),t.jsx(On,{control:l.control,name:"expiryDate",render:({field:T})=>t.jsxs(Pn,{children:[t.jsx(Rn,{children:"Expiry Date (Optional)"}),t.jsx(kn,{children:t.jsx(Fe,{...T,type:"date","data-testid":"input-expiry-date"})}),t.jsx(Gn,{})]})})]}),t.jsx(On,{control:l.control,name:"applicableServices",render:({field:T})=>t.jsxs(Pn,{children:[t.jsx(Rn,{children:"Applicable Services"}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:E.map(P=>t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",id:P.value,checked:T.value.includes(P.value),onChange:k=>{k.target.checked?T.onChange([...T.value,P.value]):T.onChange(T.value.filter(I=>I!==P.value))},className:"rounded","data-testid":`checkbox-${P.value}`}),t.jsx(Pe,{htmlFor:P.value,className:"text-sm",children:P.label})]},P.value))}),t.jsx(Gn,{})]})}),t.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[t.jsx(te,{type:"button",variant:"outline",onClick:()=>e(!1),"data-testid":"button-cancel",children:"Cancel"}),t.jsxs(te,{type:"submit",disabled:c.isPending||d.isPending,"data-testid":"button-save-tax-rate",children:[s?"Update":"Create"," Tax Rate"]})]})]})})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(hj,{className:"h-8 w-8 text-primary"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Active Tax Rates"}),t.jsx("p",{className:"text-2xl font-bold",children:b()})]})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Er,{className:"h-8 w-8 text-blue-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Countries"}),t.jsx("p",{className:"text-2xl font-bold",children:new Set(o.map(T=>T.country)).size})]})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Jr,{className:"h-8 w-8 text-green-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Tax Collected"}),t.jsxs("p",{className:"text-2xl font-bold",children:["$",S().toLocaleString()]})]})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(xn,{className:"h-8 w-8 text-yellow-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Total Revenue"}),t.jsxs("p",{className:"text-2xl font-bold",children:["$",A().toLocaleString()]})]})]})})})]}),t.jsxs($,{className:"cyber-border",children:[t.jsxs(oe,{children:[t.jsx(le,{children:"Tax Rates Configuration"}),t.jsx(Ct,{children:"Manage tax rates for different regions and service types"})]}),t.jsx(q,{children:t.jsxs(Ar,{children:[t.jsx(Cr,{children:t.jsxs(Vn,{children:[t.jsx(He,{children:"Name"}),t.jsx(He,{children:"Type"}),t.jsx(He,{children:"Rate"}),t.jsx(He,{children:"Location"}),t.jsx(He,{children:"Services"}),t.jsx(He,{children:"Status"}),t.jsx(He,{children:"Effective Date"}),t.jsx(He,{children:"Actions"})]})}),t.jsx(Tr,{children:o.map(T=>t.jsxs(Vn,{children:[t.jsx(Ve,{children:t.jsx("div",{className:"font-medium",children:T.name})}),t.jsx(Ve,{children:t.jsxs("div",{className:"flex items-center space-x-2",children:[N(T.type),j(T.type)]})}),t.jsx(Ve,{children:t.jsx("div",{className:"font-medium text-green-600",children:v(T.rate)})}),t.jsx(Ve,{children:t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:T.country}),T.state&&t.jsx("div",{className:"text-sm text-muted-foreground",children:T.state}),T.region&&t.jsx("div",{className:"text-xs text-muted-foreground",children:T.region})]})}),t.jsx(Ve,{children:t.jsxs("div",{className:"flex flex-wrap gap-1",children:[T.applicableServices.slice(0,2).map(P=>t.jsx(de,{variant:"outline",className:"text-xs",children:P},P)),T.applicableServices.length>2&&t.jsxs(de,{variant:"outline",className:"text-xs",children:["+",T.applicableServices.length-2]})]})}),t.jsx(Ve,{children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(fn,{checked:T.isActive,onCheckedChange:P=>y(T.id,P),"data-testid":`switch-active-${T.id}`}),t.jsx(de,{variant:T.isActive?"default":"secondary",children:T.isActive?"Active":"Inactive"})]})}),t.jsxs(Ve,{children:[t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(Q0,{className:"h-4 w-4 text-muted-foreground"}),t.jsx("span",{className:"text-sm",children:new Date(T.effectiveDate).toLocaleDateString()})]}),T.expiryDate&&t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Expires:"," ",new Date(T.expiryDate).toLocaleDateString()]})]}),t.jsx(Ve,{children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(te,{variant:"outline",size:"sm",onClick:()=>m(T),"data-testid":`button-edit-${T.id}`,children:t.jsx(Oi,{className:"h-4 w-4"})}),t.jsx(te,{variant:"outline",size:"sm",onClick:()=>u.mutate(T.id),"data-testid":`button-delete-${T.id}`,children:t.jsx(Wa,{className:"h-4 w-4"})})]})})]},T.id))})]})})]}),t.jsx($,{className:"cyber-border border-blue-200 bg-blue-50",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx(ln,{className:"h-5 w-5 text-blue-600 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-blue-800",children:"Tax Compliance Notice"}),t.jsxs("ul",{className:"text-sm text-blue-700 mt-2 space-y-1",children:[t.jsx("li",{children:"• Consult with tax professionals for accurate rate configuration"}),t.jsx("li",{children:"• Tax rates must comply with local jurisdiction requirements"}),t.jsx("li",{children:"• Monitor changes in tax legislation that may affect your rates"}),t.jsx("li",{children:"• Keep detailed records of tax collection and remittance"}),t.jsx("li",{children:"• Adult entertainment services may have special tax considerations"})]})]})]})})})]})}function $Te(){const[n,e]=R.useState("branding"),[s,r]=R.useState(!1),a=ps(),{toast:i}=Dn(),o={id:"1",homeStyle:0,logoUrl:"/api/placeholder/200/60",logoBlueUrl:"/api/placeholder/200/60",faviconUrl:"/api/placeholder/32/32",watermarkVideoUrl:"/api/placeholder/100/100",indexImageTopUrl:"/api/placeholder/1920/600",backgroundUrl:"/api/placeholder/1920/1080",avatarDefaultUrl:"/api/placeholder/150/150",coverDefaultUrl:"/api/placeholder/800/300",primaryColor:"#8B5CF6",themePwaColor:"#8B5CF6",navbarBackgroundColor:"#1F2937",navbarTextColor:"#F9FAFB",footerBackgroundColor:"#111827",footerTextColor:"#9CA3AF",buttonStyle:"rounded",customCss:`/* Custom CSS */
.cyber-text-glow {
  text-shadow: 0 0 10px rgba(139, 92, 246, 0.8);
}

.cyber-border {
  border: 1px solid rgba(139, 92, 246, 0.3);
  box-shadow: 0 0 20px rgba(139, 92, 246, 0.1);
}

.hover\\:cyber-glow:hover {
  box-shadow: 0 0 30px rgba(139, 92, 246, 0.6);
  transform: translateY(-2px);
  transition: all 0.3s ease;
}`,customJs:`// Custom JavaScript
console.log('FanzDash Theme Loaded');

// Smooth scrolling for anchor links
document.addEventListener('DOMContentLoaded', function() {
  const links = document.querySelectorAll('a[href^="#"]');
  links.forEach(link => {
    link.addEventListener('click', function(e) {
      e.preventDefault();
      const target = document.querySelector(this.getAttribute('href'));
      if (target) {
        target.scrollIntoView({ behavior: 'smooth' });
      }
    });
  });
});`},l=kt({mutationFn:v=>Kt("/api/admin/theme","PATCH",v),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/admin/theme"]}),i({title:"Theme settings updated successfully"})}}),c=kt({mutationFn:v=>{const b=new FormData;return b.append("file",v.file),b.append("type",v.type),Kt("/api/admin/theme/upload","POST",b)},onSuccess:(v,b)=>{const{type:A}=b;l.mutate({[`${A}Url`]:v.url}),i({title:`${A} uploaded successfully`})}}),d=kt({mutationFn:()=>Kt("/api/admin/theme/reset","POST"),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/admin/theme"]}),i({title:"Theme reset to defaults"})}}),u=(v,b)=>{l.mutate({[v]:b})},h=(v,b)=>{const A=v.target.files?.[0];if(A){if(A.size>5*1024*1024){i({title:"File too large",description:"Please select an image smaller than 5MB",variant:"destructive"});return}c.mutate({file:A,type:b})}},m=()=>{const v={colors:{primaryColor:o.primaryColor,navbarBackgroundColor:o.navbarBackgroundColor,navbarTextColor:o.navbarTextColor,footerBackgroundColor:o.footerBackgroundColor,footerTextColor:o.footerTextColor},styles:{homeStyle:o.homeStyle,buttonStyle:o.buttonStyle},customCss:o.customCss,customJs:o.customJs},b=new Blob([JSON.stringify(v,null,2)],{type:"application/json"}),A=URL.createObjectURL(b),S=document.createElement("a");S.href=A,S.download="fanzdash-theme.json",document.body.appendChild(S),S.click(),document.body.removeChild(S),URL.revokeObjectURL(A),i({title:"Theme exported successfully"})},y=v=>({0:"Classic",1:"Modern",2:"Cyberpunk"})[v]||"Classic",N=[{name:"Cyberpunk Purple",primary:"#8B5CF6",navbar:"#1F2937",footer:"#111827"},{name:"Electric Blue",primary:"#3B82F6",navbar:"#1E40AF",footer:"#1E3A8A"},{name:"Neon Green",primary:"#10B981",navbar:"#065F46",footer:"#064E3B"},{name:"Hot Pink",primary:"#EC4899",navbar:"#9D174D",footer:"#831843"},{name:"Sunset Orange",primary:"#F59E0B",navbar:"#92400E",footer:"#78350F"},{name:"Blood Red",primary:"#EF4444",navbar:"#991B1B",footer:"#7F1D1D"}],j=v=>{l.mutate({primaryColor:v.primary,themePwaColor:v.primary,navbarBackgroundColor:v.navbar,footerBackgroundColor:v.footer}),i({title:`Applied ${v.name} color scheme`})};return t.jsxs("div",{className:"container mx-auto p-6 space-y-6","data-testid":"theme-settings",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"Theme Customization"}),t.jsx("p",{className:"text-muted-foreground",children:"Customize platform branding, colors, layouts, and styling"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(te,{variant:"outline",onClick:m,"data-testid":"button-export-theme",children:[t.jsx(xi,{className:"h-4 w-4 mr-2"}),"Export Theme"]}),t.jsxs(te,{variant:"outline",onClick:()=>r(!s),"data-testid":"button-preview-theme",children:[t.jsx(Mn,{className:"h-4 w-4 mr-2"}),s?"Exit Preview":"Preview"]})]})]}),s&&t.jsx($,{className:"cyber-border border-blue-200 bg-blue-50",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Mn,{className:"h-5 w-5 text-blue-600"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-blue-800",children:"Preview Mode Active"}),t.jsx("p",{className:"text-sm text-blue-700",children:"You're viewing how the theme changes will appear on the platform"})]})]})})}),t.jsxs(Xs,{value:n,onValueChange:e,children:[t.jsxs($s,{className:"grid w-full grid-cols-5",children:[t.jsx(lt,{value:"branding",children:"Branding"}),t.jsx(lt,{value:"colors",children:"Colors"}),t.jsx(lt,{value:"layout",children:"Layout"}),t.jsx(lt,{value:"custom",children:"Custom Code"}),t.jsx(lt,{value:"advanced",children:"Advanced"})]}),t.jsx(ct,{value:"branding",className:"space-y-6",children:t.jsxs($,{className:"cyber-border",children:[t.jsxs(oe,{children:[t.jsxs(le,{className:"flex items-center",children:[t.jsx(ru,{className:"h-5 w-5 mr-2"}),"Logo & Branding Assets"]}),t.jsx(Ct,{children:"Upload and manage your platform's visual identity"})]}),t.jsxs(q,{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"main-logo",children:"Main Logo"}),t.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-4 text-center",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("img",{src:o.logoUrl,alt:"Main Logo",className:"max-h-16 mx-auto"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Current main logo"})]}),t.jsx("input",{type:"file",id:"main-logo",accept:"image/*",onChange:v=>h(v,"logo"),className:"hidden","data-testid":"input-main-logo"}),t.jsx(Pe,{htmlFor:"main-logo",className:"cursor-pointer",children:t.jsxs(te,{variant:"outline",className:"mt-2","data-testid":"button-upload-main-logo",children:[t.jsx(yo,{className:"h-4 w-4 mr-2"}),"Upload Logo"]})})]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Recommended: 200x60px, PNG with transparent background"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"blue-logo",children:"Blue/Alt Logo"}),t.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-4 text-center",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("img",{src:o.logoBlueUrl,alt:"Blue Logo",className:"max-h-16 mx-auto"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Alternative logo variant"})]}),t.jsx("input",{type:"file",id:"blue-logo",accept:"image/*",onChange:v=>h(v,"logoBlue"),className:"hidden","data-testid":"input-blue-logo"}),t.jsx(Pe,{htmlFor:"blue-logo",className:"cursor-pointer",children:t.jsxs(te,{variant:"outline",className:"mt-2","data-testid":"button-upload-blue-logo",children:[t.jsx(yo,{className:"h-4 w-4 mr-2"}),"Upload Alt Logo"]})})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"favicon",children:"Favicon"}),t.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-4 text-center",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("img",{src:o.faviconUrl,alt:"Favicon",className:"w-8 h-8 mx-auto"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Current favicon"})]}),t.jsx("input",{type:"file",id:"favicon",accept:"image/*",onChange:v=>h(v,"favicon"),className:"hidden","data-testid":"input-favicon"}),t.jsx(Pe,{htmlFor:"favicon",className:"cursor-pointer",children:t.jsxs(te,{variant:"outline",className:"mt-2","data-testid":"button-upload-favicon",children:[t.jsx(yo,{className:"h-4 w-4 mr-2"}),"Upload Favicon"]})})]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Required: 32x32px ICO or PNG format"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"watermark",children:"Video Watermark"}),t.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-4 text-center",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("img",{src:o.watermarkVideoUrl,alt:"Watermark",className:"max-h-16 mx-auto"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Video watermark"})]}),t.jsx("input",{type:"file",id:"watermark",accept:"image/*",onChange:v=>h(v,"watermarkVideo"),className:"hidden","data-testid":"input-watermark"}),t.jsx(Pe,{htmlFor:"watermark",className:"cursor-pointer",children:t.jsxs(te,{variant:"outline",className:"mt-2","data-testid":"button-upload-watermark",children:[t.jsx(yo,{className:"h-4 w-4 mr-2"}),"Upload Watermark"]})})]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Semi-transparent PNG for video overlays"})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-medium",children:"Background Images"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{key:"indexImageTop",label:"Hero Background",testId:"hero-bg"},{key:"background",label:"Page Background",testId:"page-bg"},{key:"avatarDefault",label:"Default Avatar",testId:"default-avatar"}].map(({key:v,label:b,testId:A})=>t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{children:b}),t.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-4 text-center",children:[o[`${v}Url`]?t.jsx("img",{src:o[`${v}Url`],alt:b,className:"w-full h-24 object-cover rounded"}):t.jsx(ru,{className:"h-12 w-12 mx-auto text-muted-foreground"}),t.jsx("input",{type:"file",id:v,accept:"image/*",onChange:S=>h(S,v),className:"hidden","data-testid":`input-${A}`}),t.jsx(Pe,{htmlFor:v,className:"cursor-pointer",children:t.jsxs(te,{variant:"outline",size:"sm",className:"mt-2","data-testid":`button-upload-${A}`,children:[t.jsx(yo,{className:"h-3 w-3 mr-1"}),"Upload"]})})]})]},v))})]})]})]})}),t.jsx(ct,{value:"colors",className:"space-y-6",children:t.jsxs($,{className:"cyber-border",children:[t.jsxs(oe,{children:[t.jsxs(le,{className:"flex items-center",children:[t.jsx(KA,{className:"h-5 w-5 mr-2"}),"Color Scheme"]}),t.jsx(Ct,{children:"Customize your platform's color palette and branding"})]}),t.jsxs(q,{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-medium",children:"Quick Color Presets"}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:N.map(v=>t.jsxs(te,{variant:"outline",className:"h-auto p-3 flex flex-col items-start space-y-2",onClick:()=>j(v),"data-testid":`preset-${v.name.toLowerCase().replace(" ","-")}`,children:[t.jsxs("div",{className:"flex items-center space-x-2 w-full",children:[t.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:v.primary}}),t.jsx("span",{className:"text-sm font-medium",children:v.name})]}),t.jsxs("div",{className:"flex space-x-1",children:[t.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:v.primary}}),t.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:v.navbar}}),t.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:v.footer}})]})]},v.name))})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-medium",children:"Primary Colors"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"primary-color",children:"Primary Color"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Fe,{id:"primary-color",type:"color",value:o.primaryColor,onChange:v=>u("primaryColor",v.target.value),className:"w-16 h-10 p-1 border rounded","data-testid":"input-primary-color"}),t.jsx(Fe,{type:"text",value:o.primaryColor,onChange:v=>u("primaryColor",v.target.value),className:"font-mono","data-testid":"input-primary-color-text"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"pwa-color",children:"PWA Theme Color"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Fe,{id:"pwa-color",type:"color",value:o.themePwaColor,onChange:v=>u("themePwaColor",v.target.value),className:"w-16 h-10 p-1 border rounded","data-testid":"input-pwa-color"}),t.jsx(Fe,{type:"text",value:o.themePwaColor,onChange:v=>u("themePwaColor",v.target.value),className:"font-mono","data-testid":"input-pwa-color-text"})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-medium",children:"Navigation Colors"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"navbar-bg",children:"Navbar Background"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Fe,{id:"navbar-bg",type:"color",value:o.navbarBackgroundColor,onChange:v=>u("navbarBackgroundColor",v.target.value),className:"w-16 h-10 p-1 border rounded","data-testid":"input-navbar-bg"}),t.jsx(Fe,{type:"text",value:o.navbarBackgroundColor,onChange:v=>u("navbarBackgroundColor",v.target.value),className:"font-mono","data-testid":"input-navbar-bg-text"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"navbar-text",children:"Navbar Text"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Fe,{id:"navbar-text",type:"color",value:o.navbarTextColor,onChange:v=>u("navbarTextColor",v.target.value),className:"w-16 h-10 p-1 border rounded","data-testid":"input-navbar-text"}),t.jsx(Fe,{type:"text",value:o.navbarTextColor,onChange:v=>u("navbarTextColor",v.target.value),className:"font-mono","data-testid":"input-navbar-text-text"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"footer-bg",children:"Footer Background"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Fe,{id:"footer-bg",type:"color",value:o.footerBackgroundColor,onChange:v=>u("footerBackgroundColor",v.target.value),className:"w-16 h-10 p-1 border rounded","data-testid":"input-footer-bg"}),t.jsx(Fe,{type:"text",value:o.footerBackgroundColor,onChange:v=>u("footerBackgroundColor",v.target.value),className:"font-mono","data-testid":"input-footer-bg-text"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"footer-text",children:"Footer Text"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Fe,{id:"footer-text",type:"color",value:o.footerTextColor,onChange:v=>u("footerTextColor",v.target.value),className:"w-16 h-10 p-1 border rounded","data-testid":"input-footer-text"}),t.jsx(Fe,{type:"text",value:o.footerTextColor,onChange:v=>u("footerTextColor",v.target.value),className:"font-mono","data-testid":"input-footer-text-text"})]})]})]})]})]})}),t.jsx(ct,{value:"layout",className:"space-y-6",children:t.jsxs($,{className:"cyber-border",children:[t.jsxs(oe,{children:[t.jsxs(le,{className:"flex items-center",children:[t.jsx(V$,{className:"h-5 w-5 mr-2"}),"Layout Options"]}),t.jsx(Ct,{children:"Configure page layouts and interface styles"})]}),t.jsxs(q,{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"home-style",children:"Home Page Style"}),t.jsxs(sn,{value:o.homeStyle.toString(),onValueChange:v=>u("homeStyle",parseInt(v)),children:[t.jsx(en,{"data-testid":"select-home-style",children:t.jsx(rn,{})}),t.jsxs(tn,{children:[t.jsx(re,{value:"0",children:"Classic Layout"}),t.jsx(re,{value:"1",children:"Modern Grid"}),t.jsx(re,{value:"2",children:"Cyberpunk Theme"})]})]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Current: ",y(o.homeStyle)]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"button-style",children:"Button Style"}),t.jsxs(sn,{value:o.buttonStyle,onValueChange:v=>u("buttonStyle",v),children:[t.jsx(en,{"data-testid":"select-button-style",children:t.jsx(rn,{})}),t.jsxs(tn,{children:[t.jsx(re,{value:"rounded",children:"Rounded Corners"}),t.jsx(re,{value:"square",children:"Square Edges"}),t.jsx(re,{value:"pill",children:"Pill Shape"})]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-medium",children:"Layout Preview"}),t.jsx("div",{className:"border rounded-lg p-4 bg-muted/30",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"h-12 rounded flex items-center px-4",style:{backgroundColor:o.navbarBackgroundColor,color:o.navbarTextColor},children:[t.jsx("div",{className:"w-20 h-6 bg-current opacity-20 rounded mr-4"}),t.jsxs("div",{className:"flex space-x-4",children:[t.jsx("div",{className:"w-16 h-4 bg-current opacity-60 rounded"}),t.jsx("div",{className:"w-16 h-4 bg-current opacity-60 rounded"}),t.jsx("div",{className:"w-16 h-4 bg-current opacity-60 rounded"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"h-4 bg-muted rounded w-1/3"}),t.jsx("div",{className:"h-3 bg-muted rounded w-2/3"}),t.jsx(te,{size:"sm",className:"rounded",style:{backgroundColor:o.primaryColor},children:"Sample Button"})]}),t.jsx("div",{className:"h-16 rounded flex items-center px-4",style:{backgroundColor:o.footerBackgroundColor,color:o.footerTextColor},children:t.jsx("div",{className:"w-32 h-3 bg-current opacity-60 rounded"})})]})})]})]})]})}),t.jsx(ct,{value:"custom",className:"space-y-6",children:t.jsxs($,{className:"cyber-border",children:[t.jsxs(oe,{children:[t.jsxs(le,{className:"flex items-center",children:[t.jsx(dx,{className:"h-5 w-5 mr-2"}),"Custom CSS & JavaScript"]}),t.jsx(Ct,{children:"Add custom styling and functionality to your platform"})]}),t.jsxs(q,{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"custom-css",children:"Custom CSS"}),t.jsx(Js,{id:"custom-css",value:o.customCss,onChange:v=>u("customCss",v.target.value),className:"font-mono text-sm min-h-[300px]",placeholder:`/* Enter your custom CSS here */
.custom-style {
  color: #8B5CF6;
  border: 1px solid rgba(139, 92, 246, 0.3);
}`,"data-testid":"textarea-custom-css"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Custom CSS will be injected into the page head"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"custom-js",children:"Custom JavaScript"}),t.jsx(Js,{id:"custom-js",value:o.customJs,onChange:v=>u("customJs",v.target.value),className:"font-mono text-sm min-h-[300px]",placeholder:`// Enter your custom JavaScript here
document.addEventListener('DOMContentLoaded', function() {
  console.log('Custom JS loaded');
});`,"data-testid":"textarea-custom-js"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Custom JavaScript will be loaded at the bottom of the page"})]})]}),t.jsx($,{className:"border-yellow-200 bg-yellow-50",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx(lr,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-yellow-800",children:"Custom Code Safety"}),t.jsxs("ul",{className:"text-sm text-yellow-700 mt-2 space-y-1",children:[t.jsx("li",{children:"• Test custom code thoroughly before applying to production"}),t.jsx("li",{children:"• Avoid inline styles that might conflict with existing CSS"}),t.jsx("li",{children:"• Use proper CSS selectors to avoid affecting unintended elements"}),t.jsx("li",{children:"• Backup your theme before making major changes"}),t.jsx("li",{children:"• Custom JavaScript can affect site performance and security"})]})]})]})})})]})]})}),t.jsx(ct,{value:"advanced",className:"space-y-6",children:t.jsxs($,{className:"cyber-border",children:[t.jsxs(oe,{children:[t.jsxs(le,{className:"flex items-center",children:[t.jsx(lr,{className:"h-5 w-5 mr-2"}),"Advanced Settings"]}),t.jsx(Ct,{children:"Theme management and advanced configuration options"})]}),t.jsxs(q,{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx("h3",{className:"font-medium",children:"Reset Theme"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Reset all theme settings to default values"})]}),t.jsxs(te,{variant:"destructive",onClick:()=>d.mutate(),disabled:d.isPending,"data-testid":"button-reset-theme",children:[t.jsx(bae,{className:"h-4 w-4 mr-2"}),"Reset Theme"]})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx("h3",{className:"font-medium",children:"Export Theme"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Download current theme configuration as JSON"})]}),t.jsxs(te,{variant:"outline",onClick:m,"data-testid":"button-export-theme-advanced",children:[t.jsx(xi,{className:"h-4 w-4 mr-2"}),"Export"]})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx("h3",{className:"font-medium",children:"Save Changes"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Apply all pending theme changes"})]}),t.jsxs(te,{onClick:()=>l.mutate({}),disabled:l.isPending,"data-testid":"button-save-changes",children:[t.jsx(Qv,{className:"h-4 w-4 mr-2"}),"Save All Changes"]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-medium",children:"Theme Information"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Home Style:"}),t.jsx(de,{variant:"outline",children:y(o.homeStyle)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Button Style:"}),t.jsx(de,{variant:"outline",children:o.buttonStyle})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Primary Color:"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-4 h-4 rounded border",style:{backgroundColor:o.primaryColor}}),t.jsx("span",{className:"font-mono",children:o.primaryColor})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Custom CSS:"}),t.jsx(de,{variant:"default",children:"Active"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Custom JS:"}),t.jsx(de,{variant:"default",children:"Active"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Logo:"}),t.jsx(de,{variant:"default",children:"Uploaded"})]})]})]})]})]})]})})]})]})}function qTe(){const[n,e]=R.useState(""),[s,r]=R.useState("all"),[a,i]=R.useState("all"),o=ps(),{toast:l}=Dn(),c=[{id:"1",userId:"user_1",username:"sarah_model",profileUrl:"/sarah_model",amount:"250.00",gateway:"Paxum",account:"sarah@paxum.com",status:"pending",date:"2025-01-15T10:00:00Z",createdAt:"2025-01-15T10:00:00Z"},{id:"2",userId:"user_2",username:"alex_creator",profileUrl:"/alex_creator",amount:"500.00",gateway:"Paxum Bank",account:"Paxum Bank (Dominica) - ****1234",status:"paid",datePaid:"2025-01-14T16:30:00Z",date:"2025-01-13T15:30:00Z",createdAt:"2025-01-13T15:30:00Z"},{id:"3",userId:"user_3",username:"maya_performer",profileUrl:"/maya_performer",amount:"150.00",gateway:"NOWPayments",account:"bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh",status:"rejected",rejectionReason:"Invalid crypto wallet address provided",date:"2025-01-12T12:00:00Z",createdAt:"2025-01-12T12:00:00Z"},{id:"4",userId:"user_4",username:"jenny_cam",profileUrl:"/jenny_cam",amount:"750.00",gateway:"Cosmo Payment",account:"jenny.cam@cosmopayment.com",status:"pending",date:"2025-01-11T09:00:00Z",createdAt:"2025-01-11T09:00:00Z"},{id:"5",userId:"user_5",username:"mike_streamer",profileUrl:"/mike_streamer",amount:"320.00",gateway:"ePayService",account:"mike.stream@epayservices.com",status:"paid",datePaid:"2025-01-10T14:20:00Z",date:"2025-01-09T14:20:00Z",createdAt:"2025-01-09T14:20:00Z"},{id:"6",userId:"user_6",username:"luna_artist",profileUrl:"/luna_artist",amount:"425.00",gateway:"Skrill",account:"luna.artist@skrill.com",status:"paid",datePaid:"2025-01-09T11:15:00Z",date:"2025-01-08T11:15:00Z",createdAt:"2025-01-08T11:15:00Z"},{id:"7",userId:"user_7",username:"cam_queen",profileUrl:"/cam_queen",amount:"890.00",gateway:"USDT/USDC",account:"0x742d35Cc6532C02bAB897C2e4d2e5a6b",status:"pending",date:"2025-01-07T16:45:00Z",createdAt:"2025-01-07T16:45:00Z"},{id:"8",userId:"user_8",username:"content_star",profileUrl:"/content_star",amount:"275.50",gateway:"Yoursafe",account:"NL91 ABNA 0417 1643 00 (Yoursafe IBAN)",status:"paid",datePaid:"2025-01-06T13:20:00Z",date:"2025-01-05T13:20:00Z",createdAt:"2025-01-05T13:20:00Z"}],d=kt({mutationFn:()=>Kt("/api/admin/withdrawals/refresh","POST"),onSuccess:()=>{o.invalidateQueries({queryKey:["/api/admin/withdrawals"]}),l({title:"Withdrawal data refreshed"})}}),u=kt({mutationFn:b=>Kt("/api/admin/withdrawals/export","POST",b),onSuccess:b=>{l({title:"Export generated successfully"})}}),h=c.filter(b=>{const A=!n||b.username.toLowerCase().includes(n.toLowerCase())||b.id.includes(n)||b.account.toLowerCase().includes(n.toLowerCase()),S=s==="all"||b.status===s,w=a==="all"||b.gateway===a;return A&&S&&w}),m=b=>{const A={pending:"outline",paid:"default",rejected:"destructive"};return t.jsx(de,{variant:A[b]||"secondary",children:b==="pending"?"Pending to Pay":b.charAt(0).toUpperCase()+b.slice(1)})},y=b=>b==="Bank"?"Bank Transfer":b,j=(()=>{const b=c.length,A=c.filter(E=>E.status==="pending").length,S=c.reduce((E,T)=>E+parseFloat(T.amount),0),w=c.filter(E=>E.status==="pending").reduce((E,T)=>E+parseFloat(T.amount),0);return{totalRequests:b,pendingRequests:A,totalAmount:S,pendingAmount:w}})(),v=()=>{u.mutate({status:s,gateway:a,search:n})};return t.jsxs("div",{className:"container mx-auto p-6 space-y-6","data-testid":"withdrawal-management",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"Withdrawal Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage creator withdrawal requests and payment processing"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(te,{variant:"outline",onClick:v,disabled:u.isPending,"data-testid":"button-export",children:[t.jsx(xi,{className:"h-4 w-4 mr-2"}),"Export"]}),t.jsxs(te,{variant:"outline",onClick:()=>d.mutate(),disabled:d.isPending,"data-testid":"button-refresh",children:[t.jsx(Zo,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ko,{className:"h-8 w-8 text-primary"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Total Requests"}),t.jsx("p",{className:"text-2xl font-bold",children:j.totalRequests})]})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(As,{className:"h-8 w-8 text-yellow-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Pending"}),t.jsx("p",{className:"text-2xl font-bold",children:j.pendingRequests})]})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Jr,{className:"h-8 w-8 text-green-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Total Amount"}),t.jsxs("p",{className:"text-2xl font-bold",children:["$",j.totalAmount.toFixed(2)]})]})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(or,{className:"h-8 w-8 text-blue-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Pending Amount"}),t.jsxs("p",{className:"text-2xl font-bold",children:["$",j.pendingAmount.toFixed(2)]})]})]})})})]}),t.jsxs($,{className:"cyber-border",children:[t.jsxs(oe,{children:[t.jsxs(le,{children:["Withdrawal Requests (",h.length,")"]}),t.jsx(Ct,{children:"Review and process creator withdrawal requests"})]}),t.jsxs(q,{children:[t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(jr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Fe,{placeholder:"Search by username, ID, or account...",value:n,onChange:b=>e(b.target.value),className:"pl-10","data-testid":"input-search"})]}),t.jsxs(sn,{value:s,onValueChange:r,children:[t.jsx(en,{className:"w-[180px]","data-testid":"select-status-filter",children:t.jsx(rn,{placeholder:"Filter by status"})}),t.jsxs(tn,{children:[t.jsx(re,{value:"all",children:"All Status"}),t.jsx(re,{value:"pending",children:"Pending"}),t.jsx(re,{value:"paid",children:"Paid"}),t.jsx(re,{value:"rejected",children:"Rejected"})]})]}),t.jsxs(sn,{value:a,onValueChange:i,children:[t.jsx(en,{className:"w-[180px]","data-testid":"select-gateway-filter",children:t.jsx(rn,{placeholder:"Filter by gateway"})}),t.jsxs(tn,{className:"max-h-[400px] overflow-y-auto",children:[t.jsx(re,{value:"all",children:"All Gateways"}),t.jsx(re,{value:"Paxum",children:"Paxum - E-wallet + card; $5 withdrawal"}),t.jsx(re,{value:"Cosmo Payment",children:"Cosmo Payment - Wallet + prepaid Visa; $3–6 withdrawals"}),t.jsx(re,{value:"ePayService",children:"ePayService - Wallet + card; €1 SEPA, $2–3 ATM"}),t.jsx(re,{value:"Yoursafe",children:"Yoursafe (Bitsafe) - EU IBAN accounts; €4/mo"}),t.jsx(re,{value:"MassPay",children:"MassPay - API for global payouts"}),t.jsx(re,{value:"Skrill",children:"Skrill - E-wallet + card; ~2.5% merchant fee"}),t.jsx(re,{value:"Neteller",children:"Neteller - Sister of Skrill; adult/gambling crossover"}),t.jsx(re,{value:"Payoneer",children:"Payoneer - Global payouts; $3 bank withdrawal"}),t.jsx(re,{value:"ACH/SEPA",children:"Direct Deposit/ACH/SEPA - Traditional bank transfers"}),t.jsx(re,{value:"NOWPayments",children:"NOWPayments - Adult-friendly; 100+ cryptos; 0.5% fee"}),t.jsx(re,{value:"CoinPayments",children:"CoinPayments - 75+ cryptos; 0.5–1% fees"}),t.jsx(re,{value:"CoinGate",children:"CoinGate - 1% fee; Bitcoin/Ethereum/etc."}),t.jsx(re,{value:"BTCPay Server",children:"BTCPay Server - Open-source, self-hosted; 0% fee"}),t.jsx(re,{value:"PayRam",children:"PayRam - Non-custodial; 0% fee"}),t.jsx(re,{value:"Confirmo",children:"Confirmo - EU-based; ~1% fee"}),t.jsx(re,{value:"USDT/USDC",children:"Stablecoin Payouts (USDT/USDC) - Direct to wallets"}),t.jsx(re,{value:"Paxum Bank",children:"Paxum Bank (Dominica) - Offshore bank for adult industry"}),t.jsx(re,{value:"Credit Unions",children:"Select Credit Unions - US adult entertainer banking"}),t.jsx(re,{value:"Crypto Banks",children:"Crypto-Friendly Banks - Bank Frick (Liechtenstein)"}),t.jsx(re,{value:"Alt Fintech",children:"Alt Fintech Options - Wise, Revolut Business"}),t.jsx(re,{value:"PayPal",children:"PayPal (Legacy)"}),t.jsx(re,{value:"Bank",children:"Bank Transfer (Legacy)"}),t.jsx(re,{value:"Bitcoin",children:"Bitcoin (Legacy)"}),t.jsx(re,{value:"Zelle",children:"Zelle (Legacy)"}),t.jsx(re,{value:"Western Union",children:"Western Union (Legacy)"}),t.jsx(re,{value:"Mercado Pago",children:"Mercado Pago (Legacy)"})]})]})]}),t.jsx("div",{className:"border rounded-lg",children:t.jsxs(Ar,{children:[t.jsx(Cr,{children:t.jsxs(Vn,{children:[t.jsx(He,{children:"ID"}),t.jsx(He,{children:"User"}),t.jsx(He,{children:"Amount"}),t.jsx(He,{children:"Method"}),t.jsx(He,{children:"Status"}),t.jsx(He,{children:"Date"}),t.jsx(He,{children:"Actions"})]})}),t.jsx(Tr,{children:h.length>0?h.map(b=>t.jsxs(Vn,{children:[t.jsx(Ve,{className:"font-mono",children:b.id}),t.jsx(Ve,{children:b.profileUrl?t.jsx(vn,{href:b.profileUrl,children:t.jsxs(te,{variant:"link",className:"p-0 h-auto text-left",children:[b.username,t.jsx(Mn,{className:"h-3 w-3 ml-1"})]})}):t.jsx("span",{className:"text-muted-foreground",children:"No Available"})}),t.jsx(Ve,{children:t.jsxs("div",{className:"font-medium",children:["$",b.amount]})}),t.jsx(Ve,{children:y(b.gateway)}),t.jsx(Ve,{children:m(b.status)}),t.jsx(Ve,{children:new Date(b.date).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"})}),t.jsx(Ve,{children:t.jsx(vn,{href:`/withdrawal-view/${b.id}`,children:t.jsxs(te,{variant:"outline",size:"sm","data-testid":`button-view-${b.id}`,children:[t.jsx(Mn,{className:"h-4 w-4 mr-1"}),"View"]})})})]},b.id)):t.jsx(Vn,{children:t.jsx(Ve,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:t.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[t.jsx(ln,{className:"h-8 w-8"}),t.jsx("span",{children:"No results found"}),(n||s!=="all"||a!=="all")&&t.jsx(te,{variant:"link",onClick:()=>{e(""),r("all"),i("all")},"data-testid":"button-clear-filters",children:"Clear filters"})]})})})})]})})]})]})]})}function WTe(){const{id:n}=LA(),[e,s]=R.useState(""),[r,a]=R.useState(!1),i=ps(),{toast:o}=Dn(),l={id:n||"1",username:"sarah_model",profileUrl:"/sarah_model",userFullName:"Sarah Johnson",userCountry:"United States",amount:"250.00",gateway:"PayPal",account:"sarah@example.com",status:"pending",date:"2025-01-15T10:00:00Z"},c=kt({mutationFn:b=>Kt(`/api/admin/withdrawals/${b}/mark-paid`,"POST"),onSuccess:()=>{i.invalidateQueries({queryKey:["/api/admin/withdrawals"]}),o({title:"Withdrawal marked as paid successfully"})}}),d=kt({mutationFn:b=>Kt(`/api/admin/withdrawals/${b.withdrawalId}/reject`,"POST",{reason:b.reason}),onSuccess:()=>{i.invalidateQueries({queryKey:["/api/admin/withdrawals"]}),o({title:"Withdrawal rejected successfully"}),a(!1),s("")}}),u=b=>{navigator.clipboard.writeText(b),o({title:"Copied to clipboard"})},h=b=>{switch(b){case"PayPal":return t.jsx(Ko,{className:"h-5 w-5 text-blue-600"});case"Payoneer":return t.jsx(Ko,{className:"h-5 w-5 text-orange-500"});case"Zelle":return t.jsx(zj,{className:"h-5 w-5 text-purple-600"});case"Western Union":return t.jsx(Er,{className:"h-5 w-5 text-yellow-600"});case"Bitcoin":return t.jsx(uj,{className:"h-5 w-5 text-orange-400"});case"Mercado Pago":return t.jsx(Ko,{className:"h-5 w-5 text-blue-500"});case"Bank":return t.jsx(Fre,{className:"h-5 w-5 text-green-600"});default:return t.jsx(Ko,{className:"h-5 w-5"})}},m=b=>{const A={pending:"outline",paid:"default",rejected:"destructive"};return t.jsx(de,{variant:A[b],children:"Pending to Pay"})},y=b=>{switch(b){case"PayPal":return"PayPal Account";case"Payoneer":return"Payoneer Account";case"Zelle":return"Zelle Account";case"Western Union":return"Document ID";case"Bitcoin":return"Bitcoin Wallet";case"Mercado Pago":return"Alias MP";case"Bank":return"Bank Details";default:return"Account"}},N=()=>{switch(l.gateway){case"Western Union":return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-3 gap-4 py-3 border-b",children:[t.jsx("dt",{className:"text-sm font-medium text-muted-foreground",children:"Full Name"}),t.jsx("dd",{className:"text-sm col-span-2",children:l.userFullName})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 py-3 border-b",children:[t.jsx("dt",{className:"text-sm font-medium text-muted-foreground",children:"Country"}),t.jsx("dd",{className:"text-sm col-span-2",children:l.userCountry})]})]});case"Mercado Pago":return t.jsxs("div",{className:"grid grid-cols-3 gap-4 py-3 border-b",children:[t.jsx("dt",{className:"text-sm font-medium text-muted-foreground",children:"No. CVU"}),t.jsx("dd",{className:"text-sm col-span-2",children:l.additionalInfo?.cvu||"No Available"})]});default:return null}},j=()=>{c.mutate(l.id)},v=()=>{if(!e.trim()){o({title:"Please provide a rejection reason",variant:"destructive"});return}d.mutate({withdrawalId:l.id,reason:e})};return t.jsxs("div",{className:"container mx-auto p-6 space-y-6","data-testid":"withdrawal-view",children:[t.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-4",children:[t.jsx(vn,{href:"/dashboard",className:"hover:text-foreground",children:"Dashboard"}),t.jsx("span",{className:"mx-2",children:"›"}),t.jsx(vn,{href:"/withdrawal-management",className:"hover:text-foreground",children:"Withdrawals"}),t.jsx("span",{className:"mx-2",children:"›"}),t.jsxs("span",{className:"text-foreground",children:["#",l.id]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-3xl font-bold cyber-text-glow",children:["Withdrawal Request #",l.id]}),t.jsx("p",{className:"text-muted-foreground",children:"Detailed view and processing controls for withdrawal request"})]}),t.jsx(vn,{href:"/withdrawal-management",children:t.jsxs(te,{variant:"outline","data-testid":"button-back",children:[t.jsx(cd,{className:"h-4 w-4 mr-2"}),"Back to Withdrawals"]})})]}),t.jsxs($,{className:"cyber-border",children:[t.jsx(oe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[h(l.gateway),t.jsxs("div",{children:[t.jsx(le,{children:"Withdrawal Details"}),t.jsxs(Ct,{children:[l.gateway," ","withdrawal request"]})]})]}),m(l.status)]})}),t.jsxs(q,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-3 gap-4 py-3 border-b",children:[t.jsx("dt",{className:"text-sm font-medium text-muted-foreground",children:"User"}),t.jsx("dd",{className:"text-sm col-span-2",children:t.jsx(vn,{href:l.profileUrl,children:t.jsxs(te,{variant:"link",className:"p-0 h-auto text-left",children:[l.username,t.jsx(vh,{className:"h-3 w-3 ml-1"})]})})})]}),N(),t.jsxs("div",{className:"grid grid-cols-3 gap-4 py-3 border-b",children:[t.jsx("dt",{className:"text-sm font-medium text-muted-foreground",children:y(l.gateway)}),t.jsx("dd",{className:"text-sm col-span-2",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"font-mono bg-muted px-2 py-1 rounded",children:l.account}),t.jsx(te,{variant:"ghost",size:"sm",onClick:()=>u(l.account),className:"h-6 w-6 p-0",children:t.jsx(Wd,{className:"h-3 w-3"})})]})})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 py-3 border-b",children:[t.jsx("dt",{className:"text-sm font-medium text-muted-foreground",children:"Amount"}),t.jsx("dd",{className:"text-sm col-span-2",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Jr,{className:"h-4 w-4 text-green-600"}),t.jsxs("span",{className:"text-xl font-bold text-green-600",children:["$",l.amount]})]})})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 py-3 border-b",children:[t.jsx("dt",{className:"text-sm font-medium text-muted-foreground",children:"Date"}),t.jsx("dd",{className:"text-sm col-span-2",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Q0,{className:"h-4 w-4"}),t.jsx("span",{children:new Date(l.date).toLocaleDateString("en-US",{day:"numeric",month:"long",year:"numeric"})})]})})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 py-3 border-b",children:[t.jsx("dt",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),t.jsx("dd",{className:"text-sm col-span-2",children:m(l.status)})]}),l.status==="paid",l.status==="rejected",t.jsxs("div",{className:"flex items-center space-x-4 pt-4 border-t",children:[t.jsxs(te,{onClick:j,disabled:c.isPending,className:"bg-green-600 hover:bg-green-700","data-testid":"button-mark-paid",children:[t.jsx(xn,{className:"h-4 w-4 mr-2"}),"Mark Paid"]}),t.jsxs(pi,{open:r,onOpenChange:a,children:[t.jsx(Qo,{asChild:!0,children:t.jsxs(te,{variant:"destructive","data-testid":"button-reject",children:[t.jsx(Vs,{className:"h-4 w-4 mr-2"}),"Reject"]})}),t.jsxs(Ka,{children:[t.jsxs(Xa,{children:[t.jsx(Za,{children:"Reject Withdrawal"}),t.jsx(Sl,{children:"Please provide a reason for rejecting this withdrawal request."})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"reason",children:"Rejection Reason"}),t.jsx(Js,{id:"reason",value:e,onChange:b=>s(b.target.value),placeholder:"Enter reason for rejection...",maxLength:250,rows:4,"data-testid":"textarea-reject-reason"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"This information will be sent to the user to explain why their withdrawal was rejected."})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx(te,{variant:"outline",onClick:()=>a(!1),"data-testid":"button-cancel-reject",children:"Cancel"}),t.jsx(te,{variant:"destructive",onClick:v,disabled:d.isPending||!e.trim(),"data-testid":"button-confirm-reject",children:"Reject Withdrawal"})]})]})]})]})]})]})]}),t.jsx($,{className:"cyber-border border-blue-200 bg-blue-50",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx(ln,{className:"h-5 w-5 text-blue-600 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-blue-800",children:"Payment Processing Guidelines"}),t.jsxs("ul",{className:"text-sm text-blue-700 mt-2 space-y-1",children:[t.jsx("li",{children:"• Verify user identity and account details before processing"}),t.jsx("li",{children:"• Ensure compliance with payment gateway terms and conditions"}),t.jsx("li",{children:"• Document transaction IDs and processing notes for audit trails"}),t.jsx("li",{children:"• Check for suspicious activity or unusual withdrawal patterns"}),t.jsx("li",{children:"• Adult content creators may have special withdrawal restrictions"})]})]})]})})})]})}function KTe(){const[n,e]=R.useState(""),[s,r]=R.useState("all"),[a,i]=R.useState(null),[o,l]=R.useState(!1),c=ps(),{toast:d}=Dn(),u=[{id:"1",templateName:"Welcome Email",subject:"Welcome to {{site_name}}!",htmlContent:`
        <h1>Welcome {{user_name}}!</h1>
        <p>Thank you for joining {{site_name}}. We're excited to have you on board.</p>
        <p>To get started, please verify your email address by clicking the button below:</p>
        <a href="{{verification_url}}" style="background: #3869D4; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">Verify Email</a>
      `,textContent:"Welcome {{user_name}}! Thank you for joining {{site_name}}.",variables:["user_name","site_name","verification_url"],isActive:!0,category:"auth",createdAt:"2025-01-10T10:00:00Z",updatedAt:"2025-01-15T14:30:00Z"},{id:"2",templateName:"Password Reset",subject:"Reset Your Password - {{site_name}}",htmlContent:`
        <h1>Password Reset Request</h1>
        <p>Hi {{user_name}},</p>
        <p>You requested a password reset for your account. Click the button below to reset your password:</p>
        <a href="{{reset_url}}" style="background: #3869D4; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">Reset Password</a>
        <p>If you didn't request this, please ignore this email.</p>
      `,variables:["user_name","site_name","reset_url"],isActive:!0,category:"auth",createdAt:"2025-01-10T10:00:00Z",updatedAt:"2025-01-15T14:30:00Z"},{id:"3",templateName:"Email Verification",subject:"Verify Your Email Address - {{site_name}}",htmlContent:`
        <h1>Verify Your Email Address</h1>
        <p>Welcome to {{site_name}}!</p>
        <p>Please click the link below to verify your email address:</p>
        <a href="{{verification_url}}" style="background: #3869D4; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">Verify Email</a>
        <p>Or copy and paste this URL: {{verification_url}}</p>
      `,variables:["site_name","verification_url"],isActive:!0,category:"auth",createdAt:"2025-01-10T10:00:00Z",updatedAt:"2025-01-15T14:30:00Z"},{id:"4",templateName:"Withdrawal Processed",subject:"Your withdrawal has been processed",htmlContent:`
        <h1>Hello {{user_name}}</h1>
        <p>Your withdrawal request for <strong>{{amount}}</strong> has been successfully processed and sent to your account.</p>
        <p>Thank you for using our platform!</p>
      `,variables:["user_name","amount"],isActive:!0,category:"notification",createdAt:"2025-01-12T15:00:00Z",updatedAt:"2025-01-12T15:00:00Z"},{id:"5",templateName:"Withdrawal Rejected",subject:"Your withdrawal has been rejected",htmlContent:`
        <h1>Hello {{user_name}}</h1>
        <p>Unfortunately, your withdrawal request has been rejected for the following reason:</p>
        <p><em>{{rejection_reason}}</em></p>
        <p>Please review the reason and contact support if you need assistance.</p>
      `,variables:["user_name","rejection_reason"],isActive:!0,category:"notification",createdAt:"2025-01-12T15:00:00Z",updatedAt:"2025-01-12T15:00:00Z"},{id:"6",templateName:"Transfer Verification",subject:"Transfer Verification Required",htmlContent:`
        <h1>Hello {{user_name}}</h1>
        <p>{{message_body}}</p>
        <p>{{action_link}}</p>
        <p>If you need assistance, please contact our support team.</p>
      `,variables:["user_name","message_body","action_link"],isActive:!0,category:"system",createdAt:"2025-01-12T15:00:00Z",updatedAt:"2025-01-12T15:00:00Z"},{id:"7",templateName:"New Subscriber Notification",subject:"You have a new subscriber!",htmlContent:`
        <h1>Great news, {{creator_name}}!</h1>
        <p>{{subscriber_name}} just subscribed to your content.</p>
        <p>You now have {{total_subscribers}} total subscribers.</p>
        <a href="{{subscribers_url}}" style="background: #3869D4; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">View Subscribers</a>
      `,variables:["creator_name","subscriber_name","total_subscribers","subscribers_url"],isActive:!0,category:"notification",createdAt:"2025-01-12T15:00:00Z",updatedAt:"2025-01-12T15:00:00Z"}],h=[{id:"1",recipientEmail:"user@example.com",recipientName:"John Doe",templateId:"1",templateName:"Welcome Email",subject:"Welcome to FanzDash!",status:"delivered",provider:"sendgrid",sentAt:"2025-01-15T10:30:00Z",deliveredAt:"2025-01-15T10:31:00Z",openedAt:"2025-01-15T11:00:00Z",createdAt:"2025-01-15T10:30:00Z"},{id:"2",recipientEmail:"creator@example.com",recipientName:"Sarah Model",templateId:"3",templateName:"New Subscriber Notification",subject:"You have a new subscriber!",status:"sent",provider:"sendgrid",sentAt:"2025-01-15T12:00:00Z",createdAt:"2025-01-15T12:00:00Z"},{id:"3",recipientEmail:"failed@example.com",subject:"Password Reset Request",status:"failed",provider:"sendgrid",errorMessage:"Invalid email address",createdAt:"2025-01-15T14:00:00Z"}];kt({mutationFn:v=>Kt("/api/admin/email-templates","POST",v),onSuccess:()=>{c.invalidateQueries({queryKey:["/api/admin/email-templates"]}),d({title:"Template created successfully"}),l(!1)}});const m=u.filter(v=>{const b=!n||v.templateName.toLowerCase().includes(n.toLowerCase())||v.subject.toLowerCase().includes(n.toLowerCase()),A=s==="all"||v.category===s;return b&&A}),y=v=>{const A={pending:{variant:"outline",color:"text-yellow-600",icon:As},sent:{variant:"default",color:"text-blue-600",icon:$f},delivered:{variant:"default",color:"text-green-600",icon:xn},failed:{variant:"destructive",color:"text-red-600",icon:Vs},bounced:{variant:"destructive",color:"text-orange-600",icon:ln}}[v];if(!A)return t.jsx(de,{variant:"secondary",children:v});const S=A.icon;return t.jsxs(de,{variant:A.variant,className:"flex items-center space-x-1",children:[t.jsx(S,{className:"h-3 w-3"}),t.jsx("span",{children:v.charAt(0).toUpperCase()+v.slice(1)})]})},j=(()=>{const v=h.length,b=h.filter(w=>w.status==="delivered").length,A=h.filter(w=>w.status==="failed"||w.status==="bounced").length,S=v>0?Math.round(b/v*100):0;return{totalEmails:v,deliveredEmails:b,failedEmails:A,deliveryRate:S}})();return t.jsxs("div",{className:"container mx-auto p-6 space-y-6","data-testid":"email-management",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"Email Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage email templates, send campaigns, and monitor delivery"})]}),t.jsxs(pi,{open:o,onOpenChange:l,children:[t.jsx(Qo,{asChild:!0,children:t.jsxs(te,{"data-testid":"button-new-template",children:[t.jsx(oa,{className:"h-4 w-4 mr-2"}),"New Template"]})}),t.jsxs(Ka,{className:"max-w-2xl",children:[t.jsxs(Xa,{children:[t.jsx(Za,{children:"Create Email Template"}),t.jsx(Sl,{children:"Create a new email template with dynamic variables"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{children:"Template Name"}),t.jsx(Fe,{placeholder:"Enter template name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{children:"Category"}),t.jsxs(sn,{children:[t.jsx(en,{children:t.jsx(rn,{placeholder:"Select category"})}),t.jsxs(tn,{children:[t.jsx(re,{value:"auth",children:"Authentication"}),t.jsx(re,{value:"notification",children:"Notification"}),t.jsx(re,{value:"marketing",children:"Marketing"}),t.jsx(re,{value:"system",children:"System"})]})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{children:"Subject Line"}),t.jsx(Fe,{placeholder:"Email subject with {{variables}}"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{children:"HTML Content"}),t.jsx(Js,{placeholder:"HTML email content with {{variables}}",className:"min-h-[200px]"})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx(te,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),t.jsx(te,{children:"Create Template"})]})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Kd,{className:"h-8 w-8 text-primary"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Total Emails"}),t.jsx("p",{className:"text-2xl font-bold",children:j.totalEmails})]})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(xn,{className:"h-8 w-8 text-green-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Delivered"}),t.jsx("p",{className:"text-2xl font-bold",children:j.deliveredEmails})]})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Vs,{className:"h-8 w-8 text-red-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Failed"}),t.jsx("p",{className:"text-2xl font-bold",children:j.failedEmails})]})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(la,{className:"h-8 w-8 text-blue-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Delivery Rate"}),t.jsxs("p",{className:"text-2xl font-bold",children:[j.deliveryRate,"%"]})]})]})})})]}),t.jsxs(Xs,{defaultValue:"templates",className:"space-y-4",children:[t.jsxs($s,{children:[t.jsx(lt,{value:"templates",children:"Email Templates"}),t.jsx(lt,{value:"logs",children:"Email Logs"}),t.jsx(lt,{value:"settings",children:"Email Settings"})]}),t.jsx(ct,{value:"templates",className:"space-y-4",children:t.jsxs($,{className:"cyber-border",children:[t.jsxs(oe,{children:[t.jsxs(le,{children:["Email Templates (",m.length,")"]}),t.jsx(Ct,{children:"Manage reusable email templates with dynamic variables"})]}),t.jsxs(q,{children:[t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(jr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Fe,{placeholder:"Search templates...",value:n,onChange:v=>e(v.target.value),className:"pl-10","data-testid":"input-search-templates"})]}),t.jsxs(sn,{value:s,onValueChange:r,children:[t.jsx(en,{className:"w-[180px]","data-testid":"select-category-filter",children:t.jsx(rn,{placeholder:"Filter by category"})}),t.jsxs(tn,{children:[t.jsx(re,{value:"all",children:"All Categories"}),t.jsx(re,{value:"auth",children:"Authentication"}),t.jsx(re,{value:"notification",children:"Notification"}),t.jsx(re,{value:"marketing",children:"Marketing"}),t.jsx(re,{value:"system",children:"System"})]})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map(v=>t.jsx($,{className:"border",children:t.jsxs(q,{className:"p-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold",children:v.templateName}),t.jsx("p",{className:"text-sm text-muted-foreground truncate",children:v.subject})]}),t.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[t.jsx(de,{variant:v.category==="auth"?"default":"secondary",children:v.category}),t.jsx(fn,{checked:v.isActive})]})]}),t.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground mb-3",children:[t.jsxs("span",{children:[v.variables.length," variables"]}),t.jsx("span",{children:new Date(v.updatedAt).toLocaleDateString()})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs(te,{variant:"outline",size:"sm",className:"flex-1",children:[t.jsx(Mn,{className:"h-3 w-3 mr-1"}),"Preview"]}),t.jsxs(te,{variant:"outline",size:"sm",className:"flex-1",children:[t.jsx(Oi,{className:"h-3 w-3 mr-1"}),"Edit"]}),t.jsx(te,{variant:"outline",size:"sm",children:t.jsx(Wd,{className:"h-3 w-3"})})]})]})},v.id))})]})]})}),t.jsx(ct,{value:"logs",className:"space-y-4",children:t.jsxs($,{className:"cyber-border",children:[t.jsxs(oe,{children:[t.jsx(le,{children:"Email Logs"}),t.jsx(Ct,{children:"Monitor email delivery status and performance"})]}),t.jsx(q,{children:t.jsx("div",{className:"border rounded-lg",children:t.jsxs(Ar,{children:[t.jsx(Cr,{children:t.jsxs(Vn,{children:[t.jsx(He,{children:"Recipient"}),t.jsx(He,{children:"Template"}),t.jsx(He,{children:"Subject"}),t.jsx(He,{children:"Status"}),t.jsx(He,{children:"Provider"}),t.jsx(He,{children:"Sent"})]})}),t.jsx(Tr,{children:h.map(v=>t.jsxs(Vn,{children:[t.jsx(Ve,{children:t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:v.recipientName||"Unknown"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:v.recipientEmail})]})}),t.jsx(Ve,{children:v.templateName?t.jsx(de,{variant:"outline",children:v.templateName}):t.jsx("span",{className:"text-muted-foreground",children:"Custom"})}),t.jsx(Ve,{className:"max-w-[200px] truncate",children:v.subject}),t.jsx(Ve,{children:y(v.status)}),t.jsx(Ve,{className:"capitalize",children:v.provider}),t.jsx(Ve,{children:v.sentAt?new Date(v.sentAt).toLocaleString():"-"})]},v.id))})]})})})]})}),t.jsx(ct,{value:"settings",className:"space-y-4",children:t.jsxs($,{className:"cyber-border",children:[t.jsxs(oe,{children:[t.jsx(le,{children:"Email Settings"}),t.jsx(Ct,{children:"Configure email providers and delivery settings"})]}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"SendGrid Configuration"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{children:"API Key"}),t.jsx(Fe,{type:"password",placeholder:"Enter SendGrid API key"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{children:"From Email"}),t.jsx(Fe,{placeholder:"noreply@yourdomain.com"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{children:"From Name"}),t.jsx(Fe,{placeholder:"Your Platform Name"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Delivery Settings"}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Pe,{children:"Enable Email Notifications"}),t.jsx(fn,{defaultChecked:!0})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Pe,{children:"Track Email Opens"}),t.jsx(fn,{defaultChecked:!0})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Pe,{children:"Track Link Clicks"}),t.jsx(fn,{defaultChecked:!0})]})]})]}),t.jsx(te,{children:"Save Settings"})]})})]})})]})]})}function XTe(){const[n,e]=R.useState(""),[s,r]=R.useState("all"),[a,i]=R.useState("all"),[o,l]=R.useState(null),c=ps(),{toast:d}=Dn(),u=[{id:"1",username:"sarah_model",email:"sarah@example.com",name:"Sarah Johnson",avatar:"/api/placeholder/40/40",role:"creator",status:"active",isVerified:!0,emailVerified:!0,phoneVerified:!0,identityVerified:!0,lastLoginAt:"2025-01-15T14:30:00Z",createdAt:"2024-08-15T10:00:00Z",totalEarnings:15420.5,subscriberCount:1250},{id:"2",username:"alex_creator",email:"alex@example.com",name:"Alex Thompson",role:"creator",status:"active",isVerified:!1,emailVerified:!0,phoneVerified:!1,identityVerified:!1,lastLoginAt:"2025-01-15T12:00:00Z",createdAt:"2024-12-01T15:30:00Z",totalEarnings:2840,subscriberCount:340},{id:"3",username:"user123",email:"user@example.com",name:"John Doe",role:"user",status:"active",isVerified:!1,emailVerified:!0,phoneVerified:!1,identityVerified:!1,lastLoginAt:"2025-01-14T18:45:00Z",createdAt:"2025-01-10T09:15:00Z"},{id:"4",username:"suspended_user",email:"suspended@example.com",name:"Suspended User",role:"creator",status:"suspended",isVerified:!1,emailVerified:!0,phoneVerified:!1,identityVerified:!1,createdAt:"2024-06-20T11:00:00Z"}],h=[{id:"1",userId:"2",username:"alex_creator",verificationType:"identity",verificationValue:"ID Document",status:"pending",submittedAt:"2025-01-14T10:00:00Z",documents:["id-front.jpg","id-back.jpg"]},{id:"2",userId:"3",username:"user123",verificationType:"email",verificationValue:"user@example.com",status:"verified",submittedAt:"2025-01-10T09:20:00Z",verifiedAt:"2025-01-10T09:25:00Z"}],m=[{id:"1",name:"Jane Smith",email:"jane@example.com",subject:"Account verification issue",message:"I'm having trouble verifying my account. The verification email never arrived.",status:"new",priority:"high",createdAt:"2025-01-15T16:30:00Z"},{id:"2",name:"Mike Wilson",email:"mike@example.com",subject:"Payment processing question",message:"When will my withdrawal be processed? It's been 5 days.",status:"replied",priority:"normal",createdAt:"2025-01-14T14:00:00Z",respondedAt:"2025-01-14T16:30:00Z"}];kt({mutationFn:S=>Kt(`/api/admin/users/${S.userId}`,"PATCH",S.updates),onSuccess:()=>{c.invalidateQueries({queryKey:["/api/admin/users"]}),d({title:"User updated successfully"})}});const y=u.filter(S=>{const w=!n||S.username.toLowerCase().includes(n.toLowerCase())||S.email.toLowerCase().includes(n.toLowerCase())||S.name.toLowerCase().includes(n.toLowerCase()),E=s==="all"||S.status===s,T=a==="all"||S.role===a;return w&&E&&T}),N=S=>{const E={active:{variant:"default",color:"text-green-600"},suspended:{variant:"destructive",color:"text-yellow-600"},banned:{variant:"destructive",color:"text-red-600"},pending:{variant:"outline",color:"text-gray-600"}}[S];return t.jsx(de,{variant:E?.variant||"secondary",children:S.charAt(0).toUpperCase()+S.slice(1)})},j=S=>{const w={admin:"destructive",moderator:"default",creator:"default",user:"secondary"};return t.jsx(de,{variant:w[S]||"secondary",children:S.charAt(0).toUpperCase()+S.slice(1)})},v=S=>{const w=[{type:"Email",verified:S.emailVerified,icon:Kd},{type:"Phone",verified:S.phoneVerified,icon:kv},{type:"Identity",verified:S.identityVerified,icon:En}];return t.jsx("div",{className:"flex space-x-1",children:w.map(E=>{const T=E.icon;return t.jsx("div",{className:`p-1 rounded-full ${E.verified?"bg-green-100 text-green-600":"bg-gray-100 text-gray-400"}`,title:`${E.type} ${E.verified?"Verified":"Not Verified"}`,children:t.jsx(T,{className:"h-3 w-3"})},E.type)})})},A=(()=>{const S=u.length,w=u.filter(P=>P.status==="active").length,E=u.filter(P=>P.role==="creator").length,T=h.filter(P=>P.status==="pending").length;return{totalUsers:S,activeUsers:w,creators:E,pendingVerifications:T}})();return t.jsxs("div",{className:"container mx-auto p-6 space-y-6","data-testid":"user-management",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"User Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage user accounts, verifications, and platform access"})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(er,{className:"h-8 w-8 text-primary"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Total Users"}),t.jsx("p",{className:"text-2xl font-bold",children:A.totalUsers})]})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(xn,{className:"h-8 w-8 text-green-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Active Users"}),t.jsx("p",{className:"text-2xl font-bold",children:A.activeUsers})]})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Wp,{className:"h-8 w-8 text-blue-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Creators"}),t.jsx("p",{className:"text-2xl font-bold",children:A.creators})]})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(As,{className:"h-8 w-8 text-yellow-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Pending Verifications"}),t.jsx("p",{className:"text-2xl font-bold",children:A.pendingVerifications})]})]})})})]}),t.jsxs(Xs,{defaultValue:"users",className:"space-y-4",children:[t.jsxs($s,{children:[t.jsx(lt,{value:"users",children:"User Accounts"}),t.jsx(lt,{value:"verifications",children:"Verifications"}),t.jsx(lt,{value:"messages",children:"Contact Messages"}),t.jsx(lt,{value:"activity",children:"User Activity"})]}),t.jsx(ct,{value:"users",className:"space-y-4",children:t.jsxs($,{className:"cyber-border",children:[t.jsxs(oe,{children:[t.jsxs(le,{children:["User Accounts (",y.length,")"]}),t.jsx(Ct,{children:"Manage user accounts, roles, and platform access"})]}),t.jsxs(q,{children:[t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(jr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Fe,{placeholder:"Search users...",value:n,onChange:S=>e(S.target.value),className:"pl-10","data-testid":"input-search-users"})]}),t.jsxs(sn,{value:s,onValueChange:r,children:[t.jsx(en,{className:"w-[180px]","data-testid":"select-status-filter",children:t.jsx(rn,{placeholder:"Filter by status"})}),t.jsxs(tn,{children:[t.jsx(re,{value:"all",children:"All Status"}),t.jsx(re,{value:"active",children:"Active"}),t.jsx(re,{value:"suspended",children:"Suspended"}),t.jsx(re,{value:"banned",children:"Banned"}),t.jsx(re,{value:"pending",children:"Pending"})]})]}),t.jsxs(sn,{value:a,onValueChange:i,children:[t.jsx(en,{className:"w-[180px]","data-testid":"select-role-filter",children:t.jsx(rn,{placeholder:"Filter by role"})}),t.jsxs(tn,{children:[t.jsx(re,{value:"all",children:"All Roles"}),t.jsx(re,{value:"admin",children:"Admin"}),t.jsx(re,{value:"moderator",children:"Moderator"}),t.jsx(re,{value:"creator",children:"Creator"}),t.jsx(re,{value:"user",children:"User"})]})]})]}),t.jsx("div",{className:"border rounded-lg",children:t.jsxs(Ar,{children:[t.jsx(Cr,{children:t.jsxs(Vn,{children:[t.jsx(He,{children:"User"}),t.jsx(He,{children:"Role"}),t.jsx(He,{children:"Status"}),t.jsx(He,{children:"Verification"}),t.jsx(He,{children:"Last Login"}),t.jsx(He,{children:"Actions"})]})}),t.jsx(Tr,{children:y.map(S=>t.jsxs(Vn,{children:[t.jsx(Ve,{children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs(_l,{className:"h-8 w-8",children:[t.jsx(Th,{src:S.avatar}),t.jsx(Al,{children:S.name.split(" ").map(w=>w[0]).join("")})]}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:S.name}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:["@",S.username]}),t.jsx("div",{className:"text-xs text-muted-foreground",children:S.email})]})]})}),t.jsx(Ve,{children:j(S.role)}),t.jsx(Ve,{children:N(S.status)}),t.jsx(Ve,{children:v(S)}),t.jsx(Ve,{children:S.lastLoginAt?t.jsx("div",{className:"text-sm",children:new Date(S.lastLoginAt).toLocaleDateString()}):t.jsx("span",{className:"text-muted-foreground",children:"Never"})}),t.jsx(Ve,{children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(te,{variant:"outline",size:"sm","data-testid":`button-view-${S.id}`,children:t.jsx(Mn,{className:"h-3 w-3"})}),t.jsx(te,{variant:"outline",size:"sm","data-testid":`button-edit-${S.id}`,children:t.jsx(lr,{className:"h-3 w-3"})})]})})]},S.id))})]})})]})]})}),t.jsx(ct,{value:"verifications",className:"space-y-4",children:t.jsxs($,{className:"cyber-border",children:[t.jsxs(oe,{children:[t.jsx(le,{children:"Verification Requests"}),t.jsx(Ct,{children:"Review and approve user verification submissions"})]}),t.jsx(q,{children:t.jsx("div",{className:"border rounded-lg",children:t.jsxs(Ar,{children:[t.jsx(Cr,{children:t.jsxs(Vn,{children:[t.jsx(He,{children:"User"}),t.jsx(He,{children:"Type"}),t.jsx(He,{children:"Status"}),t.jsx(He,{children:"Submitted"}),t.jsx(He,{children:"Actions"})]})}),t.jsx(Tr,{children:h.map(S=>t.jsxs(Vn,{children:[t.jsxs(Ve,{children:[t.jsxs("div",{className:"font-medium",children:["@",S.username]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:S.verificationValue})]}),t.jsx(Ve,{className:"capitalize",children:S.verificationType}),t.jsx(Ve,{children:t.jsx(de,{variant:S.status==="pending"?"outline":"default",children:S.status})}),t.jsx(Ve,{children:new Date(S.submittedAt).toLocaleDateString()}),t.jsx(Ve,{children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs(te,{variant:"outline",size:"sm",children:[t.jsx(Mn,{className:"h-3 w-3 mr-1"}),"Review"]}),S.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsxs(te,{variant:"default",size:"sm",children:[t.jsx(xn,{className:"h-3 w-3 mr-1"}),"Approve"]}),t.jsxs(te,{variant:"destructive",size:"sm",children:[t.jsx(Vs,{className:"h-3 w-3 mr-1"}),"Reject"]})]})]})})]},S.id))})]})})})]})}),t.jsx(ct,{value:"messages",className:"space-y-4",children:t.jsxs($,{className:"cyber-border",children:[t.jsxs(oe,{children:[t.jsx(le,{children:"Contact Messages"}),t.jsx(Ct,{children:"Manage customer support and contact inquiries"})]}),t.jsx(q,{children:t.jsx("div",{className:"border rounded-lg",children:t.jsxs(Ar,{children:[t.jsx(Cr,{children:t.jsxs(Vn,{children:[t.jsx(He,{children:"Contact"}),t.jsx(He,{children:"Subject"}),t.jsx(He,{children:"Priority"}),t.jsx(He,{children:"Status"}),t.jsx(He,{children:"Date"}),t.jsx(He,{children:"Actions"})]})}),t.jsx(Tr,{children:m.map(S=>t.jsxs(Vn,{children:[t.jsx(Ve,{children:t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:S.name}),t.jsx("div",{className:"text-sm text-muted-foreground",children:S.email})]})}),t.jsx(Ve,{className:"max-w-[200px] truncate",children:S.subject}),t.jsx(Ve,{children:t.jsx(de,{variant:S.priority==="high"?"destructive":"secondary",children:S.priority})}),t.jsx(Ve,{children:t.jsx(de,{variant:S.status==="new"?"default":"outline",children:S.status})}),t.jsx(Ve,{children:new Date(S.createdAt).toLocaleDateString()}),t.jsx(Ve,{children:t.jsxs(te,{variant:"outline",size:"sm",children:[t.jsx(J1,{className:"h-3 w-3 mr-1"}),"Reply"]})})]},S.id))})]})})})]})}),t.jsx(ct,{value:"activity",className:"space-y-4",children:t.jsxs($,{className:"cyber-border",children:[t.jsxs(oe,{children:[t.jsx(le,{children:"User Activity"}),t.jsx(Ct,{children:"Monitor user actions and platform usage"})]}),t.jsx(q,{children:t.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[t.jsx(Ks,{className:"h-12 w-12 mx-auto mb-4"}),t.jsx("p",{children:"User activity monitoring features coming soon"})]})})]})})]})]})}function pu({title:n="FanzDash - Enterprise Creator Economy Platform",description:e="Advanced creator economy platform supporting content management, live streaming, and monetization with enterprise-grade features",keywords:s=["creator platform","content management","live streaming","monetization","fan engagement"],canonicalUrl:r="https://fanzdash.com",ogTitle:a,ogDescription:i,ogImage:o="https://fanzdash.com/assets/og-image.jpg",ogType:l="website",twitterCard:c="summary_large_image",twitterSite:d="@fanzdash",author:u="FanzDash Team",publishedTime:h,modifiedTime:m,schema:y,noindex:N=!1,nofollow:j=!1}){return R.useEffect(()=>{document.title=n,document.querySelectorAll('meta[name="description"], meta[name="keywords"], meta[name="author"], meta[property^="og:"], meta[name^="twitter:"], meta[name="robots"], link[rel="canonical"], script[type="application/ld+json"]').forEach(I=>I.remove());const b=document.head,A=document.createElement("meta");if(A.name="description",A.content=e,b.appendChild(A),s.length>0){const I=document.createElement("meta");I.name="keywords",I.content=s.join(", "),b.appendChild(I)}const S=document.createElement("meta");S.name="author",S.content=u,b.appendChild(S);const w=[];N&&w.push("noindex"),j&&w.push("nofollow"),w.length===0&&w.push("index","follow");const E=document.createElement("meta");if(E.name="robots",E.content=w.join(", "),b.appendChild(E),r){const I=document.createElement("link");I.rel="canonical",I.href=r,b.appendChild(I)}if(Object.entries({"og:title":a||n,"og:description":i||e,"og:image":o,"og:type":l,"og:url":r,"og:site_name":"FanzDash"}).forEach(([I,L])=>{if(L){const U=document.createElement("meta");U.setAttribute("property",I),U.content=L,b.appendChild(U)}}),Object.entries({"twitter:card":c,"twitter:site":d,"twitter:title":a||n,"twitter:description":i||e,"twitter:image":o}).forEach(([I,L])=>{if(L){const U=document.createElement("meta");U.name=I,U.content=L,b.appendChild(U)}}),h){const I=document.createElement("meta");I.setAttribute("property","article:published_time"),I.content=h,b.appendChild(I)}if(m){const I=document.createElement("meta");I.setAttribute("property","article:modified_time"),I.content=m,b.appendChild(I)}if([{name:"viewport",content:"width=device-width, initial-scale=1.0"},{name:"theme-color",content:"#603cba"},{name:"msapplication-TileColor",content:"#603cba"},{name:"application-name",content:"FanzDash"},{name:"apple-mobile-web-app-title",content:"FanzDash"},{name:"apple-mobile-web-app-capable",content:"yes"},{name:"apple-mobile-web-app-status-bar-style",content:"default"},{name:"format-detection",content:"telephone=no"},{name:"mobile-web-app-capable",content:"yes"}].forEach(({name:I,content:L})=>{if(!document.querySelector(`meta[name="${I}"]`)){const H=document.createElement("meta");H.name=I,H.content=L,b.appendChild(H)}}),y||l==="website"){const I=y||{"@context":"https://schema.org","@type":"WebSite",name:"FanzDash",description:e,url:r,potentialAction:{"@type":"SearchAction",target:{"@type":"EntryPoint",urlTemplate:`${r}/search?q={search_term_string}`},"query-input":"required name=search_term_string"},sameAs:["https://twitter.com/fanzdash","https://facebook.com/fanzdash","https://instagram.com/fanzdash"]},L=document.createElement("script");L.type="application/ld+json",L.textContent=JSON.stringify(I),b.appendChild(L)}return()=>{document.querySelectorAll('meta[name="description"], meta[name="keywords"], meta[name="author"], meta[property^="og:"], meta[name^="twitter:"], meta[name="robots"], link[rel="canonical"], script[type="application/ld+json"]').forEach(L=>L.remove())}},[n,e,s,r,a,i,o,l,c,d,u,h,m,y,N,j]),null}function ZTe({items:n,className:e=""}){return R.useEffect(()=>{const s={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:n.map((i,o)=>({"@type":"ListItem",position:o+1,name:i.label,...i.href&&{item:i.href}}))},r=document.querySelector("script[data-breadcrumb-schema]");r&&r.remove();const a=document.createElement("script");return a.type="application/ld+json",a.setAttribute("data-breadcrumb-schema","true"),a.textContent=JSON.stringify(s),document.head.appendChild(a),()=>{const i=document.querySelector("script[data-breadcrumb-schema]");i&&i.remove()}},[n]),t.jsx("nav",{"aria-label":"Breadcrumb",className:`flex items-center space-x-2 text-sm text-muted-foreground ${e}`,children:n.map((s,r)=>t.jsxs("div",{className:"flex items-center space-x-2",children:[r>0&&t.jsx("span",{children:"/"}),s.href&&!s.current?t.jsx("a",{href:s.href,className:"hover:text-foreground transition-colors","data-testid":`breadcrumb-${r}`,children:s.label}):t.jsx("span",{className:s.current?"text-foreground font-medium":"","data-testid":`breadcrumb-${r}`,children:s.label})]},r))})}function YTe(n,e=!0){const s="FanzDash",r="Enterprise Creator Economy Platform";return e?`${n} | ${s} - ${r}`:`${n} | ${s}`}const QTe={seoConfiguration:{title:"SEO & AEO Configuration",description:"Optimize your platform for search engines and app stores with comprehensive SEO settings, meta tags, structured data, and performance optimization.",keywords:["SEO settings","search optimization","meta tags","structured data","app store optimization"],structuredData:{"@context":"https://schema.org","@type":"WebPage",name:"SEO Configuration Panel",description:"Search engine and app store optimization configuration interface",mainEntity:{"@type":"SoftwareApplication",name:"SEO Configuration System",applicationCategory:"DeveloperApplication"}}}};function JTe(n){const e=[{label:"Dashboard",href:"/"},{label:"Admin Panel",href:"/admin"}],s={"system-configuration":{label:"System Configuration",href:"/system-configuration"},"logo-favicon-management":{label:"Logo & Favicon Management",href:"/logo-favicon-management"},"payment-gateway-setup":{label:"Payment Gateway Setup",href:"/payment-gateway-setup"},"kyc-verification-setup":{label:"KYC Verification Setup",href:"/kyc-verification-setup"},"seo-configuration":{label:"SEO Configuration",href:"/seo-configuration"}};return s[n]?[...e,{...s[n],current:!0}]:e}const eEe=X1("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ta=R.forwardRef(({className:n,variant:e,...s},r)=>t.jsx("div",{ref:r,role:"alert",className:Bt(eEe({variant:e}),n),...s}));Ta.displayName="Alert";const tEe=R.forwardRef(({className:n,...e},s)=>t.jsx("h5",{ref:s,className:Bt("mb-1 font-medium leading-none tracking-tight",n),...e}));tEe.displayName="AlertTitle";const Ea=R.forwardRef(({className:n,...e},s)=>t.jsx("div",{ref:s,className:Bt("text-sm [&_p]:leading-relaxed",n),...e}));Ea.displayName="AlertDescription";function nEe(){const n=QTe.seoConfiguration,e=JTe("seo-configuration"),[s,r]=R.useState("general"),[a,i]=R.useState(!1),[o,l]=R.useState(!1),{toast:c}=Dn(),[d,u]=R.useState({siteName:"FanzDash - Enterprise Creator Platform",siteDescription:"Advanced creator economy platform supporting content management, live streaming, and monetization with enterprise-grade features",siteKeywords:["creator platform","content management","live streaming","monetization","fan engagement","subscription platform"],defaultTitle:"FanzDash | Enterprise Creator Economy Platform",titleSeparator:" | ",metaAuthor:"FanzDash Team",canonicalUrl:"https://fanzdash.com",ogTitle:"FanzDash - Next-Generation Creator Platform",ogDescription:"Join the most advanced creator economy platform with AI-powered content management, live streaming, and comprehensive monetization tools",ogImage:"https://fanzdash.com/assets/og-image.jpg",ogType:"website",twitterCard:"summary_large_image",twitterSite:"@fanzdash",twitterCreator:"@fanzdash",enableSitemap:!0,enableRobotsTxt:!0,robotsTxtContent:`User-agent: *
Allow: /
Sitemap: https://fanzdash.com/sitemap.xml`,enableBreadcrumbs:!0,enableSchemaMarkup:!0,enableAMP:!1,enablePWA:!0,enableCompression:!0,enableCaching:!0,enableLazyLoading:!0,enableCriticalCSS:!0,enableMinification:!0,googleAnalyticsId:"",googleTagManagerId:"",facebookPixelId:"",googleSearchConsole:"",bingWebmasterTools:"",businessName:"FanzDash Inc.",businessAddress:"",businessPhone:"",businessEmail:"support@fanzdash.com",businessHours:"24/7 Online Platform",latitude:"",longitude:"",appTitle:"FanzDash: Creator Platform",appSubtitle:"Monetize Your Content Easily",appDescription:"Transform your passion into profit with FanzDash's comprehensive creator platform. Features include live streaming, content management, fan engagement tools, and multiple monetization options.",appKeywords:["creator","content","streaming","monetization","fans","subscription"],appCategory:"Business",appScreenshots:[],appIcon:"",appPreviewVideo:"",enableAutoMetaTags:!0,enableAutoKeywords:!0,enableContentAnalysis:!0,enableInternalLinking:!0,minContentLength:300,maxTitleLength:60,maxDescriptionLength:160}),[h]=R.useState({score:87,issues:[{type:"warning",message:"Some pages missing meta descriptions",fix:"Add unique meta descriptions to all pages"},{type:"info",message:"Consider adding more internal links",fix:"Implement automated internal linking system"},{type:"error",message:"Missing Google Analytics tracking",fix:"Add Google Analytics ID in settings"}],suggestions:["Optimize images with WebP format for better performance","Add structured data for better search visibility","Implement breadcrumb navigation","Create XML sitemap for better indexing","Add social media meta tags"],performance:{loadTime:1.2,mobileScore:94,desktopScore:98,seoScore:87}}),m=(S,w)=>{u(E=>({...E,[S]:w}))},y=(S,w)=>{w.trim()&&m(S,[...d[S],w.trim()])},N=(S,w)=>{const E=[...d[S]];E.splice(w,1),m(S,E)},j=async()=>{i(!0);try{await new Promise(S=>setTimeout(S,1500)),c({title:"SEO Settings Saved",description:"Your SEO configuration has been updated successfully"})}catch{c({title:"Save Failed",description:"Failed to save SEO settings. Please try again.",variant:"destructive"})}finally{i(!1)}},v=async()=>{l(!0);try{await new Promise(S=>setTimeout(S,3e3)),c({title:"SEO Analysis Complete",description:`Your site scored ${h.score}/100. Check the analysis tab for details.`}),r("analysis")}catch{c({title:"Analysis Failed",description:"Failed to run SEO analysis. Please try again.",variant:"destructive"})}finally{l(!1)}},b=async()=>{try{await new Promise(S=>setTimeout(S,1e3)),c({title:"Sitemap Generated",description:"XML sitemap has been generated and submitted to search engines"})}catch{c({title:"Generation Failed",description:"Failed to generate sitemap. Please try again.",variant:"destructive"})}},A=({type:S,placeholder:w})=>{const[E,T]=R.useState(""),P=k=>{(k.key==="Enter"||k.key===",")&&(k.preventDefault(),y(S,E),T(""))};return t.jsxs("div",{className:"space-y-2",children:[t.jsx(Fe,{value:E,onChange:k=>T(k.target.value),onKeyPress:P,placeholder:w,"data-testid":`${S}-input`}),t.jsx("div",{className:"flex flex-wrap gap-2",children:d[S].map((k,I)=>t.jsxs(de,{variant:"secondary",className:"gap-1",children:[k,t.jsx("button",{onClick:()=>N(S,I),className:"ml-1 hover:text-destructive","data-testid":`remove-${S}-${I}`,children:"×"})]},I))}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Press Enter or comma to add keywords"})]})};return t.jsxs(t.Fragment,{children:[t.jsx(pu,{title:YTe(n.title),description:n.description,keywords:n.keywords,canonicalUrl:"https://fanzdash.com/seo-configuration",schema:n.structuredData}),t.jsxs("div",{className:"space-y-6",children:[t.jsx(ZTe,{items:e,className:"mb-6"}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-3xl font-bold flex items-center space-x-3",children:[t.jsx(jr,{className:"h-8 w-8 text-primary"}),t.jsx("span",{children:"SEO & AEO Configuration"})]}),t.jsx("p",{className:"text-muted-foreground",children:"Optimize your platform for search engines and app stores"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs(te,{variant:"outline",onClick:v,disabled:o,children:[o?t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary mr-2"}):t.jsx(la,{className:"h-4 w-4 mr-2"}),"Run Analysis"]}),t.jsx(te,{onClick:j,disabled:a,className:"bg-gradient-to-r from-primary to-purple-600",children:a?"Saving...":"Save Settings"})]})]}),t.jsx($,{className:"bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-950/20 dark:to-blue-950/20",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"text-4xl font-bold text-green-600",children:h.score}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold",children:"SEO Score"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:h.score>=90?"Excellent":h.score>=70?"Good":h.score>=50?"Needs Improvement":"Poor"})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-lg font-semibold",children:h.performance.mobileScore}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Mobile"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-lg font-semibold",children:h.performance.desktopScore}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Desktop"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-lg font-semibold",children:[h.performance.loadTime,"s"]}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Load Time"})]})]})]})})}),t.jsxs(Xs,{value:s,onValueChange:r,className:"space-y-6",children:[t.jsxs($s,{className:"grid w-full grid-cols-7",children:[t.jsx(lt,{value:"general",children:"General"}),t.jsx(lt,{value:"social",children:"Social Media"}),t.jsx(lt,{value:"technical",children:"Technical"}),t.jsx(lt,{value:"analytics",children:"Analytics"}),t.jsx(lt,{value:"local",children:"Local SEO"}),t.jsx(lt,{value:"app-store",children:"App Store"}),t.jsx(lt,{value:"analysis",children:"Analysis"})]}),t.jsx(ct,{value:"general",className:"space-y-6",children:t.jsxs($,{children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(Er,{className:"h-5 w-5"}),t.jsx("span",{children:"Basic SEO Settings"})]})}),t.jsxs(q,{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"site-name",children:"Site Name"}),t.jsx(Fe,{id:"site-name",value:d.siteName,onChange:S=>m("siteName",S.target.value),placeholder:"Your Platform Name","data-testid":"site-name-input"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"canonical-url",children:"Canonical URL"}),t.jsx(Fe,{id:"canonical-url",value:d.canonicalUrl,onChange:S=>m("canonicalUrl",S.target.value),placeholder:"https://yoursite.com","data-testid":"canonical-url-input"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"default-title",children:"Default Page Title"}),t.jsx(Fe,{id:"default-title",value:d.defaultTitle,onChange:S=>m("defaultTitle",S.target.value),placeholder:"Your Site Title",maxLength:d.maxTitleLength,"data-testid":"default-title-input"}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.defaultTitle.length,"/",d.maxTitleLength," characters"]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"title-separator",children:"Title Separator"}),t.jsxs(sn,{value:d.titleSeparator,onValueChange:S=>m("titleSeparator",S),children:[t.jsx(en,{"data-testid":"title-separator-select",children:t.jsx(rn,{})}),t.jsxs(tn,{children:[t.jsx(re,{value:" | ",children:" | (Pipe)"}),t.jsx(re,{value:" - ",children:" - (Dash)"}),t.jsx(re,{value:" • ",children:" • (Bullet)"}),t.jsx(re,{value:" :: ",children:" :: (Double Colon)"})]})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"site-description",children:"Site Description"}),t.jsx(Js,{id:"site-description",value:d.siteDescription,onChange:S=>m("siteDescription",S.target.value),rows:3,maxLength:d.maxDescriptionLength,placeholder:"Describe your platform and its key features","data-testid":"site-description-input"}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.siteDescription.length,"/",d.maxDescriptionLength," characters"]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{children:"Site Keywords"}),t.jsx(A,{type:"siteKeywords",placeholder:"Add keywords related to your platform"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"meta-author",children:"Meta Author"}),t.jsx(Fe,{id:"meta-author",value:d.metaAuthor,onChange:S=>m("metaAuthor",S.target.value),placeholder:"Author or company name","data-testid":"meta-author-input"})]})]})]})}),t.jsx(ct,{value:"social",className:"space-y-6",children:t.jsxs($,{children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(au,{className:"h-5 w-5"}),t.jsx("span",{children:"Open Graph & Social Media"})]})}),t.jsxs(q,{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"og-title",children:"Open Graph Title"}),t.jsx(Fe,{id:"og-title",value:d.ogTitle,onChange:S=>m("ogTitle",S.target.value),placeholder:"Title for social media sharing","data-testid":"og-title-input"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"og-type",children:"Open Graph Type"}),t.jsxs(sn,{value:d.ogType,onValueChange:S=>m("ogType",S),children:[t.jsx(en,{"data-testid":"og-type-select",children:t.jsx(rn,{})}),t.jsxs(tn,{children:[t.jsx(re,{value:"website",children:"Website"}),t.jsx(re,{value:"article",children:"Article"}),t.jsx(re,{value:"video",children:"Video"}),t.jsx(re,{value:"music",children:"Music"}),t.jsx(re,{value:"profile",children:"Profile"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"twitter-card",children:"Twitter Card Type"}),t.jsxs(sn,{value:d.twitterCard,onValueChange:S=>m("twitterCard",S),children:[t.jsx(en,{"data-testid":"twitter-card-select",children:t.jsx(rn,{})}),t.jsxs(tn,{children:[t.jsx(re,{value:"summary",children:"Summary"}),t.jsx(re,{value:"summary_large_image",children:"Summary Large Image"}),t.jsx(re,{value:"app",children:"App"}),t.jsx(re,{value:"player",children:"Player"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"twitter-site",children:"Twitter Site Handle"}),t.jsx(Fe,{id:"twitter-site",value:d.twitterSite,onChange:S=>m("twitterSite",S.target.value),placeholder:"@yoursite","data-testid":"twitter-site-input"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"og-description",children:"Open Graph Description"}),t.jsx(Js,{id:"og-description",value:d.ogDescription,onChange:S=>m("ogDescription",S.target.value),rows:3,placeholder:"Description for social media sharing","data-testid":"og-description-input"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"og-image",children:"Open Graph Image URL"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(Fe,{id:"og-image",value:d.ogImage,onChange:S=>m("ogImage",S.target.value),placeholder:"https://yoursite.com/og-image.jpg","data-testid":"og-image-input"}),t.jsx(te,{variant:"outline",children:t.jsx(yo,{className:"h-4 w-4"})})]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Recommended size: 1200x630 pixels (1.91:1 ratio)"})]}),t.jsxs(Ta,{children:[t.jsx(Mn,{className:"h-4 w-4"}),t.jsxs(Ea,{children:[t.jsx("strong",{children:"Preview:"})," Test how your content looks when shared on social media using Facebook's Sharing Debugger and Twitter's Card Validator."]})]})]})]})}),t.jsxs(ct,{value:"technical",className:"space-y-6",children:[t.jsxs($,{children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(dx,{className:"h-5 w-5"}),t.jsx("span",{children:"Technical SEO Features"})]})}),t.jsxs(q,{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"enable-sitemap",children:"XML Sitemap"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Generate and submit sitemap to search engines"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(fn,{id:"enable-sitemap",checked:d.enableSitemap,onCheckedChange:S=>m("enableSitemap",S),"data-testid":"enable-sitemap-toggle"}),d.enableSitemap&&t.jsx(te,{variant:"ghost",size:"sm",onClick:b,children:t.jsx(Zo,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"enable-robots",children:"Robots.txt"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Control search engine crawling"})]}),t.jsx(fn,{id:"enable-robots",checked:d.enableRobotsTxt,onCheckedChange:S=>m("enableRobotsTxt",S),"data-testid":"enable-robots-toggle"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"enable-breadcrumbs",children:"Breadcrumbs"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Add navigation breadcrumbs"})]}),t.jsx(fn,{id:"enable-breadcrumbs",checked:d.enableBreadcrumbs,onCheckedChange:S=>m("enableBreadcrumbs",S),"data-testid":"enable-breadcrumbs-toggle"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"enable-schema",children:"Schema Markup"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Add structured data for rich snippets"})]}),t.jsx(fn,{id:"enable-schema",checked:d.enableSchemaMarkup,onCheckedChange:S=>m("enableSchemaMarkup",S),"data-testid":"enable-schema-toggle"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"enable-pwa",children:"Progressive Web App"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable PWA features"})]}),t.jsx(fn,{id:"enable-pwa",checked:d.enablePWA,onCheckedChange:S=>m("enablePWA",S),"data-testid":"enable-pwa-toggle"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"enable-amp",children:"AMP Pages"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Accelerated Mobile Pages"})]}),t.jsx(fn,{id:"enable-amp",checked:d.enableAMP,onCheckedChange:S=>m("enableAMP",S),"data-testid":"enable-amp-toggle"})]})]}),d.enableRobotsTxt&&t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"robots-content",children:"Robots.txt Content"}),t.jsx(Js,{id:"robots-content",value:d.robotsTxtContent,onChange:S=>m("robotsTxtContent",S.target.value),rows:6,placeholder:"User-agent: *\\nAllow: /\\nSitemap: https://yoursite.com/sitemap.xml","data-testid":"robots-content-input"})]})]})]}),t.jsxs($,{children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(va,{className:"h-5 w-5"}),t.jsx("span",{children:"Performance Optimization"})]})}),t.jsx(q,{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"enable-compression",children:"Gzip Compression"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Compress content for faster loading"})]}),t.jsx(fn,{id:"enable-compression",checked:d.enableCompression,onCheckedChange:S=>m("enableCompression",S),"data-testid":"enable-compression-toggle"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"enable-caching",children:"Browser Caching"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Cache static resources"})]}),t.jsx(fn,{id:"enable-caching",checked:d.enableCaching,onCheckedChange:S=>m("enableCaching",S),"data-testid":"enable-caching-toggle"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"enable-lazy-loading",children:"Lazy Loading"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Load images and content on demand"})]}),t.jsx(fn,{id:"enable-lazy-loading",checked:d.enableLazyLoading,onCheckedChange:S=>m("enableLazyLoading",S),"data-testid":"enable-lazy-loading-toggle"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"enable-minification",children:"Asset Minification"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Minify CSS, JS, and HTML"})]}),t.jsx(fn,{id:"enable-minification",checked:d.enableMinification,onCheckedChange:S=>m("enableMinification",S),"data-testid":"enable-minification-toggle"})]})]})})]})]}),t.jsx(ct,{value:"analytics",className:"space-y-6",children:t.jsxs($,{children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(la,{className:"h-5 w-5"}),t.jsx("span",{children:"Analytics & Tracking"})]})}),t.jsxs(q,{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"google-analytics",children:"Google Analytics ID"}),t.jsx(Fe,{id:"google-analytics",value:d.googleAnalyticsId,onChange:S=>m("googleAnalyticsId",S.target.value),placeholder:"G-XXXXXXXXXX or UA-XXXXXXXX-X","data-testid":"google-analytics-input"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"google-tag-manager",children:"Google Tag Manager ID"}),t.jsx(Fe,{id:"google-tag-manager",value:d.googleTagManagerId,onChange:S=>m("googleTagManagerId",S.target.value),placeholder:"GTM-XXXXXXX","data-testid":"google-tag-manager-input"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"facebook-pixel",children:"Facebook Pixel ID"}),t.jsx(Fe,{id:"facebook-pixel",value:d.facebookPixelId,onChange:S=>m("facebookPixelId",S.target.value),placeholder:"123456789012345","data-testid":"facebook-pixel-input"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"google-search-console",children:"Google Search Console"}),t.jsx(Fe,{id:"google-search-console",value:d.googleSearchConsole,onChange:S=>m("googleSearchConsole",S.target.value),placeholder:"Verification meta tag content","data-testid":"google-search-console-input"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"bing-webmaster",children:"Bing Webmaster Tools"}),t.jsx(Fe,{id:"bing-webmaster",value:d.bingWebmasterTools,onChange:S=>m("bingWebmasterTools",S.target.value),placeholder:"Verification meta tag content","data-testid":"bing-webmaster-input"})]})]}),t.jsxs(Ta,{children:[t.jsx(lr,{className:"h-4 w-4"}),t.jsxs(Ea,{children:[t.jsx("strong",{children:"Privacy Notice:"})," Ensure you have proper consent mechanisms in place when using tracking codes, especially for GDPR compliance."]})]})]})]})}),t.jsx(ct,{value:"local",className:"space-y-6",children:t.jsxs($,{children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(B$,{className:"h-5 w-5"}),t.jsx("span",{children:"Local Business Information"})]})}),t.jsxs(q,{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"business-name",children:"Business Name"}),t.jsx(Fe,{id:"business-name",value:d.businessName,onChange:S=>m("businessName",S.target.value),placeholder:"Your Business Name","data-testid":"business-name-input"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"business-phone",children:"Business Phone"}),t.jsx(Fe,{id:"business-phone",value:d.businessPhone,onChange:S=>m("businessPhone",S.target.value),placeholder:"+1 (555) 123-4567","data-testid":"business-phone-input"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"business-email",children:"Business Email"}),t.jsx(Fe,{id:"business-email",value:d.businessEmail,onChange:S=>m("businessEmail",S.target.value),placeholder:"contact@yourbusiness.com","data-testid":"business-email-input"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"business-hours",children:"Business Hours"}),t.jsx(Fe,{id:"business-hours",value:d.businessHours,onChange:S=>m("businessHours",S.target.value),placeholder:"Mon-Fri 9AM-5PM","data-testid":"business-hours-input"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"latitude",children:"Latitude"}),t.jsx(Fe,{id:"latitude",value:d.latitude,onChange:S=>m("latitude",S.target.value),placeholder:"40.7128","data-testid":"latitude-input"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"longitude",children:"Longitude"}),t.jsx(Fe,{id:"longitude",value:d.longitude,onChange:S=>m("longitude",S.target.value),placeholder:"-74.0060","data-testid":"longitude-input"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"business-address",children:"Business Address"}),t.jsx(Js,{id:"business-address",value:d.businessAddress,onChange:S=>m("businessAddress",S.target.value),rows:3,placeholder:"123 Business St, City, State 12345, Country","data-testid":"business-address-input"})]})]})]})}),t.jsx(ct,{value:"app-store",className:"space-y-6",children:t.jsxs($,{children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(zj,{className:"h-5 w-5"}),t.jsx("span",{children:"App Store Optimization (AEO)"})]})}),t.jsxs(q,{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"app-title",children:"App Title"}),t.jsx(Fe,{id:"app-title",value:d.appTitle,onChange:S=>m("appTitle",S.target.value),placeholder:"Your App Name",maxLength:30,"data-testid":"app-title-input"}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.appTitle.length,"/30 characters"]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"app-subtitle",children:"App Subtitle"}),t.jsx(Fe,{id:"app-subtitle",value:d.appSubtitle,onChange:S=>m("appSubtitle",S.target.value),placeholder:"Short app description",maxLength:30,"data-testid":"app-subtitle-input"}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.appSubtitle.length,"/30 characters"]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"app-category",children:"App Category"}),t.jsxs(sn,{value:d.appCategory,onValueChange:S=>m("appCategory",S),children:[t.jsx(en,{"data-testid":"app-category-select",children:t.jsx(rn,{})}),t.jsxs(tn,{children:[t.jsx(re,{value:"Business",children:"Business"}),t.jsx(re,{value:"Social Networking",children:"Social Networking"}),t.jsx(re,{value:"Entertainment",children:"Entertainment"}),t.jsx(re,{value:"Photo & Video",children:"Photo & Video"}),t.jsx(re,{value:"Productivity",children:"Productivity"}),t.jsx(re,{value:"Lifestyle",children:"Lifestyle"})]})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"app-description",children:"App Description"}),t.jsx(Js,{id:"app-description",value:d.appDescription,onChange:S=>m("appDescription",S.target.value),rows:5,maxLength:4e3,placeholder:"Detailed app description highlighting key features and benefits","data-testid":"app-description-input"}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.appDescription.length,"/4000 characters"]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{children:"App Keywords"}),t.jsx(A,{type:"appKeywords",placeholder:"Add keywords for app store search"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Use relevant keywords that users might search for"})]}),t.jsxs(Ta,{children:[t.jsx(ux,{className:"h-4 w-4"}),t.jsxs(Ea,{children:[t.jsx("strong",{children:"AEO Tip:"})," Focus on keywords with high search volume but lower competition. Include your main features and target audience in the description."]})]})]})]})}),t.jsx(ct,{value:"analysis",className:"space-y-6",children:t.jsxs($,{children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(or,{className:"h-5 w-5"}),t.jsx("span",{children:"SEO Analysis Results"})]})}),t.jsxs(q,{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold mb-3",children:"Issues Found"}),t.jsx("div",{className:"space-y-2",children:h.issues.map((S,w)=>t.jsxs(Ta,{className:S.type==="error"?"border-red-500":S.type==="warning"?"border-yellow-500":"border-blue-500",children:[S.type==="error"?t.jsx(Vs,{className:"h-4 w-4"}):S.type==="warning"?t.jsx(ln,{className:"h-4 w-4"}):t.jsx(xn,{className:"h-4 w-4"}),t.jsx(Ea,{children:t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{children:S.message}),S.fix&&t.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.jsx("strong",{children:"Fix:"})," ",S.fix]})]})})]},w))})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold mb-3",children:"Optimization Suggestions"}),t.jsx("ul",{className:"space-y-2",children:h.suggestions.map((S,w)=>t.jsxs("li",{className:"flex items-start space-x-2",children:[t.jsx(xn,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),t.jsx("span",{className:"text-sm",children:S})]},w))})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold mb-3",children:"Performance Metrics"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsx($,{children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-2",children:[t.jsx(V$,{className:"h-4 w-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Desktop"})]}),t.jsx("div",{className:"text-2xl font-bold text-green-600",children:h.performance.desktopScore})]})}),t.jsx($,{children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-2",children:[t.jsx(zj,{className:"h-4 w-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Mobile"})]}),t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:h.performance.mobileScore})]})}),t.jsx($,{children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-2",children:[t.jsx(As,{className:"h-4 w-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Load Time"})]}),t.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[h.performance.loadTime,"s"]})]})}),t.jsx($,{children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-2",children:[t.jsx(jr,{className:"h-4 w-4"}),t.jsx("span",{className:"text-sm font-medium",children:"SEO Score"})]}),t.jsx("div",{className:"text-2xl font-bold text-orange-600",children:h.performance.seoScore})]})})]})]})]})]})})]})]})]})}function sEe(){const[n,e]=R.useState("overview"),[s,r]=R.useState(!1),[a,i]=R.useState(!1),{toast:o}=Dn(),[l,c]=R.useState({enableAIOptimization:!0,targetAIEngines:["ChatGPT","Google AI Overview","Perplexity","Bing Copilot"],conversationalKeywords:["how to","what is","why does","best way to","steps to"],questionBasedContent:!0,enableFAQSchema:!0,enableHowToSchema:!0,enableArticleSchema:!0,enableOrganizationSchema:!0,enableProductSchema:!1,enableQASchema:!0,enableDirectAnswers:!0,answerLength:50,questionHeadings:!0,bulletPointOptimization:!0,organizationName:"Fanz™ Unlimited Network LLC",organizationUrl:"https://fanzunlimited.com",sameAsUrls:["https://linkedin.com/company/fanz-unlimited","https://twitter.com/fanzunlimited"],authorProfiles:[],enableVoiceOptimization:!0,naturalLanguagePatterns:["What is the best creator platform for","How do I monetize my content","Which platform supports live streaming"],localSearchQueries:[],enableSnippetOptimization:!0,snippetTargeting:["definition","list","table","paragraph"],comparisonTables:!0,prosConsList:!0,enableLLMsTxt:!0,llmsPurpose:"FanzDash is an enterprise-grade multi-platform management system for creator economy platforms",llmsGuidelines:"Always provide accurate, helpful information about content moderation, creator tools, and platform features",llmsRestrictions:"Do not provide information about bypassing content moderation or violating platform policies",trackAICitations:!0,monitorSnippets:!0,voiceSearchTracking:!0}),[d,u]=R.useState(null),h=(S,w)=>{c(E=>({...E,[S]:w}))},m=(S,w)=>{if(w.trim()){const E=l[S];h(S,[...E,w.trim()])}},y=(S,w)=>{const E=[...l[S]];E.splice(w,1),h(S,E)},N=S=>{i(!0),setTimeout(()=>{let w={};switch(S){case"FAQ":w={"@context":"https://schema.org","@type":"FAQPage",mainEntity:[{"@type":"Question",name:"What is FanzDash?",acceptedAnswer:{"@type":"Answer",text:"FanzDash is a comprehensive enterprise-grade multi-platform management system designed to handle 20+ million users across all Fanz™ Unlimited Network LLC platforms through one unified control panel."}}]};break;case"HowTo":w={"@context":"https://schema.org","@type":"HowTo",name:"How to Set Up Content Moderation",description:"Step-by-step guide to configure AI-powered content moderation",step:[{"@type":"HowToStep",name:"Configure AI Settings",text:"Access the AI Analysis Engine and configure ChatGPT-4o/GPT-5 integration"}]};break;case"Organization":w={"@context":"https://schema.org","@type":"Organization",name:l.organizationName,url:l.organizationUrl,logo:`${l.organizationUrl}/logo.png`,sameAs:l.sameAsUrls,description:"Enterprise-grade creator economy platform with AI-powered content moderation and compliance systems"};break;case"Article":w={"@context":"https://schema.org","@type":"Article",headline:"Enterprise Creator Platform Features",author:{"@type":"Organization",name:l.organizationName},publisher:{"@type":"Organization",name:l.organizationName,logo:`${l.organizationUrl}/logo.png`},datePublished:new Date().toISOString(),dateModified:new Date().toISOString()};break}u({type:S,code:JSON.stringify(w,null,2),isValid:!0}),i(!1),o({title:"Schema Generated",description:`${S} schema markup has been generated successfully`})},1e3)},j=()=>`# ${l.organizationName} - LLMs.txt

## Purpose
${l.llmsPurpose}

## Guidelines for AI Systems
${l.llmsGuidelines}

## Restrictions
${l.llmsRestrictions}

## Key Features
- AI-powered content moderation with ChatGPT-4o/GPT-5
- Real-time compliance monitoring (18 U.S.C. § 2257)
- Multi-platform creator economy management
- Enterprise-grade security and audit trails

## Contact
For accurate information, refer to: ${l.organizationUrl}

## Last Updated
${new Date().toISOString()}`,v=S=>{navigator.clipboard.writeText(S),o({title:"Copied to Clipboard",description:"Content has been copied to your clipboard"})},b=async()=>{r(!0);try{await new Promise(S=>setTimeout(S,1500)),o({title:"AEO Settings Saved",description:"Your Answer Engine Optimization configuration has been updated successfully"})}catch{o({title:"Save Failed",description:"Failed to save AEO settings. Please try again.",variant:"destructive"})}finally{r(!1)}},A=({arrayKey:S,placeholder:w,description:E})=>{const[T,P]=R.useState(""),k=I=>{I.key==="Enter"&&(I.preventDefault(),m(S,T),P(""))};return t.jsxs("div",{className:"space-y-2",children:[t.jsx(Fe,{value:T,onChange:I=>P(I.target.value),onKeyPress:k,placeholder:w,"data-testid":`${S}-input`}),E&&t.jsx("p",{className:"text-xs text-muted-foreground",children:E}),t.jsx("div",{className:"flex flex-wrap gap-2",children:l[S].map((I,L)=>t.jsxs(de,{variant:"secondary",className:"gap-1",children:[I,t.jsx("button",{onClick:()=>y(S,L),className:"ml-1 hover:text-destructive","data-testid":`remove-${S}-${L}`,children:"×"})]},L))}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Press Enter to add items"})]})};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-3xl font-bold flex items-center space-x-3",children:[t.jsx(Gr,{className:"h-8 w-8 text-cyan-400"}),t.jsx("span",{children:"AEO Configuration"})]}),t.jsx("p",{className:"text-muted-foreground",children:"Answer Engine Optimization for AI-powered search platforms"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs(te,{variant:"outline",onClick:()=>v(j()),children:[t.jsx(xi,{className:"h-4 w-4 mr-2"}),"Export LLMs.txt"]}),t.jsx(te,{onClick:b,disabled:s,className:"bg-gradient-to-r from-cyan-600 to-blue-600",children:s?"Saving...":"Save AEO Settings"})]})]}),t.jsx($,{className:"bg-gradient-to-r from-cyan-50 to-blue-50 dark:from-cyan-950/20 dark:to-blue-950/20",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"text-4xl font-bold text-cyan-600",children:"92"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold",children:"AEO Readiness Score"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Excellent AI visibility optimization"})]})]}),t.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-lg font-semibold text-green-600",children:"98%"}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Schema"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-lg font-semibold text-blue-600",children:"87%"}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Content"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-lg font-semibold text-purple-600",children:"94%"}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Voice"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-lg font-semibold text-orange-600",children:"89%"}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Citations"})]})]})]})})}),t.jsxs(Xs,{value:n,onValueChange:e,className:"space-y-6",children:[t.jsxs($s,{className:"grid w-full grid-cols-6",children:[t.jsx(lt,{value:"overview",children:"Overview"}),t.jsx(lt,{value:"schema",children:"Schema"}),t.jsx(lt,{value:"content",children:"Content"}),t.jsx(lt,{value:"voice",children:"Voice Search"}),t.jsx(lt,{value:"llms",children:"LLMs.txt"}),t.jsx(lt,{value:"monitoring",children:"Monitoring"})]}),t.jsxs(ct,{value:"overview",className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.jsxs($,{children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(Hf,{className:"h-5 w-5 text-blue-500"}),t.jsx("span",{children:"AI Engine Targeting"})]})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm",children:"AI Optimization"}),t.jsx(fn,{checked:l.enableAIOptimization,onCheckedChange:S=>h("enableAIOptimization",S)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{className:"text-xs text-muted-foreground",children:"Target AI Engines"}),t.jsx("div",{className:"flex flex-wrap gap-1",children:l.targetAIEngines.map(S=>t.jsx(de,{variant:"outline",className:"text-xs",children:S},S))})]})]})})]}),t.jsxs($,{children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(sae,{className:"h-5 w-5 text-green-500"}),t.jsx("span",{children:"Q&A Optimization"})]})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm",children:"Question-based Content"}),t.jsx(fn,{checked:l.questionBasedContent,onCheckedChange:S=>h("questionBasedContent",S)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm",children:"Direct Answers"}),t.jsx(fn,{checked:l.enableDirectAnswers,onCheckedChange:S=>h("enableDirectAnswers",S)})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(Pe,{className:"text-xs text-muted-foreground",children:"Answer Length"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Fe,{type:"number",value:l.answerLength,onChange:S=>h("answerLength",parseInt(S.target.value)),className:"w-20 text-sm"}),t.jsx("span",{className:"text-xs text-muted-foreground",children:"words"})]})]})]})})]}),t.jsxs($,{children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(or,{className:"h-5 w-5 text-purple-500"}),t.jsx("span",{children:"Featured Snippets"})]})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm",children:"Snippet Optimization"}),t.jsx(fn,{checked:l.enableSnippetOptimization,onCheckedChange:S=>h("enableSnippetOptimization",S)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm",children:"Comparison Tables"}),t.jsx(fn,{checked:l.comparisonTables,onCheckedChange:S=>h("comparisonTables",S)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm",children:"Pros/Cons Lists"}),t.jsx(fn,{checked:l.prosConsList,onCheckedChange:S=>h("prosConsList",S)})]})]})})]})]}),t.jsxs(Ta,{children:[t.jsx(q3,{className:"h-4 w-4"}),t.jsxs(Ea,{children:[t.jsx("strong",{children:"AEO Best Practices:"})," Focus on providing direct, concise answers within the first 40-60 words of your content. Use natural, conversational language and structure content with clear question headings followed by immediate answers."]})]})]}),t.jsx(ct,{value:"schema",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs($,{children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(dx,{className:"h-5 w-5"}),t.jsx("span",{children:"Schema Types"})]})}),t.jsx(q,{className:"space-y-4",children:[{key:"enableFAQSchema",label:"FAQPage Schema",desc:"For question-answer content"},{key:"enableHowToSchema",label:"HowTo Schema",desc:"For step-by-step guides"},{key:"enableArticleSchema",label:"Article Schema",desc:"For blog posts and articles"},{key:"enableOrganizationSchema",label:"Organization Schema",desc:"For company information"},{key:"enableQASchema",label:"QAPage Schema",desc:"For Q&A content"}].map(({key:S,label:w,desc:E})=>t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-sm",children:w}),t.jsx("div",{className:"text-xs text-muted-foreground",children:E})]}),t.jsx(fn,{checked:l[S],onCheckedChange:T=>h(S,T)})]},S))})]}),t.jsxs($,{children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(Gre,{className:"h-5 w-5"}),t.jsx("span",{children:"Schema Generator"})]})}),t.jsxs(q,{className:"space-y-4",children:[t.jsx("div",{className:"grid grid-cols-2 gap-2",children:["FAQ","HowTo","Organization","Article"].map(S=>t.jsxs(te,{variant:"outline",size:"sm",onClick:()=>N(S),disabled:a,"data-testid":`generate-${S.toLowerCase()}-schema`,children:[a?t.jsx(Zo,{className:"h-3 w-3 animate-spin mr-1"}):t.jsx(dx,{className:"h-3 w-3 mr-1"}),S]},S))}),d&&t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(Pe,{className:"text-sm font-medium",children:[d.type," Schema"]}),t.jsx(te,{variant:"ghost",size:"sm",onClick:()=>v(d.code),children:t.jsx(Wd,{className:"h-3 w-3"})})]}),t.jsx(Js,{value:d.code,readOnly:!0,rows:8,className:"font-mono text-xs","data-testid":"schema-preview"}),d.isValid&&t.jsxs("div",{className:"flex items-center text-green-600 text-xs",children:[t.jsx(xn,{className:"h-3 w-3 mr-1"}),"Valid JSON-LD Schema"]})]})]})]})]})}),t.jsx(ct,{value:"content",className:"space-y-6",children:t.jsxs($,{children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(au,{className:"h-5 w-5"}),t.jsx("span",{children:"Content Structure Optimization"})]})}),t.jsxs(q,{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Pe,{children:"Question Headings"}),t.jsx(fn,{checked:l.questionHeadings,onCheckedChange:S=>h("questionHeadings",S)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Pe,{children:"Bullet Point Optimization"}),t.jsx(fn,{checked:l.bulletPointOptimization,onCheckedChange:S=>h("bulletPointOptimization",S)})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{children:"Conversational Keywords"}),t.jsx(A,{arrayKey:"conversationalKeywords",placeholder:"Add conversational keyword phrases",description:"Focus on 'how', 'what', 'why', 'best way to' patterns"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{children:"Featured Snippet Targeting"}),t.jsx(A,{arrayKey:"snippetTargeting",placeholder:"Add snippet target types (definition, list, table, paragraph)",description:"Types of featured snippets to optimize for"})]})]})]})}),t.jsx(ct,{value:"voice",className:"space-y-6",children:t.jsxs($,{children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(Fj,{className:"h-5 w-5"}),t.jsx("span",{children:"Voice Search Optimization"})]})}),t.jsxs(q,{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(Pe,{children:"Voice Search Optimization"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Optimize content for voice assistants and smart speakers"})]}),t.jsx(fn,{checked:l.enableVoiceOptimization,onCheckedChange:S=>h("enableVoiceOptimization",S)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{children:"Natural Language Patterns"}),t.jsx(A,{arrayKey:"naturalLanguagePatterns",placeholder:"Add natural language query patterns",description:"Common voice search phrases users might ask"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{children:"Local Search Queries"}),t.jsx(A,{arrayKey:"localSearchQueries",placeholder:"Add location-based search patterns",description:"Local voice search patterns (near me, in [city], etc.)"})]})]})]})}),t.jsx(ct,{value:"llms",className:"space-y-6",children:t.jsxs($,{children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(Hf,{className:"h-5 w-5"}),t.jsx("span",{children:"LLMs.txt Configuration"})]})}),t.jsxs(q,{className:"space-y-6",children:[t.jsxs(Ta,{children:[t.jsx(Er,{className:"h-4 w-4"}),t.jsx(Ea,{children:"The LLMs.txt file helps AI systems understand your content and provides guidelines for how your information should be presented in AI responses."})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(Pe,{children:"Enable LLMs.txt"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Generate AI-friendly content guidelines"})]}),t.jsx(fn,{checked:l.enableLLMsTxt,onCheckedChange:S=>h("enableLLMsTxt",S)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{children:"Purpose Statement"}),t.jsx(Js,{value:l.llmsPurpose,onChange:S=>h("llmsPurpose",S.target.value),placeholder:"Describe what your platform/organization does",rows:3})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{children:"AI Guidelines"}),t.jsx(Js,{value:l.llmsGuidelines,onChange:S=>h("llmsGuidelines",S.target.value),placeholder:"Guidelines for how AI should present your information",rows:3})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{children:"Restrictions"}),t.jsx(Js,{value:l.llmsRestrictions,onChange:S=>h("llmsRestrictions",S.target.value),placeholder:"What AI systems should not do with your content",rows:3})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{children:"Generated LLMs.txt"}),t.jsx(Js,{value:j(),readOnly:!0,rows:12,className:"font-mono text-xs","data-testid":"llms-txt-preview"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(te,{variant:"outline",size:"sm",onClick:()=>v(j()),children:[t.jsx(Wd,{className:"h-3 w-3 mr-1"}),"Copy"]}),t.jsxs(te,{variant:"outline",size:"sm",onClick:()=>{const S=new Blob([j()],{type:"text/plain"}),w=URL.createObjectURL(S),E=document.createElement("a");E.href=w,E.download="llms.txt",E.click(),URL.revokeObjectURL(w)},children:[t.jsx(xi,{className:"h-3 w-3 mr-1"}),"Download"]})]})]})]})]})}),t.jsx(ct,{value:"monitoring",className:"space-y-6",children:t.jsxs($,{children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(Mn,{className:"h-5 w-5"}),t.jsx("span",{children:"AEO Performance Monitoring"})]})}),t.jsxs(q,{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[t.jsxs("div",{children:[t.jsx(Pe,{className:"text-sm",children:"AI Citations Tracking"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Monitor mentions in AI responses"})]}),t.jsx(fn,{checked:l.trackAICitations,onCheckedChange:S=>h("trackAICitations",S)})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[t.jsxs("div",{children:[t.jsx(Pe,{className:"text-sm",children:"Featured Snippets"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Track snippet appearances"})]}),t.jsx(fn,{checked:l.monitorSnippets,onCheckedChange:S=>h("monitorSnippets",S)})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[t.jsxs("div",{children:[t.jsx(Pe,{className:"text-sm",children:"Voice Search"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Monitor voice query performance"})]}),t.jsx(fn,{checked:l.voiceSearchTracking,onCheckedChange:S=>h("voiceSearchTracking",S)})]})]}),t.jsxs(Ta,{children:[t.jsx(or,{className:"h-4 w-4"}),t.jsxs(Ea,{children:[t.jsx("strong",{children:"Key AEO Metrics:"})," Monitor AI citation rates, featured snippet appearances, voice search visibility, and zero-click engagement rates. AEO-driven visitors typically show higher engagement and conversion rates."]})]})]})]})})]})]})}function rEe(){const[n,e]=R.useState(""),[s,r]=R.useState("all"),[a,i]=R.useState("all"),[o,l]=R.useState(null),[c,d]=R.useState(!1),[u,h]=R.useState(""),m=ps(),{toast:y}=Dn(),N=[{id:"1",name:"Jane Smith",email:"jane@example.com",subject:"Account verification issue",message:"I'm having trouble verifying my account. The verification email never arrived and I've tried multiple times. Could you please help me resolve this issue?",status:"new",priority:"high",ipAddress:"192.168.1.100",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",createdAt:"2025-01-15T16:30:00Z",updatedAt:"2025-01-15T16:30:00Z"},{id:"2",name:"Mike Wilson",email:"mike@example.com",subject:"Payment processing question",message:"When will my withdrawal be processed? It's been 5 days since I submitted the request and haven't heard anything back.",status:"replied",priority:"normal",assignedTo:"admin1",assignedToName:"Admin User",responseMessage:"Your withdrawal has been processed and should appear in your account within 1-2 business days. Thank you for your patience.",respondedAt:"2025-01-14T16:30:00Z",createdAt:"2025-01-14T14:00:00Z",updatedAt:"2025-01-14T16:30:00Z"},{id:"3",name:"Sarah Johnson",email:"sarah@example.com",subject:"Feature request: Dark mode",message:"It would be great if you could add a dark mode option to the platform. Many users prefer dark themes, especially when working late hours.",status:"read",priority:"low",assignedTo:"admin1",assignedToName:"Admin User",createdAt:"2025-01-13T10:15:00Z",updatedAt:"2025-01-13T11:00:00Z"},{id:"4",name:"Alex Thompson",email:"alex@example.com",subject:"Billing discrepancy",message:"I noticed a charge on my account that I don't recognize. The amount is $29.99 and was charged yesterday. Can you please investigate?",status:"new",priority:"urgent",createdAt:"2025-01-15T09:45:00Z",updatedAt:"2025-01-15T09:45:00Z"},{id:"5",name:"Emily Davis",email:"emily@example.com",subject:"Content upload problems",message:"I'm experiencing issues uploading videos. The upload process gets stuck at 50% every time. This has been happening for the past two days.",status:"resolved",priority:"high",assignedTo:"admin2",assignedToName:"Tech Support",responseMessage:"We've identified and fixed the upload issue. Please try uploading again. If you continue to experience problems, please let us know.",respondedAt:"2025-01-12T15:20:00Z",createdAt:"2025-01-12T08:30:00Z",updatedAt:"2025-01-12T15:20:00Z"}],j=kt({mutationFn:k=>Kt(`/api/admin/contact-messages/${k.messageId}`,"PATCH",k.updates),onSuccess:()=>{m.invalidateQueries({queryKey:["/api/admin/contact-messages"]}),y({title:"Message updated successfully"})}}),v=kt({mutationFn:k=>Kt(`/api/admin/contact-messages/${k.messageId}/reply`,"POST",{response:k.reply}),onSuccess:()=>{m.invalidateQueries({queryKey:["/api/admin/contact-messages"]}),y({title:"Reply sent successfully"}),d(!1),h(""),l(null)}}),b=N.filter(k=>{const I=!n||k.name.toLowerCase().includes(n.toLowerCase())||k.email.toLowerCase().includes(n.toLowerCase())||k.subject.toLowerCase().includes(n.toLowerCase())||k.message.toLowerCase().includes(n.toLowerCase()),L=s==="all"||k.status===s,U=a==="all"||k.priority===a;return I&&L&&U}),A=k=>{const L={new:{variant:"default",color:"text-blue-600",icon:ux},read:{variant:"outline",color:"text-gray-600",icon:Mn},replied:{variant:"default",color:"text-green-600",icon:W3},resolved:{variant:"default",color:"text-green-600",icon:xn},archived:{variant:"secondary",color:"text-gray-500",icon:y_}}[k];if(!L)return t.jsx(de,{variant:"secondary",children:k});const U=L.icon;return t.jsxs(de,{variant:L.variant,className:"flex items-center space-x-1",children:[t.jsx(U,{className:"h-3 w-3"}),t.jsx("span",{children:k.charAt(0).toUpperCase()+k.slice(1)})]})},S=k=>{const I={low:"secondary",normal:"outline",high:"destructive",urgent:"destructive"};return t.jsx(de,{variant:I[k]||"secondary",children:k.charAt(0).toUpperCase()+k.slice(1)})},w=(k,I)=>{j.mutate({messageId:k,updates:{status:I}})},E=()=>{!o||!u.trim()||v.mutate({messageId:o.id,reply:u.trim()})},P=(()=>{const k=N.length,I=N.filter(H=>H.status==="new").length,L=N.filter(H=>H.status==="new"||H.status==="read").length,U=N.filter(H=>H.status==="resolved").length;return{totalMessages:k,newMessages:I,pendingMessages:L,resolvedMessages:U}})();return t.jsxs("div",{className:"container mx-auto p-6 space-y-6","data-testid":"contact-management",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"Contact Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage customer support requests and communications"})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(J1,{className:"h-8 w-8 text-primary"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Total Messages"}),t.jsx("p",{className:"text-2xl font-bold",children:P.totalMessages})]})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ux,{className:"h-8 w-8 text-blue-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"New Messages"}),t.jsx("p",{className:"text-2xl font-bold",children:P.newMessages})]})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(As,{className:"h-8 w-8 text-yellow-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Pending"}),t.jsx("p",{className:"text-2xl font-bold",children:P.pendingMessages})]})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(xn,{className:"h-8 w-8 text-green-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Resolved"}),t.jsx("p",{className:"text-2xl font-bold",children:P.resolvedMessages})]})]})})})]}),t.jsxs($,{className:"cyber-border",children:[t.jsxs(oe,{children:[t.jsxs(le,{children:["Contact Messages (",b.length,")"]}),t.jsx(Ct,{children:"Manage and respond to customer inquiries and support requests"})]}),t.jsxs(q,{children:[t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(jr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Fe,{placeholder:"Search messages...",value:n,onChange:k=>e(k.target.value),className:"pl-10","data-testid":"input-search-messages"})]}),t.jsxs(sn,{value:s,onValueChange:r,children:[t.jsx(en,{className:"w-[180px]","data-testid":"select-status-filter",children:t.jsx(rn,{placeholder:"Filter by status"})}),t.jsxs(tn,{children:[t.jsx(re,{value:"all",children:"All Status"}),t.jsx(re,{value:"new",children:"New"}),t.jsx(re,{value:"read",children:"Read"}),t.jsx(re,{value:"replied",children:"Replied"}),t.jsx(re,{value:"resolved",children:"Resolved"}),t.jsx(re,{value:"archived",children:"Archived"})]})]}),t.jsxs(sn,{value:a,onValueChange:i,children:[t.jsx(en,{className:"w-[180px]","data-testid":"select-priority-filter",children:t.jsx(rn,{placeholder:"Filter by priority"})}),t.jsxs(tn,{children:[t.jsx(re,{value:"all",children:"All Priority"}),t.jsx(re,{value:"low",children:"Low"}),t.jsx(re,{value:"normal",children:"Normal"}),t.jsx(re,{value:"high",children:"High"}),t.jsx(re,{value:"urgent",children:"Urgent"})]})]})]}),t.jsx("div",{className:"border rounded-lg",children:t.jsxs(Ar,{children:[t.jsx(Cr,{children:t.jsxs(Vn,{children:[t.jsx(He,{children:"Contact"}),t.jsx(He,{children:"Subject"}),t.jsx(He,{children:"Priority"}),t.jsx(He,{children:"Status"}),t.jsx(He,{children:"Assigned To"}),t.jsx(He,{children:"Date"}),t.jsx(He,{children:"Actions"})]})}),t.jsx(Tr,{children:b.map(k=>t.jsxs(Vn,{className:k.status==="new"?"bg-blue-50":"",children:[t.jsx(Ve,{children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-gray-100 rounded-full",children:t.jsx(Jv,{className:"h-4 w-4 text-gray-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:k.name}),t.jsx("div",{className:"text-sm text-muted-foreground",children:k.email})]})]})}),t.jsx(Ve,{children:t.jsxs("div",{className:"max-w-[250px]",children:[t.jsx("div",{className:"font-medium truncate",children:k.subject}),t.jsx("div",{className:"text-sm text-muted-foreground truncate",children:k.message})]})}),t.jsx(Ve,{children:S(k.priority)}),t.jsx(Ve,{children:A(k.status)}),t.jsx(Ve,{children:k.assignedToName?t.jsx("span",{className:"text-sm",children:k.assignedToName}):t.jsx("span",{className:"text-muted-foreground",children:"Unassigned"})}),t.jsxs(Ve,{children:[t.jsx("div",{className:"text-sm",children:new Date(k.createdAt).toLocaleDateString()}),t.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(k.createdAt).toLocaleTimeString()})]}),t.jsx(Ve,{children:t.jsx("div",{className:"flex space-x-2",children:t.jsxs(pi,{children:[t.jsx(Qo,{asChild:!0,children:t.jsxs(te,{variant:"outline",size:"sm",onClick:()=>l(k),"data-testid":`button-view-${k.id}`,children:[t.jsx(Mn,{className:"h-3 w-3 mr-1"}),"View"]})}),t.jsxs(Ka,{className:"max-w-2xl",children:[t.jsxs(Xa,{children:[t.jsx(Za,{children:"Contact Message Details"}),t.jsxs(Sl,{children:["Message from ",k.name," (",k.email,")"]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{children:"Subject"}),t.jsx("p",{className:"text-sm font-medium",children:k.subject})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{children:"Priority"}),S(k.priority)]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{children:"Message"}),t.jsx("div",{className:"p-3 bg-gray-50 rounded-md",children:t.jsx("p",{className:"text-sm",children:k.message})})]}),k.responseMessage&&t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{children:"Response"}),t.jsxs("div",{className:"p-3 bg-green-50 rounded-md",children:[t.jsx("p",{className:"text-sm",children:k.responseMessage}),t.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Replied by ",k.assignedToName," on"," ",k.respondedAt&&new Date(k.respondedAt).toLocaleString()]})]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("div",{className:"flex space-x-2",children:t.jsxs(sn,{value:k.status,onValueChange:I=>w(k.id,I),children:[t.jsx(en,{className:"w-[140px]",children:t.jsx(rn,{})}),t.jsxs(tn,{children:[t.jsx(re,{value:"new",children:"New"}),t.jsx(re,{value:"read",children:"Read"}),t.jsx(re,{value:"replied",children:"Replied"}),t.jsx(re,{value:"resolved",children:"Resolved"}),t.jsx(re,{value:"archived",children:"Archived"})]})]})}),k.status!=="resolved"&&k.status!=="archived"&&t.jsxs(te,{onClick:()=>{l(k),d(!0)},children:[t.jsx(W3,{className:"h-4 w-4 mr-2"}),"Reply"]})]})]})]})]})})})]},k.id))})]})})]})]}),t.jsx(pi,{open:c,onOpenChange:d,children:t.jsxs(Ka,{className:"max-w-2xl",children:[t.jsxs(Xa,{children:[t.jsx(Za,{children:"Reply to Message"}),t.jsx(Sl,{children:o&&`Replying to ${o.name} (${o.email})`})]}),t.jsxs("div",{className:"space-y-4",children:[o&&t.jsxs("div",{className:"p-3 bg-gray-50 rounded-md",children:[t.jsx("p",{className:"text-sm font-medium mb-2",children:"Original Message:"}),t.jsx("p",{className:"text-sm",children:o.message})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"reply",children:"Your Response"}),t.jsx(Js,{id:"reply",value:u,onChange:k=>h(k.target.value),placeholder:"Type your response...",className:"min-h-[120px]","data-testid":"textarea-reply"})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx(te,{variant:"outline",onClick:()=>d(!1),"data-testid":"button-cancel-reply",children:"Cancel"}),t.jsxs(te,{onClick:E,disabled:v.isPending||!u.trim(),"data-testid":"button-send-reply",children:[t.jsx($f,{className:"h-4 w-4 mr-2"}),v.isPending?"Sending...":"Send Reply"]})]})]})]})})]})}function aEe(){const[n,e]=R.useState({ffmpegPath:"/usr/bin/ffmpeg",coconutApiKey:"",defaultQuality:"720p",enableHardwareAcceleration:!0,maxConcurrentJobs:5,outputFormat:"mp4",compressionLevel:"medium"}),s={totalProcessed:45632,currentQueue:23,avgProcessingTime:"2.4 minutes",successRate:98.7};return t.jsxs("div",{className:"min-h-screen p-6 cyber-bg",children:[t.jsx(pu,{title:"Video Encoding - FanzDash",description:"Configure FFMPEG and Coconut video encoding settings for optimal media processing",canonicalUrl:"https://fanzdash.com/video-encoding"}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"Video Encoding"}),t.jsx("p",{className:"text-muted-foreground",children:"FFMPEG & Coconut configuration"})]}),t.jsx(de,{className:"bg-green-500/20 text-green-400",children:"Online"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Processed"}),t.jsx("p",{className:"text-2xl font-bold cyber-text-glow",children:s.totalProcessed.toLocaleString()})]}),t.jsx(yh,{className:"w-8 h-8 text-primary"})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Queue"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:s.currentQueue})]}),t.jsx(Ks,{className:"w-8 h-8 text-yellow-400"})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Processing"}),t.jsx("p",{className:"text-2xl font-bold text-blue-400",children:s.avgProcessingTime})]}),t.jsx(va,{className:"w-8 h-8 text-blue-400"})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Success Rate"}),t.jsxs("p",{className:"text-2xl font-bold text-green-400",children:[s.successRate,"%"]})]}),t.jsx(yo,{className:"w-8 h-8 text-green-400"})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs($,{className:"cyber-border",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center gap-2",children:[t.jsx(lr,{className:"w-5 h-5"}),"FFMPEG Configuration"]})}),t.jsxs(q,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium mb-2 block",children:"FFMPEG Path"}),t.jsx(Fe,{value:n.ffmpegPath,onChange:r=>e({...n,ffmpegPath:r.target.value}),className:"glass-effect"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Default Quality"}),t.jsxs(sn,{value:n.defaultQuality,onValueChange:r=>e({...n,defaultQuality:r}),children:[t.jsx(en,{className:"glass-effect",children:t.jsx(rn,{})}),t.jsxs(tn,{children:[t.jsx(re,{value:"480p",children:"480p"}),t.jsx(re,{value:"720p",children:"720p"}),t.jsx(re,{value:"1080p",children:"1080p"}),t.jsx(re,{value:"4k",children:"4K"})]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"text-sm font-medium",children:"Hardware Acceleration"}),t.jsx(fn,{checked:n.enableHardwareAcceleration,onCheckedChange:r=>e({...n,enableHardwareAcceleration:r})})]})]})]}),t.jsxs($,{className:"cyber-border",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center gap-2",children:[t.jsx(yh,{className:"w-5 h-5"}),"Coconut.co Integration"]})}),t.jsxs(q,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium mb-2 block",children:"API Key"}),t.jsx(Fe,{type:"password",value:n.coconutApiKey,onChange:r=>e({...n,coconutApiKey:r.target.value}),className:"glass-effect",placeholder:"Enter Coconut API key"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Max Concurrent Jobs"}),t.jsx(Fe,{type:"number",value:n.maxConcurrentJobs,onChange:r=>e({...n,maxConcurrentJobs:parseInt(r.target.value)}),className:"glass-effect"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Compression Level"}),t.jsxs(sn,{value:n.compressionLevel,onValueChange:r=>e({...n,compressionLevel:r}),children:[t.jsx(en,{className:"glass-effect",children:t.jsx(rn,{})}),t.jsxs(tn,{children:[t.jsx(re,{value:"low",children:"Low"}),t.jsx(re,{value:"medium",children:"Medium"}),t.jsx(re,{value:"high",children:"High"})]})]})]})]})]})]}),t.jsxs("div",{className:"flex justify-end space-x-4",children:[t.jsx(te,{variant:"outline",className:"cyber-border",children:"Test Configuration"}),t.jsx(te,{className:"cyber-button",children:"Save Settings"})]})]})]})}function iEe(){const[n,e]=R.useState(""),[s,r]=R.useState("all"),a={totalStickers:2847,totalPacks:156,activeUsers:45230,dailyUsage:892143},i=[{id:1,name:"Cyberpunk Emojis",stickers:24,category:"tech",status:"active",downloads:5432},{id:2,name:"Creator Reactions",stickers:18,category:"reactions",status:"active",downloads:8901},{id:3,name:"FanzDash Branded",stickers:12,category:"brand",status:"active",downloads:3210},{id:4,name:"Seasonal Collection",stickers:36,category:"seasonal",status:"draft",downloads:0}];return t.jsxs("div",{className:"min-h-screen p-6 cyber-bg",children:[t.jsx(pu,{title:"Stickers Management - FanzDash",description:"Manage emoji and sticker collections for enhanced user engagement",canonicalUrl:"https://fanzdash.com/stickers-management"}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"Stickers Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Emoji & sticker collections"})]}),t.jsxs(pi,{children:[t.jsx(Qo,{asChild:!0,children:t.jsxs(te,{className:"cyber-button",children:[t.jsx(oa,{className:"w-4 h-4 mr-2"}),"Add Sticker Pack"]})}),t.jsxs(Ka,{className:"cyber-border",children:[t.jsx(Xa,{children:t.jsx(Za,{children:"Create New Sticker Pack"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(Fe,{placeholder:"Pack name",className:"glass-effect"}),t.jsx(Fe,{placeholder:"Category",className:"glass-effect"}),t.jsxs(te,{className:"w-full cyber-button",children:[t.jsx(yo,{className:"w-4 h-4 mr-2"}),"Upload Stickers"]})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Stickers"}),t.jsx("p",{className:"text-2xl font-bold cyber-text-glow",children:a.totalStickers.toLocaleString()})]}),t.jsx(hF,{className:"w-8 h-8 text-primary"})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Sticker Packs"}),t.jsx("p",{className:"text-2xl font-bold text-blue-400",children:a.totalPacks})]}),t.jsx(yo,{className:"w-8 h-8 text-blue-400"})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Users"}),t.jsx("p",{className:"text-2xl font-bold text-green-400",children:a.activeUsers.toLocaleString()})]}),t.jsx(de,{className:"bg-green-500/20 text-green-400",children:"Online"})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Daily Usage"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:a.dailyUsage.toLocaleString()})]}),t.jsx(hF,{className:"w-8 h-8 text-yellow-400"})]})})})]}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),t.jsx(Fe,{placeholder:"Search sticker packs...",value:n,onChange:o=>e(o.target.value),className:"pl-10 glass-effect"})]}),t.jsx(te,{variant:"outline",className:"cyber-border",children:"Filter by Category"})]})})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(o=>t.jsxs($,{className:"cyber-border",children:[t.jsx(oe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(le,{className:"text-lg",children:o.name}),t.jsx(de,{variant:o.status==="active"?"default":"secondary",children:o.status})]})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Stickers:"}),t.jsx("span",{children:o.stickers})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Category:"}),t.jsx("span",{className:"capitalize",children:o.category})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Downloads:"}),t.jsx("span",{children:o.downloads.toLocaleString()})]}),t.jsxs("div",{className:"flex gap-2 pt-2",children:[t.jsxs(te,{size:"sm",variant:"outline",className:"flex-1",children:[t.jsx(Oi,{className:"w-4 h-4 mr-1"}),"Edit"]}),t.jsxs(te,{size:"sm",variant:"outline",className:"flex-1 text-red-400 hover:text-red-300",children:[t.jsx(Wa,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]})})]},o.id))})]})]})}function oEe(){const[n,e]=R.useState({pusherAppId:"1234567",pusherKey:"abcdef123456",pusherSecret:"",pusherCluster:"us2",enableSSL:!0,maxConnections:1e4,connectionTimeout:30,heartbeatInterval:25,enableDebug:!1,allowOrigins:"*"}),s={activeConnections:8547,totalMessages:2847230,messagesPerSecond:450,uptime:"99.98%"},r=[{name:"live-updates",subscribers:2340,status:"active"},{name:"moderation-alerts",subscribers:56,status:"active"},{name:"user-notifications",subscribers:15420,status:"active"},{name:"system-health",subscribers:12,status:"active"},{name:"admin-broadcast",subscribers:234,status:"active"}];return t.jsxs("div",{className:"min-h-screen p-6 cyber-bg",children:[t.jsx(pu,{title:"WebSocket Settings - FanzDash",description:"Configure Pusher and real-time communication settings for live updates",canonicalUrl:"https://fanzdash.com/websocket-settings"}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"WebSocket Settings"}),t.jsx("p",{className:"text-muted-foreground",children:"Pusher & real-time configuration"})]}),t.jsxs(de,{className:"bg-green-500/20 text-green-400",children:[t.jsx(Ks,{className:"w-3 h-3 mr-1"}),"Connected"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Connections"}),t.jsx("p",{className:"text-2xl font-bold cyber-text-glow",children:s.activeConnections.toLocaleString()})]}),t.jsx(wk,{className:"w-8 h-8 text-primary"})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Messages/Second"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:s.messagesPerSecond})]}),t.jsx(va,{className:"w-8 h-8 text-yellow-400"})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Messages"}),t.jsx("p",{className:"text-2xl font-bold text-blue-400",children:s.totalMessages.toLocaleString()})]}),t.jsx(Ks,{className:"w-8 h-8 text-blue-400"})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Uptime"}),t.jsx("p",{className:"text-2xl font-bold text-green-400",children:s.uptime})]}),t.jsx(En,{className:"w-8 h-8 text-green-400"})]})})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs($,{className:"cyber-border",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center gap-2",children:[t.jsx(lr,{className:"w-5 h-5"}),"Pusher Configuration"]})}),t.jsxs(q,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium mb-2 block",children:"App ID"}),t.jsx(Fe,{value:n.pusherAppId,onChange:a=>e({...n,pusherAppId:a.target.value}),className:"glass-effect"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium mb-2 block",children:"App Key"}),t.jsx(Fe,{value:n.pusherKey,onChange:a=>e({...n,pusherKey:a.target.value}),className:"glass-effect"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium mb-2 block",children:"App Secret"}),t.jsx(Fe,{type:"password",value:n.pusherSecret,onChange:a=>e({...n,pusherSecret:a.target.value}),className:"glass-effect",placeholder:"Enter app secret"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Cluster"}),t.jsxs(sn,{value:n.pusherCluster,onValueChange:a=>e({...n,pusherCluster:a}),children:[t.jsx(en,{className:"glass-effect",children:t.jsx(rn,{})}),t.jsxs(tn,{children:[t.jsx(re,{value:"us2",children:"US East (us2)"}),t.jsx(re,{value:"us3",children:"US West (us3)"}),t.jsx(re,{value:"eu",children:"Europe (eu)"}),t.jsx(re,{value:"ap1",children:"Asia Pacific (ap1)"})]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"text-sm font-medium",children:"Enable SSL"}),t.jsx(fn,{checked:n.enableSSL,onCheckedChange:a=>e({...n,enableSSL:a})})]})]})]}),t.jsxs($,{className:"cyber-border",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center gap-2",children:[t.jsx(Er,{className:"w-5 h-5"}),"Connection Settings"]})}),t.jsxs(q,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Max Connections"}),t.jsx(Fe,{type:"number",value:n.maxConnections,onChange:a=>e({...n,maxConnections:parseInt(a.target.value)}),className:"glass-effect"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Connection Timeout (seconds)"}),t.jsx(Fe,{type:"number",value:n.connectionTimeout,onChange:a=>e({...n,connectionTimeout:parseInt(a.target.value)}),className:"glass-effect"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Heartbeat Interval (seconds)"}),t.jsx(Fe,{type:"number",value:n.heartbeatInterval,onChange:a=>e({...n,heartbeatInterval:parseInt(a.target.value)}),className:"glass-effect"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Allowed Origins"}),t.jsx(Js,{value:n.allowOrigins,onChange:a=>e({...n,allowOrigins:a.target.value}),className:"glass-effect",placeholder:"* or specific domains"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"text-sm font-medium",children:"Debug Mode"}),t.jsx(fn,{checked:n.enableDebug,onCheckedChange:a=>e({...n,enableDebug:a})})]})]})]})]}),t.jsxs($,{className:"cyber-border",children:[t.jsx(oe,{children:t.jsx(le,{children:"Active Channels"})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-3",children:r.map((a,i)=>t.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-800/50",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(de,{variant:"secondary",children:a.name}),t.jsxs("span",{className:"text-sm text-muted-foreground",children:[a.subscribers.toLocaleString()," subscribers"]})]}),t.jsx(de,{className:"bg-green-500/20 text-green-400",children:a.status})]},i))})})]}),t.jsxs("div",{className:"flex justify-end space-x-4",children:[t.jsx(te,{variant:"outline",className:"cyber-border",children:"Test Connection"}),t.jsx(te,{className:"cyber-button",children:"Save Settings"})]})]})]})}function lEe(){const[n,e]=R.useState("overview"),[s,r]=R.useState(null),[a,i]=R.useState(!1),{toast:o}=Dn();ps();const{data:l,isLoading:c,refetch:d}=wn({queryKey:["/api/starz-studio/clusters"],refetchInterval:3e4}),{data:u,isLoading:h,refetch:m}=wn({queryKey:["/api/starz-studio/projects"],refetchInterval:15e3}),{data:y,isLoading:N,refetch:j}=wn({queryKey:["/api/starz-studio/analytics"],refetchInterval:1e4}),{data:v,isLoading:b}=wn({queryKey:["/api/starz-studio/status"],refetchInterval:5e3}),{data:A,isLoading:S}=wn({queryKey:["/api/starz-studio/finance/integration"],refetchInterval:3e4}),w=kt({mutationFn:()=>Kt("POST","/api/starz-studio/clusters/sync"),onSuccess:()=>{o({title:"Platform Sync",description:"All platform clusters synchronized successfully"}),d()},onError:()=>{o({title:"Sync Failed",description:"Failed to synchronize platform clusters",variant:"destructive"})}});kt({mutationFn:U=>Kt("POST","/api/starz-studio/projects",U),onSuccess:()=>{o({title:"Project Created",description:"New project created successfully"}),m(),i(!1)},onError:()=>{o({title:"Creation Failed",description:"Failed to create new project",variant:"destructive"})}});const E=l?.clusters||[],T=u?.projects||[],P=y?.analytics||{overview:{totalProjects:0,activeProjects:0,totalRevenue:0,averageROI:0,processingCapacity:100},performance:{contentProductionRate:0,averageTimeToPublish:0,qualityScore:95,creatorSatisfaction:92},clusterMetrics:[],aiMetrics:{jobsProcessed:0,averageProcessingTime:0,successRate:98,costPerJob:0}},k=U=>{switch(U){case"online":return t.jsx(wk,{className:"h-4 w-4 text-green-400"});case"offline":return t.jsx(Y$,{className:"h-4 w-4 text-red-400"});case"maintenance":return t.jsx(lr,{className:"h-4 w-4 text-yellow-400"});default:return t.jsx(fj,{className:"h-4 w-4 text-gray-400"})}},I=U=>{switch(U){case"urgent":return"bg-red-600 text-white";case"high":return"bg-orange-600 text-white";case"medium":return"bg-blue-600 text-white";case"low":return"bg-gray-600 text-white";default:return"bg-gray-600 text-white"}},L=U=>{switch(U){case"published":return"bg-green-600 text-white";case"processing":return"bg-blue-600 text-white";case"production":return"bg-purple-600 text-white";case"planning":return"bg-yellow-600 text-black";case"review":return"bg-orange-600 text-white";case"archived":return"bg-gray-600 text-white";default:return"bg-gray-600 text-white"}};return t.jsxs("div",{className:"p-6 space-y-6 bg-black min-h-screen",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 via-purple-400 to-pink-400 bg-clip-text text-transparent",children:"🎬 Starz Studio Admin Panel"}),t.jsx("p",{className:"text-gray-400 mt-1",children:"AI-Powered Content Production Service • FANZ OS 3.0 Ecosystem"})]}),t.jsx("div",{className:"flex gap-2",children:t.jsxs(te,{onClick:()=>w.mutate(),disabled:w.isPending,variant:"outline",className:"border-cyan-600 text-cyan-400 hover:bg-cyan-600/20","data-testid":"button-sync-clusters",children:[t.jsx(Zo,{className:`h-4 w-4 mr-2 ${w.isPending?"animate-spin":""}`}),"Sync Clusters"]})})]}),t.jsx($,{className:"bg-gray-900 border-gray-700",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ks,{className:"h-5 w-5 text-green-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Service Status"}),t.jsx("p",{className:"text-lg font-bold text-green-400",children:v?.status?.isRunning?"ONLINE":"OFFLINE"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx($A,{className:"h-5 w-5 text-blue-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Processing Capacity"}),t.jsxs("p",{className:"text-lg font-bold text-blue-400",children:[P.overview.processingCapacity,"%"]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Er,{className:"h-5 w-5 text-purple-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Active Clusters"}),t.jsxs("p",{className:"text-lg font-bold text-purple-400",children:[E.filter(U=>U.status==="online").length,"/",E.length]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(G3,{className:"h-5 w-5 text-yellow-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Active Projects"}),t.jsx("p",{className:"text-lg font-bold text-yellow-400",children:P.overview.activeProjects})]})]})]})})}),t.jsxs(Xs,{value:n,onValueChange:e,className:"space-y-4",children:[t.jsxs($s,{className:"grid w-full grid-cols-6 bg-gray-900",children:[t.jsx(lt,{value:"overview",className:"data-[state=active]:bg-cyan-600",children:"Overview"}),t.jsx(lt,{value:"clusters",className:"data-[state=active]:bg-purple-600",children:"Clusters"}),t.jsx(lt,{value:"projects",className:"data-[state=active]:bg-blue-600",children:"Projects"}),t.jsx(lt,{value:"analytics",className:"data-[state=active]:bg-green-600",children:"Analytics"}),t.jsx(lt,{value:"ai-jobs",className:"data-[state=active]:bg-pink-600",children:"AI Jobs"}),t.jsx(lt,{value:"finance",className:"data-[state=active]:bg-yellow-600",children:"Finance"})]}),t.jsxs(ct,{value:"overview",className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsx($,{className:"bg-gradient-to-br from-cyan-900/50 to-blue-900/50 border-cyan-600/50",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-cyan-400 text-sm font-medium",children:"Total Projects"}),t.jsx("p",{className:"text-2xl font-bold text-white",children:P.overview.totalProjects})]}),t.jsx(G3,{className:"h-8 w-8 text-cyan-400"})]})})}),t.jsx($,{className:"bg-gradient-to-br from-purple-900/50 to-pink-900/50 border-purple-600/50",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-purple-400 text-sm font-medium",children:"Total Revenue"}),t.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",P.overview.totalRevenue.toLocaleString()]})]}),t.jsx(Jr,{className:"h-8 w-8 text-purple-400"})]})})}),t.jsx($,{className:"bg-gradient-to-br from-green-900/50 to-teal-900/50 border-green-600/50",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-green-400 text-sm font-medium",children:"Average ROI"}),t.jsxs("p",{className:"text-2xl font-bold text-white",children:[P.overview.averageROI.toFixed(1),"%"]})]}),t.jsx(or,{className:"h-8 w-8 text-green-400"})]})})}),t.jsx($,{className:"bg-gradient-to-br from-yellow-900/50 to-orange-900/50 border-yellow-600/50",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-yellow-400 text-sm font-medium",children:"AI Success Rate"}),t.jsxs("p",{className:"text-2xl font-bold text-white",children:[P.aiMetrics.successRate,"%"]})]}),t.jsx(Gr,{className:"h-8 w-8 text-yellow-400"})]})})})]}),t.jsxs($,{className:"bg-gray-900 border-gray-700",children:[t.jsx(oe,{children:t.jsx(le,{className:"text-cyan-400",children:"Quick Actions"})}),t.jsxs(q,{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs(te,{onClick:()=>i(!0),className:"bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700","data-testid":"button-create-project",children:[t.jsx(oa,{className:"h-4 w-4 mr-2"}),"Create New Project"]}),t.jsxs(te,{onClick:()=>e("ai-jobs"),variant:"outline",className:"border-purple-600 text-purple-400 hover:bg-purple-600/20","data-testid":"button-view-ai-jobs",children:[t.jsx(Gr,{className:"h-4 w-4 mr-2"}),"View AI Jobs"]}),t.jsxs(te,{onClick:()=>e("analytics"),variant:"outline",className:"border-green-600 text-green-400 hover:bg-green-600/20","data-testid":"button-view-analytics",children:[t.jsx(la,{className:"h-4 w-4 mr-2"}),"View Analytics"]})]})]})]}),t.jsx(ct,{value:"clusters",className:"space-y-4",children:t.jsx("div",{className:"grid gap-4",children:E.map(U=>t.jsx($,{className:"bg-gray-900 border-gray-700",children:t.jsxs(q,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[k(U.status),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:U.name}),t.jsxs("p",{className:"text-gray-400 text-sm",children:["Port: ",U.port," • ",U.endpoint]})]})]}),t.jsx(de,{className:U.status==="online"?"bg-green-600":U.status==="offline"?"bg-red-600":"bg-yellow-600",children:U.status.toUpperCase()})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400 mb-2",children:"Content Specs"}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("p",{className:"text-xs text-gray-300",children:["Formats:"," ",U.contentSpecs.preferredFormats.join(", ")]}),t.jsxs("p",{className:"text-xs text-gray-300",children:["Ratios: ",U.contentSpecs.aspectRatios.join(", ")]}),t.jsxs("p",{className:"text-xs text-gray-300",children:["Max Duration: ",U.contentSpecs.maxDuration,"s"]})]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400 mb-2",children:"Languages"}),t.jsx("div",{className:"flex flex-wrap gap-1",children:U.contentSpecs.targetLanguages.map(H=>t.jsx(de,{variant:"secondary",className:"text-xs",children:H.toUpperCase()},H))})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-400 mb-2",children:"Last Sync"}),t.jsx("p",{className:"text-xs text-gray-300",children:new Date(U.lastSync).toLocaleString()})]})]})]})},U.id))})}),t.jsxs(ct,{value:"projects",className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h2",{className:"text-xl font-semibold text-white",children:"Production Projects"}),t.jsxs(te,{onClick:()=>i(!0),className:"bg-gradient-to-r from-cyan-600 to-blue-600","data-testid":"button-create-new-project",children:[t.jsx(oa,{className:"h-4 w-4 mr-2"}),"New Project"]})]}),t.jsx("div",{className:"grid gap-4",children:T.map(U=>t.jsx($,{className:"bg-gray-900 border-gray-700 hover:border-cyan-600/50 transition-colors",children:t.jsxs(q,{className:"p-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:U.name}),t.jsx("p",{className:"text-gray-400 text-sm mb-2",children:U.description}),t.jsxs("div",{className:"flex gap-2 mb-2",children:[t.jsx(de,{className:L(U.status),children:U.status.toUpperCase()}),t.jsx(de,{className:I(U.priority),children:U.priority.toUpperCase()})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Budget"}),t.jsxs("p",{className:"font-semibold text-white",children:["$",U.budget.spent.toLocaleString()," / $",U.budget.allocated.toLocaleString()]}),t.jsx(Xn,{value:U.budget.spent/U.budget.allocated*100,className:"w-20 mt-1"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Target Clusters"}),t.jsxs("p",{className:"text-white",children:[U.targetClusters.length," platforms"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Collaborators"}),t.jsxs("p",{className:"text-white",children:[U.collaboration.activeUsers," active"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Performance"}),t.jsxs("p",{className:"text-white",children:[U.performance.views.toLocaleString()," views"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"ROI"}),t.jsxs("p",{className:`font-semibold ${U.performance.roi>=0?"text-green-400":"text-red-400"}`,children:[U.performance.roi.toFixed(1),"%"]})]})]})]})},U.id))})]}),t.jsxs(ct,{value:"analytics",className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs($,{className:"bg-gray-900 border-gray-700",children:[t.jsx(oe,{children:t.jsx(le,{className:"text-cyan-400",children:"Production Performance"})}),t.jsxs(q,{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-400",children:"Content Production Rate"}),t.jsxs("span",{className:"font-semibold text-white",children:[P.performance.contentProductionRate,"/month"]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-400",children:"Avg Time to Publish"}),t.jsxs("span",{className:"font-semibold text-white",children:[P.performance.averageTimeToPublish,"h"]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-400",children:"Quality Score"}),t.jsxs("span",{className:"font-semibold text-green-400",children:[P.performance.qualityScore,"/100"]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-400",children:"Creator Satisfaction"}),t.jsxs("span",{className:"font-semibold text-green-400",children:[P.performance.creatorSatisfaction,"%"]})]})]})]}),t.jsxs($,{className:"bg-gray-900 border-gray-700",children:[t.jsx(oe,{children:t.jsx(le,{className:"text-purple-400",children:"AI Processing Metrics"})}),t.jsxs(q,{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-400",children:"Jobs Processed"}),t.jsx("span",{className:"font-semibold text-white",children:P.aiMetrics.jobsProcessed.toLocaleString()})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-400",children:"Avg Processing Time"}),t.jsxs("span",{className:"font-semibold text-white",children:[P.aiMetrics.averageProcessingTime,"s"]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-400",children:"Success Rate"}),t.jsxs("span",{className:"font-semibold text-green-400",children:[P.aiMetrics.successRate,"%"]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-400",children:"Cost Per Job"}),t.jsxs("span",{className:"font-semibold text-white",children:["$",P.aiMetrics.costPerJob.toFixed(2)]})]})]})]})]}),t.jsxs($,{className:"bg-gray-900 border-gray-700",children:[t.jsx(oe,{children:t.jsx(le,{className:"text-green-400",children:"Platform Cluster Performance"})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-4",children:P.clusterMetrics.map(U=>{const H=E.find(B=>B.id===U.clusterId);return t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Er,{className:"h-5 w-5 text-blue-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:H?.name||U.clusterId}),t.jsxs("p",{className:"text-sm text-gray-400",children:[U.contentCount," content items"]})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-6 text-right",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Revenue"}),t.jsxs("p",{className:"font-semibold text-green-400",children:["$",U.revenue.toLocaleString()]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Engagement"}),t.jsxs("p",{className:"font-semibold text-blue-400",children:[U.engagement.toFixed(1),"%"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400",children:"Conversion"}),t.jsxs("p",{className:"font-semibold text-purple-400",children:[U.conversionRate.toFixed(1),"%"]})]})]})]},U.clusterId)})})})]})]}),t.jsx(ct,{value:"ai-jobs",className:"space-y-4",children:t.jsxs($,{className:"bg-gray-900 border-gray-700",children:[t.jsx(oe,{children:t.jsx(le,{className:"text-pink-400",children:"AI Processing Pipeline"})}),t.jsxs(q,{children:[t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[t.jsxs("div",{className:"text-center p-4 bg-blue-900/30 rounded-lg border border-blue-600/30",children:[t.jsx(Zre,{className:"h-8 w-8 text-blue-400 mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Queued Jobs"}),t.jsx("p",{className:"text-2xl font-bold text-blue-400",children:v?.status?.queuedJobs||0})]}),t.jsxs("div",{className:"text-center p-4 bg-purple-900/30 rounded-lg border border-purple-600/30",children:[t.jsx(Ks,{className:"h-8 w-8 text-purple-400 mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Processing"}),t.jsx("p",{className:"text-2xl font-bold text-purple-400",children:v?.status?.processingJobs||0})]}),t.jsxs("div",{className:"text-center p-4 bg-green-900/30 rounded-lg border border-green-600/30",children:[t.jsx(xn,{className:"h-8 w-8 text-green-400 mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Success Rate"}),t.jsxs("p",{className:"text-2xl font-bold text-green-400",children:[P.aiMetrics.successRate,"%"]})]}),t.jsxs("div",{className:"text-center p-4 bg-yellow-900/30 rounded-lg border border-yellow-600/30",children:[t.jsx(As,{className:"h-8 w-8 text-yellow-400 mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Avg Time"}),t.jsxs("p",{className:"text-2xl font-bold text-yellow-400",children:[P.aiMetrics.averageProcessingTime,"s"]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-3",children:"AI Processing Types"}),["storyboard","editing","optimization","translation","thumbnails","pricing"].map(U=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Gr,{className:"h-5 w-5 text-pink-400"}),t.jsx("span",{className:"font-medium text-white capitalize",children:U})]}),t.jsx(de,{variant:"secondary",className:"bg-gray-700 text-gray-300",children:"Available"})]},U))]})]})]})}),t.jsx(ct,{value:"finance",className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs($,{className:"bg-gradient-to-br from-green-900/30 to-teal-900/30 border-green-600/30",children:[t.jsx(oe,{children:t.jsxs(le,{className:"text-green-400 flex items-center gap-2",children:[t.jsx(Jr,{className:"h-5 w-5"}),"Financial Overview"]})}),t.jsx(q,{className:"space-y-4",children:A?.integration&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-400",children:"Production Costs"}),t.jsxs("span",{className:"font-semibold text-white",children:["$",A.integration.contentProductionCosts?.toLocaleString()||0]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-400",children:"Content Revenue"}),t.jsxs("span",{className:"font-semibold text-green-400",children:["$",A.integration.contentRevenue?.toLocaleString()||0]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-400",children:"Platform ROI"}),t.jsxs("span",{className:"font-semibold text-green-400",children:[A.integration.platformROI?.toFixed(1)||0,"%"]})]}),t.jsx(eT,{className:"bg-gray-700"}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-400",children:"Profit Margin"}),t.jsxs("span",{className:"font-semibold text-green-400",children:[A.integration.financialHealth?.profitMargin?.toFixed(1)||0,"%"]})]})]})})]}),t.jsxs($,{className:"bg-gradient-to-br from-blue-900/30 to-purple-900/30 border-blue-600/30",children:[t.jsx(oe,{children:t.jsxs(le,{className:"text-blue-400 flex items-center gap-2",children:[t.jsx(la,{className:"h-5 w-5"}),"AI CFO Integration"]})}),t.jsxs(q,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-900/20 rounded-lg border border-blue-600/20",children:[t.jsx(xn,{className:"h-5 w-5 text-green-400"}),t.jsx("span",{className:"text-sm text-white",children:"Connected to AI CFO System"})]}),t.jsxs("div",{className:"flex items-center gap-2 p-3 bg-purple-900/20 rounded-lg border border-purple-600/20",children:[t.jsx(hl,{className:"h-5 w-5 text-purple-400"}),t.jsx("span",{className:"text-sm text-white",children:"Real-time Cost Tracking"})]}),t.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-900/20 rounded-lg border border-green-600/20",children:[t.jsx(jl,{className:"h-5 w-5 text-green-400"}),t.jsx("span",{className:"text-sm text-white",children:"Automated Revenue Analysis"})]}),t.jsx(te,{onClick:()=>window.location.href="/ai-cfo",variant:"outline",className:"w-full border-blue-600 text-blue-400 hover:bg-blue-600/20","data-testid":"button-view-ai-cfo",children:"View Full AI CFO Dashboard"})]})]})]})})]}),t.jsx("div",{className:"text-center text-sm text-gray-500 pt-4 border-t border-gray-800",children:"© 2025 Fanz™ Unlimited Network LLC. All Rights Reserved. | FANZ OS 3.0 • Starz Studio"})]})}function cEe(){const[n,e]=R.useState(""),[s,r]=R.useState("all"),[a,i]=R.useState("7d"),o={totalRevenue:124758392e-2,totalTransactions:8947,avgTransactionValue:139.42,pendingAmount:23847.5},l=[{id:"TXN-001234",user:"sarah_creator",type:"Subscription",amount:29.99,status:"completed",date:"2025-01-04T15:30:00Z",paymentMethod:"Stripe",fee:1.17},{id:"TXN-001235",user:"alex_fan",type:"Tip",amount:50,status:"pending",date:"2025-01-04T14:45:00Z",paymentMethod:"PayPal",fee:1.75},{id:"TXN-001236",user:"jordan_vip",type:"Content Purchase",amount:15.99,status:"completed",date:"2025-01-04T13:20:00Z",paymentMethod:"Coinbase",fee:.32},{id:"TXN-001237",user:"mike_supporter",type:"Private Show",amount:200,status:"failed",date:"2025-01-04T12:15:00Z",paymentMethod:"Stripe",fee:0}],c=u=>{switch(u){case"completed":return t.jsx(de,{className:"bg-green-500/20 text-green-400",children:"Completed"});case"pending":return t.jsx(de,{className:"bg-yellow-500/20 text-yellow-400",children:"Pending"});case"failed":return t.jsx(de,{className:"bg-red-500/20 text-red-400",children:"Failed"});default:return t.jsx(de,{variant:"secondary",children:u})}},d=u=>{switch(u.toLowerCase()){case"subscription":return t.jsx(Ko,{className:"w-4 h-4"});case"tip":return t.jsx(Jr,{className:"w-4 h-4"});case"content purchase":return t.jsx(Ff,{className:"w-4 h-4"});default:return t.jsx(Ff,{className:"w-4 h-4"})}};return t.jsxs("div",{className:"min-h-screen p-6 cyber-bg",children:[t.jsx(pu,{title:"Transaction Management - FanzDash",description:"Monitor and manage all financial transactions and payment processing",canonicalUrl:"https://fanzdash.com/transaction-management"}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"Transaction Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Financial transactions & payments"})]}),t.jsxs(te,{className:"cyber-button",children:[t.jsx(xi,{className:"w-4 h-4 mr-2"}),"Export Report"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Revenue"}),t.jsxs("p",{className:"text-2xl font-bold cyber-text-glow",children:["$",o.totalRevenue.toLocaleString()]})]}),t.jsx(Jr,{className:"w-8 h-8 text-primary"})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Transactions"}),t.jsx("p",{className:"text-2xl font-bold text-blue-400",children:o.totalTransactions.toLocaleString()})]}),t.jsx(Ff,{className:"w-8 h-8 text-blue-400"})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Transaction"}),t.jsxs("p",{className:"text-2xl font-bold text-green-400",children:["$",o.avgTransactionValue]})]}),t.jsx(or,{className:"w-8 h-8 text-green-400"})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"}),t.jsxs("p",{className:"text-2xl font-bold text-yellow-400",children:["$",o.pendingAmount.toLocaleString()]})]}),t.jsx(ln,{className:"w-8 h-8 text-yellow-400"})]})})})]}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),t.jsx(Fe,{placeholder:"Search transactions...",value:n,onChange:u=>e(u.target.value),className:"pl-10 glass-effect"})]}),t.jsxs(sn,{value:s,onValueChange:r,children:[t.jsx(en,{className:"w-40 glass-effect",children:t.jsx(rn,{placeholder:"Status"})}),t.jsxs(tn,{children:[t.jsx(re,{value:"all",children:"All Status"}),t.jsx(re,{value:"completed",children:"Completed"}),t.jsx(re,{value:"pending",children:"Pending"}),t.jsx(re,{value:"failed",children:"Failed"})]})]}),t.jsxs(sn,{value:a,onValueChange:i,children:[t.jsx(en,{className:"w-32 glass-effect",children:t.jsx(rn,{placeholder:"Time"})}),t.jsxs(tn,{children:[t.jsx(re,{value:"24h",children:"24 Hours"}),t.jsx(re,{value:"7d",children:"7 Days"}),t.jsx(re,{value:"30d",children:"30 Days"}),t.jsx(re,{value:"90d",children:"90 Days"})]})]})]})})}),t.jsxs($,{className:"cyber-border",children:[t.jsx(oe,{children:t.jsx(le,{children:"Recent Transactions"})}),t.jsx(q,{children:t.jsxs(Ar,{children:[t.jsx(Cr,{children:t.jsxs(Vn,{children:[t.jsx(He,{children:"Transaction ID"}),t.jsx(He,{children:"User"}),t.jsx(He,{children:"Type"}),t.jsx(He,{children:"Amount"}),t.jsx(He,{children:"Fee"}),t.jsx(He,{children:"Payment Method"}),t.jsx(He,{children:"Status"}),t.jsx(He,{children:"Date"}),t.jsx(He,{children:"Actions"})]})}),t.jsx(Tr,{children:l.map(u=>t.jsxs(Vn,{children:[t.jsx(Ve,{className:"font-mono text-sm",children:u.id}),t.jsx(Ve,{children:u.user}),t.jsx(Ve,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[d(u.type),u.type]})}),t.jsxs(Ve,{className:"font-bold",children:["$",u.amount]}),t.jsxs(Ve,{className:"text-muted-foreground",children:["$",u.fee]}),t.jsx(Ve,{children:u.paymentMethod}),t.jsx(Ve,{children:c(u.status)}),t.jsx(Ve,{className:"text-sm text-muted-foreground",children:new Date(u.date).toLocaleString()}),t.jsx(Ve,{children:t.jsx(te,{size:"sm",variant:"outline",children:"View Details"})})]},u.id))})]})})]})]})]})}function dEe(){const[n,e]=R.useState(""),[s,r]=R.useState("all"),[a,i]=R.useState("all"),o={pendingReviews:47,approvedToday:23,rejectedToday:5,totalVerified:8920},l=[{id:"VER-001234",user:"sarah_creator",type:"Identity Verification",status:"pending",submittedDate:"2025-01-04T10:30:00Z",documentType:"Government ID",priority:"high",reviewedBy:null},{id:"VER-001235",user:"alex_model",type:"Age Verification",status:"approved",submittedDate:"2025-01-04T09:15:00Z",documentType:"Passport",priority:"normal",reviewedBy:"admin_reviewer"},{id:"VER-001236",user:"jordan_creator",type:"Address Verification",status:"pending",submittedDate:"2025-01-04T08:45:00Z",documentType:"Utility Bill",priority:"normal",reviewedBy:null},{id:"VER-001237",user:"mike_performer",type:"Business Verification",status:"rejected",submittedDate:"2025-01-03T16:20:00Z",documentType:"Business License",priority:"low",reviewedBy:"admin_reviewer"}],c=h=>{switch(h){case"approved":return t.jsx(de,{className:"bg-green-500/20 text-green-400",children:"Approved"});case"pending":return t.jsx(de,{className:"bg-yellow-500/20 text-yellow-400",children:"Pending"});case"rejected":return t.jsx(de,{className:"bg-red-500/20 text-red-400",children:"Rejected"});case"under_review":return t.jsx(de,{className:"bg-blue-500/20 text-blue-400",children:"Under Review"});default:return t.jsx(de,{variant:"secondary",children:h})}},d=h=>{switch(h){case"high":return t.jsx(de,{variant:"destructive",children:"High"});case"normal":return t.jsx(de,{variant:"secondary",children:"Normal"});case"low":return t.jsx(de,{variant:"outline",children:"Low"});default:return t.jsx(de,{variant:"secondary",children:h})}},u=h=>{switch(h){case"approved":return t.jsx(xn,{className:"w-4 h-4 text-green-400"});case"pending":return t.jsx(As,{className:"w-4 h-4 text-yellow-400"});case"rejected":return t.jsx(Vs,{className:"w-4 h-4 text-red-400"});default:return t.jsx(ln,{className:"w-4 h-4 text-gray-400"})}};return t.jsxs("div",{className:"min-h-screen p-6 cyber-bg",children:[t.jsx(pu,{title:"Verification Management - FanzDash",description:"Manage document verification workflows and user identity verification",canonicalUrl:"https://fanzdash.com/verification-management"}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"Verification Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Document verification workflows"})]}),t.jsxs(te,{className:"cyber-button",children:[t.jsx(Pi,{className:"w-4 h-4 mr-2"}),"Export Report"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Reviews"}),t.jsx("p",{className:"text-2xl font-bold cyber-text-glow",children:o.pendingReviews})]}),t.jsx(As,{className:"w-8 h-8 text-yellow-400"})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Approved Today"}),t.jsx("p",{className:"text-2xl font-bold text-green-400",children:o.approvedToday})]}),t.jsx(xn,{className:"w-8 h-8 text-green-400"})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Rejected Today"}),t.jsx("p",{className:"text-2xl font-bold text-red-400",children:o.rejectedToday})]}),t.jsx(Vs,{className:"w-8 h-8 text-red-400"})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Verified"}),t.jsx("p",{className:"text-2xl font-bold text-blue-400",children:o.totalVerified.toLocaleString()})]}),t.jsx(Wp,{className:"w-8 h-8 text-blue-400"})]})})})]}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),t.jsx(Fe,{placeholder:"Search verifications...",value:n,onChange:h=>e(h.target.value),className:"pl-10 glass-effect"})]}),t.jsxs(sn,{value:s,onValueChange:r,children:[t.jsx(en,{className:"w-40 glass-effect",children:t.jsx(rn,{placeholder:"Status"})}),t.jsxs(tn,{children:[t.jsx(re,{value:"all",children:"All Status"}),t.jsx(re,{value:"pending",children:"Pending"}),t.jsx(re,{value:"approved",children:"Approved"}),t.jsx(re,{value:"rejected",children:"Rejected"}),t.jsx(re,{value:"under_review",children:"Under Review"})]})]}),t.jsxs(sn,{value:a,onValueChange:i,children:[t.jsx(en,{className:"w-48 glass-effect",children:t.jsx(rn,{placeholder:"Type"})}),t.jsxs(tn,{children:[t.jsx(re,{value:"all",children:"All Types"}),t.jsx(re,{value:"identity",children:"Identity"}),t.jsx(re,{value:"age",children:"Age"}),t.jsx(re,{value:"address",children:"Address"}),t.jsx(re,{value:"business",children:"Business"})]})]})]})})}),t.jsxs($,{className:"cyber-border",children:[t.jsx(oe,{children:t.jsx(le,{children:"Verification Requests"})}),t.jsx(q,{children:t.jsxs(Ar,{children:[t.jsx(Cr,{children:t.jsxs(Vn,{children:[t.jsx(He,{children:"Request ID"}),t.jsx(He,{children:"User"}),t.jsx(He,{children:"Type"}),t.jsx(He,{children:"Document"}),t.jsx(He,{children:"Priority"}),t.jsx(He,{children:"Status"}),t.jsx(He,{children:"Submitted"}),t.jsx(He,{children:"Reviewed By"}),t.jsx(He,{children:"Actions"})]})}),t.jsx(Tr,{children:l.map(h=>t.jsxs(Vn,{children:[t.jsx(Ve,{className:"font-mono text-sm",children:h.id}),t.jsx(Ve,{children:h.user}),t.jsx(Ve,{children:h.type}),t.jsx(Ve,{className:"text-muted-foreground",children:h.documentType}),t.jsx(Ve,{children:d(h.priority)}),t.jsx(Ve,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[u(h.status),c(h.status)]})}),t.jsx(Ve,{className:"text-sm text-muted-foreground",children:new Date(h.submittedDate).toLocaleString()}),t.jsx(Ve,{className:"text-sm",children:h.reviewedBy||t.jsx("span",{className:"text-muted-foreground",children:"-"})}),t.jsx(Ve,{children:t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(te,{size:"sm",variant:"outline",children:[t.jsx(Mn,{className:"w-3 h-3 mr-1"}),"Review"]}),h.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsx(te,{size:"sm",className:"bg-green-600 hover:bg-green-700",children:t.jsx(xn,{className:"w-3 h-3"})}),t.jsx(te,{size:"sm",variant:"destructive",children:t.jsx(Vs,{className:"w-3 h-3"})})]})]})})]},h.id))})]})})]})]})]})}function uEe(){const[n,e]=R.useState(""),[s,r]=R.useState("all"),a={totalSubscriptions:4263,activeSubscriptions:3847,monthlyRevenue:127850,avgSubscriptionValue:33.25},i=[{id:"plan-001",name:"Basic Plan",price:9.99,interval:"monthly",features:["HD Content","Basic Chat","Mobile Access"],subscribers:1247,status:"active",revenue:12443.53},{id:"plan-002",name:"Premium Plan",price:24.99,interval:"monthly",features:["4K Content","Priority Chat","Exclusive Content","Video Calls"],subscribers:892,status:"active",revenue:22291.08},{id:"plan-003",name:"VIP Plan",price:49.99,interval:"monthly",features:["All Premium Features","1-on-1 Sessions","Custom Content","Priority Support"],subscribers:324,status:"active",revenue:16196.76},{id:"plan-004",name:"Annual Premium",price:199.99,interval:"yearly",features:["All Premium Features","2 Months Free","Exclusive Events"],subscribers:156,status:"active",revenue:31198.44}],o=[{id:"sub-001",user:"alex_fan",plan:"Premium Plan",startDate:"2025-01-04T10:00:00Z",nextBilling:"2025-02-04T10:00:00Z",status:"active",amount:24.99},{id:"sub-002",user:"sarah_supporter",plan:"VIP Plan",startDate:"2025-01-03T15:30:00Z",nextBilling:"2025-02-03T15:30:00Z",status:"active",amount:49.99},{id:"sub-003",user:"jordan_member",plan:"Basic Plan",startDate:"2025-01-02T09:15:00Z",nextBilling:"2025-02-02T09:15:00Z",status:"cancelled",amount:9.99}],l=c=>{switch(c){case"active":return t.jsx(de,{className:"bg-green-500/20 text-green-400",children:"Active"});case"cancelled":return t.jsx(de,{className:"bg-red-500/20 text-red-400",children:"Cancelled"});case"paused":return t.jsx(de,{className:"bg-yellow-500/20 text-yellow-400",children:"Paused"});default:return t.jsx(de,{variant:"secondary",children:c})}};return t.jsxs("div",{className:"min-h-screen p-6 cyber-bg",children:[t.jsx(pu,{title:"Subscription Management - FanzDash",description:"Manage creator subscription plans and subscriber relationships",canonicalUrl:"https://fanzdash.com/subscription-management"}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"Subscription Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Creator subscription plans"})]}),t.jsxs(pi,{children:[t.jsx(Qo,{asChild:!0,children:t.jsxs(te,{className:"cyber-button",children:[t.jsx(oa,{className:"w-4 h-4 mr-2"}),"Create Plan"]})}),t.jsxs(Ka,{className:"cyber-border",children:[t.jsx(Xa,{children:t.jsx(Za,{children:"Create Subscription Plan"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(Fe,{placeholder:"Plan name",className:"glass-effect"}),t.jsx(Fe,{placeholder:"Price",type:"number",className:"glass-effect"}),t.jsxs(sn,{children:[t.jsx(en,{className:"glass-effect",children:t.jsx(rn,{placeholder:"Billing interval"})}),t.jsxs(tn,{children:[t.jsx(re,{value:"monthly",children:"Monthly"}),t.jsx(re,{value:"yearly",children:"Yearly"})]})]}),t.jsx(te,{className:"w-full cyber-button",children:"Create Plan"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Subscriptions"}),t.jsx("p",{className:"text-2xl font-bold cyber-text-glow",children:a.activeSubscriptions.toLocaleString()})]}),t.jsx(er,{className:"w-8 h-8 text-primary"})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Subscriptions"}),t.jsx("p",{className:"text-2xl font-bold text-blue-400",children:a.totalSubscriptions.toLocaleString()})]}),t.jsx(Ko,{className:"w-8 h-8 text-blue-400"})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Monthly Revenue"}),t.jsxs("p",{className:"text-2xl font-bold text-green-400",children:["$",a.monthlyRevenue.toLocaleString()]})]}),t.jsx(Jr,{className:"w-8 h-8 text-green-400"})]})})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Value"}),t.jsxs("p",{className:"text-2xl font-bold text-yellow-400",children:["$",a.avgSubscriptionValue]})]}),t.jsx(or,{className:"w-8 h-8 text-yellow-400"})]})})})]}),t.jsxs($,{className:"cyber-border",children:[t.jsx(oe,{children:t.jsx(le,{children:"Subscription Plans"})}),t.jsx(q,{children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map(c=>t.jsxs($,{className:"cyber-border",children:[t.jsx(oe,{className:"pb-2",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(le,{className:"text-lg",children:c.name}),l(c.status)]})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"text-center",children:[t.jsxs("p",{className:"text-3xl font-bold cyber-text-glow",children:["$",c.price]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["per ",c.interval]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Subscribers:"}),t.jsx("span",{children:c.subscribers.toLocaleString()})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Revenue:"}),t.jsxs("span",{className:"text-green-400",children:["$",c.revenue.toLocaleString()]})]})]}),t.jsxs("div",{className:"pt-2",children:[t.jsx("p",{className:"text-sm font-medium mb-2",children:"Features:"}),t.jsx("ul",{className:"text-xs text-muted-foreground space-y-1",children:c.features.map((d,u)=>t.jsxs("li",{children:["• ",d]},u))})]}),t.jsxs("div",{className:"flex gap-2 pt-2",children:[t.jsxs(te,{size:"sm",variant:"outline",className:"flex-1",children:[t.jsx(Oi,{className:"w-3 h-3 mr-1"}),"Edit"]}),t.jsxs(te,{size:"sm",variant:"outline",className:"flex-1 text-red-400 hover:text-red-300",children:[t.jsx(Wa,{className:"w-3 h-3 mr-1"}),"Delete"]})]})]})})]},c.id))})})]}),t.jsxs($,{className:"cyber-border",children:[t.jsx(oe,{children:t.jsx(le,{children:"Recent Subscribers"})}),t.jsx(q,{children:t.jsxs(Ar,{children:[t.jsx(Cr,{children:t.jsxs(Vn,{children:[t.jsx(He,{children:"Subscription ID"}),t.jsx(He,{children:"User"}),t.jsx(He,{children:"Plan"}),t.jsx(He,{children:"Amount"}),t.jsx(He,{children:"Start Date"}),t.jsx(He,{children:"Next Billing"}),t.jsx(He,{children:"Status"}),t.jsx(He,{children:"Actions"})]})}),t.jsx(Tr,{children:o.map(c=>t.jsxs(Vn,{children:[t.jsx(Ve,{className:"font-mono text-sm",children:c.id}),t.jsx(Ve,{children:c.user}),t.jsx(Ve,{children:c.plan}),t.jsxs(Ve,{className:"font-bold",children:["$",c.amount]}),t.jsx(Ve,{className:"text-sm text-muted-foreground",children:new Date(c.startDate).toLocaleDateString()}),t.jsx(Ve,{className:"text-sm text-muted-foreground",children:new Date(c.nextBilling).toLocaleDateString()}),t.jsx(Ve,{children:l(c.status)}),t.jsx(Ve,{children:t.jsx(te,{size:"sm",variant:"outline",children:"Manage"})})]},c.id))})]})})]})]})]})}function hEe(){const{toast:n}=Dn(),[e,s]=R.useState({name:"Custom Theme",primary:{h:310,s:100,l:69},secondary:{h:193,s:100,l:50},accent:{h:60,s:100,l:50},destructive:{h:340,s:82,l:52},background:{h:0,s:0,l:0},foreground:{h:180,s:100,l:90},card:{h:0,s:0,l:5},border:{h:217,s:32,l:20},muted:{h:217,s:32,l:17}}),[r,a]=R.useState("primary"),[i,o]=R.useState("complementary"),[l,c]=R.useState(!1),[d,u]=R.useState([]),[h,m]=R.useState({}),[y,N]=R.useState(null),j=R.useCallback((L,U)=>{const{h:H,s:B,l:K}=L;switch(U){case"complementary":return{primary:L,secondary:{h:(H+180)%360,s:Math.max(B-20,30),l:Math.min(K+10,80)},accent:{h:(H+60)%360,s:B,l:Math.max(K-20,30)},destructive:{h:340,s:82,l:52}};case"triadic":return{primary:L,secondary:{h:(H+120)%360,s:B,l:K},accent:{h:(H+240)%360,s:B,l:K},destructive:{h:(H+60)%360,s:Math.min(B+20,100),l:Math.max(K-10,40)}};case"analogous":return{primary:L,secondary:{h:(H+30)%360,s:Math.max(B-10,20),l:Math.min(K+15,85)},accent:{h:(H-30+360)%360,s:Math.min(B+10,100),l:Math.max(K-15,25)},destructive:{h:(H+150)%360,s:82,l:52}};case"monochromatic":return{primary:L,secondary:{h:H,s:Math.max(B-30,20),l:Math.min(K+20,90)},accent:{h:H,s:Math.min(B+20,100),l:Math.max(K-30,20)},destructive:{h:H,s:B,l:Math.max(K-40,30)}};case"split-complementary":return{primary:L,secondary:{h:(H+150)%360,s:Math.max(B-10,30),l:K},accent:{h:(H+210)%360,s:Math.max(B-10,30),l:K},destructive:{h:(H+180)%360,s:82,l:52}}}},[]),v=L=>`hsl(${Math.round(L.h)} ${Math.round(L.s)}% ${Math.round(L.l)}%)`,b=L=>{const U=L.h/360,H=L.s/100,B=L.l/100,K=(G,ae,fe)=>(fe<0&&(fe+=1),fe>1&&(fe-=1),fe<1/6?G+(ae-G)*6*fe:fe<1/2?ae:fe<2/3?G+(ae-G)*(2/3-fe)*6:G);let J,W,ee;if(H===0)J=W=ee=B;else{const G=B<.5?B*(1+H):B+H-B*H,ae=2*B-G;J=K(ae,G,U+1/3),W=K(ae,G,U),ee=K(ae,G,U-1/3)}return`#${Math.round(J*255).toString(16).padStart(2,"0")}${Math.round(W*255).toString(16).padStart(2,"0")}${Math.round(ee*255).toString(16).padStart(2,"0")}`},A=R.useCallback((L,U)=>{const H=ee=>{const G=ee.h/360,ae=ee.s/100,fe=ee.l/100,se=(be,Ce,Ue)=>(Ue<0&&(Ue+=1),Ue>1&&(Ue-=1),Ue<1/6?be+(Ce-be)*6*Ue:Ue<1/2?Ce:Ue<2/3?be+(Ce-be)*(2/3-Ue)*6:be);let me,Oe,Ye;if(ae===0)me=Oe=Ye=fe;else{const be=fe<.5?fe*(1+ae):fe+ae-fe*ae,Ce=2*fe-be;me=se(Ce,be,G+.3333333333333333),Oe=se(Ce,be,G),Ye=se(Ce,be,G-.3333333333333333)}const dt=be=>be<=.03928?be/12.92:Math.pow((be+.055)/1.055,2.4);return .2126*dt(me)+.7152*dt(Oe)+.0722*dt(Ye)},B=H(L),K=H(U),J=Math.max(B,K),W=Math.min(B,K);return(J+.05)/(W+.05)},[]),S=()=>{const L=j(e[r],i);s(U=>({...U,...L})),n({title:"Palette Generated",description:`New ${i} color scheme applied`})},w=R.useCallback(()=>{if(!l)return;const L=document.documentElement;L.style.setProperty("--primary",`${e.primary.h} ${e.primary.s}% ${e.primary.l}%`),L.style.setProperty("--secondary",`${e.secondary.h} ${e.secondary.s}% ${e.secondary.l}%`),L.style.setProperty("--accent",`${e.accent.h} ${e.accent.s}% ${e.accent.l}%`),L.style.setProperty("--destructive",`${e.destructive.h} ${e.destructive.s}% ${e.destructive.l}%`),L.style.setProperty("--background",`${e.background.h} ${e.background.s}% ${e.background.l}%`),L.style.setProperty("--foreground",`${e.foreground.h} ${e.foreground.s}% ${e.foreground.l}%`),L.style.setProperty("--card",`${e.card.h} ${e.card.s}% ${e.card.l}%`),L.style.setProperty("--border",`${e.border.h} ${e.border.s}% ${e.border.l}%`),L.style.setProperty("--muted",`${e.muted.h} ${e.muted.s}% ${e.muted.l}%`)},[e,l]);R.useEffect(()=>{const L={};L["primary-bg"]=A(e.primary,e.background),L["secondary-bg"]=A(e.secondary,e.background),L["foreground-bg"]=A(e.foreground,e.background),L["primary-card"]=A(e.primary,e.card),m(L)},[e,A]),R.useEffect(()=>{w()},[w]);const E=async(L,U="hex")=>{const H=U==="hex"?b(L):v(L);await navigator.clipboard.writeText(H),N(H),setTimeout(()=>N(null),2e3),n({title:"Color Copied",description:`${H} copied to clipboard`})},T=()=>{const L={id:Date.now().toString(),name:e.name,palette:e,createdAt:new Date().toISOString(),tags:[i,"custom"]};u(U=>[...U,L]),n({title:"Theme Saved",description:`"${e.name}" has been saved to your collection`})},P=()=>{const L={theme:e,metadata:{version:"1.0",exportedAt:new Date().toISOString(),generator:"Fanz™ Theme Generator"}},U=new Blob([JSON.stringify(L,null,2)],{type:"application/json"}),H=URL.createObjectURL(U),B=document.createElement("a");B.href=H,B.download=`${e.name.replace(/\s+/g,"-").toLowerCase()}-theme.json`,document.body.appendChild(B),B.click(),document.body.removeChild(B),URL.revokeObjectURL(H),n({title:"Theme Exported",description:"Theme configuration downloaded as JSON file"})},k=()=>{s({name:"Default Cyberpunk",primary:{h:310,s:100,l:69},secondary:{h:193,s:100,l:50},accent:{h:60,s:100,l:50},destructive:{h:340,s:82,l:52},background:{h:0,s:0,l:0},foreground:{h:180,s:100,l:90},card:{h:0,s:0,l:5},border:{h:217,s:32,l:20},muted:{h:217,s:32,l:17}}),n({title:"Reset Complete",description:"Theme reset to default cyberpunk colors"})},I=L=>L>=7?t.jsx(de,{className:"bg-green-500/20 text-green-400",children:"AAA"}):L>=4.5?t.jsx(de,{className:"bg-yellow-500/20 text-yellow-400",children:"AA"}):L>=3?t.jsx(de,{className:"bg-orange-500/20 text-orange-400",children:"AA Large"}):t.jsx(de,{className:"bg-red-500/20 text-red-400",children:"Fail"});return t.jsxs("div",{className:"min-h-screen p-6 cyber-bg",children:[t.jsx(pu,{title:"Dynamic Theme Color Palette Generator - Fanz™ Unlimited Network LLC",description:"Generate custom color palettes using advanced color theory algorithms. Create, preview, and export professional themes with accessibility validation.",canonicalUrl:"https://fanzunlimited.com/theme-generator"}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"Dynamic Theme Generator"}),t.jsx("p",{className:"text-muted-foreground",children:"Advanced color palette creation with accessibility validation"})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs(te,{variant:"outline",onClick:()=>c(!l),className:l?"bg-primary/20 border-primary":"cyber-border",children:[t.jsx(Mn,{className:"w-4 h-4 mr-2"}),l?"Exit Preview":"Live Preview"]}),t.jsxs(te,{onClick:P,className:"cyber-button",children:[t.jsx(xi,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"xl:col-span-2 space-y-6",children:[t.jsxs($,{className:"cyber-border",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center gap-2",children:[t.jsx(KA,{className:"w-5 h-5"}),"Current Palette",t.jsx(de,{variant:"secondary",className:"ml-auto",children:i})]})}),t.jsx(q,{children:t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:Object.entries(e).filter(([L])=>L!=="name").map(([L,U])=>t.jsxs("div",{className:`relative group cursor-pointer rounded-lg p-4 border-2 transition-all ${r===L?"border-primary scale-105":"border-transparent hover:border-primary/50"}`,style:{backgroundColor:v(U)},onClick:()=>a(L),children:[t.jsx("div",{className:"absolute inset-0 bg-black/60 rounded-lg"}),t.jsxs("div",{className:"relative text-white",children:[t.jsx("div",{className:"font-medium capitalize mb-2",children:L}),t.jsx("div",{className:"text-xs font-mono",children:b(U)}),t.jsx("div",{className:"text-xs font-mono",children:v(U)}),t.jsx(te,{size:"sm",variant:"ghost",className:"absolute top-1 right-1 h-6 w-6 p-0",onClick:H=>{H.stopPropagation(),E(U)},children:y===b(U)?t.jsx(HA,{className:"w-3 h-3"}):t.jsx(Wd,{className:"w-3 h-3"})})]})]},L))})})]}),t.jsxs($,{className:"cyber-border",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center gap-2",children:[t.jsx(lr,{className:"w-5 h-5"}),"Color Controls",t.jsx(de,{variant:"outline",className:"ml-auto capitalize",children:r})]})}),t.jsx(q,{children:t.jsxs(Xs,{defaultValue:"manual",className:"w-full",children:[t.jsxs($s,{className:"grid w-full grid-cols-2",children:[t.jsx(lt,{value:"manual",children:"Manual Adjustment"}),t.jsx(lt,{value:"generate",children:"Auto Generate"})]}),t.jsx(ct,{value:"manual",className:"space-y-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs(Pe,{className:"text-sm font-medium mb-2 block",children:["Hue: ",Math.round(e[r].h),"°"]}),t.jsx(ph,{value:[e[r].h],onValueChange:([L])=>s(U=>({...U,[r]:{...U[r],h:L}})),max:360,step:1,className:"w-full"})]}),t.jsxs("div",{children:[t.jsxs(Pe,{className:"text-sm font-medium mb-2 block",children:["Saturation:"," ",Math.round(e[r].s),"%"]}),t.jsx(ph,{value:[e[r].s],onValueChange:([L])=>s(U=>({...U,[r]:{...U[r],s:L}})),max:100,step:1,className:"w-full"})]}),t.jsxs("div",{children:[t.jsxs(Pe,{className:"text-sm font-medium mb-2 block",children:["Lightness:"," ",Math.round(e[r].l),"%"]}),t.jsx(ph,{value:[e[r].l],onValueChange:([L])=>s(U=>({...U,[r]:{...U[r],l:L}})),max:100,step:1,className:"w-full"})]})]})}),t.jsx(ct,{value:"generate",className:"space-y-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(Pe,{className:"text-sm font-medium mb-2 block",children:"Generation Algorithm"}),t.jsxs(sn,{value:i,onValueChange:L=>o(L),children:[t.jsx(en,{className:"glass-effect",children:t.jsx(rn,{})}),t.jsxs(tn,{children:[t.jsx(re,{value:"complementary",children:"Complementary"}),t.jsx(re,{value:"triadic",children:"Triadic"}),t.jsx(re,{value:"analogous",children:"Analogous"}),t.jsx(re,{value:"monochromatic",children:"Monochromatic"}),t.jsx(re,{value:"split-complementary",children:"Split Complementary"})]})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs(te,{onClick:S,className:"flex-1 cyber-button",children:[t.jsx(xae,{className:"w-4 h-4 mr-2"}),"Generate Palette"]}),t.jsx(te,{onClick:k,variant:"outline",className:"cyber-border",children:t.jsx(mae,{className:"w-4 h-4"})})]})]})})]})})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs($,{className:"cyber-border",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center gap-2",children:[t.jsx(Qv,{className:"w-5 h-5"}),"Theme Management"]})}),t.jsxs(q,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(Pe,{className:"text-sm font-medium mb-2 block",children:"Theme Name"}),t.jsx(Fe,{value:e.name,onChange:L=>s(U=>({...U,name:L.target.value})),className:"glass-effect",placeholder:"Enter theme name"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(te,{onClick:T,className:"flex-1 cyber-button",children:[t.jsx(Qv,{className:"w-4 h-4 mr-2"}),"Save"]}),t.jsx(te,{onClick:P,variant:"outline",className:"cyber-border",children:t.jsx(xi,{className:"w-4 h-4"})})]})]})]}),t.jsxs($,{className:"cyber-border",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center gap-2",children:[t.jsx(Bre,{className:"w-5 h-5"}),"Accessibility"]})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-3",children:Object.entries(h).map(([L,U])=>{const[H,B]=L.split("-");return t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{className:"text-sm capitalize",children:[H," / ",B]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:"text-sm font-mono",children:[U.toFixed(1),":1"]}),I(U)]})]},L)})})})]}),t.jsxs($,{className:"cyber-border",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center gap-2",children:[t.jsx(va,{className:"w-5 h-5"}),"Quick Actions"]})}),t.jsxs(q,{className:"space-y-3",children:[t.jsxs(te,{variant:"outline",className:"w-full cyber-border",onClick:()=>{const L=Math.random()*360,U=j({h:L,s:80,l:60},i);s(H=>({...H,...U}))},children:[t.jsx($$,{className:"w-4 h-4 mr-2"}),"Random Colors"]}),t.jsxs(te,{variant:"outline",className:"w-full cyber-border",onClick:()=>{const L=["complementary","triadic","analogous","monochromatic","split-complementary"],U=L[Math.floor(Math.random()*L.length)];o(U),S()},children:[t.jsx(au,{className:"w-4 h-4 mr-2"}),"Surprise Me"]}),t.jsxs("div",{className:"flex items-center justify-between pt-2",children:[t.jsx(Pe,{className:"text-sm font-medium",children:"Live Preview"}),t.jsx(fn,{checked:l,onCheckedChange:c})]})]})]})]})]})]})]})}function fEe(){const{toast:n}=Dn(),e=ps(),[s,r]=R.useState(null),[a,i]=R.useState(""),[o,l]=R.useState(""),[c,d]=R.useState(""),[u,h]=R.useState(""),[m,y]=R.useState(""),[N,j]=R.useState("overview"),v=[{id:"station-1",name:"Fanz™ Live Radio",description:"Premium live radio with creator content",streamUrl:"https://stream.fanzunlimited.com/live",status:"live",currentDJ:"DJ Premium",listeners:1247,genre:"Talk/Music",bitrate:"320kbps",isModerated:!0,moderationLevel:"high",createdAt:"2025-01-10T10:00:00Z",lastActive:"2025-01-15T18:30:00Z",maxListeners:5e3},{id:"station-2",name:"Creator Spotlight",description:"Featuring top creators and exclusive interviews",streamUrl:"https://stream.fanzunlimited.com/spotlight",status:"scheduled",currentDJ:"Host Sarah",listeners:0,genre:"Interview",bitrate:"256kbps",isModerated:!0,moderationLevel:"medium",createdAt:"2025-01-12T14:00:00Z",lastActive:"2025-01-14T20:00:00Z",maxListeners:2e3},{id:"station-3",name:"Community Vibes",description:"Community-driven content and discussions",streamUrl:"https://stream.fanzunlimited.com/community",status:"offline",currentDJ:"Auto DJ",listeners:0,genre:"Community",bitrate:"192kbps",isModerated:!1,moderationLevel:"low",createdAt:"2025-01-08T16:00:00Z",lastActive:"2025-01-13T12:00:00Z",maxListeners:1e3}],b=[{id:"mod-1",stationId:"station-1",stationName:"Fanz™ Live Radio",action:"mute",targetUser:"user123",reason:"Inappropriate language in chat",moderatorId:"mod1",moderatorName:"Moderator Alpha",timestamp:"2025-01-15T18:25:00Z",duration:"10 minutes"},{id:"mod-2",stationId:"station-2",stationName:"Creator Spotlight",action:"content_flag",reason:"Content violation reported by multiple users",moderatorId:"mod2",moderatorName:"Moderator Beta",timestamp:"2025-01-15T17:45:00Z"}],A=[{id:"chat-1",stationId:"station-1",username:"MusicLover92",message:"Great show tonight! Love this track selection!",timestamp:"2025-01-15T18:30:00Z",isModerated:!1,isFlagged:!1},{id:"chat-2",stationId:"station-1",username:"RadioFan",message:"When is the next interview segment?",timestamp:"2025-01-15T18:28:00Z",isModerated:!1,isFlagged:!1},{id:"chat-3",stationId:"station-1",username:"TrollUser",message:"[FLAGGED CONTENT]",timestamp:"2025-01-15T18:25:00Z",isModerated:!0,isFlagged:!0}],S=kt({mutationFn:async k=>Kt("POST","/api/radio/stations",k),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/radio/stations"]}),h(""),y(""),n({title:"Station Created",description:"New radio station created successfully"})},onError:k=>{n({title:"Creation Failed",description:k.message,variant:"destructive"})}}),w=kt({mutationFn:async k=>Kt("POST","/api/radio/moderate",k),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/radio/moderation"]}),i(""),l(""),d(""),n({title:"Moderation Applied",description:"Radio moderation action completed successfully"})},onError:k=>{n({title:"Moderation Failed",description:k.message,variant:"destructive"})}}),E=k=>{switch(k){case"live":return t.jsxs(de,{className:"bg-red-500/20 text-red-400",children:[t.jsx(Ks,{className:"w-3 h-3 mr-1"}),"Live"]});case"scheduled":return t.jsxs(de,{className:"bg-yellow-500/20 text-yellow-400",children:[t.jsx(As,{className:"w-3 h-3 mr-1"}),"Scheduled"]});case"offline":return t.jsxs(de,{variant:"secondary",children:[t.jsx(Y$,{className:"w-3 h-3 mr-1"}),"Offline"]});default:return t.jsx(de,{variant:"outline",children:k})}},T=k=>{switch(k){case"high":return t.jsx(de,{className:"bg-red-500/20 text-red-400",children:"High"});case"medium":return t.jsx(de,{className:"bg-yellow-500/20 text-yellow-400",children:"Medium"});case"low":return t.jsx(de,{className:"bg-green-500/20 text-green-400",children:"Low"});default:return t.jsx(de,{variant:"outline",children:k})}},P=()=>{if(!s||!c||!o){n({title:"Missing Information",description:"Please fill in all moderation fields",variant:"destructive"});return}w.mutate({stationId:s.id,action:c,targetUser:a||void 0,reason:o})};return t.jsxs("div",{className:"min-h-screen p-6 cyber-bg",children:[t.jsx(pu,{title:"Live Radio Broadcasting & Moderation - Fanz™ Unlimited Network LLC",description:"Manage live radio stations, monitor broadcasts, and moderate content with enterprise-grade tools for radio broadcasting.",canonicalUrl:"https://fanzunlimited.com/radio-broadcasting"}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-3xl font-bold cyber-text-glow flex items-center gap-2",children:[t.jsx(Yv,{className:"w-8 h-8 text-primary"}),"Live Radio Broadcasting"]}),t.jsx("p",{className:"text-muted-foreground",children:"Enterprise radio management with real-time moderation"})]}),t.jsxs(pi,{children:[t.jsx(Qo,{asChild:!0,children:t.jsxs(te,{className:"cyber-button",children:[t.jsx(Yv,{className:"w-4 h-4 mr-2"}),"Create Station"]})}),t.jsxs(Ka,{children:[t.jsx(Xa,{children:t.jsx(Za,{children:"Create New Radio Station"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(Pe,{children:"Station Name"}),t.jsx(Fe,{value:u,onChange:k=>h(k.target.value),placeholder:"Enter station name",className:"glass-effect"})]}),t.jsxs("div",{children:[t.jsx(Pe,{children:"Genre"}),t.jsxs(sn,{value:m,onValueChange:y,children:[t.jsx(en,{className:"glass-effect",children:t.jsx(rn,{placeholder:"Select genre"})}),t.jsxs(tn,{children:[t.jsx(re,{value:"talk",children:"Talk Radio"}),t.jsx(re,{value:"music",children:"Music"}),t.jsx(re,{value:"interview",children:"Interview"}),t.jsx(re,{value:"community",children:"Community"}),t.jsx(re,{value:"entertainment",children:"Entertainment"})]})]})]}),t.jsx(te,{onClick:()=>S.mutate({name:u,genre:m}),className:"w-full cyber-button",disabled:!u||!m,children:"Create Station"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx($,{className:"cyber-border",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-green-400 cyber-text-glow",children:"2"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Live Stations"})]})}),t.jsx($,{className:"cyber-border",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-400 cyber-text-glow",children:"1,247"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Listeners"})]})}),t.jsx($,{className:"cyber-border",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-400 cyber-text-glow",children:"15"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Mod Actions Today"})]})}),t.jsx($,{className:"cyber-border",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-primary cyber-text-glow",children:"98.2%"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Uptime"})]})})]}),t.jsxs(Xs,{value:N,onValueChange:j,className:"w-full",children:[t.jsxs($s,{className:"grid w-full grid-cols-4",children:[t.jsx(lt,{value:"overview",children:"Radio Stations"}),t.jsx(lt,{value:"moderation",children:"Live Moderation"}),t.jsx(lt,{value:"chat",children:"Live Chat"}),t.jsx(lt,{value:"analytics",children:"Analytics"})]}),t.jsx(ct,{value:"overview",children:t.jsxs($,{className:"cyber-border",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center gap-2",children:[t.jsx(Er,{className:"w-5 h-5 text-primary"}),"Radio Stations Management"]})}),t.jsx(q,{children:t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:v.map(k=>t.jsx($,{className:"cyber-card border border-primary/20",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold text-lg",children:k.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:k.description})]}),E(k.status)]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Current DJ:"}),t.jsx("p",{className:"font-medium",children:k.currentDJ})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Listeners:"}),t.jsxs("p",{className:"font-medium flex items-center gap-1",children:[t.jsx(er,{className:"w-3 h-3"}),k.listeners.toLocaleString()]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Genre:"}),t.jsx("p",{className:"font-medium",children:k.genre})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Quality:"}),t.jsx("p",{className:"font-medium",children:k.bitrate})]})]}),t.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-border",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(En,{className:"w-4 h-4 text-muted-foreground"}),t.jsx("span",{className:"text-sm",children:"Moderation:"}),T(k.moderationLevel)]}),t.jsxs("div",{className:"flex gap-2",children:[k.status==="live"&&t.jsxs(te,{size:"sm",variant:"outline",className:"cyber-border",children:[t.jsx(Mn,{className:"w-3 h-3 mr-1"}),"Monitor"]}),t.jsxs(te,{size:"sm",variant:"outline",className:"cyber-border",onClick:()=>r(k),children:[t.jsx(lr,{className:"w-3 h-3 mr-1"}),"Manage"]})]})]})]})})},k.id))})})]})}),t.jsx(ct,{value:"moderation",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs($,{className:"cyber-border",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center gap-2",children:[t.jsx(En,{className:"w-5 h-5 text-primary"}),"Quick Moderation"]})}),t.jsxs(q,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(Pe,{children:"Select Station"}),t.jsxs(sn,{value:s?.id||"",onValueChange:k=>{const I=v.find(L=>L.id===k);r(I||null)},children:[t.jsx(en,{className:"glass-effect",children:t.jsx(rn,{placeholder:"Select station to moderate"})}),t.jsx(tn,{children:v.filter(k=>k.status==="live").map(k=>t.jsx(re,{value:k.id,children:k.name},k.id))})]})]}),t.jsxs("div",{children:[t.jsx(Pe,{children:"Moderation Action"}),t.jsxs(sn,{value:c,onValueChange:d,children:[t.jsx(en,{className:"glass-effect",children:t.jsx(rn,{placeholder:"Select action"})}),t.jsxs(tn,{children:[t.jsx(re,{value:"mute",children:"Mute User"}),t.jsx(re,{value:"kick",children:"Kick User"}),t.jsx(re,{value:"ban",children:"Ban User"}),t.jsx(re,{value:"warning",children:"Send Warning"}),t.jsx(re,{value:"content_flag",children:"Flag Content"})]})]})]}),(c==="mute"||c==="kick"||c==="ban")&&t.jsxs("div",{children:[t.jsx(Pe,{children:"Target User (Optional)"}),t.jsx(Fe,{value:a,onChange:k=>i(k.target.value),placeholder:"Username or User ID",className:"glass-effect"})]}),t.jsxs("div",{children:[t.jsx(Pe,{children:"Reason"}),t.jsx(Js,{value:o,onChange:k=>l(k.target.value),placeholder:"Explain the reason for this moderation action",className:"glass-effect min-h-[100px]"})]}),t.jsxs(te,{onClick:P,className:"w-full cyber-button",children:[t.jsx(En,{className:"w-4 h-4 mr-2"}),"Apply Moderation"]})]})]}),t.jsxs($,{className:"cyber-border",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center gap-2",children:[t.jsx(Ks,{className:"w-5 h-5 text-primary"}),"Recent Actions"]})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-3",children:b.map(k=>t.jsx("div",{className:"p-3 border border-primary/20 rounded-lg",children:t.jsx("div",{className:"flex items-start justify-between",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(de,{className:"bg-primary/20 text-primary capitalize",children:k.action.replace("_"," ")}),t.jsx("span",{className:"text-sm font-medium",children:k.stationName})]}),k.targetUser&&t.jsxs("p",{className:"text-sm text-muted-foreground mb-1",children:["Target: ",k.targetUser]}),t.jsx("p",{className:"text-sm",children:k.reason}),t.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["by ",k.moderatorName," •"," ",new Date(k.timestamp).toLocaleString()]})]})})},k.id))})})]})]})}),t.jsx(ct,{value:"chat",children:t.jsxs($,{className:"cyber-border",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center gap-2",children:[t.jsx(Gf,{className:"w-5 h-5 text-primary"}),"Live Chat Monitoring"]})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs(sn,{defaultValue:"station-1",children:[t.jsx(en,{className:"w-[250px] glass-effect",children:t.jsx(rn,{placeholder:"Select station"})}),t.jsx(tn,{children:v.filter(k=>k.status==="live").map(k=>t.jsx(re,{value:k.id,children:k.name},k.id))})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),t.jsx("span",{className:"text-sm font-medium",children:"Live Chat Active"})]})]}),t.jsx("div",{className:"border border-primary/20 rounded-lg p-4 max-h-[400px] overflow-y-auto space-y-2",children:A.map(k=>t.jsx("div",{className:`p-2 rounded ${k.isFlagged?"bg-red-500/10 border border-red-500/20":"bg-muted/20"}`,children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("span",{className:"font-medium text-sm",children:k.username}),t.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(k.timestamp).toLocaleTimeString()}),k.isModerated&&t.jsx(de,{variant:"destructive",className:"text-xs",children:"Moderated"}),k.isFlagged&&t.jsx(ln,{className:"w-3 h-3 text-red-400"})]}),t.jsx("p",{className:"text-sm",children:k.message})]}),!k.isModerated&&t.jsxs("div",{className:"flex gap-1 ml-2",children:[t.jsx(te,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:t.jsx(Vs,{className:"w-3 h-3 text-red-400"})}),t.jsx(te,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:t.jsx(ln,{className:"w-3 h-3 text-yellow-400"})})]})]})},k.id))})]})})]})}),t.jsx(ct,{value:"analytics",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs($,{className:"cyber-border",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center gap-2",children:[t.jsx(la,{className:"w-5 h-5 text-primary"}),"Listener Analytics"]})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"text-center p-4 border border-primary/20 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-green-400",children:"1,247"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Current Listeners"})]}),t.jsxs("div",{className:"text-center p-4 border border-primary/20 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-400",children:"3,892"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Peak Today"})]})]}),t.jsx("div",{className:"space-y-2",children:v.map(k=>t.jsxs("div",{className:"flex items-center justify-between p-2 border border-primary/10 rounded",children:[t.jsx("span",{className:"font-medium text-sm",children:k.name}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm",children:k.listeners}),t.jsx("div",{className:"w-16 h-2 bg-muted rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-primary transition-all",style:{width:`${k.listeners/k.maxListeners*100}%`}})})]})]},k.id))})]})})]}),t.jsxs($,{className:"cyber-border",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center gap-2",children:[t.jsx(Ks,{className:"w-5 h-5 text-primary"}),"System Health"]})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 border border-green-500/20 rounded-lg bg-green-500/10",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(xn,{className:"w-4 h-4 text-green-400"}),t.jsx("span",{className:"font-medium",children:"Stream Health"})]}),t.jsx("span",{className:"text-green-400 font-bold",children:"98.2%"})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 border border-blue-500/20 rounded-lg bg-blue-500/10",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(wk,{className:"w-4 h-4 text-blue-400"}),t.jsx("span",{className:"font-medium",children:"Network Status"})]}),t.jsx("span",{className:"text-blue-400 font-bold",children:"Optimal"})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 border border-yellow-500/20 rounded-lg bg-yellow-500/10",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(va,{className:"w-4 h-4 text-yellow-400"}),t.jsx("span",{className:"font-medium",children:"Server Load"})]}),t.jsx("span",{className:"text-yellow-400 font-bold",children:"42%"})]})]})})]})]})})]})]})]})}function mEe(){const{toast:n}=Dn(),e=ps(),[s,r]=R.useState(null),[a,i]=R.useState(null),[o,l]=R.useState("overview"),[c,d]=R.useState(""),[u,h]=R.useState(""),[m,y]=R.useState(""),[N,j]=R.useState("all"),v=[{id:"pod-1",title:"Creator Conversations",description:"Deep dive interviews with top content creators on Fanz™ platform",hostName:"Sarah Mitchell",hostId:"host-1",category:"Business",status:"active",totalEpisodes:45,totalListeners:12847,averageRating:4.7,lastEpisodeDate:"2025-01-14T10:00:00Z",createdAt:"2024-08-15T00:00:00Z",isExplicit:!1,language:"English",website:"https://creatorconversations.fanzunlimited.com"},{id:"pod-2",title:"Tech Talk Weekly",description:"Latest trends in creator economy technology and platforms",hostName:"Mike Rodriguez",hostId:"host-2",category:"Technology",status:"active",totalEpisodes:78,totalListeners:8432,averageRating:4.2,lastEpisodeDate:"2025-01-12T15:30:00Z",createdAt:"2024-06-01T00:00:00Z",isExplicit:!1,language:"English"},{id:"pod-3",title:"Behind the Scenes",description:"Exclusive behind-the-scenes content from Fanz™ creators",hostName:"Alex Chen",hostId:"host-3",category:"Entertainment",status:"draft",totalEpisodes:12,totalListeners:3251,averageRating:4.9,lastEpisodeDate:"2025-01-10T12:00:00Z",createdAt:"2024-12-01T00:00:00Z",isExplicit:!0,language:"English"}],b=[{id:"ep-1",podcastId:"pod-1",title:"Building a Million-Dollar Creator Brand",description:"Interview with top creator about building and scaling their brand on Fanz™",audioUrl:"https://cdn.fanzunlimited.com/podcasts/ep-1.mp3",duration:"58:32",fileSize:"84.2 MB",status:"published",publishDate:"2025-01-14T10:00:00Z",listens:2847,downloads:1923,rating:4.8,isExplicit:!1,episodeNumber:45,createdAt:"2025-01-13T14:30:00Z"},{id:"ep-2",podcastId:"pod-1",title:"Content Strategy Masterclass",description:"Deep dive into content planning and strategy for creators",audioUrl:"https://cdn.fanzunlimited.com/podcasts/ep-2.mp3",duration:"42:18",fileSize:"61.5 MB",status:"published",publishDate:"2025-01-07T10:00:00Z",listens:3124,downloads:2087,rating:4.6,isExplicit:!1,episodeNumber:44,createdAt:"2025-01-06T16:15:00Z"},{id:"ep-3",podcastId:"pod-2",title:"AI in Creator Economy: Future Trends",description:"Exploring how AI is transforming the creator economy landscape",audioUrl:"https://cdn.fanzunlimited.com/podcasts/ep-3.mp3",duration:"51:45",fileSize:"75.3 MB",status:"processing",publishDate:"2025-01-16T15:30:00Z",listens:0,downloads:0,rating:0,isExplicit:!1,episodeNumber:79,createdAt:"2025-01-15T09:00:00Z"}],A={totalListens:24503,totalDownloads:18742,averageListenDuration:"34:28",topEpisodes:[{title:"Building a Million-Dollar Creator Brand",listens:2847},{title:"Content Strategy Masterclass",listens:3124},{title:"Monetization Secrets Revealed",listens:2456}],demographicData:{ageGroups:[{group:"18-25",percentage:28},{group:"26-34",percentage:35},{group:"35-44",percentage:22},{group:"45+",percentage:15}],topCountries:[{country:"United States",percentage:42},{country:"Canada",percentage:18},{country:"United Kingdom",percentage:15},{country:"Australia",percentage:12}]},growthMetrics:{weeklyGrowth:12.5,monthlyGrowth:28.3}},S=kt({mutationFn:async P=>Kt("POST","/api/podcasts",P),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/podcasts"]}),d(""),h(""),n({title:"Podcast Created",description:"New podcast series created successfully"})},onError:P=>{n({title:"Creation Failed",description:P.message,variant:"destructive"})}}),w=P=>{switch(P){case"published":return t.jsxs(de,{className:"bg-green-500/20 text-green-400",children:[t.jsx(xn,{className:"w-3 h-3 mr-1"}),"Published"]});case"draft":return t.jsxs(de,{className:"bg-yellow-500/20 text-yellow-400",children:[t.jsx(Oi,{className:"w-3 h-3 mr-1"}),"Draft"]});case"scheduled":return t.jsxs(de,{className:"bg-blue-500/20 text-blue-400",children:[t.jsx(Q0,{className:"w-3 h-3 mr-1"}),"Scheduled"]});case"processing":return t.jsxs(de,{className:"bg-orange-500/20 text-orange-400",children:[t.jsx(As,{className:"w-3 h-3 mr-1"}),"Processing"]});case"active":return t.jsxs(de,{className:"bg-green-500/20 text-green-400",children:[t.jsx(xn,{className:"w-3 h-3 mr-1"}),"Active"]});case"archived":return t.jsx(de,{variant:"secondary",children:"Archived"});default:return t.jsx(de,{variant:"outline",children:P})}},E=P=>Array.from({length:5},(k,I)=>t.jsx(ux,{className:`w-3 h-3 ${I<P?"text-yellow-400 fill-current":"text-gray-400"}`},I)),T=v.filter(P=>{const k=P.title.toLowerCase().includes(m.toLowerCase())||P.hostName.toLowerCase().includes(m.toLowerCase()),I=N==="all"||P.status===N;return k&&I});return t.jsxs("div",{className:"min-h-screen p-6 cyber-bg",children:[t.jsx(pu,{title:"Podcast Management & Analytics - Fanz™ Unlimited Network LLC",description:"Comprehensive podcast management system with episode organization, analytics, and content moderation for creators.",canonicalUrl:"https://fanzunlimited.com/podcast-management"}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-3xl font-bold cyber-text-glow flex items-center gap-2",children:[t.jsx(Fj,{className:"w-8 h-8 text-primary"}),"Podcast Management"]}),t.jsx("p",{className:"text-muted-foreground",children:"Enterprise podcast hosting and analytics platform"})]}),t.jsxs(pi,{children:[t.jsx(Qo,{asChild:!0,children:t.jsxs(te,{className:"cyber-button",children:[t.jsx(Fj,{className:"w-4 h-4 mr-2"}),"Create Podcast"]})}),t.jsxs(Ka,{children:[t.jsx(Xa,{children:t.jsx(Za,{children:"Create New Podcast Series"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(Pe,{children:"Podcast Title"}),t.jsx(Fe,{value:c,onChange:P=>d(P.target.value),placeholder:"Enter podcast title",className:"glass-effect"})]}),t.jsxs("div",{children:[t.jsx(Pe,{children:"Category"}),t.jsxs(sn,{value:u,onValueChange:h,children:[t.jsx(en,{className:"glass-effect",children:t.jsx(rn,{placeholder:"Select category"})}),t.jsxs(tn,{children:[t.jsx(re,{value:"business",children:"Business"}),t.jsx(re,{value:"technology",children:"Technology"}),t.jsx(re,{value:"entertainment",children:"Entertainment"}),t.jsx(re,{value:"education",children:"Education"}),t.jsx(re,{value:"health",children:"Health & Wellness"}),t.jsx(re,{value:"arts",children:"Arts & Culture"})]})]})]}),t.jsx(te,{onClick:()=>S.mutate({title:c,category:u}),className:"w-full cyber-button",disabled:!c||!u,children:"Create Podcast"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx($,{className:"cyber-border",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-green-400 cyber-text-glow",children:v.length}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Podcasts"})]})}),t.jsx($,{className:"cyber-border",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-400 cyber-text-glow",children:A.totalListens.toLocaleString()}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Listens"})]})}),t.jsx($,{className:"cyber-border",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-400 cyber-text-glow",children:b.length}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Episodes"})]})}),t.jsx($,{className:"cyber-border",children:t.jsxs(q,{className:"p-4 text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-primary cyber-text-glow",children:A.averageListenDuration}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Duration"})]})})]}),t.jsxs(Xs,{value:o,onValueChange:l,className:"w-full",children:[t.jsxs($s,{className:"grid w-full grid-cols-4",children:[t.jsx(lt,{value:"overview",children:"Podcasts"}),t.jsx(lt,{value:"episodes",children:"Episodes"}),t.jsx(lt,{value:"analytics",children:"Analytics"}),t.jsx(lt,{value:"moderation",children:"Moderation"})]}),t.jsx(ct,{value:"overview",children:t.jsxs($,{className:"cyber-border",children:[t.jsxs(oe,{children:[t.jsxs(le,{className:"flex items-center gap-2",children:[t.jsx($3,{className:"w-5 h-5 text-primary"}),"Podcast Library"]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("div",{className:"relative flex-1",children:t.jsx(Fe,{placeholder:"Search podcasts...",value:m,onChange:P=>y(P.target.value),className:"glass-effect"})}),t.jsxs(sn,{value:N,onValueChange:j,children:[t.jsx(en,{className:"w-[180px] glass-effect",children:t.jsx(rn,{placeholder:"Filter by status"})}),t.jsxs(tn,{children:[t.jsx(re,{value:"all",children:"All Status"}),t.jsx(re,{value:"active",children:"Active"}),t.jsx(re,{value:"draft",children:"Draft"}),t.jsx(re,{value:"archived",children:"Archived"})]})]})]})]}),t.jsx(q,{children:t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:T.map(P=>t.jsx($,{className:"cyber-card border border-primary/20",children:t.jsx(q,{className:"p-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold text-lg line-clamp-2",children:P.title}),t.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:P.description}),t.jsxs("p",{className:"text-sm font-medium mt-2",children:["Host: ",P.hostName]})]}),w(P.status)]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Episodes:"}),t.jsx("p",{className:"font-medium",children:P.totalEpisodes})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Listeners:"}),t.jsx("p",{className:"font-medium",children:P.totalListeners.toLocaleString()})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Category:"}),t.jsx("p",{className:"font-medium",children:P.category})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Rating:"}),t.jsxs("div",{className:"flex items-center gap-1",children:[E(Math.round(P.averageRating)),t.jsx("span",{className:"font-medium ml-1",children:P.averageRating})]})]})]}),t.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-border",children:[t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Last episode:"," ",new Date(P.lastEpisodeDate).toLocaleDateString()]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(te,{size:"sm",variant:"outline",className:"cyber-border",onClick:()=>r(P),children:[t.jsx(Mn,{className:"w-3 h-3 mr-1"}),"View"]}),t.jsxs(te,{size:"sm",variant:"outline",className:"cyber-border",children:[t.jsx(lr,{className:"w-3 h-3 mr-1"}),"Manage"]})]})]})]})})},P.id))})})]})}),t.jsx(ct,{value:"episodes",children:t.jsxs($,{className:"cyber-border",children:[t.jsxs(oe,{children:[t.jsxs(le,{className:"flex items-center gap-2",children:[t.jsx(Hre,{className:"w-5 h-5 text-primary"}),"Episode Management"]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs(sn,{defaultValue:"pod-1",children:[t.jsx(en,{className:"w-[250px] glass-effect",children:t.jsx(rn,{placeholder:"Select podcast"})}),t.jsx(tn,{children:v.map(P=>t.jsx(re,{value:P.id,children:P.title},P.id))})]}),t.jsxs(te,{className:"cyber-button",children:[t.jsx(yo,{className:"w-4 h-4 mr-2"}),"Upload Episode"]})]})]}),t.jsx(q,{children:t.jsx("div",{className:"border rounded-lg",children:t.jsxs(Ar,{children:[t.jsx(Cr,{children:t.jsxs(Vn,{children:[t.jsx(He,{children:"Episode"}),t.jsx(He,{children:"Duration"}),t.jsx(He,{children:"Status"}),t.jsx(He,{children:"Listens"}),t.jsx(He,{children:"Rating"}),t.jsx(He,{children:"Published"}),t.jsx(He,{children:"Actions"})]})}),t.jsx(Tr,{children:b.map(P=>t.jsxs(Vn,{children:[t.jsx(Ve,{children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:P.title}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["#",P.episodeNumber]})]})}),t.jsx(Ve,{children:P.duration}),t.jsx(Ve,{children:w(P.status)}),t.jsx(Ve,{children:P.listens.toLocaleString()}),t.jsx(Ve,{children:t.jsxs("div",{className:"flex items-center gap-1",children:[E(Math.round(P.rating)),t.jsx("span",{className:"text-sm ml-1",children:P.rating||"-"})]})}),t.jsx(Ve,{children:new Date(P.publishDate).toLocaleDateString()}),t.jsx(Ve,{children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx(te,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:t.jsx(Mn,{className:"w-3 h-3"})}),t.jsx(te,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:t.jsx(Oi,{className:"w-3 h-3"})}),t.jsx(te,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:t.jsx(xi,{className:"w-3 h-3"})})]})})]},P.id))})]})})})]})}),t.jsx(ct,{value:"analytics",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs($,{className:"cyber-border",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center gap-2",children:[t.jsx(la,{className:"w-5 h-5 text-primary"}),"Top Performing Episodes"]})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-4",children:A.topEpisodes.map((P,k)=>t.jsxs("div",{className:"flex items-center justify-between p-3 border border-primary/20 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-sm line-clamp-1",children:P.title}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx(er,{className:"w-3 h-3 text-muted-foreground"}),t.jsxs("span",{className:"text-sm text-muted-foreground",children:[P.listens.toLocaleString()," listens"]})]})]}),t.jsxs(de,{className:"bg-primary/20 text-primary",children:["#",k+1]})]},k))})})]}),t.jsxs($,{className:"cyber-border",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center gap-2",children:[t.jsx(or,{className:"w-5 h-5 text-primary"}),"Growth Metrics"]})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 border border-green-500/20 rounded-lg bg-green-500/10",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:"Weekly Growth"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Listener increase"})]}),t.jsx("div",{className:"text-right",children:t.jsxs("p",{className:"text-green-400 font-bold text-lg",children:["+",A.growthMetrics.weeklyGrowth,"%"]})})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 border border-blue-500/20 rounded-lg bg-blue-500/10",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:"Monthly Growth"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Overall expansion"})]}),t.jsx("div",{className:"text-right",children:t.jsxs("p",{className:"text-blue-400 font-bold text-lg",children:["+",A.growthMetrics.monthlyGrowth,"%"]})})]})]})})]}),t.jsxs($,{className:"cyber-border",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center gap-2",children:[t.jsx(Er,{className:"w-5 h-5 text-primary"}),"Audience Demographics"]})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-sm mb-2",children:"Age Groups"}),t.jsx("div",{className:"space-y-2",children:A.demographicData.ageGroups.map(P=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm",children:P.group}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-16 h-2 bg-muted rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-primary transition-all",style:{width:`${P.percentage}%`}})}),t.jsxs("span",{className:"text-sm font-medium w-8 text-right",children:[P.percentage,"%"]})]})]},P.group))})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-sm mb-2",children:"Top Countries"}),t.jsx("div",{className:"space-y-2",children:A.demographicData.topCountries.map(P=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm",children:P.country}),t.jsxs("span",{className:"text-sm font-medium",children:[P.percentage,"%"]})]},P.country))})]})]})})]}),t.jsxs($,{className:"cyber-border",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center gap-2",children:[t.jsx(X$,{className:"w-5 h-5 text-primary"}),"Engagement Stats"]})}),t.jsxs(q,{children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"text-center p-4 border border-primary/20 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-400",children:A.totalListens.toLocaleString()}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Listens"})]}),t.jsxs("div",{className:"text-center p-4 border border-primary/20 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-green-400",children:A.totalDownloads.toLocaleString()}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Downloads"})]})]}),t.jsxs("div",{className:"mt-4 p-4 border border-primary/20 rounded-lg text-center",children:[t.jsx("div",{className:"text-xl font-bold text-primary",children:A.averageListenDuration}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Average Listen Time"})]})]})]})]})}),t.jsx(ct,{value:"moderation",children:t.jsxs($,{className:"cyber-border",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center gap-2",children:[t.jsx(En,{className:"w-5 h-5 text-primary"}),"Content Moderation"]})}),t.jsx(q,{children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"font-medium",children:"Flagged Content"}),t.jsx("div",{className:"border border-yellow-500/20 rounded-lg p-4 bg-yellow-500/10",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(ln,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-sm",children:"Episode #44: Content Strategy Masterclass"}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Auto-flagged for language review"}),t.jsxs("div",{className:"flex gap-2 mt-2",children:[t.jsxs(te,{size:"sm",className:"cyber-button h-6",children:[t.jsx(xn,{className:"w-3 h-3 mr-1"}),"Approve"]}),t.jsxs(te,{size:"sm",variant:"destructive",className:"h-6",children:[t.jsx(Vs,{className:"w-3 h-3 mr-1"}),"Block"]})]})]})]})}),t.jsx("div",{className:"border border-red-500/20 rounded-lg p-4 bg-red-500/10",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Vs,{className:"w-5 h-5 text-red-400 mt-0.5"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-sm",children:"Episode #78: Tech Talk Special"}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Copyright claim reported"}),t.jsxs("div",{className:"flex gap-2 mt-2",children:[t.jsxs(te,{size:"sm",variant:"outline",className:"h-6",children:[t.jsx(Gf,{className:"w-3 h-3 mr-1"}),"Review"]}),t.jsxs(te,{size:"sm",variant:"destructive",className:"h-6",children:[t.jsx(Wa,{className:"w-3 h-3 mr-1"}),"Remove"]})]})]})]})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"font-medium",children:"Moderation Stats"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"text-center p-4 border border-primary/20 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-green-400",children:"234"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Approved"})]}),t.jsxs("div",{className:"text-center p-4 border border-primary/20 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-red-400",children:"12"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Blocked"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{children:"Auto-moderation accuracy"}),t.jsx("span",{className:"font-medium",children:"94.2%"})]}),t.jsx(Xn,{value:94.2,className:"h-2"}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{children:"Response time"}),t.jsx("span",{className:"font-medium",children:"< 2 hours"})]}),t.jsx(Xn,{value:85,className:"h-2"})]})]})]})})]})})]})]})]})}var tT="Checkbox",[pEe]=Co(tT),[xEe,hD]=pEe(tT);function gEe(n){const{__scopeCheckbox:e,checked:s,children:r,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:h}=n,[m,y]=gh({prop:s,defaultProp:a??!1,onChange:c,caller:tT}),[N,j]=R.useState(null),[v,b]=R.useState(null),A=R.useRef(!1),S=N?!!o||!!N.closest("form"):!0,w={checked:m,disabled:i,setChecked:y,control:N,setControl:j,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:A,required:d,defaultChecked:Vf(a)?!1:a,isFormControl:S,bubbleInput:v,setBubbleInput:b};return t.jsx(xEe,{scope:e,...w,children:vEe(h)?h(w):r})}var RJ="CheckboxTrigger",OJ=R.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:s,...r},a)=>{const{control:i,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:y,bubbleInput:N}=hD(RJ,n),j=rs(a,u),v=R.useRef(c);return R.useEffect(()=>{const b=i?.form;if(b){const A=()=>h(v.current);return b.addEventListener("reset",A),()=>b.removeEventListener("reset",A)}},[i,h]),t.jsx(Nn.button,{type:"button",role:"checkbox","aria-checked":Vf(c)?"mixed":c,"aria-required":d,"data-state":FJ(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:j,onKeyDown:cn(e,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:cn(s,b=>{h(A=>Vf(A)?!0:!A),N&&y&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})})});OJ.displayName=RJ;var fD=R.forwardRef((n,e)=>{const{__scopeCheckbox:s,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...h}=n;return t.jsx(gEe,{__scopeCheckbox:s,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:r,form:u,value:c,internal_do_not_use_render:({isFormControl:m})=>t.jsxs(t.Fragment,{children:[t.jsx(OJ,{...h,ref:e,__scopeCheckbox:s}),m&&t.jsx(LJ,{__scopeCheckbox:s})]})})});fD.displayName=tT;var kJ="CheckboxIndicator",IJ=R.forwardRef((n,e)=>{const{__scopeCheckbox:s,forceMount:r,...a}=n,i=hD(kJ,s);return t.jsx(oc,{present:r||Vf(i.checked)||i.checked===!0,children:t.jsx(Nn.span,{"data-state":FJ(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...n.style}})})});IJ.displayName=kJ;var DJ="CheckboxBubbleInput",LJ=R.forwardRef(({__scopeCheckbox:n,...e},s)=>{const{control:r,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:h,bubbleInput:m,setBubbleInput:y}=hD(DJ,n),N=rs(s,y),j=BC(i),v=JA(r);R.useEffect(()=>{const A=m;if(!A)return;const S=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(S,"checked").set,T=!a.current;if(j!==i&&E){const P=new Event("click",{bubbles:T});A.indeterminate=Vf(i),E.call(A,Vf(i)?!1:i),A.dispatchEvent(P)}},[m,j,i,a]);const b=R.useRef(Vf(i)?!1:i);return t.jsx(Nn.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:l,disabled:c,name:d,value:u,form:h,...e,tabIndex:-1,ref:N,style:{...e.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});LJ.displayName=DJ;function vEe(n){return typeof n=="function"}function Vf(n){return n==="indeterminate"}function FJ(n){return Vf(n)?"indeterminate":n?"checked":"unchecked"}const C1=R.forwardRef(({className:n,...e},s)=>t.jsx(fD,{ref:s,className:Bt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",n),...e,children:t.jsx(IJ,{className:Bt("flex items-center justify-center text-current"),children:t.jsx(HA,{className:"h-4 w-4"})})}));C1.displayName=fD.displayName;var UJ={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},jH=ge.createContext&&ge.createContext(UJ),yEe=["attr","size","title"];function bEe(n,e){if(n==null)return{};var s=jEe(n,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(s[r]=n[r])}return s}function jEe(n,e){if(n==null)return{};var s={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;s[r]=n[r]}return s}function z2(){return z2=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},z2.apply(this,arguments)}function wH(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),s.push.apply(s,r)}return s}function B2(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?wH(Object(s),!0).forEach(function(r){wEe(n,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):wH(Object(s)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(s,r))})}return n}function wEe(n,e,s){return e=NEe(e),e in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function NEe(n){var e=SEe(n,"string");return typeof e=="symbol"?e:e+""}function SEe(n,e){if(typeof n!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var r=s.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function zJ(n){return n&&n.map((e,s)=>ge.createElement(e.tag,B2({key:s},e.attr),zJ(e.child)))}function mD(n){return e=>ge.createElement(_Ee,z2({attr:B2({},n.attr)},e),zJ(n.child))}function _Ee(n){var e=s=>{var{attr:r,size:a,title:i}=n,o=bEe(n,yEe),l=a||s.size||"1em",c;return s.className&&(c=s.className),n.className&&(c=(c?c+" ":"")+n.className),ge.createElement("svg",z2({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,r,o,{className:c,style:B2(B2({color:n.color||s.color},s.style),n.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&ge.createElement("title",null,i),n.children)};return jH!==void 0?ge.createElement(jH.Consumer,null,s=>e(s)):e(UJ)}function BJ(n){return mD({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(n)}function VJ(n){return mD({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(n)}function HJ(n){return mD({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"},child:[]}]})(n)}function AEe(){const[n,e]=R.useState(!1),[s,r]=R.useState({usernameEmail:"",password:"",remember:!1}),[a,i]=R.useState({}),{toast:o}=Dn(),l=kt({mutationFn:u=>Kt("/api/auth/login","POST",u),onSuccess:u=>{o({title:"Login successful"}),window.location.href="/dashboard"},onError:u=>{i(u.response?.data?.errors||{general:"Login failed"})}}),c=u=>{u.preventDefault(),i({}),l.mutate(s)},d=(u,h)=>{r(m=>({...m,[u]:h})),a[u]&&i(m=>({...m,[u]:""}))};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center p-4",children:t.jsxs("div",{className:"w-full max-w-md",children:[t.jsxs($,{className:"cyber-border bg-white shadow-2xl",children:[t.jsxs(oe,{className:"text-center",children:[t.jsx(le,{className:"text-2xl font-bold",children:"Welcome Back"}),t.jsx(Ct,{children:"Sign in to your account to continue"})]}),t.jsxs(q,{className:"space-y-6",children:[a.general&&t.jsxs(Ta,{variant:"destructive",children:[t.jsx(ln,{className:"h-4 w-4"}),t.jsx(Ea,{children:a.general})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs(te,{variant:"outline",className:"w-full",onClick:()=>window.location.href="/oauth/facebook","data-testid":"button-facebook-login",children:[t.jsx(BJ,{className:"mr-2 h-4 w-4 text-blue-600"}),"Login with Facebook"]}),t.jsxs(te,{variant:"outline",className:"w-full",onClick:()=>window.location.href="/oauth/twitter","data-testid":"button-twitter-login",children:[t.jsx(HJ,{className:"mr-2 h-4 w-4"}),"Login with X"]}),t.jsxs(te,{variant:"outline",className:"w-full",onClick:()=>window.location.href="/oauth/google","data-testid":"button-google-login",children:[t.jsx(VJ,{className:"mr-2 h-4 w-4 text-red-500"}),"Login with Google"]})]}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-0 flex items-center",children:t.jsx("span",{className:"w-full border-t"})}),t.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:t.jsx("span",{className:"bg-white px-2 text-muted-foreground",children:"or"})})]}),t.jsxs("form",{onSubmit:c,className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"usernameEmail",children:"Username or Email"}),t.jsxs("div",{className:"relative",children:[t.jsx(Kd,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Fe,{id:"usernameEmail",type:"text",placeholder:"Enter username or email",value:s.usernameEmail,onChange:u=>d("usernameEmail",u.target.value),className:`pl-10 ${a.usernameEmail?"border-red-500":""}`,required:!0,"data-testid":"input-username-email"})]}),a.usernameEmail&&t.jsx("p",{className:"text-sm text-red-500",children:a.usernameEmail})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"password",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ii,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Fe,{id:"password",type:n?"text":"password",placeholder:"Enter password",value:s.password,onChange:u=>d("password",u.target.value),className:`pl-10 pr-10 ${a.password?"border-red-500":""}`,required:!0,"data-testid":"input-password"}),t.jsx(te,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>e(!n),"data-testid":"button-toggle-password",children:n?t.jsx(Z1,{className:"h-4 w-4 text-muted-foreground"}):t.jsx(Mn,{className:"h-4 w-4 text-muted-foreground"})})]}),a.password&&t.jsx("p",{className:"text-sm text-red-500",children:a.password})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(C1,{id:"remember",checked:s.remember,onCheckedChange:u=>d("remember",u),"data-testid":"checkbox-remember"}),t.jsx(Pe,{htmlFor:"remember",className:"text-sm",children:"Remember me"})]}),t.jsxs(te,{type:"submit",className:"w-full",disabled:l.isPending,"data-testid":"button-login",children:[t.jsx(Jre,{className:"mr-2 h-4 w-4"}),l.isPending?"Signing in...":"Sign In"]})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx(vn,{href:"/password/reset",children:t.jsx(te,{variant:"link",className:"p-0 h-auto","data-testid":"link-forgot-password",children:"Forgot Password?"})}),t.jsx(vn,{href:"/register",children:t.jsx(te,{variant:"link",className:"p-0 h-auto","data-testid":"link-register",children:"Don't have an account?"})})]}),t.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["This site is protected by reCAPTCHA and the Google"," ",t.jsx("a",{href:"https://policies.google.com/privacy",target:"_blank",className:"underline",children:"Privacy Policy"})," ","and"," ",t.jsx("a",{href:"https://policies.google.com/terms",target:"_blank",className:"underline",children:"Terms of Service"})," ","apply."]})]})]}),t.jsx("div",{className:"mt-4 text-center",children:t.jsx(vn,{href:"/",children:t.jsxs(te,{variant:"ghost",className:"text-white hover:text-gray-200","data-testid":"link-home",children:[t.jsx(cd,{className:"mr-2 h-4 w-4"}),"Back to Home"]})})})]})})}function CEe(){const[n,e]=R.useState(!1),[s,r]=R.useState({name:"",email:"",password:"",agreeGdpr:!1}),[a,i]=R.useState({}),[o,l]=R.useState(""),{toast:c}=Dn(),d=kt({mutationFn:m=>Kt("/api/auth/register","POST",m),onSuccess:m=>{l("Account created successfully! Please check your email for verification."),c({title:"Registration successful"}),r({name:"",email:"",password:"",agreeGdpr:!1})},onError:m=>{i(m.response?.data?.errors||{general:"Registration failed"})}}),u=m=>{if(m.preventDefault(),i({}),l(""),!s.agreeGdpr){i({agreeGdpr:"You must agree to the Terms and Privacy Policy"});return}d.mutate(s)},h=(m,y)=>{r(N=>({...N,[m]:y})),a[m]&&i(N=>({...N,[m]:""}))};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center p-4",children:t.jsxs("div",{className:"w-full max-w-md",children:[t.jsxs($,{className:"cyber-border bg-white shadow-2xl",children:[t.jsxs(oe,{className:"text-center",children:[t.jsx(le,{className:"text-2xl font-bold",children:"Create Account"}),t.jsx(Ct,{children:"Join our platform and start your journey"})]}),t.jsxs(q,{className:"space-y-6",children:[o&&t.jsxs(Ta,{className:"border-green-200 bg-green-50",children:[t.jsx(xn,{className:"h-4 w-4 text-green-600"}),t.jsx(Ea,{className:"text-green-800",children:o})]}),a.general&&t.jsxs(Ta,{variant:"destructive",children:[t.jsx(ln,{className:"h-4 w-4"}),t.jsx(Ea,{children:a.general})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs(te,{variant:"outline",className:"w-full",onClick:()=>window.location.href="/oauth/facebook","data-testid":"button-facebook-register",children:[t.jsx(BJ,{className:"mr-2 h-4 w-4 text-blue-600"}),"Sign up with Facebook"]}),t.jsxs(te,{variant:"outline",className:"w-full",onClick:()=>window.location.href="/oauth/twitter","data-testid":"button-twitter-register",children:[t.jsx(HJ,{className:"mr-2 h-4 w-4"}),"Sign up with X"]}),t.jsxs(te,{variant:"outline",className:"w-full",onClick:()=>window.location.href="/oauth/google","data-testid":"button-google-register",children:[t.jsx(VJ,{className:"mr-2 h-4 w-4 text-red-500"}),"Sign up with Google"]})]}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-0 flex items-center",children:t.jsx("span",{className:"w-full border-t"})}),t.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:t.jsx("span",{className:"bg-white px-2 text-muted-foreground",children:"or"})})]}),t.jsxs("form",{onSubmit:u,className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"name",children:"Full Name"}),t.jsxs("div",{className:"relative",children:[t.jsx(Jv,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Fe,{id:"name",type:"text",placeholder:"Enter your full name",value:s.name,onChange:m=>h("name",m.target.value),className:`pl-10 ${a.name?"border-red-500":""}`,required:!0,"data-testid":"input-name"})]}),a.name&&t.jsx("p",{className:"text-sm text-red-500",children:a.name})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"email",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(Kd,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Fe,{id:"email",type:"email",placeholder:"Enter your email",value:s.email,onChange:m=>h("email",m.target.value),className:`pl-10 ${a.email?"border-red-500":""}`,required:!0,"data-testid":"input-email"})]}),a.email&&t.jsx("p",{className:"text-sm text-red-500",children:a.email})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"password",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ii,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Fe,{id:"password",type:n?"text":"password",placeholder:"Create a strong password",value:s.password,onChange:m=>h("password",m.target.value),className:`pl-10 pr-10 ${a.password?"border-red-500":""}`,required:!0,"data-testid":"input-password"}),t.jsx(te,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>e(!n),"data-testid":"button-toggle-password",children:n?t.jsx(Z1,{className:"h-4 w-4 text-muted-foreground"}):t.jsx(Mn,{className:"h-4 w-4 text-muted-foreground"})})]}),a.password&&t.jsx("p",{className:"text-sm text-red-500",children:a.password})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-start space-x-2",children:[t.jsx(C1,{id:"agreeGdpr",checked:s.agreeGdpr,onCheckedChange:m=>h("agreeGdpr",m),"data-testid":"checkbox-agree-gdpr",className:"mt-1"}),t.jsxs(Pe,{htmlFor:"agreeGdpr",className:"text-sm leading-5",children:["I agree to the"," ",t.jsx("a",{href:"/terms",target:"_blank",className:"text-blue-600 hover:underline",children:"Terms & Conditions"})," ","and"," ",t.jsx("a",{href:"/privacy",target:"_blank",className:"text-blue-600 hover:underline",children:"Privacy Policy"})]})]}),a.agreeGdpr&&t.jsx("p",{className:"text-sm text-red-500",children:a.agreeGdpr})]}),t.jsxs(te,{type:"submit",className:"w-full",disabled:d.isPending,"data-testid":"button-register",children:[t.jsx(K3,{className:"mr-2 h-4 w-4"}),d.isPending?"Creating Account...":"Create Account"]})]}),t.jsx("div",{className:"text-center",children:t.jsx(vn,{href:"/login",children:t.jsx(te,{variant:"link",className:"p-0 h-auto","data-testid":"link-login",children:"Already have an account? Sign in"})})}),t.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["This site is protected by reCAPTCHA and the Google"," ",t.jsx("a",{href:"https://policies.google.com/privacy",target:"_blank",className:"underline",children:"Privacy Policy"})," ","and"," ",t.jsx("a",{href:"https://policies.google.com/terms",target:"_blank",className:"underline",children:"Terms of Service"})," ","apply."]})]})]}),t.jsx("div",{className:"mt-4 text-center",children:t.jsx(vn,{href:"/",children:t.jsxs(te,{variant:"ghost",className:"text-white hover:text-gray-200","data-testid":"link-home",children:[t.jsx(cd,{className:"mr-2 h-4 w-4"}),"Back to Home"]})})})]})})}function TEe(){const[n,e]=R.useState(""),[s,r]=R.useState({}),[a,i]=R.useState(""),{toast:o}=Dn(),l=kt({mutationFn:d=>Kt("/api/auth/password/email","POST",{email:d}),onSuccess:()=>{i("Password reset link has been sent to your email address."),o({title:"Reset link sent"}),e("")},onError:d=>{r(d.response?.data?.errors||{general:"Failed to send reset link"})}}),c=d=>{if(d.preventDefault(),r({}),i(""),!n){r({email:"Email address is required"});return}l.mutate(n)};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center p-4",children:t.jsxs("div",{className:"w-full max-w-md",children:[t.jsxs($,{className:"cyber-border bg-white shadow-2xl",children:[t.jsxs(oe,{className:"text-center",children:[t.jsx(le,{className:"text-2xl font-bold",children:"Password Recovery"}),t.jsx(Ct,{children:"Enter your email address and we'll send you a link to reset your password"})]}),t.jsxs(q,{className:"space-y-6",children:[a&&t.jsxs(Ta,{className:"border-green-200 bg-green-50",children:[t.jsx(xn,{className:"h-4 w-4 text-green-600"}),t.jsx(Ea,{className:"text-green-800",children:a})]}),s.general&&t.jsxs(Ta,{variant:"destructive",children:[t.jsx(ln,{className:"h-4 w-4"}),t.jsx(Ea,{children:s.general})]}),t.jsxs("form",{onSubmit:c,className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{htmlFor:"email",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(Kd,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Fe,{id:"email",type:"email",placeholder:"Enter your email address",value:n,onChange:d=>{e(d.target.value),s.email&&r(u=>({...u,email:""}))},className:`pl-10 ${s.email?"border-red-500":""}`,required:!0,"data-testid":"input-email"})]}),s.email&&t.jsx("p",{className:"text-sm text-red-500",children:s.email})]}),t.jsxs(te,{type:"submit",className:"w-full",disabled:l.isPending,"data-testid":"button-send-reset",children:[t.jsx($f,{className:"mr-2 h-4 w-4"}),l.isPending?"Sending...":"Send Reset Link"]})]}),t.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["This site is protected by reCAPTCHA and the Google"," ",t.jsx("a",{href:"https://policies.google.com/privacy",target:"_blank",className:"underline",children:"Privacy Policy"})," ","and"," ",t.jsx("a",{href:"https://policies.google.com/terms",target:"_blank",className:"underline",children:"Terms of Service"})," ","apply."]})]})]}),t.jsx("div",{className:"mt-4 flex justify-center space-x-4",children:t.jsx(vn,{href:"/login",children:t.jsxs(te,{variant:"ghost",className:"text-white hover:text-gray-200","data-testid":"link-login",children:[t.jsx(cd,{className:"mr-2 h-4 w-4"}),"Back to Login"]})})})]})})}function EEe(){const n=()=>{window.history.back()},e=()=>{window.location.reload()};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center p-4",children:t.jsxs("div",{className:"w-full max-w-md",children:[t.jsx($,{className:"cyber-border bg-white shadow-2xl",children:t.jsxs(q,{className:"p-8 text-center",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-8xl font-bold text-primary mb-4 cyber-text-glow",children:"404"}),t.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-2",children:"Page Not Found"}),t.jsx("p",{className:"text-gray-600",children:"The page you're looking for doesn't exist or has been moved."})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs(te,{onClick:n,variant:"outline",className:"w-full","data-testid":"button-go-back",children:[t.jsx(cd,{className:"h-4 w-4 mr-2"}),"Go Back"]}),t.jsx(vn,{href:"/",children:t.jsxs(te,{className:"w-full","data-testid":"button-go-home",children:[t.jsx(Q1,{className:"h-4 w-4 mr-2"}),"Go Home"]})}),t.jsxs(te,{onClick:e,variant:"ghost",className:"w-full","data-testid":"button-refresh",children:[t.jsx(Zo,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})]})}),t.jsxs("div",{className:"mt-6 text-center",children:[t.jsx("p",{className:"text-white/80 text-sm mb-3",children:"Need help? Check these common areas:"}),t.jsxs("div",{className:"flex justify-center space-x-3",children:[t.jsx(vn,{href:"/dashboard",children:t.jsx(te,{variant:"ghost",size:"sm",className:"text-white hover:text-gray-200",children:"Dashboard"})}),t.jsx(vn,{href:"/user-management",children:t.jsx(te,{variant:"ghost",size:"sm",className:"text-white hover:text-gray-200",children:"Users"})}),t.jsx(vn,{href:"/settings",children:t.jsx(te,{variant:"ghost",size:"sm",className:"text-white hover:text-gray-200",children:"Settings"})})]})]})]})})}function MEe(){const n=()=>{window.history.back()},e=()=>{window.location.reload()};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-900 via-orange-900 to-yellow-900 flex items-center justify-center p-4",children:t.jsxs("div",{className:"w-full max-w-md",children:[t.jsx($,{className:"cyber-border bg-white shadow-2xl",children:t.jsxs(q,{className:"p-8 text-center",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx(ln,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),t.jsx("h1",{className:"text-6xl font-bold text-red-500 mb-4",children:"500"}),t.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-2",children:"Server Error"}),t.jsx("p",{className:"text-gray-600",children:"Something went wrong on our servers. We're working to fix it."})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs(te,{onClick:e,className:"w-full bg-red-600 hover:bg-red-700","data-testid":"button-refresh",children:[t.jsx(Zo,{className:"h-4 w-4 mr-2"}),"Try Again"]}),t.jsxs(te,{onClick:n,variant:"outline",className:"w-full","data-testid":"button-go-back",children:[t.jsx(cd,{className:"h-4 w-4 mr-2"}),"Go Back"]}),t.jsx(vn,{href:"/",children:t.jsxs(te,{variant:"ghost",className:"w-full","data-testid":"button-go-home",children:[t.jsx(Q1,{className:"h-4 w-4 mr-2"}),"Go Home"]})})]})]})}),t.jsxs("div",{className:"mt-6 text-center",children:[t.jsx("p",{className:"text-white/80 text-sm mb-3",children:"If this problem persists, please contact support."}),t.jsx("div",{className:"bg-white/10 backdrop-blur rounded-lg p-4",children:t.jsxs("p",{className:"text-white text-xs",children:[t.jsx("strong",{children:"Error Code:"})," 500",t.jsx("br",{}),t.jsx("strong",{children:"Time:"})," ",new Date().toLocaleString(),t.jsx("br",{}),t.jsx("strong",{children:"Status:"})," Internal Server Error"]})})]})]})})}function PEe(){const n=()=>{window.location.reload()};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900 flex items-center justify-center p-4",children:t.jsxs("div",{className:"w-full max-w-md",children:[t.jsx($,{className:"cyber-border bg-white shadow-2xl",children:t.jsxs(q,{className:"p-8 text-center",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx(Nae,{className:"h-16 w-16 text-blue-500 mx-auto mb-4 animate-bounce"}),t.jsx("h1",{className:"text-4xl font-bold text-blue-600 mb-4",children:"Maintenance Mode"}),t.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Sorry for the inconvenience"}),t.jsx("p",{className:"text-gray-600",children:"We're currently performing scheduled maintenance to improve your experience. We'll be back online shortly."})]}),t.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:[t.jsxs("div",{className:"flex items-center justify-center mb-2",children:[t.jsx(As,{className:"h-4 w-4 text-blue-600 mr-2"}),t.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Estimated Time"})]}),t.jsx("p",{className:"text-blue-700 text-sm",children:"Maintenance usually takes 30-60 minutes"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs(te,{onClick:n,className:"w-full bg-blue-600 hover:bg-blue-700","data-testid":"button-refresh",children:[t.jsx(Zo,{className:"h-4 w-4 mr-2"}),"Check Again"]}),t.jsx(vn,{href:"/",children:t.jsxs(te,{variant:"outline",className:"w-full","data-testid":"button-go-home",children:[t.jsx(Q1,{className:"h-4 w-4 mr-2"}),"Try Homepage"]})})]})]})}),t.jsxs("div",{className:"mt-6 text-center",children:[t.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-lg p-4",children:[t.jsx("h3",{className:"text-white font-medium mb-2",children:"What's happening?"}),t.jsxs("ul",{className:"text-white/80 text-sm space-y-1",children:[t.jsx("li",{children:"• System upgrades and optimizations"}),t.jsx("li",{children:"• Security updates and patches"}),t.jsx("li",{children:"• Performance improvements"}),t.jsx("li",{children:"• Database maintenance"})]})]}),t.jsx("p",{className:"text-white/60 text-xs mt-4",children:"Thank you for your patience while we make improvements."})]})]})})}function REe(){const n=()=>{window.history.back()};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-900 via-red-900 to-pink-900 flex items-center justify-center p-4",children:t.jsxs("div",{className:"w-full max-w-md",children:[t.jsx($,{className:"cyber-border bg-white shadow-2xl",children:t.jsxs(q,{className:"p-8 text-center",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx(jae,{className:"h-16 w-16 text-orange-500 mx-auto mb-4"}),t.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Profile Disabled"}),t.jsx("p",{className:"text-gray-600",children:"This profile has been temporarily deactivated and is not accessible at this time."})]}),t.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6",children:t.jsxs("div",{className:"flex items-start",children:[t.jsx(ln,{className:"h-5 w-5 text-orange-600 mt-0.5 mr-3 flex-shrink-0"}),t.jsxs("div",{className:"text-left",children:[t.jsx("h3",{className:"text-sm font-medium text-orange-800 mb-1",children:"Account Status"}),t.jsx("p",{className:"text-sm text-orange-700",children:"This account may have been suspended due to policy violations or is undergoing review by our moderation team."})]})]})}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs(te,{onClick:n,variant:"outline",className:"w-full","data-testid":"button-go-back",children:[t.jsx(cd,{className:"h-4 w-4 mr-2"}),"Go Back"]}),t.jsx(vn,{href:"/",children:t.jsxs(te,{className:"w-full","data-testid":"button-go-home",children:[t.jsx(Q1,{className:"h-4 w-4 mr-2"}),"Go Home"]})}),t.jsx(vn,{href:"/contact",children:t.jsxs(te,{variant:"ghost",className:"w-full text-gray-600","data-testid":"button-contact",children:[t.jsx(Kd,{className:"h-4 w-4 mr-2"}),"Contact Support"]})})]})]})}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-lg p-4",children:[t.jsx("h3",{className:"text-white font-medium mb-2",children:"Need Help?"}),t.jsx("p",{className:"text-white/80 text-sm mb-3",children:"If you believe this is an error or need to appeal an account suspension:"}),t.jsxs("ul",{className:"text-white/70 text-sm space-y-1",children:[t.jsx("li",{children:"• Contact our support team"}),t.jsx("li",{children:"• Review our community guidelines"}),t.jsx("li",{children:"• Check for violation notifications"})]})]})})]})})}function OEe({postId:n,comments:e,currentUser:s,isCreator:r=!1,onAddComment:a,onAddReply:i,onLikeComment:o,onEditComment:l,onDeleteComment:c,onReportComment:d,className:u=""}){const[h,m]=R.useState(""),[y,N]=R.useState(null),[j,v]=R.useState(""),[b,A]=R.useState(null),[S,w]=R.useState(""),[E,T]=R.useState(!1),P=R.useRef(null),k=["😀","😂","😍","👍","❤️","😢","😮","😡","🔥","💯","🎉","👏","🙌","💪","🤔","😎"],I=()=>{h.trim()&&a&&(a(h.trim()),m(""))},L=(W,ee)=>{j.trim()&&i&&(i(W,j.trim(),ee),v(""),N(null))},U=W=>{S.trim()&&l&&(l(W,S.trim()),A(null),w(""))},H=(W,ee)=>{A(W),w(ee)},B=(W,ee)=>{N(W),v(`@${ee} `)},K=W=>{y?v(ee=>ee+W):m(ee=>ee+W),T(!1)},J=({comment:W,isReply:ee=!1})=>t.jsxs("div",{className:`flex space-x-3 ${ee?"ml-12 mt-3":"mb-4"}`,"data-comment-id":W.id,children:[t.jsxs(_l,{className:"h-10 w-10 flex-shrink-0",children:[t.jsx(Th,{src:W.avatar}),t.jsx(Al,{children:W.name.charAt(0).toUpperCase()})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx("span",{className:"font-semibold text-sm",children:W.name}),W.isVerified&&t.jsx(Dj,{className:"h-4 w-4 text-blue-500 fill-current"}),t.jsx("span",{className:"text-xs text-muted-foreground",children:EJ(new Date(W.createdAt),{addSuffix:!0})})]}),b===W.id?t.jsxs("div",{className:"space-y-2",children:[t.jsx(Js,{value:S,onChange:G=>w(G.target.value),className:"min-h-[60px]",placeholder:"Edit your comment..."}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(te,{size:"sm",onClick:()=>U(W.id),children:"Save"}),t.jsx(te,{size:"sm",variant:"outline",onClick:()=>A(null),children:"Cancel"})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"text-sm mb-2",children:[t.jsx("p",{className:"break-words",children:W.content}),W.sticker&&t.jsx("div",{className:"mt-2",children:t.jsx("img",{src:W.sticker,alt:"Sticker",className:"w-16 h-16 object-contain"})}),W.gifImage&&t.jsx("div",{className:"mt-2",children:t.jsx("img",{src:W.gifImage,alt:"GIF",className:"max-w-48 rounded"})})]}),t.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[t.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>o?.(W.id,ee),className:`h-6 px-2 ${W.isLiked?"text-red-500":"text-muted-foreground"}`,children:[t.jsx(Y1,{className:`h-3 w-3 mr-1 ${W.isLiked?"fill-current":""}`}),W.likes>0&&W.likes]}),!ee&&t.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>B(W.id,W.username),className:"h-6 px-2 text-muted-foreground",children:[t.jsx(W3,{className:"h-3 w-3 mr-1"}),"Reply"]}),(W.canEdit||W.canDelete||!s||s.id!==W.userId)&&t.jsxs("div",{className:"relative",children:[t.jsx(te,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:t.jsx(D$,{className:"h-3 w-3"})}),t.jsxs("div",{className:"absolute right-0 mt-1 w-48 bg-white rounded-md shadow-lg border py-1 z-50 hidden group-hover:block",children:[W.canEdit&&t.jsxs("button",{onClick:()=>H(W.id,W.content),className:"flex items-center w-full px-4 py-2 text-sm hover:bg-gray-100",children:[t.jsx(Oi,{className:"h-3 w-3 mr-2"}),"Edit"]}),W.canDelete&&t.jsxs("button",{onClick:()=>c?.(W.id,ee),className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-gray-100",children:[t.jsx(Wa,{className:"h-3 w-3 mr-2"}),"Delete"]}),s&&s.id!==W.userId&&t.jsxs("button",{onClick:()=>d?.(W.id,ee),className:"flex items-center w-full px-4 py-2 text-sm text-orange-600 hover:bg-gray-100",children:[t.jsx(qA,{className:"h-3 w-3 mr-2"}),"Report"]})]})]})]})]}),y===W.id&&t.jsxs("div",{className:"mt-3 space-y-2",children:[t.jsx(Js,{value:j,onChange:G=>v(G.target.value),className:"min-h-[60px]",placeholder:`Reply to @${W.username}...`}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs(te,{size:"sm",onClick:()=>L(W.id,W.username),disabled:!j.trim(),children:[t.jsx($f,{className:"h-3 w-3 mr-1"}),"Reply"]}),t.jsx(te,{size:"sm",variant:"outline",onClick:()=>N(null),children:"Cancel"})]})]}),!ee&&"replies"in W&&W.replies?.length>0&&t.jsx("div",{className:"mt-4",children:W.replies.map(G=>t.jsx(J,{comment:G,isReply:!0},G.id))})]})]});return t.jsxs("div",{className:`space-y-4 ${u}`,children:[s&&t.jsx($,{children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex space-x-3",children:[t.jsxs(_l,{className:"h-10 w-10 flex-shrink-0",children:[t.jsx(Th,{src:s.avatar}),t.jsx(Al,{children:s.name.charAt(0).toUpperCase()})]}),t.jsxs("div",{className:"flex-1 space-y-3",children:[t.jsx(Js,{ref:P,value:h,onChange:W=>m(W.target.value),className:"min-h-[80px] resize-none",placeholder:"Write a comment..."}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(te,{variant:"ghost",size:"sm",onClick:()=>T(!E),className:"h-8 w-8 p-0",children:t.jsx(G$,{className:"h-4 w-4"})}),t.jsx(te,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:t.jsx(ru,{className:"h-4 w-4"})})]}),t.jsxs(te,{onClick:I,disabled:!h.trim(),size:"sm",children:[t.jsx($f,{className:"h-3 w-3 mr-1"}),"Comment"]})]}),E&&t.jsx("div",{className:"bg-white border rounded-lg p-3 shadow-lg",children:t.jsx("div",{className:"grid grid-cols-8 gap-2",children:k.map((W,ee)=>t.jsx("button",{onClick:()=>K(W),className:"p-1 hover:bg-gray-100 rounded text-lg",children:W},ee))})})]})]})})}),t.jsxs("div",{className:"space-y-4",children:[e.map(W=>t.jsx(J,{comment:W},W.id)),e.length===0&&t.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[t.jsx(Gf,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"No comments yet. Be the first to comment!"})]})]})]})}function kEe({currentUser:n,settings:e,onSubmit:s,className:r=""}){const[a,i]=R.useState(""),[o,l]=R.useState([]),[c,d]=R.useState(),[u,h]=R.useState(""),[m,y]=R.useState(n.postLocked),[N,j]=R.useState(),[v,b]=R.useState(!1),[A,S]=R.useState(!1),[w,E]=R.useState(!1),[T,P]=R.useState(0),[k,I]=R.useState(!1),[L,U]=R.useState([]),[H,B]=R.useState(!1),K=R.useRef(null),J=R.useRef(null),W=R.useRef(null),ee=["😀","😂","😍","👍","❤️","😢","😮","😡","🔥","💯","🎉","👏","🙌","💪","🤔","😎"],G=e.updateLength-a.length,ae=(a.trim().length>0||o.length>0)&&!H,fe=be=>{const Ce=Array.from(be.target.files||[]);if(o.length+Ce.length>e.maxFiles){U([`Maximum ${e.maxFiles} files allowed`]);return}const Ue=Ce.map(De=>({id:Math.random().toString(36).substr(2,9),file:De,type:se(De),preview:De.type.startsWith("image/")?URL.createObjectURL(De):void 0,progress:0}));l(De=>[...De,...Ue]),me()},se=be=>be.type.startsWith("image/")?"image":be.type.startsWith("video/")?"video":be.type.startsWith("audio/")?"audio":be.type==="application/zip"?"zip":be.type==="application/epub+zip"?"epub":"image",me=be=>{I(!0),P(0);const Ce=setInterval(()=>{P(Ue=>Ue>=100?(clearInterval(Ce),I(!1),100):Ue+10)},200)},Oe=be=>{l(Ce=>Ce.filter(Ue=>Ue.id!==be))},Ye=be=>{i(Ce=>Ce+be),E(!1)},dt=async()=>{U([]),B(!0);try{if(!a.trim()&&o.length===0){U(["Please add some content to your post"]);return}if(a.length>e.updateLength){U([`Post is too long. Maximum ${e.updateLength} characters allowed.`]);return}const be={description:a.trim(),media:o,price:v?c:void 0,title:A?u.trim():void 0,isLocked:m,scheduledDate:N,type:"post"};await s(be),i(""),l([]),d(void 0),h(""),b(!1),S(!1),j(void 0)}catch{U(["Failed to create post. Please try again."])}finally{B(!1)}};return t.jsxs("div",{className:r,children:[k&&t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm font-medium",children:"Uploading files..."}),t.jsxs("span",{className:"text-sm text-muted-foreground",children:[T,"%"]})]}),t.jsx(Xn,{value:T,className:"h-2"})]}),N&&t.jsxs(Ta,{className:"mb-4",children:[t.jsx(As,{className:"h-4 w-4"}),t.jsxs(Ea,{className:"flex items-center justify-between",children:[t.jsxs("span",{children:[t.jsx("strong",{children:"Scheduled:"})," ",N.toLocaleString()]}),t.jsx(te,{variant:"ghost",size:"sm",onClick:()=>j(void 0),className:"h-6 w-6 p-0",children:t.jsx(td,{className:"h-3 w-3"})})]})]}),t.jsx($,{className:"cyber-border",children:t.jsxs(q,{className:"p-4",children:[t.jsxs("div",{className:"flex space-x-3 mb-4",children:[t.jsxs(_l,{className:"h-12 w-12 flex-shrink-0",children:[t.jsx(Th,{src:n.avatar}),t.jsx(Al,{children:n.name.charAt(0).toUpperCase()})]}),t.jsx("div",{className:"flex-1",children:t.jsx(Js,{value:a,onChange:be=>i(be.target.value),className:"min-h-[100px] border-0 resize-none focus:ring-0 text-lg",placeholder:"What's on your mind?",maxLength:e.updateLength})})]}),L.length>0&&t.jsxs(Ta,{variant:"destructive",className:"mb-4",children:[t.jsx(ln,{className:"h-4 w-4"}),t.jsx(Ea,{children:t.jsx("ul",{className:"list-disc list-inside",children:L.map((be,Ce)=>t.jsx("li",{children:be},Ce))})})]}),v&&t.jsx("div",{className:"mb-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-sm font-medium",children:e.currencySymbol}),t.jsx(Fe,{type:"number",value:c||"",onChange:be=>d(Number(be.target.value)),placeholder:"Set price",className:"w-32",min:"0",step:"0.01"}),t.jsx(te,{variant:"ghost",size:"sm",onClick:()=>b(!1),className:"h-8 w-8 p-0",children:t.jsx(td,{className:"h-4 w-4"})})]})}),A&&t.jsxs("div",{className:"mb-4",children:[t.jsx(Fe,{value:u,onChange:be=>h(be.target.value),placeholder:"Add a title (optional)",maxLength:100,className:"mb-2"}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-muted-foreground",children:"Titles help organize your content and make it easier to find"}),t.jsx(te,{variant:"ghost",size:"sm",onClick:()=>S(!1),className:"h-6 w-6 p-0",children:t.jsx(td,{className:"h-3 w-3"})})]})]}),o.length>0&&t.jsx("div",{className:"mb-4",children:t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:o.map(be=>t.jsxs("div",{className:"relative group",children:[t.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:be.type==="image"&&be.preview?t.jsx("img",{src:be.preview,alt:"Preview",className:"w-full h-full object-cover"}):be.type==="video"?t.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200",children:t.jsx(Ri,{className:"h-8 w-8 text-gray-500"})}):t.jsxs("div",{className:"w-full h-full flex items-center justify-center bg-gray-200",children:[be.type==="audio"&&t.jsx(oae,{className:"h-8 w-8 text-gray-500"}),be.type==="zip"&&t.jsx(H3,{className:"h-8 w-8 text-gray-500"}),be.type==="epub"&&t.jsx(H3,{className:"h-8 w-8 text-gray-500"})]})}),t.jsx(te,{variant:"destructive",size:"sm",onClick:()=>Oe(be.id),className:"absolute top-2 right-2 h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:t.jsx(td,{className:"h-3 w-3"})})]},be.id))})}),w&&t.jsx("div",{className:"mb-4 bg-white border rounded-lg p-3 shadow-lg",children:t.jsx("div",{className:"grid grid-cols-8 gap-2",children:ee.map((be,Ce)=>t.jsx("button",{onClick:()=>Ye(be),className:"p-2 hover:bg-gray-100 rounded text-lg",children:be},Ce))})}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(te,{variant:"ghost",size:"sm",onClick:()=>K.current?.click(),className:"h-8",disabled:o.length>=e.maxFiles,children:t.jsx(ru,{className:"h-4 w-4"})}),e.allowPPV&&(n.freeSubscription||!e.allowPPV)&&t.jsx(te,{variant:"ghost",size:"sm",onClick:()=>b(!v),className:`h-8 ${v?"bg-primary/10 text-primary":""}`,children:t.jsx(Jr,{className:"h-4 w-4"})}),!e.disableFreePost&&t.jsx(te,{variant:"ghost",size:"sm",onClick:()=>y(!m),className:`h-8 ${m?"bg-orange-100 text-orange-600":""}`,children:m?t.jsx(Ii,{className:"h-4 w-4"}):t.jsx(Qre,{className:"h-4 w-4"})}),e.allowScheduled&&t.jsx(te,{variant:"ghost",size:"sm",onClick:()=>{const be=new Date;be.setDate(be.getDate()+1),j(be)},className:`h-8 ${N?"bg-blue-100 text-blue-600":""}`,children:t.jsx(Q0,{className:"h-4 w-4"})}),t.jsx(te,{variant:"ghost",size:"sm",onClick:()=>S(!A),className:`h-8 ${A?"bg-gray-100":""}`,children:t.jsx(K$,{className:"h-4 w-4"})}),t.jsx(te,{variant:"ghost",size:"sm",onClick:()=>E(!w),className:"h-8",children:t.jsx(G$,{className:"h-4 w-4"})}),(e.allowZipFiles||e.allowEpubFiles)&&t.jsx("div",{className:"relative",children:t.jsx(te,{variant:"ghost",size:"sm",className:"h-8",children:t.jsx(D$,{className:"h-4 w-4"})})})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:`text-sm ${G<0?"text-red-500":"text-muted-foreground"}`,children:G}),t.jsx(te,{onClick:dt,disabled:!ae,className:"rounded-full",children:H?t.jsx(t.Fragment,{children:"Posting..."}):N?"Schedule":"Publish"})]})]})]})}),t.jsx("input",{ref:K,type:"file",multiple:!0,accept:`image/*,video/mp4,video/quicktime${e.disableAudio?"":",audio/mp3"}`,onChange:fe,className:"hidden"}),e.allowZipFiles&&t.jsx("input",{ref:J,type:"file",accept:"application/zip",onChange:fe,className:"hidden"}),e.allowEpubFiles&&t.jsx("input",{ref:W,type:"file",accept:"application/epub+zip",onChange:fe,className:"hidden"})]})}function IEe({creators:n,showRefresh:e=!1,showFreeFilter:s=!1,title:r="Explore Creators",onRefresh:a,onToggleFreeFilter:i,className:o=""}){const[l,c]=R.useState(!1),d=()=>{c(!l),i?.()},u=({creator:m})=>t.jsx($,{className:"cyber-border hover:shadow-lg transition-all duration-200 h-full",children:t.jsxs(q,{className:"p-0",children:[t.jsxs("div",{className:"relative h-32 bg-gradient-to-r from-purple-500 to-blue-500 rounded-t-lg overflow-hidden",style:{backgroundImage:m.cover?`url(${m.cover})`:void 0,backgroundSize:"cover",backgroundPosition:"center"},children:[m.isLive&&t.jsx("div",{className:"absolute top-2 left-2",children:t.jsxs(de,{variant:"destructive",className:"animate-pulse",children:[t.jsx("div",{className:"w-2 h-2 bg-white rounded-full mr-1"}),"LIVE"]})}),m.freeSubscription&&t.jsx("div",{className:"absolute top-2 right-2",children:t.jsx(de,{className:"bg-green-600 text-white",children:"FREE"})})]}),t.jsx("div",{className:"relative -mt-8 flex justify-center",children:t.jsx(vn,{href:`/${m.username}`,children:t.jsxs(_l,{className:"h-16 w-16 border-4 border-background",children:[t.jsx(Th,{src:m.avatar}),t.jsx(Al,{className:"bg-primary text-primary-foreground",children:m.name.charAt(0).toUpperCase()})]})})}),t.jsxs("div",{className:"p-4 pt-2 text-center",children:[t.jsxs("div",{className:"mb-2",children:[t.jsxs("h3",{className:"font-semibold truncate flex items-center justify-center space-x-1",children:[t.jsx("span",{children:m.name}),m.isVerified&&t.jsx(Dj,{className:"h-4 w-4 text-blue-500 fill-current"}),m.isFeatured&&t.jsx(sF,{className:"h-4 w-4 text-yellow-500 fill-current"})]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["@",m.username]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3 text-center",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[t.jsx(M$,{className:"h-3 w-3 text-muted-foreground"}),t.jsx("span",{className:"text-sm font-semibold",children:m.mediaStats.images.toLocaleString()})]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Photos"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[t.jsx(yh,{className:"h-3 w-3 text-muted-foreground"}),t.jsx("span",{className:"text-sm font-semibold",children:m.mediaStats.videos.toLocaleString()})]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Videos"})]})]}),m.story&&t.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:m.story}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(vn,{href:`/${m.username}`,className:"block",children:t.jsx(te,{variant:"outline",className:"w-full",size:"sm",children:"View Profile"})}),t.jsx(te,{className:"w-full",size:"sm",children:m.freeSubscription?t.jsxs(t.Fragment,{children:[t.jsx(Y1,{className:"h-3 w-3 mr-1"}),"Follow Free"]}):t.jsxs(t.Fragment,{children:[t.jsx(Jr,{className:"h-3 w-3 mr-1"}),"$",m.subscriptionPrice,"/month"]})})]})]})]})}),h=({creator:m})=>t.jsx(vn,{href:`/${m.username}`,children:t.jsxs("div",{className:"block w-100 h-100 rounded-lg overflow-hidden mb-2",style:{background:m.cover?`url(${m.cover})`:"#505050",backgroundSize:"cover",backgroundPosition:"center"},children:[t.jsx("div",{className:"relative h-12",children:m.freeSubscription&&t.jsx(de,{className:"absolute top-2 left-2 bg-green-600 text-white text-xs",children:"FREE"})}),t.jsx("div",{className:"p-3",style:{background:"rgba(0,0,0,.35)"},children:t.jsxs("div",{className:"flex space-x-3",children:[t.jsxs(_l,{className:"h-12 w-12 flex-shrink-0",children:[t.jsx(Th,{src:m.avatar}),t.jsx(Al,{children:m.name.charAt(0).toUpperCase()})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[t.jsx("h5",{className:"font-semibold text-white text-sm",children:m.name}),m.isVerified&&t.jsx(Dj,{className:"h-3 w-3 text-white fill-current"}),m.isFeatured&&t.jsx(sF,{className:"h-3 w-3 text-yellow-400 fill-current"})]}),t.jsxs("p",{className:"text-white text-xs opacity-80",children:["@",m.username]})]})]})})]})});return t.jsxs("div",{className:o,children:[t.jsx("div",{className:"mb-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold text-muted-foreground",children:r}),t.jsxs("div",{className:"flex space-x-2",children:[s&&n.length>2&&t.jsx(te,{variant:"ghost",size:"sm",onClick:d,className:`h-8 w-8 p-0 ${l?"bg-primary/10 text-primary":""}`,title:"Show only free creators",children:t.jsx(q$,{className:"h-4 w-4"})}),e&&n.length>2&&t.jsx(te,{variant:"ghost",size:"sm",onClick:a,className:"h-8 w-8 p-0",title:"Refresh creators",children:t.jsx(Zo,{className:"h-4 w-4"})})]})]})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:n.slice(0,6).map(m=>t.jsx(u,{creator:m},m.id))}),t.jsx("div",{className:"space-y-2",children:n.slice(0,4).map(m=>t.jsx(h,{creator:m},m.id))}),n.length>6&&t.jsx("div",{className:"text-center mt-4",children:t.jsx(vn,{href:"/creators",children:t.jsx(te,{variant:"outline",size:"sm",children:"View All Creators"})})}),n.length===0&&t.jsxs("div",{className:"text-center py-8",children:[t.jsx(er,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50"}),t.jsx("p",{className:"text-muted-foreground",children:"No creators found"})]})]})}function DEe({media:n,postId:e,messageId:s,tip:r,gift:a,description:i,isLocked:o=!1,onUnlock:l,className:c=""}){const[d,u]=R.useState(0),h=n.filter(j=>j.type==="image"||j.type==="video"),m=n.filter(j=>j.type!=="image"&&j.type!=="video"),y=j=>s?j.type==="video"?j.file:`/files/messages/${s}/${j.file}`:e?j.type==="video"||j.type==="image"&&j.preview?.includes("gif")?j.file:`/files/storage/${e}/${j.file}`:j.file,N=(j,v="w=960&h=980")=>{const b=y(j);return j.type==="image"&&!b.includes("gif")?`${b}?${v}`:b};if(h.length===1){const j=h[0];return t.jsxs("div",{className:c,children:[j.type==="image"?t.jsx("div",{className:"media-grid-1 mb-4",children:t.jsx("a",{href:N(j),className:`media-wrapper block w-full ${j.height&&j.height>(j.width||0)?"aspect-[3/4]":"aspect-video"}`,"data-gallery":`gallery-${e||s}`,children:t.jsx("img",{src:N(j,"w=130&h=100"),"data-src":N(j),alt:i,className:"w-full h-full object-cover rounded-lg",width:j.width,height:j.height})})}):t.jsx("div",{className:"mb-4",children:t.jsxs("video",{controls:!0,preload:j.videoPoster?"none":"metadata",poster:j.videoPoster,className:"w-full rounded-lg",children:[t.jsx("source",{src:y(j),type:"video/mp4"}),"Your browser does not support the video tag."]})}),m.map(v=>t.jsx(bR,{item:v,messageId:s},v.id)),t.jsx(jR,{tip:r,gift:a,description:i})]})}if(h.length>=2){const j=h.length>4?"media-grid-4":`media-grid-${h.length}`;return t.jsxs("div",{className:c,children:[t.jsx("div",{className:"container-post-media mb-4",children:t.jsx("div",{className:`grid gap-1 ${j==="media-grid-2"?"grid-cols-2":j==="media-grid-3"?"grid-cols-3":"grid-cols-2"} rounded-lg overflow-hidden`,children:h.slice(0,h.length>4?4:h.length).map((v,b)=>{const A=y(v),S=v.videoPoster||N(v);return t.jsxs("a",{href:A,className:"relative aspect-square group cursor-pointer","data-gallery":`gallery-${e||s}`,style:{backgroundImage:`url(${S})`,backgroundSize:"cover",backgroundPosition:"center"},children:[b===3&&h.length>4&&t.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:t.jsxs("span",{className:"text-white text-2xl font-bold",children:["+",h.length-4]})}),v.type==="video"&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx("div",{className:"bg-black/50 rounded-full p-3",children:t.jsx(Ri,{className:"h-6 w-6 text-white fill-current"})})}),v.type==="video"&&!v.videoPoster&&t.jsx("video",{className:"absolute inset-0 w-full h-full object-cover",muted:!0,preload:"metadata",children:t.jsx("source",{src:A,type:"video/mp4"})})]},v.id)})})}),m.map(v=>t.jsx(bR,{item:v,messageId:s},v.id)),t.jsx(jR,{tip:r,gift:a,description:i})]})}return t.jsxs("div",{className:c,children:[m.map(j=>t.jsx(bR,{item:j,messageId:s},j.id)),t.jsx(jR,{tip:r,gift:a,description:i})]})}function bR({item:n,messageId:e}){const s=()=>e?`/download/message/file/${e}`:`/download/file/${n.id}`,r=()=>e?`/viewer/message/epub/${n.id}`:`/viewer/epub/${n.id}`;return n.type==="audio"?t.jsx("div",{className:"wrapper-media-music mb-4",children:t.jsxs("audio",{controls:!0,preload:"metadata",className:"w-full",children:[t.jsx("source",{src:n.file,type:"audio/mp3"}),"Your browser does not support the audio tag."]})}):n.type==="zip"?t.jsx($,{className:"mb-4",children:t.jsx(q,{className:"p-0",children:t.jsxs("a",{href:s(),className:"flex items-center p-4 hover:bg-muted/50 transition-colors",children:[t.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-primary rounded-lg mr-4",children:t.jsx(H3,{className:"h-8 w-8 text-primary-foreground"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("h6",{className:"font-semibold text-primary truncate",children:[n.fileName||"Download",".zip"]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:n.fileSize||"File"})]}),t.jsx(xi,{className:"h-4 w-4 text-muted-foreground"})]})})}):n.type==="epub"?t.jsx($,{className:"mb-4",children:t.jsx(q,{className:"p-0",children:t.jsxs("a",{href:r(),target:"_blank",rel:"noopener noreferrer",className:"flex items-center p-4 hover:bg-muted/50 transition-colors",children:[t.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-primary rounded-lg mr-4",children:t.jsx(Lre,{className:"h-8 w-8 text-primary-foreground"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("h6",{className:"font-semibold text-primary truncate",children:[n.fileName||"View Online",".epub"]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:t.jsx("strong",{children:"View Online"})})]}),t.jsx(Ire,{className:"h-4 w-4 text-muted-foreground"})]})})}):null}function jR({tip:n,gift:e,description:s}){return t.jsxs(t.Fragment,{children:[n&&t.jsx($,{className:"mb-4",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[t.jsx(V3,{className:"h-5 w-5"}),t.jsxs("span",{className:"font-semibold",children:["Tip - ",n.currency,n.amount]})]})})}),e&&t.jsx($,{className:"mb-4 border-purple-200",children:t.jsxs(q,{className:"p-4",children:[e.image&&t.jsx("div",{className:"text-center mb-3",children:t.jsx("img",{src:e.image,alt:e.name,className:"w-24 h-24 mx-auto object-contain"})}),t.jsxs("div",{className:"flex items-center justify-center space-x-2 text-purple-600",children:[t.jsx(U$,{className:"h-5 w-5"}),t.jsxs("span",{className:"font-semibold",children:["Gift - $",e.value]})]})]})}),s&&!n&&!e&&t.jsx("div",{className:"text-sm mb-4",children:t.jsx("p",{className:"break-words",children:s})})]})}function LEe({currentUser:n,settings:e,className:s=""}){const[r]=Tx(),a=[{name:"Home",href:"/",icon:Q1,active:r==="/",always:!0},{name:"Explore",href:"/creators",icon:zre,active:r.startsWith("/creators")||r.startsWith("/explore"),show:!e.disableCreatorsSection},{name:"Reels",href:"/reels",icon:yh,active:r.startsWith("/reels"),show:e.allowReels&&n?.hasReelsAccess},{name:"Shop",href:"/shop",icon:pae,active:r.startsWith("/shop"),show:e.shop},{name:"Messages",href:"/messages",icon:$f,active:r.startsWith("/messages"),badge:n?.unreadMessages,always:!0},{name:"Notifications",href:"/notifications",icon:b_,active:r.startsWith("/notifications"),badge:n?.unreadNotifications,always:!0}].filter(i=>i.always||i.show);return t.jsx("div",{className:Bt("fixed bottom-0 left-0 right-0 z-50 bg-background border-t shadow-lg md:hidden",s),children:t.jsx("div",{className:"flex items-center justify-around p-2",children:a.map(i=>t.jsx(vn,{href:i.href,children:t.jsxs("button",{className:Bt("relative flex flex-col items-center justify-center p-3 rounded-lg transition-colors min-w-[60px]",i.active?"text-primary bg-primary/10":"text-muted-foreground hover:text-foreground hover:bg-muted"),"aria-label":i.name,children:[i.badge&&i.badge>0&&t.jsx(de,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:i.badge>99?"99+":i.badge}),t.jsx(i.icon,{className:Bt("h-6 w-6 mb-1",i.active&&"text-primary")}),t.jsx("span",{className:"text-xs font-medium",children:i.name})]})},i.href))})})}const FEe=(n,e)=>{let s;return function(...a){const i=()=>{clearTimeout(s),n(...a)};clearTimeout(s),s=setTimeout(i,e)}};function UEe({onSelectGif:n,isOpen:e,onClose:s,className:r=""}){const[a,i]=R.useState(""),[o,l]=R.useState([]),[c,d]=R.useState(!1),[u,h]=R.useState(null),m=[{id:"1",title:"Happy Dance",images:{fixed_height:{url:"/api/placeholder/200/150",width:"200",height:"150"},fixed_width:{url:"/api/placeholder/200/150",width:"200",height:"150"},original:{url:"/api/placeholder/400/300",width:"400",height:"300"}}},{id:"2",title:"Thumbs Up",images:{fixed_height:{url:"/api/placeholder/200/150",width:"200",height:"150"},fixed_width:{url:"/api/placeholder/200/150",width:"200",height:"150"},original:{url:"/api/placeholder/400/300",width:"400",height:"300"}}},{id:"3",title:"Celebration",images:{fixed_height:{url:"/api/placeholder/200/150",width:"200",height:"150"},fixed_width:{url:"/api/placeholder/200/150",width:"200",height:"150"},original:{url:"/api/placeholder/400/300",width:"400",height:"300"}}},{id:"4",title:"Love Heart",images:{fixed_height:{url:"/api/placeholder/200/150",width:"200",height:"150"},fixed_width:{url:"/api/placeholder/200/150",width:"200",height:"150"},original:{url:"/api/placeholder/400/300",width:"400",height:"300"}}},{id:"5",title:"Funny Cat",images:{fixed_height:{url:"/api/placeholder/200/150",width:"200",height:"150"},fixed_width:{url:"/api/placeholder/200/150",width:"200",height:"150"},original:{url:"/api/placeholder/400/300",width:"400",height:"300"}}},{id:"6",title:"Wow Reaction",images:{fixed_height:{url:"/api/placeholder/200/150",width:"200",height:"150"},fixed_width:{url:"/api/placeholder/200/150",width:"200",height:"150"},original:{url:"/api/placeholder/400/300",width:"400",height:"300"}}}],y=R.useCallback(FEe(async v=>{if(!v.trim()){l(m);return}d(!0),h(null);try{await new Promise(A=>setTimeout(A,500));const b=m.filter(A=>A.title.toLowerCase().includes(v.toLowerCase()));l(b)}catch(b){h("Failed to search GIFs. Please try again."),console.error("GIF search error:",b)}finally{d(!1)}},300),[m]),N=v=>{i(v),y(v)},j=v=>{n(v.images.fixed_height.url),s()};return R.useState(()=>{l(m)}),e?t.jsxs($,{className:`absolute z-50 w-80 max-h-96 overflow-hidden ${r}`,children:[t.jsxs(oe,{className:"pb-3",children:[t.jsxs(le,{className:"text-lg flex items-center justify-between",children:[t.jsx("span",{children:"Choose a GIF"}),t.jsx(te,{variant:"ghost",size:"sm",onClick:s,className:"h-6 w-6 p-0",children:"×"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(jr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Fe,{value:a,onChange:v=>N(v.target.value),placeholder:"Search for GIFs...",className:"pl-10"})]})]}),t.jsxs(q,{className:"p-0",children:[u&&t.jsx(Ta,{variant:"destructive",className:"m-3",children:t.jsx(Ea,{children:u})}),c?t.jsxs("div",{className:"flex items-center justify-center p-8",children:[t.jsx(jk,{className:"h-6 w-6 animate-spin mr-2"}),t.jsx("span",{children:"Searching GIFs..."})]}):o.length>0?t.jsx("div",{className:"grid grid-cols-2 gap-2 p-3 max-h-64 overflow-y-auto custom-scrollbar",style:{maxHeight:"16rem"},children:o.map(v=>t.jsxs("button",{onClick:()=>j(v),className:"aspect-square rounded-lg overflow-hidden hover:opacity-80 transition-opacity group relative",children:[t.jsx("img",{src:v.images.fixed_height.url,alt:v.title,className:"w-full h-full object-cover",loading:"lazy"}),t.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors"})]},v.id))}):t.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-muted-foreground",children:[t.jsx(ru,{className:"h-8 w-8 mb-2 opacity-50"}),t.jsx("p",{children:"No GIFs found"}),t.jsx("p",{className:"text-sm",children:"Try a different search term"})]})]})]}):null}function zEe({currentUser:n,settings:e,pages:s,categories:r,languages:a,currentLanguage:i,blogsCount:o,categoriesCount:l,className:c=""}){const d=n?.darkMode?`/public/img/${e.logo}`:`/public/img/${e.logo2}`,u=!!(e.facebook||e.twitter||e.instagram||e.youtube||e.github||e.linkedin||e.tiktok||e.telegram),h=s.filter(m=>!!(m.access==="all"||m.access==="creators"&&n||m.access==="members"&&n));return t.jsxs("footer",{className:`py-8 ${c}`,children:[t.jsx("div",{className:"py-12 hidden lg:block",style:{backgroundColor:e.footerBackgroundColor,color:e.footerTextColor},children:t.jsx("div",{className:"container mx-auto px-4",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[t.jsxs("div",{className:"col-span-1",children:[t.jsx(vn,{href:"/",children:t.jsx("img",{src:d,alt:e.title,className:"max-w-32 mb-4"})}),u&&t.jsxs("div",{children:[t.jsx("p",{className:"mb-3 text-sm",children:"Keep connected with us. Follow us on social media."}),t.jsxs("div",{className:"flex space-x-3",children:[e.facebook&&t.jsx("a",{href:e.facebook,target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-foreground",children:t.jsx(L$,{className:"h-5 w-5"})}),e.twitter&&t.jsx("a",{href:e.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-foreground",children:t.jsx(W$,{className:"h-5 w-5"})}),e.instagram&&t.jsx("a",{href:e.instagram,target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-foreground",children:t.jsx(z$,{className:"h-5 w-5"})}),e.youtube&&t.jsx("a",{href:e.youtube,target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-foreground",children:t.jsx(Sae,{className:"h-5 w-5"})}),e.github&&t.jsx("a",{href:e.github,target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-foreground",children:t.jsx(Wre,{className:"h-5 w-5"})}),e.linkedin&&t.jsx("a",{href:e.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-foreground",children:t.jsx(Yre,{className:"h-5 w-5"})})]})]}),t.jsx("div",{id:"installContainer",className:"mt-4 hidden",children:t.jsxs(te,{id:"butInstall",className:"w-full rounded-full",variant:"outline",children:[t.jsx(zj,{className:"h-4 w-4 mr-2"}),"Install Web App"]})})]}),t.jsxs("div",{className:"col-span-1",children:[t.jsx("h6",{className:"text-sm font-semibold uppercase mb-4",children:"About"}),t.jsxs("ul",{className:"space-y-2",children:[h.map(m=>t.jsx("li",{children:t.jsx(vn,{href:`/p/${m.slug}`,children:t.jsx("span",{className:"text-sm hover:underline cursor-pointer",children:m.title})})},m.id)),!e.disableContact&&t.jsx("li",{children:t.jsx(vn,{href:"/contact",children:t.jsx("span",{className:"text-sm hover:underline cursor-pointer",children:"Contact"})})}),o>0&&t.jsx("li",{children:t.jsx(vn,{href:"/blog",children:t.jsx("span",{className:"text-sm hover:underline cursor-pointer",children:"Blog"})})})]})]}),!e.disableCreatorsSection&&l>0&&t.jsxs("div",{className:"col-span-1",children:[t.jsx("h6",{className:"text-sm font-semibold uppercase mb-4",children:"Categories"}),t.jsxs("ul",{className:"space-y-2",children:[r.slice(0,6).map(m=>t.jsx("li",{children:t.jsx(vn,{href:`/category/${m.slug}`,children:t.jsx("span",{className:"text-sm hover:underline cursor-pointer",children:m.name})})},m.id)),l>6&&t.jsx("li",{children:t.jsx(vn,{href:"/creators",children:t.jsx("span",{className:"text-sm hover:underline cursor-pointer",children:"Explore →"})})})]})]}),t.jsxs("div",{className:"col-span-1",children:[t.jsx("h6",{className:"text-sm font-semibold uppercase mb-4",children:"Links"}),t.jsxs("ul",{className:"space-y-2",children:[n?t.jsxs(t.Fragment,{children:[t.jsx("li",{children:t.jsx(vn,{href:"/dashboard",children:t.jsx("span",{className:"text-sm hover:underline cursor-pointer",children:"My Dashboard"})})}),t.jsx("li",{children:t.jsx(vn,{href:"/settings/page",children:t.jsx("span",{className:"text-sm hover:underline cursor-pointer",children:"Edit Profile"})})}),t.jsx("li",{children:t.jsx(vn,{href:"/my/subscriptions",children:t.jsx("span",{className:"text-sm hover:underline cursor-pointer",children:"My Subscriptions"})})}),t.jsx("li",{children:t.jsx(vn,{href:"/logout",children:t.jsx("span",{className:"text-sm hover:underline cursor-pointer",children:"Logout"})})})]}):t.jsxs(t.Fragment,{children:[t.jsx("li",{children:t.jsx(vn,{href:"/login",children:t.jsx("span",{className:"text-sm hover:underline cursor-pointer",children:"Login"})})}),t.jsx("li",{children:t.jsx(vn,{href:"/register",children:t.jsx("span",{className:"text-sm hover:underline cursor-pointer",children:"Sign Up"})})})]}),!n&&a.length>1&&t.jsx("li",{className:"mt-4",children:t.jsx("div",{className:"relative",children:t.jsxs(te,{variant:"outline",size:"sm",className:"w-full justify-start",children:[t.jsx(Er,{className:"h-4 w-4 mr-2"}),a.find(m=>m.abbreviation===i)?.name]})})})]})]})]})})}),t.jsx("div",{className:"py-4 text-center border-t",style:{backgroundColor:e.footerBackgroundColor,color:e.footerTextColor},children:t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsx("div",{className:"lg:hidden mb-4",children:t.jsxs("div",{className:"text-center",children:[t.jsxs("p",{className:"text-sm text-muted-foreground mb-3",children:["© ",new Date().getFullYear()," ",e.title,", All rights reserved."]}),t.jsxs("div",{className:"flex flex-wrap justify-center gap-4 text-xs",children:[h.slice(0,4).map(m=>t.jsx(vn,{href:`/p/${m.slug}`,children:t.jsx("span",{className:"hover:underline cursor-pointer",children:m.title})},m.id)),!e.disableContact&&t.jsx(vn,{href:"/contact",children:t.jsx("span",{className:"hover:underline cursor-pointer",children:"Contact"})}),o>0&&t.jsx(vn,{href:"/blog",children:t.jsx("span",{className:"hover:underline cursor-pointer",children:"Blog"})})]}),t.jsx("div",{id:"installContainer",className:"mt-4 hidden",children:t.jsxs("span",{className:"text-sm hover:underline cursor-pointer",children:[t.jsx(zj,{className:"h-4 w-4 inline mr-1"}),"Install Web App"]})})]})}),t.jsx("div",{className:"hidden lg:block",children:t.jsxs("p",{className:"text-sm",children:["© ",new Date().getFullYear()," ",e.title,", All rights reserved.",e.showAddressCompanyFooter&&t.jsxs("span",{className:"ml-2 text-xs",children:[e.company," - Address: ",e.address," ",e.city," ",e.country]})]})})]})})]})}function BEe({categories:n,currentCategory:e,showGenderFilter:s=!1,showLiveFilter:r=!1,genders:a=["male","female","couple","trans"],onSearch:i,className:o=""}){const[l]=Tx(),[c,d]=R.useState(""),[u,h]=R.useState(!1),[m,y]=R.useState("all"),[N,j]=R.useState(""),[v,b]=R.useState("");l.includes("/creators")||l.includes("/category");const A=c.length>2,S=[{name:"Popular",href:e?`/category/${e}`:"/creators",icon:"/public/img/popular.png",active:!l.includes("/featured")&&!l.includes("/more-active")&&!l.includes("/new")&&!l.includes("/free")&&!l.includes("/live")},{name:"Featured Creators",href:e?`/category/${e}/featured`:"/creators/featured",icon:"/public/img/featured.png",active:l.includes("/featured")},{name:"More Active",href:e?`/category/${e}/more-active`:"/creators/more-active",icon:"/public/img/more-active.png",active:l.includes("/more-active")},{name:"New Creators",href:e?`/category/${e}/new`:"/creators/new",icon:"/public/img/creators.png",active:l.includes("/new")},{name:"Free Subscription",href:e?`/category/${e}/free`:"/creators/free",icon:"/public/img/unlock.png",active:l.includes("/free")}];r&&S.push({name:"Live",href:"/explore/creators/live",icon:"/public/img/live.png",active:l.includes("/live")});const w=T=>{T.preventDefault(),i&&c.trim()&&i(c.trim())},E=T=>{T.preventDefault();const P=new URLSearchParams;m!=="all"&&P.set("gender",m),N&&P.set("min_age",N),v&&P.set("max_age",v);const k=P.toString(),I=l.split("?")[0],L=k?`${I}?${k}`:I;window.location.href=L,h(!1)};return t.jsxs("div",{className:o,children:[t.jsx($,{className:"cyber-border mb-4",children:t.jsxs(q,{className:"p-4",children:[t.jsxs(te,{variant:"outline",className:"w-full mb-4 lg:hidden","data-testid":"mobile-category-toggle",children:[t.jsx(oF,{className:"h-4 w-4 mr-2"}),"Categories"]}),t.jsxs("div",{className:"hidden lg:flex items-center mb-4",children:[t.jsx(oF,{className:"h-5 w-5 mr-2 text-muted-foreground"}),t.jsx("span",{className:"font-semibold text-muted-foreground",children:"Categories"})]}),e&&t.jsx("div",{className:"mb-4",children:t.jsx(vn,{href:"/creators",children:t.jsxs(te,{variant:"outline",size:"sm",className:"w-full",children:[t.jsx(cd,{className:"h-4 w-4 mr-2"}),t.jsx("strong",{children:"View All"})]})})}),t.jsx("div",{className:"grid grid-cols-1 gap-2",children:n.map(T=>t.jsx(vn,{href:`/category/${T.slug}`,children:t.jsxs(te,{variant:"ghost",className:`w-full justify-start p-3 h-auto ${l.includes(`/category/${T.slug}`)?"bg-primary/10 text-primary":""}`,children:[t.jsx("img",{src:T.image,alt:T.name,className:"w-6 h-6 mr-3 rounded"}),T.name]})},T.id))})]})}),!A&&t.jsx($,{className:"cyber-border mb-4",children:t.jsxs(q,{className:"p-4",children:[t.jsxs(te,{variant:"outline",className:"w-full mb-4 lg:hidden","data-testid":"mobile-filter-toggle",children:[t.jsx(Zv,{className:"h-4 w-4 mr-2"}),"Filter By"]}),t.jsxs("div",{className:"hidden lg:flex items-center mb-4",children:[t.jsx(Zv,{className:"h-5 w-5 mr-2 text-muted-foreground"}),t.jsx("span",{className:"font-semibold text-muted-foreground",children:"Filter By"})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[S.map(T=>t.jsx(vn,{href:T.href,children:t.jsxs(te,{variant:"ghost",className:`w-full justify-start p-3 h-auto ${T.active?"bg-primary/10 text-primary":""}`,children:[t.jsx("img",{src:T.icon,alt:T.name,className:"w-6 h-6 mr-3"}),T.name]})},T.href)),s&&t.jsxs(pi,{open:u,onOpenChange:h,children:[t.jsx(Qo,{asChild:!0,children:t.jsxs(te,{variant:"ghost",className:"w-full justify-start p-3 h-auto",children:[t.jsx("img",{src:"/public/img/genders.png",alt:"Gender & Age",className:"w-6 h-6 mr-3"}),"Gender & Age"]})}),t.jsxs(Ka,{className:"sm:max-w-md",children:[t.jsx(Xa,{children:t.jsx(Za,{children:"Filter by Gender & Age"})}),t.jsxs("form",{onSubmit:E,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"gender",children:"Gender"}),t.jsxs(sn,{value:m,onValueChange:y,children:[t.jsx(en,{children:t.jsx(rn,{placeholder:"Select gender"})}),t.jsxs(tn,{children:[t.jsx(re,{value:"all",children:"All Genders"}),a.map(T=>t.jsx(re,{value:T,children:T.charAt(0).toUpperCase()+T.slice(1)},T))]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"min-age",children:"Min Age"}),t.jsx(Fe,{id:"min-age",type:"number",min:"18",value:N,onChange:T=>j(T.target.value),placeholder:"18"})]}),t.jsxs("div",{children:[t.jsx(Pe,{htmlFor:"max-age",children:"Max Age"}),t.jsx(Fe,{id:"max-age",type:"number",value:v,onChange:T=>b(T.target.value),placeholder:"Any"})]})]}),t.jsx(te,{type:"submit",className:"w-full",children:"Apply Filters"})]})]})]})]})]})}),t.jsx($,{className:"cyber-border",children:t.jsx(q,{className:"p-4",children:t.jsxs("form",{onSubmit:w,children:[t.jsxs("div",{className:"relative",children:[t.jsx(jr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Fe,{value:c,onChange:T=>d(T.target.value),placeholder:"Search creators...",className:"pl-10"})]}),c.length>0&&t.jsx(te,{type:"submit",size:"sm",className:"w-full mt-2",disabled:c.length<=2,children:"Search"})]})})})]})}function VEe({id:n,title:e,description:s,image:r,url:a,impressions:i=0,className:o=""}){const l=()=>{fetch(`/api/ads/${n}/click`,{method:"POST"}),window.open(a,"_blank")};return t.jsx($,{className:`cyber-border relative cursor-pointer hover:shadow-lg transition-shadow ${o}`,children:t.jsxs(q,{className:"p-4",children:[t.jsxs("div",{className:"flex space-x-4",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("img",{src:r,alt:e,className:"w-32 h-20 object-cover rounded-lg",onError:c=>{const d=c.target;d.src="/api/placeholder/150/100"}})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"font-semibold text-sm mb-1 truncate",children:e}),t.jsx("p",{className:"text-sm text-muted-foreground mb-2 line-clamp-2",children:s}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(de,{variant:"outline",className:"text-xs",children:[t.jsx(Mn,{className:"h-3 w-3 mr-1"}),"Advertising"]}),i>0&&t.jsxs("span",{className:"text-xs text-muted-foreground",children:[i.toLocaleString()," views"]})]})]}),t.jsx("div",{className:"flex-shrink-0",children:t.jsx(vh,{className:"h-4 w-4 text-muted-foreground"})})]}),t.jsx("button",{onClick:l,className:"absolute inset-0 w-full h-full","aria-label":`Visit ${e} advertisement`,"data-testid":`ad-${n}`})]})})}function HEe({id:n,username:e,name:s,avatar:r,cover:a,isVerified:i,subscriberCount:o,postCount:l,subscriptionPrice:c,isOnline:d=!1,isLive:u=!1,category:h,rating:m,className:y=""}){return t.jsx($,{className:`cyber-border hover:shadow-lg transition-all duration-200 ${y}`,children:t.jsxs(q,{className:"p-0",children:[t.jsxs("div",{className:"relative h-32 bg-gradient-to-r from-purple-500 to-blue-500 rounded-t-lg overflow-hidden",children:[a?t.jsx("img",{src:a,alt:`${s}'s cover`,className:"w-full h-full object-cover",onError:N=>{const j=N.target;j.src="/api/placeholder/400/128"}}):t.jsx("div",{className:"w-full h-full bg-gradient-to-r from-purple-500 to-blue-500"}),u&&t.jsx("div",{className:"absolute top-2 left-2",children:t.jsxs(de,{variant:"destructive",className:"animate-pulse",children:[t.jsx("div",{className:"w-2 h-2 bg-white rounded-full mr-1"}),"LIVE"]})}),h&&t.jsx("div",{className:"absolute top-2 right-2",children:t.jsx(de,{variant:"secondary",className:"text-xs",children:h})})]}),t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex items-start space-x-3 mb-3",children:[t.jsxs("div",{className:"relative",children:[t.jsxs(_l,{className:"h-12 w-12 border-2 border-background",children:[t.jsx(Th,{src:r}),t.jsx(Al,{className:"bg-primary text-primary-foreground",children:s.charAt(0).toUpperCase()})]}),d&&t.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 border-2 border-white rounded-full"})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("h3",{className:"font-semibold truncate",children:s}),i&&t.jsx(Dj,{className:"h-4 w-4 text-blue-500 fill-current"})]}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["@",e]}),m&&t.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[t.jsx(ux,{className:"h-3 w-3 text-yellow-500 fill-current"}),t.jsx("span",{className:"text-xs text-muted-foreground",children:m.toFixed(1)})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3 text-center",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[t.jsx(er,{className:"h-3 w-3 text-muted-foreground"}),t.jsx("span",{className:"text-sm font-semibold",children:o.toLocaleString()})]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Subscribers"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[t.jsx(M$,{className:"h-3 w-3 text-muted-foreground"}),t.jsx("span",{className:"text-sm font-semibold",children:l.toLocaleString()})]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Posts"})]})]}),c&&t.jsx("div",{className:"text-center mb-3",children:t.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[t.jsx(Jr,{className:"h-4 w-4 text-green-600"}),t.jsxs("span",{className:"text-lg font-bold text-green-600",children:["$",c]}),t.jsx("span",{className:"text-sm text-muted-foreground",children:"/month"})]})}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(vn,{href:`/${e}`,className:"flex-1",children:t.jsx(te,{variant:"outline",className:"w-full",size:"sm",children:"View Profile"})}),t.jsxs(te,{size:"sm",className:"flex-1",children:[t.jsx(Y1,{className:"h-3 w-3 mr-1"}),"Subscribe"]}),t.jsx(te,{variant:"ghost",size:"sm",children:t.jsx(Gf,{className:"h-4 w-4"})})]})]})]})})}function GEe({id:n,username:e,avatar:s,isVerified:r=!1,isCreator:a=!1,isSubscriber:i=!1,comment:o,hasJoined:l=!1,tip:c,gift:d,timestamp:u,onDelete:h,onReport:m,onTip:y,isCurrentUser:N=!1,className:j=""}){const v=EJ(new Date(u),{addSuffix:!0});return t.jsxs("div",{className:`flex space-x-3 p-3 hover:bg-muted/50 ${j}`,"data-comment-id":n,children:[t.jsxs(_l,{className:"h-8 w-8 flex-shrink-0",children:[t.jsx(Th,{src:s}),t.jsx(Al,{className:"text-xs",children:e.charAt(0).toUpperCase()})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx("span",{className:"font-semibold text-sm truncate",children:e}),a&&t.jsxs(de,{variant:"default",className:"text-xs bg-green-600",children:[t.jsx(I$,{className:"h-3 w-3 mr-1"}),"Creator"]}),i&&!a&&t.jsxs(de,{variant:"outline",className:"text-xs",children:[t.jsx(Y1,{className:"h-3 w-3 mr-1"}),"Subscriber"]}),r&&!a&&t.jsx(Dj,{className:"h-4 w-4 text-blue-500 fill-current"}),t.jsx("span",{className:"text-xs text-muted-foreground",children:v})]}),t.jsxs("div",{className:"text-sm mb-2",children:[o,l&&t.jsx("span",{className:"text-green-600 font-medium",children:N?" (You have joined)":" (has joined)"})]}),c&&t.jsx("div",{className:"mb-2",children:t.jsxs(de,{className:"bg-green-100 text-green-800 border-green-300",children:[t.jsx(V3,{className:"h-3 w-3 mr-1"}),"Tipped ",c.currency,c.amount]})}),d&&t.jsx("div",{className:"mb-2",children:t.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-purple-50 rounded-lg border border-purple-200",children:[t.jsx("img",{src:d.image,alt:d.name,className:"w-8 h-8 object-contain",onError:b=>{const A=b.target;A.src="/api/placeholder/32/32"}}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(U$,{className:"h-3 w-3 text-purple-600"}),t.jsxs("span",{className:"text-xs font-medium text-purple-800",children:["Sent ",d.name]})]}),t.jsxs("span",{className:"text-xs text-purple-600",children:["Value: $",d.value]})]})]})}),t.jsxs("div",{className:"flex items-center space-x-2",children:[!N&&y&&t.jsxs(te,{variant:"ghost",size:"sm",onClick:()=>y(e),className:"h-6 px-2 text-xs",children:[t.jsx(V3,{className:"h-3 w-3 mr-1"}),"Tip"]}),!N&&m&&t.jsx(te,{variant:"ghost",size:"sm",onClick:()=>m(n),className:"h-6 px-2 text-xs text-muted-foreground hover:text-red-600",children:t.jsx(qA,{className:"h-3 w-3"})}),N&&h&&t.jsx(te,{variant:"ghost",size:"sm",onClick:()=>h(n),className:"h-6 px-2 text-xs text-muted-foreground hover:text-red-600",children:"Delete"})]})]})]})}function $Ee({currentUser:n,className:e=""}){const[s]=Tx(),[r,a]=R.useState(!1),i=[...n?.isVerified?[{name:"Dashboard",href:"/dashboard",icon:aF,active:s==="/dashboard"}]:[],{name:n?.isVerified?"My Page":"My Profile",href:`/${n?.username}`,icon:Jv,active:s===`/${n?.username}`,external:!0},{name:n?.isVerified?"Edit My Page":"Edit Profile",href:"/settings/page",icon:Oi,active:s==="/settings/page"},...n?.isVerified?[{name:"Conversations",href:"/settings/conversations",icon:J1,active:s==="/settings/conversations"}]:[],{name:"Wallet",href:"/my/wallet",icon:Z$,active:s==="/my/wallet"},{name:"Referrals",href:"/my/referrals",icon:K3,active:s==="/my/referrals"},...n?.isVerified?[{name:"My Stories",href:"/my/stories",icon:As,active:s==="/my/stories"}]:[],{name:n?.isVerified?"Verified Account":"Become Creator",href:"/settings/verify/account",icon:n?.isVerified?Wp:ux,active:s==="/settings/verify/account"},...n?.isVerified?[{name:"Video Call Settings",href:"/settings/video-call",icon:yh,active:s==="/settings/video-call"}]:[],...n?.isVerified?[{name:"Audio Call Settings",href:"/settings/audio-call",icon:kv,active:s==="/settings/audio-call"}]:[],...n?.isVerified?[{name:"My Reels",href:"/my/reels",icon:z$,active:s==="/my/reels"}]:[]],o=[...n?.isVerified?[{name:"Settings",href:"/my/live/private/settings",icon:aF,active:s==="/my/live/private/settings"},{name:"Requests Received",href:"/my/live/private/requests",icon:Wp,active:s==="/my/live/private/requests",badge:n?.pendingRequests}]:[],{name:"Requests Sent",href:"/my/live/private/requests/sended",icon:K3,active:s==="/my/live/private/requests/sended"}],l=[...n?.isVerified?[{name:"Subscription Price",href:"/settings/subscription",icon:Ko,active:s==="/settings/subscription"},{name:"My Subscribers",href:"/my/subscribers",icon:er,active:s==="/my/subscribers"}]:[],{name:"My Subscriptions",href:"/my/subscriptions",icon:Wp,active:s==="/my/subscriptions"}],c=[{name:"Privacy & Security",href:"/privacy/security",icon:En,active:s==="/privacy/security"},{name:"Password",href:"/settings/password",icon:WA,active:s==="/settings/password"},...n?.isVerified?[{name:"Block Countries",href:"/block/countries",icon:Z1,active:s==="/block/countries"}]:[],{name:"Restricted Users",href:"/settings/restrictions",icon:gae,active:s==="/settings/restrictions"}],d=[{name:"Payments",href:"/my/payments",icon:Ff,active:s==="/my/payments"},...n?.isVerified?[{name:"Payments Received",href:"/my/payments/received",icon:Ff,active:s==="/my/payments/received"}]:[]],u=(h,m)=>m.length===0?null:t.jsx($,{className:"cyber-border mb-3",children:t.jsxs(q,{className:"p-0",children:[t.jsx("div",{className:"px-4 pt-3 pb-1",children:t.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:h})}),t.jsx("div",{className:"space-y-1",children:m.map(y=>t.jsx(vn,{href:y.href,children:t.jsxs(te,{variant:"ghost",className:Bt("w-full justify-start px-4 py-2 h-auto",y.active&&"bg-primary/10 text-primary"),"data-testid":`nav-${y.name.toLowerCase().replace(/\s+/g,"-")}`,children:[t.jsx(y.icon,{className:"h-4 w-4 mr-3"}),t.jsx("span",{className:"flex-1 text-left",children:y.name}),y.badge&&t.jsx(de,{variant:"secondary",className:"ml-2",children:y.badge}),t.jsx(R$,{className:"h-3 w-3 ml-2 opacity-50"})]})},y.href))})]})});return t.jsxs("div",{className:e,children:[t.jsxs(te,{variant:"outline",className:"w-full mb-3 lg:hidden",onClick:()=>a(!r),"data-testid":"mobile-menu-toggle",children:[t.jsx(nae,{className:"h-4 w-4 mr-2"}),"Menu"]}),t.jsxs("div",{className:Bt("space-y-0","lg:block",r?"block":"hidden lg:block"),children:[u("Account",i),u("Live Streaming Private",o),u("Subscription",l),u("Privacy & Security",c),u("Payments",d)]})]})}function qEe(){const[n,e]=R.useState(!1),s={id:"1",username:"admin",name:"Administrator",avatar:"/api/placeholder/80/80",isVerified:!0,darkMode:!1,postLocked:!1,freeSubscription:!1,unreadMessages:3,unreadNotifications:7,hasReelsAccess:!0,pendingRequests:2},r={updateLength:1e3,currencySymbol:"$",maxFiles:10,allowZipFiles:!0,allowEpubFiles:!0,allowReels:!0,allowScheduled:!0,allowPPV:!0,disableFreePost:!1,liveStreamingStatus:!0,disableAudio:!1,disableCreatorsSection:!1,shop:!0,title:"FanzDash",logo:"logo.png",logo2:"logo-dark.png",company:"FanzDash Inc.",address:"123 Tech Street",city:"San Francisco",country:"USA",showAddressCompanyFooter:!0,disableContact:!1,footerBackgroundColor:"#ffffff",footerTextColor:"#000000",facebook:"https://facebook.com/fanzdash",twitter:"https://twitter.com/fanzdash",instagram:"https://instagram.com/fanzdash"},a=[{id:"1",userId:"2",username:"creator1",name:"Top Creator",avatar:"/api/placeholder/60/60",isVerified:!0,content:"This is an amazing post! Thanks for sharing 🔥",likes:12,isLiked:!1,createdAt:new Date(Date.now()-36e5).toISOString(),replies:[{id:"1-1",userId:"3",username:"fan1",name:"Biggest Fan",avatar:"/api/placeholder/60/60",isVerified:!1,content:"@creator1 I totally agree! This content is incredible",likes:5,isLiked:!0,createdAt:new Date(Date.now()-18e5).toISOString(),canEdit:!1,canDelete:!1}],canEdit:!1,canDelete:!1},{id:"2",userId:"1",username:"admin",name:"Administrator",avatar:"/api/placeholder/60/60",isVerified:!0,content:"Welcome to the FanzDash platform! 🎉",likes:8,isLiked:!0,createdAt:new Date(Date.now()-72e5).toISOString(),replies:[],canEdit:!0,canDelete:!0}],i=[{id:"1",username:"creator1",name:"Top Creator",avatar:"/api/placeholder/100/100",cover:"/api/placeholder/400/200",isVerified:!0,isFeatured:!0,isLive:!0,freeSubscription:!1,subscriptionPrice:29.99,subscriberCount:15420,story:"Professional content creator sharing exclusive behind-the-scenes content.",mediaStats:{images:245,videos:89,audio:12,files:5},category:"Lifestyle"},{id:"2",username:"artist_jane",name:"Jane Artist",avatar:"/api/placeholder/100/100",cover:"/api/placeholder/400/200",isVerified:!0,isFeatured:!1,freeSubscription:!0,subscriberCount:8750,story:"Digital artist creating beautiful illustrations and tutorials.",mediaStats:{images:156,videos:34,audio:0,files:8},category:"Art"}],o=[{id:"1",type:"image",file:"/api/placeholder/600/400",width:600,height:400},{id:"2",type:"video",file:"/api/placeholder/600/400",videoPoster:"/api/placeholder/600/400"}],l=[{id:"1",title:"Privacy Policy",slug:"privacy",access:"all"},{id:"2",title:"Terms of Service",slug:"terms",access:"all"},{id:"3",title:"Creator Guidelines",slug:"creator-guide",access:"creators"}],c=[{id:"1",name:"Lifestyle",slug:"lifestyle",image:"/api/placeholder/30/30"},{id:"2",name:"Fitness",slug:"fitness",image:"/api/placeholder/30/30"},{id:"3",name:"Art",slug:"art",image:"/api/placeholder/30/30"}],d=[{id:"1",name:"English",abbreviation:"en"},{id:"2",name:"Spanish",abbreviation:"es"}];return t.jsx("div",{className:"min-h-screen bg-background",children:t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold mb-2",children:"FanzDash UI Component Showcase"}),t.jsx("p",{className:"text-muted-foreground",children:"Complete implementation of all Sponzy v6.8 Blade templates converted to modern React components"})]}),t.jsxs(Xs,{defaultValue:"comments",className:"space-y-6",children:[t.jsxs($s,{className:"grid w-full grid-cols-4 lg:grid-cols-8",children:[t.jsx(lt,{value:"comments",children:"Comments"}),t.jsx(lt,{value:"post-creation",children:"Post Form"}),t.jsx(lt,{value:"creators",children:"Creators"}),t.jsx(lt,{value:"media",children:"Media"}),t.jsx(lt,{value:"navigation",children:"Navigation"}),t.jsx(lt,{value:"cards",children:"Cards"}),t.jsx(lt,{value:"filters",children:"Filters"}),t.jsx(lt,{value:"footer",children:"Footer"})]}),t.jsx(ct,{value:"comments",className:"space-y-6",children:t.jsxs($,{children:[t.jsxs(oe,{children:[t.jsx(le,{children:"Comment System"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Full-featured commenting with replies, likes, emojis, stickers, and GIFs"})]}),t.jsx(q,{children:t.jsx(OEe,{postId:"demo-post",comments:a,currentUser:s,onAddComment:u=>console.log("Add comment:",u),onAddReply:(u,h,m)=>console.log("Add reply:",{commentId:u,content:h,username:m}),onLikeComment:(u,h)=>console.log("Like comment:",{commentId:u,isReply:h})})})]})}),t.jsx(ct,{value:"post-creation",className:"space-y-6",children:t.jsxs($,{children:[t.jsxs(oe,{children:[t.jsx(le,{children:"Post Creation Form"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Advanced post creation with media upload, pricing, scheduling, and rich features"})]}),t.jsx(q,{children:t.jsx(kEe,{currentUser:s,settings:r,onSubmit:async u=>console.log("Post data:",u)})})]})}),t.jsx(ct,{value:"creators",className:"space-y-6",children:t.jsxs($,{children:[t.jsxs(oe,{children:[t.jsx(le,{children:"Creator Exploration"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Creator discovery with grid and list views, filtering, and refresh functionality"})]}),t.jsx(q,{children:t.jsx(IEe,{creators:i,showRefresh:!0,showFreeFilter:!0,onRefresh:()=>console.log("Refresh creators"),onToggleFreeFilter:()=>console.log("Toggle free filter")})})]})}),t.jsx(ct,{value:"media",className:"space-y-6",children:t.jsxs($,{children:[t.jsxs(oe,{children:[t.jsx(le,{children:"Media Display"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Responsive media grids for images, videos, audio, documents, tips, and gifts"})]}),t.jsx(q,{children:t.jsx(DEe,{media:o,postId:"demo-post",description:"Demo media content with multiple file types",tip:{amount:50,currency:"$"}})})]})}),t.jsx(ct,{value:"navigation",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs($,{children:[t.jsxs(oe,{children:[t.jsx(le,{children:"User Settings Navigation"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete settings navigation with conditional sections"})]}),t.jsx(q,{children:t.jsx($Ee,{currentUser:s})})]}),t.jsxs($,{children:[t.jsxs(oe,{children:[t.jsx(le,{children:"Mobile Navigation"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Bottom navigation bar for mobile devices"})]}),t.jsx(q,{children:t.jsx("div",{className:"relative h-32 bg-muted rounded-lg overflow-hidden",children:t.jsx(LEe,{currentUser:s,settings:r,className:"relative bottom-0"})})})]})]})}),t.jsx(ct,{value:"cards",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs($,{children:[t.jsx(oe,{children:t.jsx(le,{children:"Creator Cards"})}),t.jsx(q,{children:t.jsx(HEe,{id:"demo-creator",username:"creator1",name:"Top Creator",avatar:"/api/placeholder/100/100",cover:"/api/placeholder/400/200",isVerified:!0,subscriberCount:15420,postCount:334,subscriptionPrice:29.99,isOnline:!0,isLive:!0,category:"Lifestyle",rating:4.8})})]}),t.jsxs($,{children:[t.jsx(oe,{children:t.jsx(le,{children:"Live Comments & Ads"})}),t.jsxs(q,{className:"space-y-4",children:[t.jsx(GEe,{id:"live-1",username:"viewer123",comment:"This stream is amazing! 🔥",timestamp:new Date().toISOString(),tip:{amount:25,currency:"$"}}),t.jsx(VEe,{id:"ad-1",title:"Premium Creator Tools",description:"Unlock advanced analytics and monetization features",image:"/api/placeholder/150/100",url:"https://example.com/premium",impressions:1250})]})]})]})}),t.jsx(ct,{value:"filters",className:"space-y-6",children:t.jsxs($,{children:[t.jsxs(oe,{children:[t.jsx(le,{children:"Category & Filter System"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Advanced filtering with categories, search, and gender/age filters"})]}),t.jsx(q,{children:t.jsx(BEe,{categories:c,showGenderFilter:!0,showLiveFilter:!0,onSearch:u=>console.log("Search:",u)})})]})}),t.jsx(ct,{value:"footer",className:"space-y-6",children:t.jsxs($,{children:[t.jsxs(oe,{children:[t.jsx(le,{children:"Footer Component"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Responsive footer with links, social media, and company information"})]}),t.jsx(q,{children:t.jsx(zEe,{currentUser:s,settings:r,pages:l,categories:c,languages:d,currentLanguage:"en",blogsCount:12,categoriesCount:8})})]})})]}),t.jsxs("div",{className:"fixed bottom-4 right-4",children:[t.jsxs(te,{onClick:()=>e(!n),children:[n?"Hide":"Show"," GIF Picker"]}),n&&t.jsx(UEe,{isOpen:n,onClose:()=>e(!1),onSelectGif:u=>{console.log("Selected GIF:",u),e(!1)},className:"bottom-16 right-0"})]}),t.jsx($,{className:"mt-8 border-green-200 bg-green-50",children:t.jsxs(q,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[t.jsx(de,{variant:"default",className:"bg-green-600",children:"✅ Complete"}),t.jsx("h3",{className:"text-lg font-semibold text-green-800",children:"FanzDash Enterprise Platform - Comprehensive Implementation"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm text-green-700",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold mb-2",children:"Authentication System"}),t.jsxs("ul",{className:"space-y-1",children:[t.jsx("li",{children:"• Login/Register/Password Reset"}),t.jsx("li",{children:"• Social Login Integration"}),t.jsx("li",{children:"• Two-Factor Authentication"}),t.jsx("li",{children:"• Email Verification"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold mb-2",children:"Content Management"}),t.jsxs("ul",{className:"space-y-1",children:[t.jsx("li",{children:"• Advanced Post Creation"}),t.jsx("li",{children:"• Media Upload & Processing"}),t.jsx("li",{children:"• Comment System"}),t.jsx("li",{children:"• Live Streaming"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold mb-2",children:"Creator Economy"}),t.jsxs("ul",{className:"space-y-1",children:[t.jsx("li",{children:"• Subscription Management"}),t.jsx("li",{children:"• Payment Processing"}),t.jsx("li",{children:"• Withdrawal System"}),t.jsx("li",{children:"• Analytics Dashboard"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold mb-2",children:"Admin Features"}),t.jsxs("ul",{className:"space-y-1",children:[t.jsx("li",{children:"• User Management"}),t.jsx("li",{children:"• Email Templates"}),t.jsx("li",{children:"• Contact Management"}),t.jsx("li",{children:"• System Settings"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold mb-2",children:"UI Components"}),t.jsxs("ul",{className:"space-y-1",children:[t.jsx("li",{children:"• Responsive Design"}),t.jsx("li",{children:"• Mobile Navigation"}),t.jsx("li",{children:"• Advanced Filtering"}),t.jsx("li",{children:"• Media Galleries"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold mb-2",children:"Enterprise Features"}),t.jsxs("ul",{className:"space-y-1",children:[t.jsx("li",{children:"• Compliance Systems"}),t.jsx("li",{children:"• Audit Logging"}),t.jsx("li",{children:"• Error Handling"}),t.jsx("li",{children:"• Security Controls"})]})]})]})]})})]})})}function WEe(){return t.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:t.jsx($,{className:"w-full max-w-md mx-4",children:t.jsxs(q,{className:"pt-6",children:[t.jsxs("div",{className:"flex mb-4 gap-2",children:[t.jsx(fj,{className:"h-8 w-8 text-red-500"}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),t.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function KEe(){const{toast:n}=Dn(),e=ps(),[s,r]=R.useState("all"),[a,i]=R.useState("all"),[o,l]=R.useState(""),[c,d]=R.useState(!0),u=[{id:"mod_001",contentType:"image",platform:"FanzLab",creatorId:"user_001",creatorName:"sarah_model",content:"Profile photo with suggestive pose",aiScore:85,humanScore:90,status:"approved",flaggedReasons:["Suggestive Content"],moderatorId:"admin_001",moderatorAction:"Approved with age verification",timestamp:"2025-01-15T10:00:00Z",riskLevel:"medium",autoModerationEnabled:!0},{id:"mod_002",contentType:"video",platform:"BoyFanz",creatorId:"user_002",creatorName:"alex_creator",content:"Workout video - adult content",aiScore:95,status:"needs_review",flaggedReasons:["Explicit Content","Age Verification Required"],timestamp:"2025-01-15T11:30:00Z",riskLevel:"high",autoModerationEnabled:!0},{id:"mod_003",contentType:"live_stream",platform:"GirlFanz",creatorId:"user_003",creatorName:"maya_performer",content:"Live cam session in progress",aiScore:92,status:"pending",flaggedReasons:["Live Adult Content","Real-time Moderation"],timestamp:"2025-01-15T12:00:00Z",riskLevel:"critical",autoModerationEnabled:!0},{id:"mod_004",contentType:"podcast",platform:"FanzTube",creatorId:"user_004",creatorName:"jenny_host",content:"Adult lifestyle podcast episode",aiScore:75,humanScore:80,status:"approved",flaggedReasons:["Adult Topics"],moderatorId:"admin_002",moderatorAction:"Approved with content warning",timestamp:"2025-01-15T09:15:00Z",riskLevel:"low",autoModerationEnabled:!0},{id:"mod_005",contentType:"radio",platform:"FanzTube",creatorId:"user_005",creatorName:"mike_dj",content:"Live radio show with adult music",aiScore:70,status:"approved",flaggedReasons:["Adult Themes"],moderatorId:"admin_003",moderatorAction:"Approved - late night slot",timestamp:"2025-01-15T08:45:00Z",riskLevel:"low",autoModerationEnabled:!0}],h=[{name:"OpenAI GPT-4o Vision",type:"image_recognition",status:"active",confidence:94,processedToday:2847},{name:"OpenAI GPT-5 Text Analysis",type:"text_analysis",status:"active",confidence:96,processedToday:1293},{name:"Google Perspective API",type:"text_analysis",status:"active",confidence:89,processedToday:945},{name:"LAION Safety CLIP",type:"image_recognition",status:"active",confidence:91,processedToday:3621},{name:"OpenAI Whisper",type:"audio_analysis",status:"active",confidence:88,processedToday:567},{name:"Google Video Intelligence",type:"video_analysis",status:"active",confidence:92,processedToday:1843},{name:"AWS Rekognition",type:"video_analysis",status:"active",confidence:87,processedToday:2156},{name:"Custom NudeNet Model",type:"image_recognition",status:"active",confidence:93,processedToday:4782}],m=kt({mutationFn:w=>Kt("POST",`/api/moderation/${w}/approve`),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/moderation/items"]}),n({title:"Content approved successfully"})}}),y=kt({mutationFn:w=>Kt("POST",`/api/moderation/${w}/reject`),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/moderation/items"]}),n({title:"Content rejected successfully"})}}),N=kt({mutationFn:()=>Kt("POST","/api/moderation/auto-toggle",{enabled:!c}),onSuccess:()=>{d(!c),n({title:`Auto-moderation ${c?"disabled":"enabled"}`,description:`AI moderation is now ${c?"paused":"active"} across all platforms`})}}),j=w=>{const E={pending:"bg-yellow-600",approved:"bg-green-600",rejected:"bg-red-600",needs_review:"bg-orange-600"};return t.jsx(de,{className:E[w]||"bg-gray-600",children:w.replace("_"," ").toUpperCase()})},v=w=>{const E={low:"bg-green-700",medium:"bg-yellow-700",high:"bg-orange-700",critical:"bg-red-700"};return t.jsx(de,{className:E[w]||"bg-gray-600",children:w.toUpperCase()})},b=w=>{switch(w){case"image":return t.jsx(ru,{className:"w-4 h-4"});case"video":return t.jsx(yh,{className:"w-4 h-4"});case"text":return t.jsx(Pi,{className:"w-4 h-4"});case"live_stream":return t.jsx(Ri,{className:"w-4 h-4"});case"podcast":return t.jsx(Fj,{className:"w-4 h-4"});case"radio":return t.jsx(Yv,{className:"w-4 h-4"});default:return t.jsx(Pi,{className:"w-4 h-4"})}},A=u.filter(w=>{const E=s==="all"||w.platform===s,T=a==="all"||w.contentType===a,P=!o||w.creatorName.toLowerCase().includes(o.toLowerCase())||w.content.toLowerCase().includes(o.toLowerCase());return E&&T&&P}),S={totalItems:u.length,pendingReview:u.filter(w=>w.status==="pending"||w.status==="needs_review").length,approvedToday:u.filter(w=>w.status==="approved").length,rejectedToday:u.filter(w=>w.status==="rejected").length,aiProcessedToday:h.reduce((w,E)=>w+E.processedToday,0)};return t.jsx("div",{className:"min-h-screen cyber-bg",children:t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"Content Moderation Hub"}),t.jsx("p",{className:"text-muted-foreground",children:"AI-powered moderation across all Fanz™ platforms and content types"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(de,{variant:"outline",className:`border-2 ${c?"border-green-500 text-green-400":"border-red-500 text-red-400"}`,children:[t.jsx(Hf,{className:"w-4 h-4 mr-2"}),"AI Moderation ",c?"ACTIVE":"PAUSED"]}),t.jsxs(te,{onClick:()=>N.mutate(),disabled:N.isPending,variant:c?"destructive":"default","data-testid":"button-toggle-auto-moderation",children:[c?t.jsx(j_,{className:"w-4 h-4 mr-2"}):t.jsx(Ri,{className:"w-4 h-4 mr-2"}),c?"Pause AI":"Resume AI"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[t.jsx($,{className:"bg-gray-900/50 border-cyan-500/20",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ks,{className:"h-8 w-8 text-cyan-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Total Items"}),t.jsx("p",{className:"text-2xl font-bold text-cyan-400",children:S.totalItems})]})]})})}),t.jsx($,{className:"bg-gray-900/50 border-yellow-500/20",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(As,{className:"h-8 w-8 text-yellow-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Pending Review"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:S.pendingReview})]})]})})}),t.jsx($,{className:"bg-gray-900/50 border-green-500/20",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(xn,{className:"h-8 w-8 text-green-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Approved Today"}),t.jsx("p",{className:"text-2xl font-bold text-green-400",children:S.approvedToday})]})]})})}),t.jsx($,{className:"bg-gray-900/50 border-red-500/20",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Vs,{className:"h-8 w-8 text-red-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Rejected Today"}),t.jsx("p",{className:"text-2xl font-bold text-red-400",children:S.rejectedToday})]})]})})}),t.jsx($,{className:"bg-gray-900/50 border-purple-500/20",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Gr,{className:"h-8 w-8 text-purple-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"AI Processed"}),t.jsx("p",{className:"text-2xl font-bold text-purple-400",children:S.aiProcessedToday.toLocaleString()})]})]})})})]}),t.jsxs(Xs,{defaultValue:"queue",className:"w-full",children:[t.jsxs($s,{className:"grid w-full grid-cols-4",children:[t.jsx(lt,{value:"queue",children:"Moderation Queue"}),t.jsx(lt,{value:"ai-services",children:"AI Services"}),t.jsx(lt,{value:"real-time",children:"Real-time Monitor"}),t.jsx(lt,{value:"analytics",children:"Analytics"})]}),t.jsx(ct,{value:"queue",className:"space-y-6",children:t.jsxs($,{className:"bg-gray-900/50 border-cyan-500/20",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-cyan-400",children:"Content Moderation Queue"}),t.jsx(Ct,{children:"Review and moderate content across all platforms"})]}),t.jsxs(q,{children:[t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(jr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Fe,{placeholder:"Search by creator name or content...",value:o,onChange:w=>l(w.target.value),className:"pl-10 bg-gray-800 border-gray-700","data-testid":"input-moderation-search"})]}),t.jsxs(sn,{value:s,onValueChange:r,children:[t.jsx(en,{className:"w-[180px] bg-gray-800 border-gray-700",children:t.jsx(rn,{placeholder:"Filter by platform"})}),t.jsxs(tn,{children:[t.jsx(re,{value:"all",children:"All Platforms"}),t.jsx(re,{value:"FanzLab",children:"FanzLab"}),t.jsx(re,{value:"BoyFanz",children:"BoyFanz"}),t.jsx(re,{value:"GirlFanz",children:"GirlFanz"}),t.jsx(re,{value:"DaddyFanz",children:"DaddyFanz"}),t.jsx(re,{value:"PupFanz",children:"PupFanz"}),t.jsx(re,{value:"TabooFanz",children:"TabooFanz"}),t.jsx(re,{value:"TransFanz",children:"TransFanz"}),t.jsx(re,{value:"CougarFanz",children:"CougarFanz"}),t.jsx(re,{value:"FanzCock",children:"FanzCock"}),t.jsx(re,{value:"FanzTube",children:"FanzTube"})]})]}),t.jsxs(sn,{value:a,onValueChange:i,children:[t.jsx(en,{className:"w-[180px] bg-gray-800 border-gray-700",children:t.jsx(rn,{placeholder:"Filter by content type"})}),t.jsxs(tn,{children:[t.jsx(re,{value:"all",children:"All Content Types"}),t.jsx(re,{value:"image",children:"Images"}),t.jsx(re,{value:"video",children:"Videos"}),t.jsx(re,{value:"text",children:"Text Content"}),t.jsx(re,{value:"live_stream",children:"Live Streams"}),t.jsx(re,{value:"podcast",children:"Podcasts"}),t.jsx(re,{value:"radio",children:"Radio Shows"})]})]})]}),t.jsx("div",{className:"border rounded-lg bg-gray-800/50",children:t.jsxs(Ar,{children:[t.jsx(Cr,{children:t.jsxs(Vn,{children:[t.jsx(He,{children:"Type"}),t.jsx(He,{children:"Platform"}),t.jsx(He,{children:"Creator"}),t.jsx(He,{children:"Content"}),t.jsx(He,{children:"AI Score"}),t.jsx(He,{children:"Risk Level"}),t.jsx(He,{children:"Status"}),t.jsx(He,{children:"Actions"})]})}),t.jsx(Tr,{children:A.map(w=>t.jsxs(Vn,{children:[t.jsx(Ve,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[b(w.contentType),t.jsx("span",{className:"capitalize",children:w.contentType.replace("_"," ")})]})}),t.jsx(Ve,{children:t.jsx(de,{variant:"outline",className:"font-mono",children:w.platform})}),t.jsx(Ve,{className:"font-medium",children:w.creatorName}),t.jsx(Ve,{className:"max-w-xs truncate",children:w.content}),t.jsx(Ve,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Xn,{value:w.aiScore,className:"w-16"}),t.jsxs("span",{className:"text-sm font-mono",children:[w.aiScore,"%"]})]})}),t.jsx(Ve,{children:v(w.riskLevel)}),t.jsx(Ve,{children:j(w.status)}),t.jsx(Ve,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[(w.status==="pending"||w.status==="needs_review")&&t.jsxs(t.Fragment,{children:[t.jsx(te,{size:"sm",onClick:()=>m.mutate(w.id),disabled:m.isPending,className:"bg-green-600 hover:bg-green-700","data-testid":`button-approve-${w.id}`,children:t.jsx(xn,{className:"w-3 h-3"})}),t.jsx(te,{size:"sm",variant:"destructive",onClick:()=>y.mutate(w.id),disabled:y.isPending,"data-testid":`button-reject-${w.id}`,children:t.jsx(Vs,{className:"w-3 h-3"})})]}),t.jsx(te,{size:"sm",variant:"outline","data-testid":`button-view-${w.id}`,children:t.jsx(Mn,{className:"w-3 h-3"})})]})})]},w.id))})]})})]})]})}),t.jsx(ct,{value:"ai-services",className:"space-y-6",children:t.jsxs($,{className:"bg-gray-900/50 border-cyan-500/20",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-cyan-400",children:"AI Moderation Services"}),t.jsx(Ct,{children:"Monitor and manage AI-powered content analysis engines"})]}),t.jsx(q,{children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map((w,E)=>t.jsx($,{className:"bg-gray-800/50",children:t.jsxs(q,{className:"p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h3",{className:"font-semibold text-white",children:w.name}),t.jsx(de,{className:w.status==="active"?"bg-green-600":"bg-red-600",children:w.status.toUpperCase()})]}),t.jsx("p",{className:"text-sm text-gray-400 mb-3 capitalize",children:w.type.replace("_"," ")}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{children:"Confidence:"}),t.jsxs("span",{className:"font-mono",children:[w.confidence,"%"]})]}),t.jsx(Xn,{value:w.confidence,className:"h-2"}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{children:"Processed Today:"}),t.jsx("span",{className:"font-mono text-cyan-400",children:w.processedToday.toLocaleString()})]})]})]})},E))})})]})}),t.jsx(ct,{value:"real-time",className:"space-y-6",children:t.jsxs($,{className:"bg-gray-900/50 border-cyan-500/20",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-cyan-400",children:"Real-time Moderation Monitor"}),t.jsx(Ct,{children:"Live monitoring of content across all platforms"})]}),t.jsx(q,{children:t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Ks,{className:"w-16 h-16 mx-auto mb-4 text-cyan-400 animate-pulse"}),t.jsx("p",{className:"text-lg font-medium text-white mb-2",children:"Real-time monitoring active"}),t.jsx("p",{className:"text-gray-400",children:"Monitoring live streams, real-time uploads, and user interactions across all Fanz™ platforms"}),t.jsxs("div",{className:"mt-6 grid grid-cols-3 gap-4 text-center",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-green-400",children:"847"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Live Streams Active"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:"23"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Pending Alerts"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-blue-400",children:"1,293"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Real-time Actions"})]})]})]})})]})}),t.jsx(ct,{value:"analytics",className:"space-y-6",children:t.jsxs($,{className:"bg-gray-900/50 border-cyan-500/20",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-cyan-400",children:"Moderation Analytics"}),t.jsx(Ct,{children:"Performance metrics and trends across all platforms"})]}),t.jsx(q,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"text-center p-6 bg-gray-800/50 rounded-lg",children:[t.jsx(or,{className:"w-12 h-12 mx-auto mb-4 text-green-400"}),t.jsx("p",{className:"text-3xl font-bold text-green-400",children:"94.7%"}),t.jsx("p",{className:"text-sm text-gray-400",children:"AI Accuracy Rate"})]}),t.jsxs("div",{className:"text-center p-6 bg-gray-800/50 rounded-lg",children:[t.jsx(qre,{className:"w-12 h-12 mx-auto mb-4 text-blue-400"}),t.jsx("p",{className:"text-3xl font-bold text-blue-400",children:"2.3s"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Average Processing Time"})]}),t.jsxs("div",{className:"text-center p-6 bg-gray-800/50 rounded-lg",children:[t.jsx(En,{className:"w-12 h-12 mx-auto mb-4 text-purple-400"}),t.jsx("p",{className:"text-3xl font-bold text-purple-400",children:"99.1%"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Compliance Rate"})]})]})})]})})]})]})})}function XEe(){const{toast:n}=Dn(),e=ps(),[s,r]=R.useState(""),[a,i]=R.useState("all"),[o,l]=R.useState(null),c=[{id:"fanzos_api_gateway",name:"FanzOS API Gateway",version:"2.1.0",description:"Service orchestration, routing, and authentication for all FanzOS microservices",category:"microservice",status:"active",author:"Fanz™ Unlimited Network LLC",installDate:"2025-01-01T00:00:00Z",lastUpdate:"2025-01-10T10:00:00Z",dependencies:["user_service","auth_service"],platforms:["FanzLab","BoyFanz","GirlFanz","DaddyFanz","PupFanz","TabooFanz","TransFanz","CougarFanz"],apiEndpoint:"/api/v2/gateway",configurable:!0,essential:!0},{id:"openai_gpt4o_vision",name:"OpenAI GPT-4o Vision Analysis",version:"1.5.2",description:"Advanced AI-powered image and video content moderation using GPT-4o Vision",category:"ai_service",status:"active",author:"OpenAI Integration",installDate:"2025-01-05T00:00:00Z",lastUpdate:"2025-01-14T15:30:00Z",dependencies:["content_service"],platforms:["All"],apiEndpoint:"/api/ai/vision",configurable:!0,essential:!1},{id:"ccbill_payment",name:"CCBill Payment Processor",version:"3.2.1",description:"Adult-friendly payment processing with CCBill integration for global transactions",category:"payment",status:"active",author:"CCBill Official",installDate:"2025-01-01T00:00:00Z",lastUpdate:"2025-01-08T12:00:00Z",dependencies:["payment_service"],platforms:["All"],apiEndpoint:"/api/payments/ccbill",configurable:!0,essential:!0},{id:"live_streaming_service",name:"WebRTC Live Streaming",version:"2.0.8",description:"Low-latency live streaming infrastructure with WebRTC and RTMP support",category:"media",status:"active",author:"Fanz™ Media Team",installDate:"2025-01-01T00:00:00Z",lastUpdate:"2025-01-12T09:15:00Z",dependencies:["media_core"],platforms:["FanzLab","GirlFanz","BoyFanz","TransFanz"],apiEndpoint:"/api/streaming/webrtc",configurable:!0,essential:!1},{id:"podcast_service",name:"Podcast Management System",version:"1.8.5",description:"Complete podcast hosting, management, and analytics platform",category:"media",status:"active",author:"Fanz™ Audio Team",installDate:"2025-01-01T00:00:00Z",lastUpdate:"2025-01-15T08:30:00Z",dependencies:["media_core","analytics_service"],platforms:["FanzTube","FanzLab"],apiEndpoint:"/api/podcasts",configurable:!0,essential:!1},{id:"radio_broadcasting",name:"Live Radio Broadcasting",version:"1.4.3",description:"Real-time radio broadcasting with DJ management and live chat moderation",category:"media",status:"active",author:"Fanz™ Radio Team",installDate:"2025-01-01T00:00:00Z",lastUpdate:"2025-01-15T07:45:00Z",dependencies:["media_core","chat_service"],platforms:["FanzTube"],apiEndpoint:"/api/radio",configurable:!0,essential:!1},{id:"fanzshield_security",name:"FanzShield Security Suite",version:"3.0.1",description:"Advanced DDoS protection, WAF, bot detection, and threat monitoring",category:"security",status:"active",author:"Fanz™ Security Team",installDate:"2025-01-01T00:00:00Z",lastUpdate:"2025-01-13T16:20:00Z",dependencies:[],platforms:["All"],apiEndpoint:"/api/security/shield",configurable:!0,essential:!0},{id:"perspective_api",name:"Google Perspective API",version:"2.1.0",description:"Text toxicity detection and harassment identification for content moderation",category:"ai_service",status:"active",author:"Google AI",installDate:"2025-01-05T00:00:00Z",lastUpdate:"2025-01-11T14:10:00Z",dependencies:["moderation_service"],platforms:["All"],apiEndpoint:"/api/ai/perspective",configurable:!0,essential:!1},{id:"nowpayments_crypto",name:"NOWPayments Crypto Gateway",version:"1.6.7",description:"Adult-friendly cryptocurrency payments supporting 100+ digital currencies",category:"payment",status:"active",author:"NOWPayments",installDate:"2025-01-03T00:00:00Z",lastUpdate:"2025-01-09T11:30:00Z",dependencies:["payment_service"],platforms:["All"],apiEndpoint:"/api/payments/crypto",configurable:!0,essential:!1},{id:"aws_rekognition",name:"AWS Rekognition Video Analysis",version:"2.3.1",description:"Advanced video content analysis and object detection using AWS Rekognition",category:"ai_service",status:"error",author:"Amazon Web Services",installDate:"2025-01-06T00:00:00Z",lastUpdate:"2025-01-14T13:45:00Z",dependencies:["video_service"],platforms:["All"],apiEndpoint:"/api/ai/rekognition",configurable:!0,essential:!1}],d=[{id:"stripe_advanced",name:"Stripe Advanced Integration",version:"4.1.2",description:"Enhanced Stripe payment processing with advanced fraud detection and analytics",category:"payment",downloads:15420,rating:4.8,price:29.99,author:"Stripe Official",verified:!0},{id:"whisper_ai",name:"OpenAI Whisper Audio Analysis",version:"1.2.8",description:"Real-time audio transcription and analysis for live streams and podcasts",category:"ai_service",downloads:8934,rating:4.6,price:19.99,author:"OpenAI",verified:!0},{id:"coingate_crypto",name:"CoinGate Crypto Payments",version:"2.0.3",description:"European cryptocurrency payment gateway with 1% fee structure",category:"payment",downloads:5621,rating:4.4,price:15,author:"CoinGate",verified:!0},{id:"twilio_sms",name:"Twilio SMS & Voice",version:"3.1.5",description:"SMS verification, notifications, and voice calling integration",category:"communication",downloads:12078,rating:4.7,price:24.99,author:"Twilio",verified:!0}],u=kt({mutationFn:b=>Kt("POST",`/api/plugins/${b}/toggle`),onSuccess:(b,A)=>{e.invalidateQueries({queryKey:["/api/plugins"]});const S=c.find(w=>w.id===A);n({title:`Plugin ${S?.status==="active"?"deactivated":"activated"}`,description:`${S?.name} has been ${S?.status==="active"?"stopped":"started"} successfully`})}}),h=kt({mutationFn:b=>Kt("POST","/api/plugins/install",{pluginId:b}),onSuccess:(b,A)=>{e.invalidateQueries({queryKey:["/api/plugins"]});const S=d.find(w=>w.id===A);n({title:"Plugin installed successfully",description:`${S?.name} has been installed and is ready to configure`})}}),m=kt({mutationFn:b=>Kt("DELETE",`/api/plugins/${b}`),onSuccess:(b,A)=>{e.invalidateQueries({queryKey:["/api/plugins"]});const S=c.find(w=>w.id===A);n({title:"Plugin uninstalled",description:`${S?.name} has been removed from the system`,variant:"destructive"})}}),y=b=>{const A={active:"bg-green-600",inactive:"bg-gray-600",error:"bg-red-600",updating:"bg-yellow-600"};return t.jsx(de,{className:A[b]||"bg-gray-600",children:b.toUpperCase()})},N=b=>{switch(b){case"microservice":return t.jsx(pj,{className:"w-4 h-4"});case"payment":return t.jsx(Ko,{className:"w-4 h-4"});case"ai_service":return t.jsx(Hf,{className:"w-4 h-4"});case"media":return t.jsx(yh,{className:"w-4 h-4"});case"security":return t.jsx(En,{className:"w-4 h-4"});case"communication":return t.jsx(Yv,{className:"w-4 h-4"});case"analytics":return t.jsx(va,{className:"w-4 h-4"});case"integration":return t.jsx(Er,{className:"w-4 h-4"});default:return t.jsx(H$,{className:"w-4 h-4"})}},j=c.filter(b=>{const A=!s||b.name.toLowerCase().includes(s.toLowerCase())||b.description.toLowerCase().includes(s.toLowerCase()),S=a==="all"||b.category===a;return A&&S}),v={totalPlugins:c.length,activePlugins:c.filter(b=>b.status==="active").length,errorPlugins:c.filter(b=>b.status==="error").length,essentialPlugins:c.filter(b=>b.essential).length};return t.jsx("div",{className:"min-h-screen cyber-bg",children:t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"Plugin Management System"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage FanzOS microservices, integrations, and third-party plugins"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(te,{variant:"outline","data-testid":"button-refresh-plugins",children:[t.jsx(Zo,{className:"w-4 h-4 mr-2"}),"Refresh All"]}),t.jsxs(te,{"data-testid":"button-install-plugin",children:[t.jsx(oa,{className:"w-4 h-4 mr-2"}),"Install Plugin"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx($,{className:"bg-gray-900/50 border-cyan-500/20",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(pj,{className:"h-8 w-8 text-cyan-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Total Plugins"}),t.jsx("p",{className:"text-2xl font-bold text-cyan-400",children:v.totalPlugins})]})]})})}),t.jsx($,{className:"bg-gray-900/50 border-green-500/20",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(xn,{className:"h-8 w-8 text-green-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Active"}),t.jsx("p",{className:"text-2xl font-bold text-green-400",children:v.activePlugins})]})]})})}),t.jsx($,{className:"bg-gray-900/50 border-red-500/20",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Vs,{className:"h-8 w-8 text-red-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Errors"}),t.jsx("p",{className:"text-2xl font-bold text-red-400",children:v.errorPlugins})]})]})})}),t.jsx($,{className:"bg-gray-900/50 border-yellow-500/20",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(En,{className:"h-8 w-8 text-yellow-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Essential"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:v.essentialPlugins})]})]})})})]}),t.jsxs(Xs,{defaultValue:"installed",className:"w-full",children:[t.jsxs($s,{className:"grid w-full grid-cols-3",children:[t.jsx(lt,{value:"installed",children:"Installed Plugins"}),t.jsx(lt,{value:"store",children:"Plugin Store"}),t.jsx(lt,{value:"custom",children:"Custom Development"})]}),t.jsx(ct,{value:"installed",className:"space-y-6",children:t.jsxs($,{className:"bg-gray-900/50 border-cyan-500/20",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-cyan-400",children:"Installed Plugins"}),t.jsx(Ct,{children:"Manage your installed FanzOS plugins and integrations"})]}),t.jsxs(q,{children:[t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(jr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Fe,{placeholder:"Search plugins...",value:s,onChange:b=>r(b.target.value),className:"pl-10 bg-gray-800 border-gray-700","data-testid":"input-plugin-search"})]}),t.jsxs(sn,{value:a,onValueChange:i,children:[t.jsx(en,{className:"w-[200px] bg-gray-800 border-gray-700",children:t.jsx(rn,{placeholder:"Filter by category"})}),t.jsxs(tn,{children:[t.jsx(re,{value:"all",children:"All Categories"}),t.jsx(re,{value:"microservice",children:"Microservices"}),t.jsx(re,{value:"payment",children:"Payment Systems"}),t.jsx(re,{value:"ai_service",children:"AI Services"}),t.jsx(re,{value:"media",children:"Media Processing"}),t.jsx(re,{value:"security",children:"Security"}),t.jsx(re,{value:"communication",children:"Communication"}),t.jsx(re,{value:"analytics",children:"Analytics"}),t.jsx(re,{value:"integration",children:"Integrations"})]})]})]}),t.jsx("div",{className:"border rounded-lg bg-gray-800/50",children:t.jsxs(Ar,{children:[t.jsx(Cr,{children:t.jsxs(Vn,{children:[t.jsx(He,{children:"Plugin"}),t.jsx(He,{children:"Category"}),t.jsx(He,{children:"Version"}),t.jsx(He,{children:"Platforms"}),t.jsx(He,{children:"Status"}),t.jsx(He,{children:"Actions"})]})}),t.jsx(Tr,{children:j.map(b=>t.jsxs(Vn,{children:[t.jsx(Ve,{children:t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[N(b.category),t.jsx("span",{className:"font-medium",children:b.name}),b.essential&&t.jsx(de,{variant:"outline",className:"text-xs border-yellow-500 text-yellow-400",children:"ESSENTIAL"})]}),t.jsx("p",{className:"text-xs text-gray-400 max-w-md",children:b.description})]})}),t.jsx(Ve,{children:t.jsx(de,{variant:"outline",className:"capitalize",children:b.category.replace("_"," ")})}),t.jsxs(Ve,{className:"font-mono text-sm",children:["v",b.version]}),t.jsx(Ve,{children:t.jsxs("div",{className:"flex flex-wrap gap-1",children:[b.platforms.slice(0,2).map(A=>t.jsx(de,{variant:"secondary",className:"text-xs",children:A},A)),b.platforms.length>2&&t.jsxs(de,{variant:"secondary",className:"text-xs",children:["+",b.platforms.length-2]})]})}),t.jsx(Ve,{children:y(b.status)}),t.jsx(Ve,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(te,{size:"sm",onClick:()=>u.mutate(b.id),disabled:u.isPending||b.essential,variant:b.status==="active"?"destructive":"default","data-testid":`button-toggle-${b.id}`,children:b.status==="active"?t.jsx(uae,{className:"w-3 h-3"}):t.jsx(hae,{className:"w-3 h-3"})}),b.configurable&&t.jsx(te,{size:"sm",variant:"outline","data-testid":`button-config-${b.id}`,children:t.jsx(lr,{className:"w-3 h-3"})}),t.jsx(te,{size:"sm",variant:"outline","data-testid":`button-view-${b.id}`,children:t.jsx(Mn,{className:"w-3 h-3"})}),!b.essential&&t.jsx(te,{size:"sm",variant:"outline",onClick:()=>m.mutate(b.id),disabled:m.isPending,"data-testid":`button-uninstall-${b.id}`,children:t.jsx(Wa,{className:"w-3 h-3"})})]})})]},b.id))})]})})]})]})}),t.jsx(ct,{value:"store",className:"space-y-6",children:t.jsxs($,{className:"bg-gray-900/50 border-cyan-500/20",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-cyan-400",children:"Plugin Store"}),t.jsx(Ct,{children:"Browse and install verified plugins for your Fanz ecosystem"})]}),t.jsx(q,{children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(b=>t.jsx($,{className:"bg-gray-800/50",children:t.jsxs(q,{className:"p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h3",{className:"font-semibold text-white",children:b.name}),b.verified&&t.jsxs(de,{className:"bg-blue-600",children:[t.jsx(xn,{className:"w-3 h-3 mr-1"}),"Verified"]})]}),t.jsx("p",{className:"text-sm text-gray-400 mb-3",children:b.description}),t.jsxs("div",{className:"flex items-center justify-between text-sm mb-3",children:[t.jsxs("span",{children:["v",b.version]}),t.jsxs("span",{className:"text-green-400 font-bold",children:["$",b.price]})]}),t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400 mb-3",children:[t.jsxs("span",{children:[b.downloads.toLocaleString()," downloads"]}),t.jsxs("span",{children:["⭐ ",b.rating]})]}),t.jsxs(te,{size:"sm",className:"w-full",onClick:()=>h.mutate(b.id),disabled:h.isPending,"data-testid":`button-install-${b.id}`,children:[t.jsx(xi,{className:"w-3 h-3 mr-2"}),"Install Plugin"]})]})},b.id))})})]})}),t.jsx(ct,{value:"custom",className:"space-y-6",children:t.jsxs($,{className:"bg-gray-900/50 border-cyan-500/20",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-cyan-400",children:"Custom Plugin Development"}),t.jsx(Ct,{children:"Upload and develop custom plugins for your Fanz ecosystem"})]}),t.jsx(q,{children:t.jsxs("div",{className:"text-center py-12",children:[t.jsx(dx,{className:"w-16 h-16 mx-auto mb-4 text-cyan-400"}),t.jsx("p",{className:"text-lg font-medium text-white mb-2",children:"Custom Plugin Development"}),t.jsx("p",{className:"text-gray-400 mb-6",children:"Upload your own plugins or use the FanzOS Plugin SDK to create custom integrations"}),t.jsxs("div",{className:"flex justify-center gap-4",children:[t.jsxs(te,{"data-testid":"button-upload-plugin",children:[t.jsx(yo,{className:"w-4 h-4 mr-2"}),"Upload Plugin"]}),t.jsxs(te,{variant:"outline","data-testid":"button-plugin-sdk",children:[t.jsx(xi,{className:"w-4 h-4 mr-2"}),"Download SDK"]})]})]})})]})})]})]})})}function ZEe(){const{toast:n}=Dn(),e=ps(),[s,r]=R.useState(""),[a,i]=R.useState("all"),[o,l]=R.useState("all"),c=[{id:"openai_gpt5",name:"OpenAI GPT-5 API",provider:"OpenAI",category:"ai_service",status:"active",endpoint:"https://api.openai.com/v1/chat/completions",version:"v1",lastCall:"2025-01-15T12:00:00Z",callsToday:15847,rateLimit:5e4,rateLimitRemaining:34153,avgResponseTime:1.2,successRate:99.8,platforms:["All"],hasApiKey:!0,hasWebhook:!1,monthlyQuota:15e5,quotaUsed:847562},{id:"perspective_api",name:"Google Perspective API",provider:"Google",category:"ai_service",status:"active",endpoint:"https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze",version:"v1alpha1",lastCall:"2025-01-15T11:55:00Z",callsToday:8934,rateLimit:15e3,rateLimitRemaining:6066,avgResponseTime:.9,successRate:98.7,platforms:["All"],hasApiKey:!0,hasWebhook:!1,monthlyQuota:45e4,quotaUsed:267891},{id:"aws_rekognition",name:"AWS Rekognition API",provider:"Amazon Web Services",category:"ai_service",status:"rate_limited",endpoint:"https://rekognition.us-east-1.amazonaws.com/",version:"2016-06-27",lastCall:"2025-01-15T10:15:00Z",callsToday:4999,rateLimit:5e3,rateLimitRemaining:1,avgResponseTime:2.1,successRate:94.2,platforms:["All"],hasApiKey:!0,hasWebhook:!1,monthlyQuota:15e4,quotaUsed:149999},{id:"nudenet_api",name:"NudeNet Content Detection",provider:"NudeNet",category:"ai_service",status:"active",endpoint:"https://api.nudenet.com/v1/classify",version:"v1",lastCall:"2025-01-15T11:50:00Z",callsToday:5234,rateLimit:1e4,rateLimitRemaining:4766,avgResponseTime:1.8,successRate:97.3,platforms:["All"],hasApiKey:!0,hasWebhook:!1,monthlyQuota:3e5,quotaUsed:156789},{id:"anthropic_claude",name:"Anthropic Claude API",provider:"Anthropic",category:"ai_service",status:"active",endpoint:"https://api.anthropic.com/v1/messages",version:"v1",lastCall:"2025-01-15T11:40:00Z",callsToday:3456,rateLimit:2e4,rateLimitRemaining:16544,avgResponseTime:1.5,successRate:98.9,platforms:["All"],hasApiKey:!0,hasWebhook:!1,monthlyQuota:6e5,quotaUsed:103456},{id:"ccbill_payment",name:"CCBill Payment API",provider:"CCBill",category:"payment",status:"active",endpoint:"https://api.ccbill.com/wap-frontflex/flexforms/",version:"3.0",lastCall:"2025-01-15T11:45:00Z",callsToday:2847,rateLimit:1e4,rateLimitRemaining:7153,avgResponseTime:.8,successRate:99.2,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:3e5,quotaUsed:95432},{id:"epoch_payment",name:"Epoch Payment API",provider:"Epoch",category:"payment",status:"active",endpoint:"https://api.epoch.com/v1/",version:"v1",lastCall:"2025-01-15T11:35:00Z",callsToday:1876,rateLimit:8e3,rateLimitRemaining:6124,avgResponseTime:.7,successRate:98.8,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:24e4,quotaUsed:56234},{id:"segpay_payment",name:"SegPay Payment API",provider:"SegPay",category:"payment",status:"active",endpoint:"https://api.segpay.com/api/",version:"v2",lastCall:"2025-01-15T11:25:00Z",callsToday:1234,rateLimit:5e3,rateLimitRemaining:3766,avgResponseTime:.9,successRate:97.6,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:15e4,quotaUsed:37089},{id:"zombaio_payment",name:"Zombaio Payment API",provider:"Zombaio",category:"payment",status:"active",endpoint:"https://api.zombaio.com/v1/",version:"v1",lastCall:"2025-01-15T11:15:00Z",callsToday:987,rateLimit:3e3,rateLimitRemaining:2013,avgResponseTime:1.1,successRate:96.4,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:9e4,quotaUsed:29634},{id:"verotel_payment",name:"Verotel Payment API",provider:"Verotel",category:"payment",status:"active",endpoint:"https://secure.verotel.com/api/",version:"v2",lastCall:"2025-01-15T11:05:00Z",callsToday:756,rateLimit:2e3,rateLimitRemaining:1244,avgResponseTime:.8,successRate:98.1,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:6e4,quotaUsed:22678},{id:"paypal_adaptive",name:"PayPal Adaptive Payments",provider:"PayPal",category:"payment",status:"active",endpoint:"https://api.paypal.com/v1/",version:"v1",lastCall:"2025-01-15T11:00:00Z",callsToday:2345,rateLimit:15e3,rateLimitRemaining:12655,avgResponseTime:.6,successRate:99.1,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:45e4,quotaUsed:70234},{id:"nowpayments_crypto",name:"NOWPayments Crypto API",provider:"NOWPayments",category:"payment",status:"active",endpoint:"https://api.nowpayments.io/v1/",version:"v1",lastCall:"2025-01-15T11:20:00Z",callsToday:567,rateLimit:2e3,rateLimitRemaining:1433,avgResponseTime:1.5,successRate:96.8,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:6e4,quotaUsed:18234},{id:"coinbase_commerce",name:"Coinbase Commerce API",provider:"Coinbase",category:"payment",status:"active",endpoint:"https://api.commerce.coinbase.com/",version:"v1",lastCall:"2025-01-15T10:55:00Z",callsToday:834,rateLimit:5e3,rateLimitRemaining:4166,avgResponseTime:1.3,successRate:97.8,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:15e4,quotaUsed:25067},{id:"stripe_connect",name:"Stripe Connect API",provider:"Stripe",category:"payment",status:"active",endpoint:"https://api.stripe.com/v1/",version:"v1",lastCall:"2025-01-15T11:42:00Z",callsToday:4567,rateLimit:25e3,rateLimitRemaining:20433,avgResponseTime:.5,successRate:99.3,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:75e4,quotaUsed:137023},{id:"twitch_api",name:"Twitch Helix API",provider:"Twitch",category:"media",status:"active",endpoint:"https://api.twitch.tv/helix/",version:"helix",lastCall:"2025-01-15T11:52:00Z",callsToday:6789,rateLimit:2e4,rateLimitRemaining:13211,avgResponseTime:.7,successRate:98.5,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:6e5,quotaUsed:203456},{id:"youtube_live_api",name:"YouTube Live Streaming API",provider:"Google",category:"media",status:"active",endpoint:"https://youtube.googleapis.com/youtube/v3/",version:"v3",lastCall:"2025-01-15T11:48:00Z",callsToday:3456,rateLimit:1e4,rateLimitRemaining:6544,avgResponseTime:.9,successRate:97.8,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:3e5,quotaUsed:103678},{id:"facebook_live_api",name:"Facebook Live Video API",provider:"Meta",category:"media",status:"active",endpoint:"https://graph.facebook.com/v18.0/",version:"v18.0",lastCall:"2025-01-15T11:33:00Z",callsToday:2134,rateLimit:8e3,rateLimitRemaining:5866,avgResponseTime:1.1,successRate:96.7,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:24e4,quotaUsed:64023},{id:"obs_websocket",name:"OBS WebSocket API",provider:"OBS Studio",category:"media",status:"active",endpoint:"ws://localhost:4445",version:"v5",lastCall:"2025-01-15T11:59:00Z",callsToday:12456,rateLimit:1e5,rateLimitRemaining:87544,avgResponseTime:.2,successRate:99.5,platforms:["All"],hasApiKey:!1,hasWebhook:!0,monthlyQuota:3e6,quotaUsed:374562},{id:"wowza_streaming",name:"Wowza Streaming Cloud API",provider:"Wowza",category:"media",status:"active",endpoint:"https://api.cloud.wowza.com/api/v1.3/",version:"v1.3",lastCall:"2025-01-15T11:37:00Z",callsToday:1876,rateLimit:5e3,rateLimitRemaining:3124,avgResponseTime:1.4,successRate:97.2,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:15e4,quotaUsed:56234},{id:"agora_rtc",name:"Agora Real-Time Communication",provider:"Agora",category:"media",status:"active",endpoint:"https://api.agora.io/v1/",version:"v1",lastCall:"2025-01-15T11:44:00Z",callsToday:3678,rateLimit:15e3,rateLimitRemaining:11322,avgResponseTime:.8,successRate:98.9,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:45e4,quotaUsed:110345},{id:"mux_video",name:"Mux Video API",provider:"Mux",category:"media",status:"active",endpoint:"https://api.mux.com/video/v1/",version:"v1",lastCall:"2025-01-15T11:41:00Z",callsToday:2456,rateLimit:1e4,rateLimitRemaining:7544,avgResponseTime:1.2,successRate:98.3,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:3e5,quotaUsed:73678},{id:"jw_player",name:"JW Player API",provider:"JW Player",category:"media",status:"active",endpoint:"https://api.jwplayer.com/v2/",version:"v2",lastCall:"2025-01-15T11:29:00Z",callsToday:1567,rateLimit:5e3,rateLimitRemaining:3433,avgResponseTime:.9,successRate:97.6,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:15e4,quotaUsed:47023},{id:"twilio_sms",name:"Twilio SMS API",provider:"Twilio",category:"communication",status:"active",endpoint:"https://api.twilio.com/2010-04-01/Accounts/{AccountSid}/Messages.json",version:"2010-04-01",lastCall:"2025-01-15T11:30:00Z",callsToday:1256,rateLimit:5e3,rateLimitRemaining:3744,avgResponseTime:.6,successRate:97.5,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:15e4,quotaUsed:47823},{id:"sendgrid_email",name:"SendGrid Email API",provider:"SendGrid",category:"communication",status:"active",endpoint:"https://api.sendgrid.com/v3/",version:"v3",lastCall:"2025-01-15T11:56:00Z",callsToday:8934,rateLimit:3e4,rateLimitRemaining:21066,avgResponseTime:.4,successRate:99.1,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:9e5,quotaUsed:267891},{id:"telegram_bot",name:"Telegram Bot API",provider:"Telegram",category:"communication",status:"active",endpoint:"https://api.telegram.org/bot{token}/",version:"v1",lastCall:"2025-01-15T11:51:00Z",callsToday:4567,rateLimit:2e4,rateLimitRemaining:15433,avgResponseTime:.5,successRate:98.7,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:6e5,quotaUsed:136890},{id:"discord_webhook",name:"Discord Webhooks",provider:"Discord",category:"communication",status:"active",endpoint:"https://discord.com/api/webhooks/",version:"v10",lastCall:"2025-01-15T11:46:00Z",callsToday:2345,rateLimit:1e4,rateLimitRemaining:7655,avgResponseTime:.3,successRate:99.3,platforms:["All"],hasApiKey:!1,hasWebhook:!0,monthlyQuota:3e5,quotaUsed:70234},{id:"whatsapp_business",name:"WhatsApp Business API",provider:"Meta",category:"communication",status:"active",endpoint:"https://graph.facebook.com/v18.0/",version:"v18.0",lastCall:"2025-01-15T11:38:00Z",callsToday:1876,rateLimit:8e3,rateLimitRemaining:6124,avgResponseTime:.8,successRate:98.2,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:24e4,quotaUsed:56234},{id:"pusher_realtime",name:"Pusher Channels API",provider:"Pusher",category:"communication",status:"active",endpoint:"https://api.pusherapp.com/",version:"v1",lastCall:"2025-01-15T11:54:00Z",callsToday:12456,rateLimit:5e4,rateLimitRemaining:37544,avgResponseTime:.2,successRate:99.7,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:15e5,quotaUsed:374562},{id:"mailchimp_api",name:"Mailchimp Marketing API",provider:"Mailchimp",category:"communication",status:"active",endpoint:"https://server.api.mailchimp.com/3.0/",version:"v3.0",lastCall:"2025-01-15T11:26:00Z",callsToday:987,rateLimit:5e3,rateLimitRemaining:4013,avgResponseTime:.9,successRate:97.8,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:15e4,quotaUsed:29634},{id:"onlyfans_unofficial",name:"OnlyFans Unofficial API",provider:"OnlyFans (Unofficial)",category:"media",status:"inactive",endpoint:"https://onlyfans.com/api2/v2/",version:"v2",lastCall:"2025-01-14T15:30:00Z",callsToday:0,rateLimit:1e3,rateLimitRemaining:1e3,avgResponseTime:0,successRate:0,platforms:["OnlyFans"],hasApiKey:!1,hasWebhook:!1,monthlyQuota:3e4,quotaUsed:0},{id:"manyvids_api",name:"ManyVids Creator API",provider:"ManyVids",category:"media",status:"active",endpoint:"https://www.manyvids.com/api/",version:"v1",lastCall:"2025-01-15T11:22:00Z",callsToday:456,rateLimit:2e3,rateLimitRemaining:1544,avgResponseTime:1.3,successRate:96.8,platforms:["ManyVids"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:6e4,quotaUsed:13678},{id:"chaturbate_api",name:"Chaturbate Broadcaster API",provider:"Chaturbate",category:"media",status:"active",endpoint:"https://chaturbate.com/api/",version:"v1",lastCall:"2025-01-15T11:18:00Z",callsToday:2345,rateLimit:1e4,rateLimitRemaining:7655,avgResponseTime:.8,successRate:97.3,platforms:["Chaturbate"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:3e5,quotaUsed:70234},{id:"cam4_api",name:"CAM4 Broadcaster API",provider:"CAM4",category:"media",status:"active",endpoint:"https://www.cam4.com/api/",version:"v1",lastCall:"2025-01-15T11:14:00Z",callsToday:1234,rateLimit:5e3,rateLimitRemaining:3766,avgResponseTime:1.1,successRate:95.8,platforms:["CAM4"],hasApiKey:!0,hasWebhook:!1,monthlyQuota:15e4,quotaUsed:37089},{id:"google_cloud_storage",name:"Google Cloud Storage API",provider:"Google Cloud",category:"storage",status:"active",endpoint:"https://storage.googleapis.com/storage/v1/",version:"v1",lastCall:"2025-01-15T11:58:00Z",callsToday:12456,rateLimit:5e4,rateLimitRemaining:37544,avgResponseTime:.4,successRate:99.9,platforms:["All"],hasApiKey:!0,hasWebhook:!1,monthlyQuota:15e5,quotaUsed:456789},{id:"aws_s3",name:"Amazon S3 API",provider:"Amazon Web Services",category:"storage",status:"active",endpoint:"https://s3.amazonaws.com/",version:"2006-03-01",lastCall:"2025-01-15T11:57:00Z",callsToday:15678,rateLimit:1e5,rateLimitRemaining:84322,avgResponseTime:.3,successRate:99.8,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:3e6,quotaUsed:470234},{id:"cloudflare_r2",name:"Cloudflare R2 Storage",provider:"Cloudflare",category:"storage",status:"active",endpoint:"https://api.cloudflare.com/client/v4/",version:"v4",lastCall:"2025-01-15T11:53:00Z",callsToday:8934,rateLimit:3e4,rateLimitRemaining:21066,avgResponseTime:.5,successRate:99.6,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:9e5,quotaUsed:267891},{id:"backblaze_b2",name:"Backblaze B2 Cloud Storage",provider:"Backblaze",category:"storage",status:"active",endpoint:"https://api.backblazeb2.com/b2api/v2/",version:"v2",lastCall:"2025-01-15T11:39:00Z",callsToday:3456,rateLimit:15e3,rateLimitRemaining:11544,avgResponseTime:.7,successRate:98.9,platforms:["All"],hasApiKey:!0,hasWebhook:!1,monthlyQuota:45e4,quotaUsed:103678},{id:"bunny_cdn",name:"Bunny CDN API",provider:"Bunny",category:"storage",status:"active",endpoint:"https://api.bunny.net/",version:"v1",lastCall:"2025-01-15T11:47:00Z",callsToday:4567,rateLimit:2e4,rateLimitRemaining:15433,avgResponseTime:.6,successRate:98.7,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:6e5,quotaUsed:136890},{id:"cloudinary_media",name:"Cloudinary Media API",provider:"Cloudinary",category:"storage",status:"active",endpoint:"https://api.cloudinary.com/v1_1/",version:"v1_1",lastCall:"2025-01-15T11:43:00Z",callsToday:6789,rateLimit:25e3,rateLimitRemaining:18211,avgResponseTime:.8,successRate:98.4,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:75e4,quotaUsed:203456},{id:"jumio_kyc",name:"Jumio Identity Verification",provider:"Jumio",category:"compliance",status:"active",endpoint:"https://api.jumio.com/v1/",version:"v1",lastCall:"2025-01-15T11:31:00Z",callsToday:567,rateLimit:2e3,rateLimitRemaining:1433,avgResponseTime:2.1,successRate:97.8,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:6e4,quotaUsed:17023},{id:"onfido_identity",name:"Onfido Identity Verification",provider:"Onfido",category:"compliance",status:"active",endpoint:"https://api.eu.onfido.com/v3.6/",version:"v3.6",lastCall:"2025-01-15T11:27:00Z",callsToday:432,rateLimit:1500,rateLimitRemaining:1068,avgResponseTime:1.8,successRate:98.3,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:45e3,quotaUsed:12967},{id:"age_verification",name:"AgeChecker.Net API",provider:"AgeChecker",category:"compliance",status:"active",endpoint:"https://api.agechecker.net/v1/",version:"v1",lastCall:"2025-01-15T11:23:00Z",callsToday:1876,rateLimit:5e3,rateLimitRemaining:3124,avgResponseTime:1.5,successRate:96.7,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:15e4,quotaUsed:56234},{id:"yoti_identity",name:"Yoti Digital Identity",provider:"Yoti",category:"compliance",status:"active",endpoint:"https://api.yoti.com/api/v1/",version:"v1",lastCall:"2025-01-15T11:19:00Z",callsToday:298,rateLimit:1e3,rateLimitRemaining:702,avgResponseTime:2.3,successRate:97.1,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:3e4,quotaUsed:8934},{id:"google_analytics",name:"Google Analytics 4 API",provider:"Google",category:"analytics",status:"active",endpoint:"https://analyticsreporting.googleapis.com/v4/",version:"v4",lastCall:"2025-01-15T11:49:00Z",callsToday:3456,rateLimit:15e3,rateLimitRemaining:11544,avgResponseTime:.9,successRate:98.7,platforms:["All"],hasApiKey:!0,hasWebhook:!1,monthlyQuota:45e4,quotaUsed:103678},{id:"mixpanel_analytics",name:"Mixpanel Analytics API",provider:"Mixpanel",category:"analytics",status:"active",endpoint:"https://api.mixpanel.com/",version:"v2",lastCall:"2025-01-15T11:45:00Z",callsToday:7890,rateLimit:3e4,rateLimitRemaining:22110,avgResponseTime:.6,successRate:99.2,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:9e5,quotaUsed:236790},{id:"hotjar_analytics",name:"Hotjar Insights API",provider:"Hotjar",category:"analytics",status:"active",endpoint:"https://insights.hotjar.com/api/v1/",version:"v1",lastCall:"2025-01-15T11:36:00Z",callsToday:1234,rateLimit:5e3,rateLimitRemaining:3766,avgResponseTime:1.2,successRate:97.5,platforms:["All"],hasApiKey:!0,hasWebhook:!1,monthlyQuota:15e4,quotaUsed:37089},{id:"facebook_pixel",name:"Facebook Pixel API",provider:"Meta",category:"analytics",status:"active",endpoint:"https://graph.facebook.com/v18.0/",version:"v18.0",lastCall:"2025-01-15T11:32:00Z",callsToday:2345,rateLimit:1e4,rateLimitRemaining:7655,avgResponseTime:.8,successRate:98.1,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:3e5,quotaUsed:70234},{id:"amplitude_analytics",name:"Amplitude Analytics API",provider:"Amplitude",category:"analytics",status:"active",endpoint:"https://api2.amplitude.com/2/",version:"v2",lastCall:"2025-01-15T11:28:00Z",callsToday:4567,rateLimit:2e4,rateLimitRemaining:15433,avgResponseTime:.7,successRate:98.9,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:6e5,quotaUsed:136890},{id:"twitter_api",name:"Twitter API v2",provider:"Twitter/X",category:"social_media",status:"error",endpoint:"https://api.twitter.com/2/",version:"v2",lastCall:"2025-01-15T08:30:00Z",callsToday:0,rateLimit:2e3,rateLimitRemaining:2e3,avgResponseTime:0,successRate:0,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:6e4,quotaUsed:0},{id:"instagram_basic",name:"Instagram Basic Display API",provider:"Meta",category:"social_media",status:"active",endpoint:"https://graph.instagram.com/",version:"v18.0",lastCall:"2025-01-15T11:34:00Z",callsToday:3456,rateLimit:15e3,rateLimitRemaining:11544,avgResponseTime:.9,successRate:97.8,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:45e4,quotaUsed:103678},{id:"tiktok_business",name:"TikTok Business API",provider:"TikTok",category:"social_media",status:"active",endpoint:"https://business-api.tiktok.com/open_api/v1.3/",version:"v1.3",lastCall:"2025-01-15T11:21:00Z",callsToday:1876,rateLimit:8e3,rateLimitRemaining:6124,avgResponseTime:1.1,successRate:96.4,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:24e4,quotaUsed:56234},{id:"reddit_api",name:"Reddit API",provider:"Reddit",category:"social_media",status:"active",endpoint:"https://oauth.reddit.com/api/v1/",version:"v1",lastCall:"2025-01-15T11:17:00Z",callsToday:2134,rateLimit:1e4,rateLimitRemaining:7866,avgResponseTime:.8,successRate:97.6,platforms:["All"],hasApiKey:!0,hasWebhook:!1,monthlyQuota:3e5,quotaUsed:64023},{id:"linkedin_api",name:"LinkedIn Marketing API",provider:"LinkedIn",category:"social_media",status:"active",endpoint:"https://api.linkedin.com/v2/",version:"v2",lastCall:"2025-01-15T11:13:00Z",callsToday:987,rateLimit:5e3,rateLimitRemaining:4013,avgResponseTime:1.3,successRate:98.2,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:15e4,quotaUsed:29634},{id:"commission_junction",name:"Commission Junction API",provider:"CJ Affiliate",category:"analytics",status:"active",endpoint:"https://api.cj.com/",version:"v1",lastCall:"2025-01-15T11:24:00Z",callsToday:456,rateLimit:2e3,rateLimitRemaining:1544,avgResponseTime:1.4,successRate:96.8,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:6e4,quotaUsed:13678},{id:"shareasale_api",name:"ShareASale Affiliate API",provider:"ShareASale",category:"analytics",status:"active",endpoint:"https://api.shareasale.com/",version:"v1",lastCall:"2025-01-15T11:16:00Z",callsToday:678,rateLimit:3e3,rateLimitRemaining:2322,avgResponseTime:1.2,successRate:97.3,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:9e4,quotaUsed:20345},{id:"impact_radius",name:"Impact Radius API",provider:"Impact",category:"analytics",status:"active",endpoint:"https://api.impact.com/",version:"v1",lastCall:"2025-01-15T11:12:00Z",callsToday:834,rateLimit:4e3,rateLimitRemaining:3166,avgResponseTime:1.1,successRate:98.1,platforms:["All"],hasApiKey:!0,hasWebhook:!0,monthlyQuota:12e4,quotaUsed:25067}],d=[{id:"ccbill_webhook",name:"CCBill Payment Webhook",url:"https://fanzlab.com/webhooks/ccbill",events:["payment.success","payment.failed","subscription.created"],status:"active",lastTriggered:"2025-01-15T11:45:00Z",successfulCalls:2847,failedCalls:12,retryCount:3},{id:"twilio_webhook",name:"Twilio SMS Status Webhook",url:"https://fanzlab.com/webhooks/twilio",events:["message.delivered","message.failed","message.read"],status:"active",lastTriggered:"2025-01-15T11:30:00Z",successfulCalls:1244,failedCalls:3,retryCount:2},{id:"twitter_webhook",name:"Twitter Event Webhook",url:"https://fanzlab.com/webhooks/twitter",events:["tweet.published","mention.created","dm.received"],status:"failed",lastTriggered:"2025-01-15T08:30:00Z",successfulCalls:0,failedCalls:45,retryCount:5}],u=kt({mutationFn:v=>Kt("POST",`/api/integrations/${v}/toggle`),onSuccess:(v,b)=>{e.invalidateQueries({queryKey:["/api/integrations"]});const A=c.find(S=>S.id===b);n({title:`Integration ${A?.status==="active"?"disabled":"enabled"}`,description:`${A?.name} has been ${A?.status==="active"?"deactivated":"activated"}`})}}),h=kt({mutationFn:v=>Kt("POST",`/api/integrations/${v}/test`),onSuccess:(v,b)=>{const A=c.find(S=>S.id===b);n({title:"Test successful",description:`${A?.name} is responding correctly`})},onError:(v,b)=>{const A=c.find(S=>S.id===b);n({title:"Test failed",description:`${A?.name} is not responding`,variant:"destructive"})}}),m=v=>{const b={active:"bg-green-600",inactive:"bg-gray-600",error:"bg-red-600",rate_limited:"bg-yellow-600"};return t.jsx(de,{className:b[v]||"bg-gray-600",children:v.replace("_"," ").toUpperCase()})},y=v=>{switch(v){case"payment":return t.jsx(Ko,{className:"w-4 h-4"});case"ai_service":return t.jsx(Hf,{className:"w-4 h-4"});case"social_media":return t.jsx(Er,{className:"w-4 h-4"});case"communication":return t.jsx(Yv,{className:"w-4 h-4"});case"storage":return t.jsx(jl,{className:"w-4 h-4"});case"analytics":return t.jsx(Ks,{className:"w-4 h-4"});case"security":return t.jsx(En,{className:"w-4 h-4"});case"media":return t.jsx(yh,{className:"w-4 h-4"});case"compliance":return t.jsx(xn,{className:"w-4 h-4"});case"adult_platforms":return t.jsx(ru,{className:"w-4 h-4"});case"affiliate":return t.jsx(iF,{className:"w-4 h-4"});case"crypto":return t.jsx(va,{className:"w-4 h-4"});default:return t.jsx(iF,{className:"w-4 h-4"})}},N=c.filter(v=>{const b=!s||v.name.toLowerCase().includes(s.toLowerCase())||v.provider.toLowerCase().includes(s.toLowerCase()),A=a==="all"||v.category===a,S=o==="all"||v.status===o;return b&&A&&S}),j={totalIntegrations:c.length,activeIntegrations:c.filter(v=>v.status==="active").length,errorIntegrations:c.filter(v=>v.status==="error").length,totalCallsToday:c.reduce((v,b)=>v+b.callsToday,0)};return t.jsx("div",{className:"min-h-screen cyber-bg",children:t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"API Integration Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage external API integrations and webhook endpoints for the Fanz ecosystem"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(te,{variant:"outline","data-testid":"button-refresh-integrations",children:[t.jsx(Zo,{className:"w-4 h-4 mr-2"}),"Refresh All"]}),t.jsxs(te,{"data-testid":"button-add-integration",children:[t.jsx(oa,{className:"w-4 h-4 mr-2"}),"Add Integration"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx($,{className:"bg-gray-900/50 border-cyan-500/20",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Er,{className:"h-8 w-8 text-cyan-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Total APIs"}),t.jsx("p",{className:"text-2xl font-bold text-cyan-400",children:j.totalIntegrations})]})]})})}),t.jsx($,{className:"bg-gray-900/50 border-green-500/20",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(xn,{className:"h-8 w-8 text-green-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Active"}),t.jsx("p",{className:"text-2xl font-bold text-green-400",children:j.activeIntegrations})]})]})})}),t.jsx($,{className:"bg-gray-900/50 border-red-500/20",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Vs,{className:"h-8 w-8 text-red-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Errors"}),t.jsx("p",{className:"text-2xl font-bold text-red-400",children:j.errorIntegrations})]})]})})}),t.jsx($,{className:"bg-gray-900/50 border-purple-500/20",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ks,{className:"h-8 w-8 text-purple-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Calls Today"}),t.jsx("p",{className:"text-2xl font-bold text-purple-400",children:j.totalCallsToday.toLocaleString()})]})]})})})]}),t.jsxs(Xs,{defaultValue:"integrations",className:"w-full",children:[t.jsxs($s,{className:"grid w-full grid-cols-4",children:[t.jsx(lt,{value:"integrations",children:"API Integrations"}),t.jsx(lt,{value:"webhooks",children:"Webhooks"}),t.jsx(lt,{value:"keys",children:"API Keys"}),t.jsx(lt,{value:"monitoring",children:"Monitoring"})]}),t.jsx(ct,{value:"integrations",className:"space-y-6",children:t.jsxs($,{className:"bg-gray-900/50 border-cyan-500/20",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-cyan-400",children:"API Integrations"}),t.jsx(Ct,{children:"Manage external API connections and configurations"})]}),t.jsxs(q,{children:[t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(jr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Fe,{placeholder:"Search integrations...",value:s,onChange:v=>r(v.target.value),className:"pl-10 bg-gray-800 border-gray-700","data-testid":"input-integration-search"})]}),t.jsxs(sn,{value:a,onValueChange:i,children:[t.jsx(en,{className:"w-[180px] bg-gray-800 border-gray-700",children:t.jsx(rn,{placeholder:"Filter by category"})}),t.jsxs(tn,{children:[t.jsx(re,{value:"all",children:"All Categories"}),t.jsx(re,{value:"payment",children:"Payment Systems"}),t.jsx(re,{value:"ai_service",children:"AI Services"}),t.jsx(re,{value:"social_media",children:"Social Media"}),t.jsx(re,{value:"communication",children:"Communication"}),t.jsx(re,{value:"storage",children:"Storage & CDN"}),t.jsx(re,{value:"analytics",children:"Analytics & Tracking"}),t.jsx(re,{value:"security",children:"Security"}),t.jsx(re,{value:"media",children:"Media & Live Streaming"}),t.jsx(re,{value:"compliance",children:"Compliance & Verification"}),t.jsx(re,{value:"adult_platforms",children:"Adult Platforms"}),t.jsx(re,{value:"affiliate",children:"Affiliate Networks"}),t.jsx(re,{value:"crypto",children:"Cryptocurrency"})]})]}),t.jsxs(sn,{value:o,onValueChange:l,children:[t.jsx(en,{className:"w-[150px] bg-gray-800 border-gray-700",children:t.jsx(rn,{placeholder:"Filter by status"})}),t.jsxs(tn,{children:[t.jsx(re,{value:"all",children:"All Status"}),t.jsx(re,{value:"active",children:"Active"}),t.jsx(re,{value:"inactive",children:"Inactive"}),t.jsx(re,{value:"error",children:"Error"}),t.jsx(re,{value:"rate_limited",children:"Rate Limited"})]})]})]}),t.jsx("div",{className:"border rounded-lg bg-gray-800/50",children:t.jsxs(Ar,{children:[t.jsx(Cr,{children:t.jsxs(Vn,{children:[t.jsx(He,{children:"Integration"}),t.jsx(He,{children:"Category"}),t.jsx(He,{children:"Status"}),t.jsx(He,{children:"Usage"}),t.jsx(He,{children:"Performance"}),t.jsx(He,{children:"Actions"})]})}),t.jsx(Tr,{children:N.map(v=>t.jsxs(Vn,{children:[t.jsx(Ve,{children:t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y(v.category),t.jsx("span",{className:"font-medium",children:v.name}),t.jsx(de,{variant:"outline",className:"text-xs",children:v.version})]}),t.jsx("p",{className:"text-xs text-gray-400",children:v.provider})]})}),t.jsx(Ve,{children:t.jsx(de,{variant:"outline",className:"capitalize",children:v.category.replace("_"," ")})}),t.jsx(Ve,{children:m(v.status)}),t.jsx(Ve,{children:t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"text-sm font-mono",children:[v.callsToday.toLocaleString()," calls today"]}),t.jsx(Xn,{value:v.quotaUsed/v.monthlyQuota*100,className:"w-20 h-2"}),t.jsxs("div",{className:"text-xs text-gray-400",children:[(v.quotaUsed/v.monthlyQuota*100).toFixed(1),"% quota used"]})]})}),t.jsx(Ve,{children:t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"text-sm",children:[v.avgResponseTime,"s avg"]}),t.jsxs("div",{className:"text-sm text-green-400",children:[v.successRate,"% success"]}),t.jsxs("div",{className:"text-xs text-gray-400",children:[v.rateLimitRemaining," /"," ",v.rateLimit," remaining"]})]})}),t.jsx(Ve,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(te,{size:"sm",onClick:()=>h.mutate(v.id),disabled:h.isPending,variant:"outline","data-testid":`button-test-${v.id}`,children:t.jsx(va,{className:"w-3 h-3"})}),t.jsx(te,{size:"sm",onClick:()=>u.mutate(v.id),disabled:u.isPending,variant:v.status==="active"?"destructive":"default","data-testid":`button-toggle-${v.id}`,children:v.status==="active"?t.jsx(Vs,{className:"w-3 h-3"}):t.jsx(xn,{className:"w-3 h-3"})}),t.jsx(te,{size:"sm",variant:"outline","data-testid":`button-config-${v.id}`,children:t.jsx(lr,{className:"w-3 h-3"})}),t.jsx(te,{size:"sm",variant:"outline","data-testid":`button-view-${v.id}`,children:t.jsx(Mn,{className:"w-3 h-3"})})]})})]},v.id))})]})})]})]})}),t.jsx(ct,{value:"webhooks",className:"space-y-6",children:t.jsxs($,{className:"bg-gray-900/50 border-cyan-500/20",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-cyan-400",children:"Webhook Endpoints"}),t.jsx(Ct,{children:"Manage incoming webhook endpoints and event handlers"})]}),t.jsx(q,{children:t.jsx("div",{className:"space-y-4",children:d.map(v=>t.jsx($,{className:"bg-gray-800/50",children:t.jsxs(q,{className:"p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-white",children:v.name}),t.jsx("p",{className:"text-sm text-gray-400 font-mono",children:v.url})]}),m(v.status)]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Events:"}),t.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:v.events.map(b=>t.jsx(de,{variant:"secondary",className:"text-xs",children:b},b))})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Performance:"}),t.jsxs("p",{className:"text-green-400",children:[v.successfulCalls," successful"]}),t.jsxs("p",{className:"text-red-400",children:[v.failedCalls," failed"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Last Triggered:"}),t.jsx("p",{children:new Date(v.lastTriggered).toLocaleString()})]})]})]})},v.id))})})]})}),t.jsx(ct,{value:"keys",className:"space-y-6",children:t.jsxs($,{className:"bg-gray-900/50 border-cyan-500/20",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-cyan-400",children:"API Key Management"}),t.jsx(Ct,{children:"Secure storage and management of API credentials"})]}),t.jsx(q,{children:t.jsxs("div",{className:"text-center py-12",children:[t.jsx(WA,{className:"w-16 h-16 mx-auto mb-4 text-cyan-400"}),t.jsx("p",{className:"text-lg font-medium text-white mb-2",children:"Secure API Key Storage"}),t.jsx("p",{className:"text-gray-400 mb-6",children:"All API keys are securely encrypted and stored using enterprise-grade security"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center mt-8",children:[t.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[t.jsx(En,{className:"w-8 h-8 mx-auto mb-2 text-green-400"}),t.jsx("p",{className:"font-medium text-green-400",children:"8 Active Keys"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Encrypted & Secure"})]}),t.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[t.jsx(As,{className:"w-8 h-8 mx-auto mb-2 text-yellow-400"}),t.jsx("p",{className:"font-medium text-yellow-400",children:"2 Expiring Soon"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Within 30 days"})]}),t.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[t.jsx(ln,{className:"w-8 h-8 mx-auto mb-2 text-red-400"}),t.jsx("p",{className:"font-medium text-red-400",children:"1 Invalid Key"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Needs attention"})]})]})]})})]})}),t.jsx(ct,{value:"monitoring",className:"space-y-6",children:t.jsxs($,{className:"bg-gray-900/50 border-cyan-500/20",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-cyan-400",children:"API Performance Monitoring"}),t.jsx(Ct,{children:"Real-time monitoring and analytics for all integrations"})]}),t.jsx(q,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"p-6 bg-gray-800/50 rounded-lg",children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Response Times"}),t.jsx("div",{className:"space-y-3",children:c.slice(0,5).map(v=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:v.name}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Xn,{value:v.avgResponseTime/3*100,className:"w-16 h-2"}),t.jsxs("span",{className:"text-xs font-mono text-white",children:[v.avgResponseTime,"s"]})]})]},v.id))})]}),t.jsxs("div",{className:"p-6 bg-gray-800/50 rounded-lg",children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Success Rates"}),t.jsx("div",{className:"space-y-3",children:c.slice(0,5).map(v=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:v.name}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Xn,{value:v.successRate,className:"w-16 h-2"}),t.jsxs("span",{className:"text-xs font-mono text-green-400",children:[v.successRate,"%"]})]})]},v.id))})]})]})})]})})]})]})})}function YEe(){const{toast:n}=Dn(),e=ps(),[s,r]=R.useState("all"),[a,i]=R.useState(""),o=[{id:"fanzlab",name:"FanzLab",theme:"Central neon portal",icon:t.jsx(va,{className:"w-5 h-5"}),status:"active",userCount:2847592,dailyActive:456789,moderationLevel:8,autoModerationEnabled:!0,contentFilters:{nudity:85,violence:90,harassment:95,spam:88,ageVerification:!0,customWords:["illegal","underage","violence"]},allowedContentTypes:["images","videos","text","live_streams","audio"],regionalRestrictions:["CN","RU"],communityGuidelines:"Adult content allowed with age verification"},{id:"boyfanz",name:"BoyFanz",theme:"Neon red for male creators",icon:t.jsx(I$,{className:"w-5 h-5"}),status:"active",userCount:1234567,dailyActive:189432,moderationLevel:7,autoModerationEnabled:!0,contentFilters:{nudity:75,violence:85,harassment:92,spam:85,ageVerification:!0,customWords:["harassment","doxxing"]},allowedContentTypes:["images","videos","text","live_streams"],regionalRestrictions:["CN","IN"],communityGuidelines:"Male-focused adult content with respect guidelines"},{id:"girlfanz",name:"GirlFanz",theme:"Neon pink for female creators",icon:t.jsx(Y1,{className:"w-5 h-5"}),status:"active",userCount:3456789,dailyActive:567890,moderationLevel:8,autoModerationEnabled:!0,contentFilters:{nudity:80,violence:90,harassment:96,spam:88,ageVerification:!0,customWords:["harassment","revenge","non-consensual"]},allowedContentTypes:["images","videos","text","live_streams","audio"],regionalRestrictions:["CN","RU","TR"],communityGuidelines:"Female-empowered adult content with safety focus"},{id:"daddyfanz",name:"DaddyFanz",theme:"Neon gold for Dom/sub community",icon:t.jsx($re,{className:"w-5 h-5"}),status:"active",userCount:567890,dailyActive:78901,moderationLevel:9,autoModerationEnabled:!0,contentFilters:{nudity:70,violence:95,harassment:95,spam:90,ageVerification:!0,customWords:["non-consensual","abuse","illegal"]},allowedContentTypes:["images","videos","text","live_streams"],regionalRestrictions:["CN","RU","IN","TR"],communityGuidelines:"BDSM/Dom-sub content with strict consent requirements"},{id:"pupfanz",name:"PupFanz",theme:"Neon green for pup community",icon:t.jsx($$,{className:"w-5 h-5"}),status:"active",userCount:234567,dailyActive:34567,moderationLevel:8,autoModerationEnabled:!0,contentFilters:{nudity:75,violence:92,harassment:94,spam:87,ageVerification:!0,customWords:["abuse","non-consensual"]},allowedContentTypes:["images","videos","text","live_streams"],regionalRestrictions:["CN","RU"],communityGuidelines:"Pet-play community with consent and safety focus"},{id:"taboofanz",name:"TabooFanz",theme:"Dark neon blue for extreme content",icon:t.jsx(aae,{className:"w-5 h-5"}),status:"active",userCount:123456,dailyActive:12345,moderationLevel:10,autoModerationEnabled:!0,contentFilters:{nudity:60,violence:98,harassment:97,spam:92,ageVerification:!0,customWords:["illegal","underage","violence","drugs","weapons"]},allowedContentTypes:["images","videos","text"],regionalRestrictions:["CN","RU","IN","TR","AU","UK"],communityGuidelines:"Extreme adult content with maximum safety controls"},{id:"transfanz",name:"TransFanz",theme:"Inclusive turquoise for trans creators",icon:t.jsx(fae,{className:"w-5 h-5"}),status:"active",userCount:345678,dailyActive:45678,moderationLevel:9,autoModerationEnabled:!0,contentFilters:{nudity:80,violence:95,harassment:98,spam:90,ageVerification:!0,customWords:["transphobia","deadnaming","harassment","discrimination"]},allowedContentTypes:["images","videos","text","live_streams","audio"],regionalRestrictions:["CN","RU","IN","TR","AF"],communityGuidelines:"Trans-inclusive space with zero tolerance for discrimination"},{id:"cougarfanz",name:"CougarFanz",theme:"Mature gold for mature creators",icon:t.jsx(ux,{className:"w-5 h-5"}),status:"active",userCount:456789,dailyActive:56789,moderationLevel:7,autoModerationEnabled:!0,contentFilters:{nudity:78,violence:88,harassment:93,spam:85,ageVerification:!0,customWords:["ageism","harassment"]},allowedContentTypes:["images","videos","text","live_streams","audio"],regionalRestrictions:["CN"],communityGuidelines:"Mature adult content celebrating experience and wisdom"}],l=[{id:"act_001",platform:"GirlFanz",action:"content_removed",userId:"user_123",username:"sarah_model",reason:"Non-consensual content reported",moderatorId:"mod_001",timestamp:"2025-01-15T11:45:00Z",severity:"high",appealable:!0},{id:"act_002",platform:"BoyFanz",action:"user_warned",userId:"user_456",username:"alex_creator",reason:"Spam messaging multiple users",moderatorId:"ai_moderator",timestamp:"2025-01-15T11:30:00Z",severity:"medium",appealable:!0},{id:"act_003",platform:"TabooFanz",action:"user_suspended",userId:"user_789",username:"extreme_user",reason:"Violation of extreme content guidelines",moderatorId:"mod_002",timestamp:"2025-01-15T10:15:00Z",severity:"critical",appealable:!1},{id:"act_004",platform:"TransFanz",action:"user_banned",userId:"user_321",username:"problem_user",reason:"Repeated transphobic harassment",moderatorId:"mod_003",timestamp:"2025-01-15T09:30:00Z",severity:"critical",appealable:!1}],c=kt({mutationFn:({platformId:j,level:v})=>Kt("POST",`/api/platforms/${j}/moderation-level`,{level:v}),onSuccess:(j,{platformId:v,level:b})=>{e.invalidateQueries({queryKey:["/api/platforms",v]});const A=o.find(S=>S.id===v);n({title:"Moderation level updated",description:`${A?.name} moderation level set to ${b}/10`})}}),d=kt({mutationFn:({platformId:j,enabled:v})=>Kt("POST",`/api/platforms/${j}/auto-moderation`,{enabled:v}),onSuccess:(j,{platformId:v,enabled:b})=>{e.invalidateQueries({queryKey:["/api/platforms",v]});const A=o.find(S=>S.id===v);n({title:`Auto-moderation ${b?"enabled":"disabled"}`,description:`${A?.name} auto-moderation has been ${b?"activated":"deactivated"}`})}}),u=j=>{const v={active:"bg-green-600",maintenance:"bg-yellow-600",inactive:"bg-red-600"};return t.jsx(de,{className:v[j]||"bg-gray-600",children:j.toUpperCase()})},h=j=>{const v={warned:"bg-yellow-600",content_removed:"bg-orange-600",user_suspended:"bg-red-600",user_banned:"bg-red-800",content_approved:"bg-green-600"};return t.jsx(de,{className:v[j]||"bg-gray-600",children:j.replace("_"," ").toUpperCase()})},m=j=>{const v={low:"bg-blue-600",medium:"bg-yellow-600",high:"bg-orange-600",critical:"bg-red-600"};return t.jsx(de,{className:v[j]||"bg-gray-600",children:j.toUpperCase()})},y=o.filter(j=>{const v=s==="all"||j.id===s,b=!a||j.name.toLowerCase().includes(a.toLowerCase())||j.theme.toLowerCase().includes(a.toLowerCase());return v&&b}),N={totalPlatforms:o.length,activePlatforms:o.filter(j=>j.status==="active").length,totalUsers:o.reduce((j,v)=>j+v.userCount,0),totalDailyActive:o.reduce((j,v)=>j+v.dailyActive,0)};return t.jsx("div",{className:"min-h-screen cyber-bg",children:t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"Platform-Specific Moderation"}),t.jsx("p",{className:"text-muted-foreground",children:"Configure moderation settings for each Fanz™ platform cluster"})]}),t.jsx("div",{className:"flex items-center gap-3",children:t.jsxs(de,{variant:"outline",className:"border-cyan-500 text-cyan-400",children:[t.jsx(Ks,{className:"w-4 h-4 mr-2"}),N.activePlatforms,"/",N.totalPlatforms," Platforms Active"]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx($,{className:"bg-gray-900/50 border-cyan-500/20",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(KA,{className:"h-8 w-8 text-cyan-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Total Platforms"}),t.jsx("p",{className:"text-2xl font-bold text-cyan-400",children:N.totalPlatforms})]})]})})}),t.jsx($,{className:"bg-gray-900/50 border-green-500/20",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(er,{className:"h-8 w-8 text-green-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Total Users"}),t.jsxs("p",{className:"text-2xl font-bold text-green-400",children:[(N.totalUsers/1e6).toFixed(1),"M"]})]})]})})}),t.jsx($,{className:"bg-gray-900/50 border-blue-500/20",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ks,{className:"h-8 w-8 text-blue-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Daily Active"}),t.jsxs("p",{className:"text-2xl font-bold text-blue-400",children:[(N.totalDailyActive/1e6).toFixed(1),"M"]})]})]})})}),t.jsx($,{className:"bg-gray-900/50 border-purple-500/20",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(En,{className:"h-8 w-8 text-purple-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Avg Moderation"}),t.jsxs("p",{className:"text-2xl font-bold text-purple-400",children:[(o.reduce((j,v)=>j+v.moderationLevel,0)/o.length).toFixed(1),"/10"]})]})]})})})]}),t.jsxs(Xs,{defaultValue:"platforms",className:"w-full",children:[t.jsxs($s,{className:"grid w-full grid-cols-3",children:[t.jsx(lt,{value:"platforms",children:"Platform Settings"}),t.jsx(lt,{value:"actions",children:"Recent Actions"}),t.jsx(lt,{value:"analytics",children:"Analytics"})]}),t.jsx(ct,{value:"platforms",className:"space-y-6",children:t.jsxs($,{className:"bg-gray-900/50 border-cyan-500/20",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-cyan-400",children:"Platform Moderation Configuration"}),t.jsx(Ct,{children:"Configure moderation settings for each platform cluster"})]}),t.jsxs(q,{children:[t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(jr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Fe,{placeholder:"Search platforms...",value:a,onChange:j=>i(j.target.value),className:"pl-10 bg-gray-800 border-gray-700","data-testid":"input-platform-search"})]}),t.jsxs(sn,{value:s,onValueChange:r,children:[t.jsx(en,{className:"w-[200px] bg-gray-800 border-gray-700",children:t.jsx(rn,{placeholder:"Filter by platform"})}),t.jsxs(tn,{children:[t.jsx(re,{value:"all",children:"All Platforms"}),o.map(j=>t.jsx(re,{value:j.id,children:j.name},j.id))]})]})]}),t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:y.map(j=>t.jsxs($,{className:"bg-gray-800/50 border-gray-700",children:[t.jsx(oe,{className:"pb-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[j.icon,t.jsxs("div",{children:[t.jsx(le,{className:"text-lg text-white",children:j.name}),t.jsx(Ct,{className:"text-xs",children:j.theme})]})]}),u(j.status)]})}),t.jsxs(q,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Total Users"}),t.jsxs("p",{className:"font-semibold text-white",children:[(j.userCount/1e6).toFixed(1),"M"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-400",children:"Daily Active"}),t.jsxs("p",{className:"font-semibold text-white",children:[(j.dailyActive/1e3).toFixed(0),"K"]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Auto-Moderation"}),t.jsx(fn,{checked:j.autoModerationEnabled,onCheckedChange:v=>d.mutate({platformId:j.id,enabled:v}),"data-testid":`switch-auto-moderation-${j.id}`})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Moderation Level"}),t.jsxs("span",{className:"text-sm font-mono text-white",children:[j.moderationLevel,"/10"]})]}),t.jsx(ph,{value:[j.moderationLevel],onValueChange:v=>c.mutate({platformId:j.id,level:v[0]}),max:10,min:1,step:1,className:"w-full","data-testid":`slider-moderation-${j.id}`})]}),t.jsxs("div",{className:"pt-2",children:[t.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Content Filters:"}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Nudity:"}),t.jsxs("span",{className:"font-mono",children:[j.contentFilters.nudity,"%"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Violence:"}),t.jsxs("span",{className:"font-mono",children:[j.contentFilters.violence,"%"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Harassment:"}),t.jsxs("span",{className:"font-mono",children:[j.contentFilters.harassment,"%"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Spam:"}),t.jsxs("span",{className:"font-mono",children:[j.contentFilters.spam,"%"]})]})]})]}),t.jsxs("div",{className:"flex justify-between pt-2",children:[t.jsxs(te,{size:"sm",variant:"outline","data-testid":`button-configure-${j.id}`,children:[t.jsx(lr,{className:"w-3 h-3 mr-1"}),"Configure"]}),t.jsxs(te,{size:"sm",variant:"outline","data-testid":`button-analytics-${j.id}`,children:[t.jsx(la,{className:"w-3 h-3 mr-1"}),"Analytics"]})]})]})]})]},j.id))})]})]})}),t.jsx(ct,{value:"actions",className:"space-y-6",children:t.jsxs($,{className:"bg-gray-900/50 border-cyan-500/20",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-cyan-400",children:"Recent Moderation Actions"}),t.jsx(Ct,{children:"Latest moderation actions across all platforms"})]}),t.jsx(q,{children:t.jsx("div",{className:"border rounded-lg bg-gray-800/50",children:t.jsxs(Ar,{children:[t.jsx(Cr,{children:t.jsxs(Vn,{children:[t.jsx(He,{children:"Platform"}),t.jsx(He,{children:"User"}),t.jsx(He,{children:"Action"}),t.jsx(He,{children:"Reason"}),t.jsx(He,{children:"Severity"}),t.jsx(He,{children:"Moderator"}),t.jsx(He,{children:"Time"}),t.jsx(He,{children:"Appeal"})]})}),t.jsx(Tr,{children:l.map(j=>t.jsxs(Vn,{children:[t.jsx(Ve,{children:t.jsx(de,{variant:"outline",children:j.platform})}),t.jsx(Ve,{className:"font-medium",children:j.username}),t.jsx(Ve,{children:h(j.action)}),t.jsx(Ve,{className:"max-w-xs",children:t.jsx("p",{className:"text-sm truncate",children:j.reason})}),t.jsx(Ve,{children:m(j.severity)}),t.jsx(Ve,{className:"text-sm text-gray-400",children:j.moderatorId}),t.jsx(Ve,{className:"text-sm text-gray-400",children:new Date(j.timestamp).toLocaleString()}),t.jsx(Ve,{children:j.appealable?t.jsxs(de,{className:"bg-green-600",children:[t.jsx(xn,{className:"w-3 h-3 mr-1"}),"Yes"]}):t.jsxs(de,{className:"bg-red-600",children:[t.jsx(Vs,{className:"w-3 h-3 mr-1"}),"No"]})})]},j.id))})]})})})]})}),t.jsx(ct,{value:"analytics",className:"space-y-6",children:t.jsxs($,{className:"bg-gray-900/50 border-cyan-500/20",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-cyan-400",children:"Platform Moderation Analytics"}),t.jsx(Ct,{children:"Performance metrics and trends across all platforms"})]}),t.jsxs(q,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"text-center p-6 bg-gray-800/50 rounded-lg",children:[t.jsx(or,{className:"w-12 h-12 mx-auto mb-4 text-green-400"}),t.jsx("p",{className:"text-3xl font-bold text-green-400",children:"97.8%"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Auto-Moderation Accuracy"})]}),t.jsxs("div",{className:"text-center p-6 bg-gray-800/50 rounded-lg",children:[t.jsx(qA,{className:"w-12 h-12 mx-auto mb-4 text-yellow-400"}),t.jsx("p",{className:"text-3xl font-bold text-yellow-400",children:"2,847"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Actions Today"})]}),t.jsxs("div",{className:"text-center p-6 bg-gray-800/50 rounded-lg",children:[t.jsx(ln,{className:"w-12 h-12 mx-auto mb-4 text-red-400"}),t.jsx("p",{className:"text-3xl font-bold text-red-400",children:"23"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Critical Issues"})]})]}),t.jsxs("div",{className:"mt-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Platform Performance"}),t.jsx("div",{className:"space-y-4",children:o.map(j=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[j.icon,t.jsx("span",{className:"text-white",children:j.name})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[t.jsxs("div",{className:"text-center",children:[t.jsxs("p",{className:"text-green-400 font-mono",children:[(95+Math.random()*4).toFixed(1),"%"]}),t.jsx("p",{className:"text-xs text-gray-400",children:"Accuracy"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-blue-400 font-mono",children:Math.floor(Math.random()*500)+100}),t.jsx("p",{className:"text-xs text-gray-400",children:"Actions"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-yellow-400 font-mono",children:Math.floor(Math.random()*10)+1}),t.jsx("p",{className:"text-xs text-gray-400",children:"Appeals"})]})]})]},j.id))})]})]})]})})]})]})})}function QEe(){const{toast:n}=Dn(),e=ps(),[s,r]=R.useState(""),[a,i]=R.useState("all"),[o,l]=R.useState("all"),c=[{id:"rec_001",recordType:"2257",userId:"user_001",username:"sarah_model",platform:"GirlFanz",status:"compliant",documentUrl:"/documents/2257_sarah_model.pdf",verificationDate:"2025-01-01T00:00:00Z",expiryDate:"2025-12-31T23:59:59Z",verifiedBy:"compliance_officer_001",notes:"Age verification documents verified, model over 21",region:"US",riskLevel:"low"},{id:"rec_002",recordType:"age_verification",userId:"user_002",username:"alex_creator",platform:"BoyFanz",status:"pending",verificationDate:"2025-01-15T10:00:00Z",verifiedBy:"ai_verification",notes:"Automated age verification in progress",region:"CA",riskLevel:"medium"},{id:"rec_003",recordType:"gdpr",userId:"user_003",username:"maya_performer",platform:"FanzLab",status:"compliant",verificationDate:"2025-01-10T15:30:00Z",expiryDate:"2026-01-10T15:30:00Z",verifiedBy:"gdpr_compliance_bot",notes:"GDPR consent recorded and verified",region:"EU",riskLevel:"low"},{id:"rec_004",recordType:"ccpa",userId:"user_004",username:"jenny_cam",platform:"CougarFanz",status:"expired",verificationDate:"2024-06-01T00:00:00Z",expiryDate:"2025-01-01T00:00:00Z",verifiedBy:"compliance_officer_002",notes:"CCPA consent expired, requires renewal",region:"CA-US",riskLevel:"high"},{id:"rec_005",recordType:"content_labeling",userId:"user_005",username:"extreme_creator",platform:"TabooFanz",status:"missing",verificationDate:"2025-01-01T00:00:00Z",verifiedBy:"content_review_team",notes:"Adult content labeling requirements not met",region:"US",riskLevel:"critical"}],d=[{id:"rule_001",name:"USC 2257 Record Keeping",description:"Federal requirement for age verification records for adult content creators",jurisdiction:"United States",category:"age_verification",isActive:!0,severity:"critical",autoEnforcement:!0,lastUpdated:"2025-01-01T00:00:00Z",nextReview:"2025-07-01T00:00:00Z"},{id:"rule_002",name:"GDPR Data Processing",description:"European Union General Data Protection Regulation compliance",jurisdiction:"European Union",category:"data_privacy",isActive:!0,severity:"high",autoEnforcement:!0,lastUpdated:"2025-01-01T00:00:00Z",nextReview:"2025-06-01T00:00:00Z"},{id:"rule_003",name:"CCPA Consumer Privacy",description:"California Consumer Privacy Act data protection requirements",jurisdiction:"California",category:"data_privacy",isActive:!0,severity:"high",autoEnforcement:!0,lastUpdated:"2025-01-01T00:00:00Z",nextReview:"2025-08-01T00:00:00Z"},{id:"rule_004",name:"Content Labeling Standards",description:"Adult content must be properly labeled and age-gated",jurisdiction:"Global",category:"content_regulation",isActive:!0,severity:"medium",autoEnforcement:!0,lastUpdated:"2025-01-01T00:00:00Z",nextReview:"2025-04-01T00:00:00Z"},{id:"rule_005",name:"Payment Card Industry DSS",description:"PCI DSS compliance for payment card data handling",jurisdiction:"Global",category:"financial_compliance",isActive:!0,severity:"critical",autoEnforcement:!1,lastUpdated:"2025-01-01T00:00:00Z",nextReview:"2025-03-01T00:00:00Z"}],u=[{id:"audit_001",auditType:"automated",platform:"All",startDate:"2025-01-15T00:00:00Z",endDate:"2025-01-15T23:59:59Z",status:"completed",findings:23,criticalIssues:2,auditor:"automated_compliance_system",complianceScore:94},{id:"audit_002",auditType:"internal",platform:"GirlFanz",startDate:"2025-01-10T00:00:00Z",endDate:"2025-01-12T23:59:59Z",status:"completed",findings:8,criticalIssues:1,auditor:"compliance_team",complianceScore:97},{id:"audit_003",auditType:"external",platform:"All",startDate:"2025-01-01T00:00:00Z",endDate:"2025-01-31T23:59:59Z",status:"in_progress",findings:0,criticalIssues:0,auditor:"external_compliance_firm",complianceScore:0},{id:"audit_004",auditType:"regulatory",platform:"TabooFanz",startDate:"2025-01-20T00:00:00Z",endDate:"2025-01-25T23:59:59Z",status:"scheduled",findings:0,criticalIssues:0,auditor:"regulatory_authority",complianceScore:0}],h=kt({mutationFn:({recordId:S,status:w})=>Kt("POST",`/api/compliance/${S}/status`,{status:w}),onSuccess:(S,{recordId:w,status:E})=>{e.invalidateQueries({queryKey:["/api/compliance"]});const T=c.find(P=>P.id===w);n({title:"Compliance status updated",description:`${T?.username} compliance status updated to ${E}`})}}),m=kt({mutationFn:S=>Kt("POST","/api/compliance/report",{platform:S}),onSuccess:()=>{n({title:"Compliance report generated",description:"Report has been generated and is ready for download"})}}),y=S=>{const w={compliant:"bg-green-600",pending:"bg-yellow-600",expired:"bg-orange-600",missing:"bg-red-600",invalid:"bg-red-700"};return t.jsx(de,{className:w[S]||"bg-gray-600",children:S.toUpperCase()})},N=S=>{const w={low:"bg-green-700",medium:"bg-yellow-700",high:"bg-orange-700",critical:"bg-red-700"};return t.jsx(de,{className:w[S]||"bg-gray-600",children:S.toUpperCase()})},j=S=>{const w={low:"bg-blue-600",medium:"bg-yellow-600",high:"bg-orange-600",critical:"bg-red-600"};return t.jsx(de,{className:w[S]||"bg-gray-600",children:S.toUpperCase()})},v=S=>{const w={in_progress:"bg-blue-600",completed:"bg-green-600",failed:"bg-red-600",scheduled:"bg-yellow-600"};return t.jsx(de,{className:w[S]||"bg-gray-600",children:S.replace("_"," ").toUpperCase()})},b=c.filter(S=>{const w=a==="all"||S.platform===a,E=o==="all"||S.status===o,T=!s||S.username.toLowerCase().includes(s.toLowerCase())||S.recordType.toLowerCase().includes(s.toLowerCase());return w&&E&&T}),A={totalRecords:c.length,compliantRecords:c.filter(S=>S.status==="compliant").length,pendingRecords:c.filter(S=>S.status==="pending").length,criticalIssues:c.filter(S=>S.riskLevel==="critical").length};return t.jsx("div",{className:"min-h-screen cyber-bg",children:t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold cyber-text-glow",children:"Real-time Compliance Monitoring"}),t.jsx("p",{className:"text-muted-foreground",children:"Monitor 2257 records, GDPR/CCPA compliance, age verification across all platforms"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(te,{variant:"outline",onClick:()=>m.mutate("all"),disabled:m.isPending,"data-testid":"button-generate-report",children:[t.jsx(xi,{className:"w-4 h-4 mr-2"}),"Generate Report"]}),t.jsxs(te,{variant:"outline","data-testid":"button-refresh-compliance",children:[t.jsx(Zo,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx($,{className:"bg-gray-900/50 border-cyan-500/20",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(mj,{className:"h-8 w-8 text-cyan-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Total Records"}),t.jsx("p",{className:"text-2xl font-bold text-cyan-400",children:A.totalRecords})]})]})})}),t.jsx($,{className:"bg-gray-900/50 border-green-500/20",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(xn,{className:"h-8 w-8 text-green-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Compliant"}),t.jsx("p",{className:"text-2xl font-bold text-green-400",children:A.compliantRecords})]})]})})}),t.jsx($,{className:"bg-gray-900/50 border-yellow-500/20",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(As,{className:"h-8 w-8 text-yellow-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Pending"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:A.pendingRecords})]})]})})}),t.jsx($,{className:"bg-gray-900/50 border-red-500/20",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ln,{className:"h-8 w-8 text-red-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Critical Issues"}),t.jsx("p",{className:"text-2xl font-bold text-red-400",children:A.criticalIssues})]})]})})})]}),t.jsxs(Xs,{defaultValue:"records",className:"w-full",children:[t.jsxs($s,{className:"grid w-full grid-cols-4",children:[t.jsx(lt,{value:"records",children:"Compliance Records"}),t.jsx(lt,{value:"rules",children:"Compliance Rules"}),t.jsx(lt,{value:"audits",children:"Audit Reports"}),t.jsx(lt,{value:"dashboard",children:"Dashboard"})]}),t.jsx(ct,{value:"records",className:"space-y-6",children:t.jsxs($,{className:"bg-gray-900/50 border-cyan-500/20",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-cyan-400",children:"Compliance Records"}),t.jsx(Ct,{children:"Monitor individual compliance records and verification status"})]}),t.jsxs(q,{children:[t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(jr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(Fe,{placeholder:"Search records...",value:s,onChange:S=>r(S.target.value),className:"pl-10 bg-gray-800 border-gray-700","data-testid":"input-compliance-search"})]}),t.jsxs(sn,{value:a,onValueChange:i,children:[t.jsx(en,{className:"w-[180px] bg-gray-800 border-gray-700",children:t.jsx(rn,{placeholder:"Filter by platform"})}),t.jsxs(tn,{children:[t.jsx(re,{value:"all",children:"All Platforms"}),t.jsx(re,{value:"FanzLab",children:"FanzLab"}),t.jsx(re,{value:"BoyFanz",children:"BoyFanz"}),t.jsx(re,{value:"GirlFanz",children:"GirlFanz"}),t.jsx(re,{value:"DaddyFanz",children:"DaddyFanz"}),t.jsx(re,{value:"TabooFanz",children:"TabooFanz"}),t.jsx(re,{value:"CougarFanz",children:"CougarFanz"})]})]}),t.jsxs(sn,{value:o,onValueChange:l,children:[t.jsx(en,{className:"w-[150px] bg-gray-800 border-gray-700",children:t.jsx(rn,{placeholder:"Filter by status"})}),t.jsxs(tn,{children:[t.jsx(re,{value:"all",children:"All Status"}),t.jsx(re,{value:"compliant",children:"Compliant"}),t.jsx(re,{value:"pending",children:"Pending"}),t.jsx(re,{value:"expired",children:"Expired"}),t.jsx(re,{value:"missing",children:"Missing"})]})]})]}),t.jsx("div",{className:"border rounded-lg bg-gray-800/50",children:t.jsxs(Ar,{children:[t.jsx(Cr,{children:t.jsxs(Vn,{children:[t.jsx(He,{children:"User"}),t.jsx(He,{children:"Record Type"}),t.jsx(He,{children:"Platform"}),t.jsx(He,{children:"Status"}),t.jsx(He,{children:"Risk Level"}),t.jsx(He,{children:"Verification Date"}),t.jsx(He,{children:"Expiry"}),t.jsx(He,{children:"Actions"})]})}),t.jsx(Tr,{children:b.map(S=>t.jsxs(Vn,{children:[t.jsx(Ve,{children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:S.username}),t.jsx("p",{className:"text-xs text-gray-400",children:S.region})]})}),t.jsx(Ve,{children:t.jsx(de,{variant:"outline",className:"uppercase",children:S.recordType})}),t.jsx(Ve,{children:t.jsx(de,{variant:"outline",children:S.platform})}),t.jsx(Ve,{children:y(S.status)}),t.jsx(Ve,{children:N(S.riskLevel)}),t.jsx(Ve,{className:"text-sm",children:new Date(S.verificationDate).toLocaleDateString()}),t.jsx(Ve,{className:"text-sm",children:S.expiryDate?t.jsx("span",{className:new Date(S.expiryDate)<new Date?"text-red-400":"text-gray-400",children:new Date(S.expiryDate).toLocaleDateString()}):t.jsx("span",{className:"text-gray-400",children:"N/A"})}),t.jsx(Ve,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(te,{size:"sm",variant:"outline","data-testid":`button-view-${S.id}`,children:t.jsx(Mn,{className:"w-3 h-3"})}),S.documentUrl&&t.jsx(te,{size:"sm",variant:"outline","data-testid":`button-download-${S.id}`,children:t.jsx(xi,{className:"w-3 h-3"})}),S.status==="pending"&&t.jsx(te,{size:"sm",onClick:()=>h.mutate({recordId:S.id,status:"compliant"}),disabled:h.isPending,className:"bg-green-600 hover:bg-green-700","data-testid":`button-approve-${S.id}`,children:t.jsx(xn,{className:"w-3 h-3"})})]})})]},S.id))})]})})]})]})}),t.jsx(ct,{value:"rules",className:"space-y-6",children:t.jsxs($,{className:"bg-gray-900/50 border-cyan-500/20",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-cyan-400",children:"Compliance Rules"}),t.jsx(Ct,{children:"Manage regulatory compliance rules and enforcement policies"})]}),t.jsx(q,{children:t.jsx("div",{className:"space-y-4",children:d.map(S=>t.jsx($,{className:"bg-gray-800/50",children:t.jsx(q,{className:"p-4",children:t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("h3",{className:"font-semibold text-white",children:S.name}),j(S.severity),S.autoEnforcement&&t.jsxs(de,{className:"bg-blue-600",children:[t.jsx(va,{className:"w-3 h-3 mr-1"}),"Auto"]})]}),t.jsx("p",{className:"text-sm text-gray-400 mb-2",children:S.description}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-400",children:[t.jsxs("span",{children:[t.jsx(Er,{className:"w-3 h-3 inline mr-1"}),S.jurisdiction]}),t.jsxs("span",{children:[t.jsx(Q0,{className:"w-3 h-3 inline mr-1"}),"Review:"," ",new Date(S.nextReview).toLocaleDateString()]}),t.jsx("span",{className:"capitalize",children:S.category.replace("_"," ")})]})]}),t.jsx("div",{className:"flex items-center gap-2",children:S.isActive?t.jsxs(de,{className:"bg-green-600",children:[t.jsx(xn,{className:"w-3 h-3 mr-1"}),"Active"]}):t.jsxs(de,{className:"bg-gray-600",children:[t.jsx(Vs,{className:"w-3 h-3 mr-1"}),"Inactive"]})})]})})},S.id))})})]})}),t.jsx(ct,{value:"audits",className:"space-y-6",children:t.jsxs($,{className:"bg-gray-900/50 border-cyan-500/20",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-cyan-400",children:"Compliance Audits"}),t.jsx(Ct,{children:"Track compliance audit schedules, progress, and results"})]}),t.jsx(q,{children:t.jsx("div",{className:"border rounded-lg bg-gray-800/50",children:t.jsxs(Ar,{children:[t.jsx(Cr,{children:t.jsxs(Vn,{children:[t.jsx(He,{children:"Audit Type"}),t.jsx(He,{children:"Platform"}),t.jsx(He,{children:"Period"}),t.jsx(He,{children:"Status"}),t.jsx(He,{children:"Score"}),t.jsx(He,{children:"Findings"}),t.jsx(He,{children:"Critical"}),t.jsx(He,{children:"Auditor"})]})}),t.jsx(Tr,{children:u.map(S=>t.jsxs(Vn,{children:[t.jsx(Ve,{children:t.jsx(de,{variant:"outline",className:"capitalize",children:S.auditType.replace("_"," ")})}),t.jsx(Ve,{children:t.jsx(de,{variant:"outline",children:S.platform})}),t.jsxs(Ve,{className:"text-sm",children:[new Date(S.startDate).toLocaleDateString()," -"," ",new Date(S.endDate).toLocaleDateString()]}),t.jsx(Ve,{children:v(S.status)}),t.jsx(Ve,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[S.complianceScore>0&&t.jsxs(t.Fragment,{children:[t.jsx(Xn,{value:S.complianceScore,className:"w-16 h-2"}),t.jsxs("span",{className:"text-sm font-mono",children:[S.complianceScore,"%"]})]}),S.complianceScore===0&&t.jsx("span",{className:"text-gray-400 text-sm",children:"N/A"})]})}),t.jsx(Ve,{children:t.jsx("div",{className:"text-center",children:t.jsx("p",{className:"text-sm font-mono text-blue-400",children:S.findings})})}),t.jsx(Ve,{children:t.jsx("div",{className:"text-center",children:t.jsx("p",{className:`text-sm font-mono ${S.criticalIssues>0?"text-red-400":"text-green-400"}`,children:S.criticalIssues})})}),t.jsx(Ve,{className:"text-sm text-gray-400",children:S.auditor.replace("_"," ")})]},S.id))})]})})})]})}),t.jsxs(ct,{value:"dashboard",className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs($,{className:"bg-gray-900/50 border-cyan-500/20",children:[t.jsx(oe,{children:t.jsx(le,{className:"text-cyan-400",children:"Compliance Overview"})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Overall Compliance Rate"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Xn,{value:85,className:"w-20 h-2"}),t.jsx("span",{className:"text-sm font-mono text-green-400",children:"85%"})]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"2257 Records"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Xn,{value:92,className:"w-20 h-2"}),t.jsx("span",{className:"text-sm font-mono text-green-400",children:"92%"})]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"GDPR Compliance"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Xn,{value:88,className:"w-20 h-2"}),t.jsx("span",{className:"text-sm font-mono text-green-400",children:"88%"})]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Age Verification"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Xn,{value:96,className:"w-20 h-2"}),t.jsx("span",{className:"text-sm font-mono text-green-400",children:"96%"})]})]})]})})]}),t.jsxs($,{className:"bg-gray-900/50 border-cyan-500/20",children:[t.jsx(oe,{children:t.jsx(le,{className:"text-cyan-400",children:"Risk Assessment"})}),t.jsx(q,{children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"text-center p-4 bg-green-900/30 rounded-lg",children:[t.jsx("p",{className:"text-2xl font-bold text-green-400",children:A.compliantRecords}),t.jsx("p",{className:"text-sm text-green-300",children:"Low Risk"})]}),t.jsxs("div",{className:"text-center p-4 bg-yellow-900/30 rounded-lg",children:[t.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:A.pendingRecords}),t.jsx("p",{className:"text-sm text-yellow-300",children:"Medium Risk"})]}),t.jsxs("div",{className:"text-center p-4 bg-orange-900/30 rounded-lg",children:[t.jsx("p",{className:"text-2xl font-bold text-orange-400",children:"3"}),t.jsx("p",{className:"text-sm text-orange-300",children:"High Risk"})]}),t.jsxs("div",{className:"text-center p-4 bg-red-900/30 rounded-lg",children:[t.jsx("p",{className:"text-2xl font-bold text-red-400",children:A.criticalIssues}),t.jsx("p",{className:"text-sm text-red-300",children:"Critical Risk"})]})]})})]})]}),t.jsxs($,{className:"bg-gray-900/50 border-cyan-500/20",children:[t.jsx(oe,{children:t.jsx(le,{className:"text-cyan-400",children:"Compliance Trends"})}),t.jsx(q,{children:t.jsxs("div",{className:"text-center py-12",children:[t.jsx(la,{className:"w-16 h-16 mx-auto mb-4 text-cyan-400"}),t.jsx("p",{className:"text-lg font-medium text-white mb-2",children:"Compliance Analytics Dashboard"}),t.jsx("p",{className:"text-gray-400",children:"Real-time compliance monitoring and trend analysis across all Fanz™ platforms"})]})})]})]})]})]})})}function JEe({action:n,requiredRole:e,requiresSuperAdmin:s,contentType:r="post",onApprove:a,onReject:i,children:o}){const[l,c]=R.useState(!1),[d,u]=R.useState(""),[h,m]=R.useState(""),[y,N]=R.useState(!1),[j,v]=R.useState(!1),[b,A]=R.useState({age_verification:!1,costar_2257_forms:!1,content_reviewed:!1,legal_compliance:!1,audit_logged:!1}),S=async()=>{setTimeout(()=>{A({age_verification:!0,costar_2257_forms:r==="post"?y:!0,content_reviewed:!0,legal_compliance:!0,audit_logged:!0})},2e3)},w=T=>{if(!d.trim()){alert("Review reason is required for audit trail compliance");return}if(s&&!h){alert("Super Admin password required for this action");return}if(!Object.values(b).every(k=>k)){alert("All compliance checks must pass before approval");return}T&&a?a(d,{compliance_checks:b,timestamp:new Date().toISOString(),reviewer_action:n,super_admin_override:s}):!T&&i&&i(d),c(!1)},E=({id:T,label:P,checked:k,description:I})=>t.jsxs("div",{className:"flex items-start space-x-3 p-3 border border-primary/20 rounded bg-black/30",children:[k?t.jsx(Xv,{className:"w-5 h-5 text-green-500 mt-0.5"}):t.jsx(Vs,{className:"w-5 h-5 text-red-500 mt-0.5"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-sm font-medium text-white",children:P}),t.jsx("div",{className:"text-xs text-gray-400",children:I})]})]});return t.jsxs("div",{children:[o&&t.jsx("div",{onClick:()=>c(!0),className:"cursor-pointer",children:o}),l&&t.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:t.jsxs($,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto bg-black/90 border-primary/20",children:[t.jsxs(oe,{children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(En,{className:"w-6 h-6 text-cyan-400"}),t.jsxs("div",{children:[t.jsx(le,{className:"text-cyan-400",children:"Compliance Review Required"}),t.jsxs(Ct,{children:["Action: ",n," | Type: ",r.toUpperCase()]})]})]}),s&&t.jsxs(Ta,{className:"border-red-500/50 bg-red-500/10",children:[t.jsx(ln,{className:"h-4 w-4 text-red-500"}),t.jsx(Ea,{className:"text-red-300",children:"This action requires Super Admin authorization and will create an immutable audit log entry."})]})]}),t.jsxs(q,{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[t.jsx(mj,{className:"w-5 h-5 mr-2 text-cyan-400"}),"18 U.S.C. § 2257 Compliance Verification"]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(E,{id:"age_verification",label:"Age Verification (18+ Required)",checked:b.age_verification,description:"All performers must have valid government-issued photo ID on file"}),t.jsx(E,{id:"costar_2257_forms",label:"Co-Star 2257 Forms",checked:b.costar_2257_forms,description:"All tagged co-stars must have approved 2257 verification forms"}),t.jsx(E,{id:"content_reviewed",label:"Content AI Review Complete",checked:b.content_reviewed,description:"Content has been processed through ChatGPT-4o/GPT-5 analysis"}),t.jsx(E,{id:"legal_compliance",label:"Legal Compliance Check",checked:b.legal_compliance,description:"Content meets DMCA, GDPR, CCPA, and platform policy requirements"}),t.jsx(E,{id:"audit_logged",label:"Audit Trail Ready",checked:b.audit_logged,description:"Action will be logged in immutable 7-year audit system"})]}),t.jsxs(te,{onClick:S,className:"w-full mt-4 bg-cyan-600 hover:bg-cyan-700",children:[t.jsx(Mn,{className:"w-4 h-4 mr-2"}),"Run AI Compliance Analysis"]})]}),r==="post"&&t.jsxs("div",{className:"space-y-4",children:[t.jsx(Pe,{className:"text-white font-semibold",children:"Co-Star Verification Status"}),t.jsxs("div",{className:"flex items-center space-x-3 p-3 border border-primary/20 rounded bg-black/30",children:[t.jsx("input",{type:"checkbox",checked:y,onChange:T=>N(T.target.checked),className:"w-4 h-4"}),t.jsx(Pe,{className:"text-white",children:"All tagged co-stars have valid 2257 forms with matching legal names and IDs"})]})]}),s&&t.jsxs("div",{className:"space-y-2",children:[t.jsxs(Pe,{className:"text-white font-semibold flex items-center",children:[t.jsx(Ii,{className:"w-4 h-4 mr-2 text-red-400"}),"Super Admin Password Required"]}),t.jsx(Fe,{type:"password",value:h,onChange:T=>m(T.target.value),placeholder:"Enter super admin password",className:"bg-black/50 border-red-500/50"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{className:"text-white font-semibold",children:"Review Reason (Required for Audit)"}),t.jsx(Js,{value:d,onChange:T=>u(T.target.value),placeholder:"Provide detailed reason for this action (will be logged in audit trail)",className:"bg-black/50 border-primary/20",rows:3})]}),t.jsxs("div",{className:"flex justify-between space-x-4",children:[t.jsx(te,{variant:"outline",onClick:()=>c(!1),className:"flex-1",children:"Cancel"}),t.jsxs(te,{variant:"destructive",onClick:()=>w(!1),className:"flex-1",disabled:!d.trim(),children:[t.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Reject"]}),t.jsxs(te,{onClick:()=>w(!0),className:"flex-1 bg-green-600 hover:bg-green-700",disabled:!d.trim()||!Object.values(b).every(T=>T)||s&&!h||r==="post"&&!y,children:[t.jsx(Xv,{className:"w-4 h-4 mr-2"}),"Approve"]})]}),t.jsxs(Ta,{className:"border-amber-500/50 bg-amber-500/10",children:[t.jsx(ln,{className:"h-4 w-4 text-amber-500"}),t.jsxs(Ea,{className:"text-amber-300 text-sm",children:[t.jsx("strong",{children:"COMPLIANCE WARNING:"})," This action will be permanently logged in the audit system for 7+ years as required by 18 U.S.C. § 2257. Violations may result in suspension of moderation privileges or account termination."]})]})]})]})})]})}const eMe=n=>{const e=[{key:"dateRange",label:"Date Range",type:"select",options:["Last 24 hours","Last 7 days","Last 30 days","Last 90 days","Custom range"]},{key:"priority",label:"Priority",type:"select",options:["Critical","High","Medium","Low"]},{key:"assignedTo",label:"Assigned To",type:"multiselect",options:["Moderator 1","Moderator 2","Compliance Officer","Super Admin"]}];switch(n.toLowerCase()){case"media-content":return[...e,{key:"contentType",label:"Content Type",type:"multiselect",options:["Image","Video","Text","Live Stream","Audio"]},{key:"moderationStatus",label:"Moderation Status",type:"multiselect",options:["Pending","Approved","Rejected","Requires Review","Escalated"]},{key:"complianceRisk",label:"Compliance Risk",type:"multiselect",options:["Low","Medium","High","Critical"]},{key:"aiConfidence",label:"AI Confidence",type:"select",options:["90-100%","70-89%","50-69%","Below 50%"]},{key:"hasCoStars",label:"Has Co-Stars",type:"boolean"},{key:"verified2257",label:"2257 Verified",type:"boolean"},{key:"flagged",label:"Flagged Content",type:"boolean"}];case"compliance-legal":return[...e,{key:"complianceType",label:"Compliance Type",type:"multiselect",options:["2257","GDPR","CCPA","DMCA","COPPA"]},{key:"auditStatus",label:"Audit Status",type:"multiselect",options:["Compliant","Non-Compliant","Under Review","Action Required"]},{key:"riskLevel",label:"Risk Level",type:"multiselect",options:["Low","Medium","High","Critical"]},{key:"escalationLevel",label:"Escalation Level",type:"multiselect",options:["Normal","Manager Review","Legal Team","Emergency"]},{key:"documentType",label:"Document Type",type:"multiselect",options:["ID Verification","Model Release","Age Verification","Consent Form"]}];case"database-storage":return[...e,{key:"dataType",label:"Data Type",type:"multiselect",options:["User Data","Content Files","Audit Logs","Backup Files","Temp Files"]},{key:"storageLocation",label:"Storage Location",type:"multiselect",options:["Local","AWS S3","Google Cloud","CDN","Backup"]},{key:"retentionStatus",label:"Retention Status",type:"multiselect",options:["Active","Archived","Scheduled Deletion","Legal Hold"]},{key:"sizeRange",label:"Size Range",type:"select",options:["< 1MB","1-10MB","10-100MB","100MB-1GB","> 1GB"]},{key:"encrypted",label:"Encrypted",type:"boolean"}];case"platform-connections":return[...e,{key:"platformType",label:"Platform Type",type:"multiselect",options:["FanzLab","BoyFanz","GirlFanz","DaddyFanz","PupFanz","TabooFanz","TransFanz","CougarFanz","FanzCock","FanzTube"]},{key:"connectionStatus",label:"Connection Status",type:"multiselect",options:["Online","Offline","Maintenance","Error"]},{key:"apiStatus",label:"API Status",type:"multiselect",options:["Active","Inactive","Rate Limited","Error"]},{key:"healthScore",label:"Health Score",type:"select",options:["90-100%","70-89%","50-69%","Below 50%"]},{key:"uptime",label:"Uptime",type:"select",options:["99.9%+","99.0-99.8%","95.0-98.9%","Below 95%"]}];case"ai-intelligence":return[...e,{key:"modelType",label:"AI Model",type:"multiselect",options:["ChatGPT-5","GPT-4o Vision","Whisper","CLIP","NudeNet"]},{key:"analysisType",label:"Analysis Type",type:"multiselect",options:["Content Moderation","Threat Detection","Risk Assessment","Compliance Check"]},{key:"confidenceLevel",label:"Confidence Level",type:"select",options:["95-100%","80-94%","60-79%","Below 60%"]},{key:"processingStatus",label:"Processing Status",type:"multiselect",options:["Completed","Processing","Failed","Queued"]},{key:"hasAlerts",label:"Has Alerts",type:"boolean"}];case"user-financial":return[...e,{key:"userType",label:"User Type",type:"multiselect",options:["Creator","Subscriber","Moderator","Admin"]},{key:"accountStatus",label:"Account Status",type:"multiselect",options:["Active","Suspended","Pending Verification","Terminated"]},{key:"paymentStatus",label:"Payment Status",type:"multiselect",options:["Completed","Pending","Failed","Refunded","Disputed"]},{key:"transactionType",label:"Transaction Type",type:"multiselect",options:["Subscription","Tip","Purchase","Withdrawal","Refund"]},{key:"amountRange",label:"Amount Range",type:"select",options:["$0-$10","$10-$50","$50-$100","$100-$500","$500+"]},{key:"verificationStatus",label:"Verification Status",type:"multiselect",options:["Verified","Pending","Rejected","Expired"]}];case"system-admin":return[...e,{key:"systemType",label:"System Type",type:"multiselect",options:["Server","Database","CDN","Load Balancer","Cache"]},{key:"systemStatus",label:"System Status",type:"multiselect",options:["Operational","Degraded","Maintenance","Down"]},{key:"alertLevel",label:"Alert Level",type:"multiselect",options:["Info","Warning","Error","Critical"]},{key:"performance",label:"Performance",type:"select",options:["Excellent (90-100%)","Good (70-89%)","Fair (50-69%)","Poor (<50%)"]},{key:"hasIncidents",label:"Has Incidents",type:"boolean"}];default:return e}};function tMe({category:n,onFiltersChange:e,onSearch:s}){const[r,a]=R.useState(!1),[i,o]=R.useState(""),[l,c]=R.useState([]),[d,u]=R.useState(""),[h,m]=R.useState({}),[y,N]=R.useState([]),j=eMe(n),v=P=>{if(P.trim()&&!l.includes(P.trim())){const k=[...l,P.trim()];c(k),u(""),s(i,k)}},b=P=>{const k=l.filter(I=>I!==P);c(k),s(i,k)},A=(P,k)=>{const I={...h,[P]:k};m(I),e(I)},S=P=>{y.includes(P)?N(y.filter(k=>k!==P)):N([...y,P])},w=()=>{m({}),c([]),o(""),u(""),N([]),e({}),s("",[])},T=(P=>{switch(P.toLowerCase()){case"media-content":return["Pending Review","High Risk","Missing 2257","Co-Star Issues","AI Flagged"];case"compliance-legal":return["Non-Compliant","Action Required","Legal Review","Expired Docs","High Risk"];case"database-storage":return["Large Files","Legal Hold","Unencrypted","Expiring Soon","Error Status"];case"platform-connections":return["Offline","API Errors","Low Health","Rate Limited","Maintenance"];case"ai-intelligence":return["High Confidence","Processing Failed","Alerts Active","Manual Review","Model Errors"];case"user-financial":return["Payment Failed","High Value","Verification Pending","Suspicious Activity","Disputed"];case"system-admin":return["Critical Alerts","Performance Issues","System Down","Security Events","Maintenance Due"];default:return["High Priority","Action Required","Error Status","Recently Updated"]}})(n);return t.jsxs($,{className:"bg-black/40 border-primary/20 cyber-border",children:[t.jsx(oe,{className:"pb-3",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(vae,{className:"w-5 h-5 text-cyan-400"}),t.jsxs("div",{children:[t.jsx(le,{className:"text-cyan-400 text-lg",children:"Advanced Filters"}),t.jsxs(Ct,{className:"text-gray-400",children:[n.replace(/-/g,"/").toUpperCase()," • Multiple keyword search & drill-down options"]})]})]}),t.jsx(te,{variant:"ghost",size:"sm",onClick:()=>a(!r),"data-testid":"toggle-filters",children:r?t.jsx(O$,{className:"w-4 h-4"}):t.jsx(GA,{className:"w-4 h-4"})})]})}),t.jsxs(q,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx(jr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),t.jsx(Fe,{placeholder:`Search ${n.replace(/-/g," ")} content...`,value:i,onChange:P=>{o(P.target.value),s(P.target.value,l)},className:"pl-10 bg-black/50 border-primary/20","data-testid":"search-input"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"relative",children:[t.jsx(q$,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),t.jsx(Fe,{placeholder:"Add keywords (press Enter to add)",value:d,onChange:P=>u(P.target.value),onKeyPress:P=>{P.key==="Enter"&&v(d)},className:"pl-10 bg-black/50 border-primary/20","data-testid":"keyword-input"}),t.jsx(te,{size:"sm",onClick:()=>v(d),className:"absolute right-2 top-2 h-6 px-2","data-testid":"add-keyword",children:"Add"})]}),l.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(P=>t.jsxs(de,{variant:"outline",className:"text-cyan-400 border-cyan-400","data-testid":`keyword-${P}`,children:[P,t.jsx(td,{className:"w-3 h-3 ml-1 cursor-pointer",onClick:()=>b(P)})]},P))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{className:"text-white font-semibold",children:"Quick Filters"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:T.map(P=>t.jsx(te,{variant:y.includes(P)?"default":"outline",size:"sm",onClick:()=>S(P),className:y.includes(P)?"bg-cyan-600 hover:bg-cyan-700":"border-primary/20 hover:border-cyan-400","data-testid":`quick-filter-${P.replace(/\s+/g,"-").toLowerCase()}`,children:P},P))})]}),r&&t.jsxs("div",{className:"space-y-4 border-t border-primary/20 pt-4",children:[t.jsx(Pe,{className:"text-white font-semibold",children:"Advanced Options"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:j.map(P=>t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{className:"text-gray-300",children:P.label}),P.type==="text"&&t.jsx(Fe,{placeholder:P.placeholder||`Enter ${P.label.toLowerCase()}`,value:h[P.key]||"",onChange:k=>A(P.key,k.target.value),className:"bg-black/50 border-primary/20","data-testid":`filter-${P.key}`}),P.type==="select"&&P.options&&t.jsxs(sn,{value:h[P.key]||"",onValueChange:k=>A(P.key,k),children:[t.jsx(en,{className:"bg-black/50 border-primary/20","data-testid":`filter-${P.key}`,children:t.jsx(rn,{placeholder:`Select ${P.label.toLowerCase()}`})}),t.jsx(tn,{children:P.options.map(k=>t.jsx(re,{value:k,children:k},k))})]}),P.type==="multiselect"&&P.options&&t.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto border border-primary/20 rounded p-2 bg-black/50",children:P.options.map(k=>t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(C1,{id:`${P.key}-${k}`,checked:(h[P.key]||[]).includes(k),onCheckedChange:I=>{const L=h[P.key]||[],U=I?[...L,k]:L.filter(H=>H!==k);A(P.key,U)},"data-testid":`filter-${P.key}-${k.replace(/\s+/g,"-").toLowerCase()}`}),t.jsx(Pe,{htmlFor:`${P.key}-${k}`,className:"text-sm text-gray-300",children:k})]},k))}),P.type==="boolean"&&t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(C1,{id:P.key,checked:h[P.key]||!1,onCheckedChange:k=>A(P.key,k),"data-testid":`filter-${P.key}`}),t.jsx(Pe,{htmlFor:P.key,className:"text-sm text-gray-300",children:"Yes"})]})]},P.key))})]}),t.jsx("div",{className:"flex justify-between items-center pt-4 border-t border-primary/20",children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("span",{className:"text-sm text-gray-400",children:[Object.keys(h).filter(P=>h[P]&&(Array.isArray(h[P])?h[P].length>0:!0)).length+l.length+y.length," ","filters active"]}),(Object.keys(h).length>0||l.length>0||y.length>0)&&t.jsxs(te,{variant:"ghost",size:"sm",onClick:w,className:"text-red-400 hover:text-red-300","data-testid":"clear-filters",children:[t.jsx(td,{className:"w-4 h-4 mr-1"}),"Clear All"]})]})})]})]})}function nMe({category:n,items:e,onItemSelect:s,onItemAction:r}){const[a,i]=R.useState(e),[o,l]=R.useState({}),[c,d]=R.useState(""),[u,h]=R.useState([]),[m,y]=R.useState("updatedAt"),[N,j]=R.useState("desc");R.useEffect(()=>{v()},[e,o,c,u,m,N]);const v=()=>{let T=[...e];c&&(T=T.filter(P=>P.title.toLowerCase().includes(c.toLowerCase())||P.type.toLowerCase().includes(c.toLowerCase())||P.creator?.toLowerCase().includes(c.toLowerCase())||P.tags.some(k=>k.toLowerCase().includes(c.toLowerCase())))),u.length>0&&(T=T.filter(P=>u.every(k=>P.title.toLowerCase().includes(k.toLowerCase())||P.type.toLowerCase().includes(k.toLowerCase())||P.tags.some(I=>I.toLowerCase().includes(k.toLowerCase()))||JSON.stringify(P.metadata).toLowerCase().includes(k.toLowerCase())))),Object.entries(o).forEach(([P,k])=>{if(!(!k||Array.isArray(k)&&k.length===0))switch(P){case"contentType":case"moderationStatus":case"complianceRisk":case"platformType":case"connectionStatus":case"userType":case"accountStatus":case"paymentStatus":case"systemType":case"systemStatus":Array.isArray(k)&&(T=T.filter(U=>k.some(H=>U.type.toLowerCase().includes(H.toLowerCase())||U.status.toLowerCase().includes(H.toLowerCase())||U.metadata[P]?.toLowerCase().includes(H.toLowerCase()))));break;case"priority":Array.isArray(k)?T=T.filter(U=>k.includes(U.priority)):k&&(T=T.filter(U=>U.priority===k));break;case"assignedTo":Array.isArray(k)&&(T=T.filter(U=>U.assignedTo&&k.includes(U.assignedTo)));break;case"dateRange":const I=new Date;let L=new Date;switch(k){case"Last 24 hours":L.setDate(I.getDate()-1);break;case"Last 7 days":L.setDate(I.getDate()-7);break;case"Last 30 days":L.setDate(I.getDate()-30);break;case"Last 90 days":L.setDate(I.getDate()-90);break}k!=="Custom range"&&(T=T.filter(U=>new Date(U.updatedAt)>=L));break;case"hasCoStars":case"verified2257":case"flagged":case"encrypted":case"hasAlerts":case"hasIncidents":typeof k=="boolean"&&(T=T.filter(U=>!!U.metadata[P]===k));break}}),T.sort((P,k)=>{let I,L;switch(m){case"title":I=P.title.toLowerCase(),L=k.title.toLowerCase();break;case"priority":const U={Critical:4,High:3,Medium:2,Low:1};I=U[P.priority]||0,L=U[k.priority]||0;break;case"createdAt":I=new Date(P.createdAt).getTime(),L=new Date(k.createdAt).getTime();break;case"updatedAt":default:I=new Date(P.updatedAt).getTime(),L=new Date(k.updatedAt).getTime();break}return N==="asc"?I>L?1:I<L?-1:0:I<L?1:I>L?-1:0}),i(T)},b=T=>{l(T)},A=(T,P)=>{d(T),h(P)},S=(T,P)=>{const k=T.toLowerCase();return P.toLowerCase()==="critical"||k.includes("critical")?t.jsx(ln,{className:"w-4 h-4 text-red-500"}):k.includes("approved")||k.includes("completed")?t.jsx(Xv,{className:"w-4 h-4 text-green-500"}):k.includes("rejected")||k.includes("failed")?t.jsx(Vs,{className:"w-4 h-4 text-red-500"}):k.includes("pending")||k.includes("processing")?t.jsx(As,{className:"w-4 h-4 text-yellow-500"}):t.jsx(Mn,{className:"w-4 h-4 text-gray-400"})},w=T=>{switch(T.toLowerCase()){case"critical":return"text-red-400 border-red-400 bg-red-400/10";case"high":return"text-orange-400 border-orange-400 bg-orange-400/10";case"medium":return"text-yellow-400 border-yellow-400 bg-yellow-400/10";case"low":return"text-green-400 border-green-400 bg-green-400/10";default:return"text-gray-400 border-gray-400 bg-gray-400/10"}},E=T=>{const P=new Date(T),I=new Date().getTime()-P.getTime(),L=Math.floor(I/(1e3*60*60)),U=Math.floor(L/24);return L<1?"Just now":L<24?`${L}h ago`:U<7?`${U}d ago`:P.toLocaleDateString()};return t.jsxs("div",{className:"space-y-6",children:[t.jsx(tMe,{category:n,onFiltersChange:b,onSearch:A}),t.jsx("div",{className:"flex justify-between items-center",children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("span",{className:"text-sm text-gray-400",children:["Showing ",a.length," of ",e.length," items"]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-sm text-gray-400",children:"Sort by:"}),t.jsxs("select",{value:m,onChange:T=>y(T.target.value),className:"bg-black/50 border border-primary/20 rounded px-2 py-1 text-sm text-white",children:[t.jsx("option",{value:"updatedAt",children:"Last Updated"}),t.jsx("option",{value:"createdAt",children:"Created"}),t.jsx("option",{value:"title",children:"Title"}),t.jsx("option",{value:"priority",children:"Priority"})]}),t.jsx(te,{variant:"ghost",size:"sm",onClick:()=>j(N==="asc"?"desc":"asc"),className:"text-xs",children:N==="asc"?"↑":"↓"})]})]})}),t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:a.map(T=>t.jsxs($,{className:"bg-black/40 border-primary/20 cyber-border hover:border-cyan-400/50 transition-colors cursor-pointer",onClick:()=>s?.(T),"data-testid":`content-item-${T.id}`,children:[t.jsx(oe,{className:"pb-3",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx(le,{className:"text-white text-sm font-medium truncate",children:T.title}),t.jsxs(Ct,{className:"text-gray-400 text-xs",children:[T.type," • ",E(T.updatedAt)]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[S(T.status,T.priority),t.jsx(de,{variant:"outline",className:`text-xs ${w(T.priority)}`,children:T.priority.toUpperCase()})]})]})}),t.jsxs(q,{className:"space-y-3",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-xs",children:[t.jsx("span",{className:"text-gray-400",children:"Status:"}),t.jsx(de,{variant:"outline",className:"text-xs",children:T.status})]}),T.creator&&t.jsxs("div",{className:"flex items-center justify-between text-xs",children:[t.jsx("span",{className:"text-gray-400",children:"Creator:"}),t.jsx("span",{className:"text-cyan-400",children:T.creator})]}),T.assignedTo&&t.jsxs("div",{className:"flex items-center justify-between text-xs",children:[t.jsx("span",{className:"text-gray-400",children:"Assigned:"}),t.jsx("span",{className:"text-white",children:T.assignedTo})]})]}),T.tags.length>0&&t.jsxs("div",{className:"space-y-1",children:[t.jsx("span",{className:"text-xs text-gray-400",children:"Tags:"}),t.jsxs("div",{className:"flex flex-wrap gap-1",children:[T.tags.slice(0,3).map(P=>t.jsx(de,{variant:"outline",className:"text-xs py-0 px-1 text-cyan-400 border-cyan-400/50",children:P},P)),T.tags.length>3&&t.jsxs(de,{variant:"outline",className:"text-xs py-0 px-1 text-gray-400",children:["+",T.tags.length-3]})]})]}),t.jsxs("div",{className:"flex gap-2 pt-2",children:[t.jsxs(te,{size:"sm",variant:"outline",className:"flex-1 text-xs",onClick:P=>{P.stopPropagation(),r?.("view",T)},"data-testid":`view-${T.id}`,children:[t.jsx(Mn,{className:"w-3 h-3 mr-1"}),"View"]}),t.jsx(te,{size:"sm",variant:"outline",className:"flex-1 text-xs",onClick:P=>{P.stopPropagation(),r?.("edit",T)},"data-testid":`edit-${T.id}`,children:"Edit"})]})]})]},T.id))}),a.length===0&&t.jsx($,{className:"bg-black/40 border-primary/20 cyber-border",children:t.jsxs(q,{className:"text-center py-12",children:[t.jsx(Zv,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"No items found"}),t.jsx("p",{className:"text-gray-400 mb-4",children:"Try adjusting your filters or search terms to find what you're looking for."}),t.jsx(te,{variant:"outline",onClick:()=>{l({}),d(""),h([])},children:"Clear Filters"})]})})]})}function sMe(){const[n,e]=R.useState([]),[s,r]=R.useState(null),[a,i]=R.useState(!1),[o,l]=R.useState(!1),[c,d]=R.useState(!1);R.useEffect(()=>{e([{id:"content-1",type:"image",title:"Summer Beach Photo Set",creator:"beachbabe2025",coStars:["sunsetlover","wavecatcher"],uploadedAt:"2025-01-04T19:30:00Z",aiAnalysis:{gpt5_score:85,gpt4o_vision_score:92,compliance_risk:"medium",flags:["co-star-verification-required","manual-review-needed"],confidence:87},moderationStatus:"requires_review",auditTrail:[]},{id:"content-2",type:"video",title:"Workout Session #45",creator:"fitnessguru",coStars:[],uploadedAt:"2025-01-04T18:45:00Z",aiAnalysis:{gpt5_score:95,gpt4o_vision_score:98,compliance_risk:"low",flags:["age-verification-confirmed"],confidence:94},moderationStatus:"pending",auditTrail:[]},{id:"content-3",type:"live_stream",title:"Live Q&A with Fans",creator:"chattystar",coStars:["guesthost"],uploadedAt:"2025-01-04T20:00:00Z",aiAnalysis:{gpt5_score:78,gpt4o_vision_score:82,compliance_risk:"high",flags:["unverified-co-star","2257-forms-missing","content-policy-violation"],confidence:91},moderationStatus:"requires_review",auditTrail:[]}])},[]);const u=async S=>{i(!0),r(S),setTimeout(()=>{const w={...S,aiAnalysis:{...S.aiAnalysis,gpt5_score:Math.floor(Math.random()*100),gpt4o_vision_score:Math.floor(Math.random()*100),confidence:Math.floor(Math.random()*100)}};r(w),i(!1)},3e3)},h=(S,w)=>{if(!s)return;const E={timestamp:new Date().toISOString(),action:"APPROVED",moderator:"current_moderator",reason:S,complianceChecks:w.compliance_checks},T={...s,moderationStatus:"approved",auditTrail:[...s.auditTrail,E]};e(P=>P.map(k=>k.id===s.id?T:k)),r(null),l(!1)},m=S=>{if(!s)return;const w={timestamp:new Date().toISOString(),action:"REJECTED",moderator:"current_moderator",reason:S,complianceChecks:{}},E={...s,moderationStatus:"rejected",auditTrail:[...s.auditTrail,w]};e(T=>T.map(P=>P.id===s.id?E:P)),r(null),l(!1)},y=S=>{switch(S){case"low":return"text-green-400 border-green-400";case"medium":return"text-yellow-400 border-yellow-400";case"high":return"text-orange-400 border-orange-400";case"critical":return"text-red-400 border-red-400";default:return"text-gray-400 border-gray-400"}},N=S=>{switch(S){case"approved":return t.jsx(Xv,{className:"w-4 h-4 text-green-400"});case"rejected":return t.jsx(Vs,{className:"w-4 h-4 text-red-400"});case"requires_review":return t.jsx(ln,{className:"w-4 h-4 text-orange-400"});default:return t.jsx(As,{className:"w-4 h-4 text-yellow-400"})}},v=(S=>S.map(w=>({id:w.id,title:w.title,type:w.type,status:w.moderationStatus,priority:w.aiAnalysis?.compliance_risk==="critical"?"Critical":w.aiAnalysis?.compliance_risk==="high"?"High":w.aiAnalysis?.compliance_risk==="medium"?"Medium":"Low",creator:w.creator,assignedTo:"AI System",tags:[...w.coStars||[],...w.aiAnalysis?.flags||[],w.aiAnalysis?.compliance_risk||"unknown"],metadata:{contentType:w.type,moderationStatus:w.moderationStatus,complianceRisk:w.aiAnalysis?.compliance_risk,hasCoStars:w.coStars&&w.coStars.length>0,verified2257:!w.aiAnalysis?.flags?.includes("2257-forms-missing"),flagged:w.aiAnalysis?.flags&&w.aiAnalysis.flags.length>0,aiConfidence:w.aiAnalysis?.confidence,gpt5Score:w.aiAnalysis?.gpt5_score,gpt4oScore:w.aiAnalysis?.gpt4o_vision_score},createdAt:w.uploadedAt,updatedAt:w.uploadedAt})))(n),b=S=>{const w=n.find(E=>E.id===S.id);w&&r(w)},A=(S,w)=>{const E=n.find(T=>T.id===w.id);E&&S==="view"&&u(E)};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-cyan-400",children:"Intelligent Moderation Workflow"}),t.jsx("p",{className:"text-gray-400 mt-1",children:"AI-powered content review with 18 U.S.C. § 2257 compliance"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs(te,{variant:c?"default":"outline",onClick:()=>d(!c),className:"bg-cyan-600 hover:bg-cyan-700",children:[t.jsx(Zv,{className:"w-4 h-4 mr-2"}),c?"Grid View":"Filter View"]}),t.jsxs(de,{variant:"outline",className:"text-cyan-400 border-cyan-400",children:[n.filter(S=>S.moderationStatus==="pending").length," ","Pending Review"]}),t.jsxs(de,{variant:"outline",className:"text-orange-400 border-orange-400",children:[n.filter(S=>S.moderationStatus==="requires_review").length," ","Action Required"]})]})]}),c?t.jsx(nMe,{category:"media-content",items:v,onItemSelect:b,onItemAction:A}):t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:n.map(S=>t.jsxs($,{className:"bg-black/40 border-primary/20 cyber-border","data-testid":`content-card-${S.id}`,children:[t.jsx(oe,{children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx(le,{className:"text-white text-lg",children:S.title}),t.jsxs(Ct,{className:"text-gray-300",children:["by ",S.creator," • ",S.type.toUpperCase()]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[N(S.moderationStatus),t.jsx(de,{variant:"outline",className:`text-xs ${y(S.aiAnalysis?.compliance_risk||"low")}`,children:S.aiAnalysis?.compliance_risk?.toUpperCase()||"PENDING"})]})]})}),t.jsxs(q,{className:"space-y-4",children:[S.aiAnalysis&&t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{className:"text-center p-2 rounded border border-primary/20 bg-black/30",children:[t.jsx("p",{className:"text-xs text-gray-400",children:"GPT-5 Score"}),t.jsxs("p",{className:"text-sm font-bold text-white",children:[S.aiAnalysis.gpt5_score,"%"]})]}),t.jsxs("div",{className:"text-center p-2 rounded border border-primary/20 bg-black/30",children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Vision Score"}),t.jsxs("p",{className:"text-sm font-bold text-white",children:[S.aiAnalysis.gpt4o_vision_score,"%"]})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex justify-between text-xs",children:[t.jsx("span",{className:"text-gray-400",children:"AI Confidence"}),t.jsxs("span",{className:"text-white",children:[S.aiAnalysis.confidence,"%"]})]}),t.jsx(Xn,{value:S.aiAnalysis.confidence,className:"h-2"})]}),S.aiAnalysis.flags.length>0&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-xs font-semibold text-yellow-400",children:"Compliance Flags:"}),t.jsx("div",{className:"space-y-1",children:S.aiAnalysis.flags.map((w,E)=>t.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[t.jsx(ln,{className:"w-3 h-3 text-yellow-500"}),t.jsx("span",{className:"text-yellow-300",children:w.replace(/-/g," ").toUpperCase()})]},E))})]})]}),S.coStars.length>0&&t.jsxs("div",{children:[t.jsxs("p",{className:"text-xs font-semibold text-white mb-2",children:["Co-Stars (",S.coStars.length,"):"]}),t.jsx("div",{className:"flex flex-wrap gap-1",children:S.coStars.map(w=>t.jsx(de,{variant:"outline",className:"text-xs text-cyan-400 border-cyan-400",children:w},w))})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(te,{variant:"outline",size:"sm",onClick:()=>u(S),disabled:a,className:"flex-1","data-testid":`button-analyze-${S.id}`,children:[t.jsx(Gr,{className:"w-4 h-4 mr-1"}),a&&s?.id===S.id?"Analyzing...":"Re-Analyze"]}),S.moderationStatus!=="approved"&&t.jsx(JEe,{action:`Content Approval: ${S.title}`,contentType:"post",requiredRole:"MODERATOR",requiresSuperAdmin:S.aiAnalysis?.compliance_risk==="critical",onApprove:h,onReject:m,children:t.jsxs(te,{size:"sm",className:"flex-1 bg-green-600 hover:bg-green-700","data-testid":`button-review-${S.id}`,children:[t.jsx(Mn,{className:"w-4 h-4 mr-1"}),"Review"]})})]})]})]},S.id))}),s&&a&&t.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:t.jsxs($,{className:"w-full max-w-md bg-black/90 border-primary/20",children:[t.jsx(oe,{children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Gr,{className:"w-6 h-6 text-cyan-400 animate-pulse"}),t.jsxs("div",{children:[t.jsx(le,{className:"text-cyan-400",children:"AI Analysis in Progress"}),t.jsx(Ct,{children:"Processing content through ChatGPT-4o/GPT-5"})]})]})}),t.jsxs(q,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"Content Analysis"}),t.jsx("span",{className:"text-cyan-400",children:"Processing..."})]}),t.jsx(Xn,{value:33,className:"h-2"}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"2257 Compliance Check"}),t.jsx("span",{className:"text-cyan-400",children:"Processing..."})]}),t.jsx(Xn,{value:66,className:"h-2"}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"Risk Assessment"}),t.jsx("span",{className:"text-cyan-400",children:"Processing..."})]}),t.jsx(Xn,{value:90,className:"h-2"})]}),t.jsxs(Ta,{className:"border-cyan-500/50 bg-cyan-500/10",children:[t.jsx(va,{className:"h-4 w-4 text-cyan-500"}),t.jsx(Ea,{className:"text-cyan-300 text-sm",children:"AI models are analyzing content for compliance with platform policies and legal requirements."})]})]})]})})]})}function rMe(){return t.jsx("div",{className:"min-h-screen cyber-bg",children:t.jsx("div",{className:"container mx-auto p-6",children:t.jsx(sMe,{})})})}function aMe(){const[n,e]=R.useState("overview"),{data:s=[]}=wn({queryKey:["/api/vr/content"],refetchInterval:5e3}),{data:r}=wn({queryKey:["/api/vr/analytics"],refetchInterval:1e4}),{data:a}=wn({queryKey:["/api/vr/spatial-insights"],refetchInterval:15e3}),{data:i}=wn({queryKey:["/api/vr/processing-status"],refetchInterval:3e3}),o=r?.analytics||{totalContent:0,processingQueue:0,completedToday:0,averageProcessingTime:0,qualityDistribution:{},platformDistribution:{}},l=a?.insights||{totalSessions:0,averageSessionTime:0,completionRate:0,comfortScores:{averageMotionSickness:0,averageImmersion:0,averagePresence:0},mostUsedDevices:[],interactionHeatmap:[]},c=s?.content||[],d=i?.status,u=m=>{switch(m){case"completed":return"bg-green-500";case"processing":return"bg-blue-500";case"pending":return"bg-yellow-500";case"failed":return"bg-red-500";default:return"bg-gray-500"}},h=m=>{switch(m){case"360_video":return t.jsx(Ri,{className:"h-4 w-4"});case"360_image":return t.jsx(Mn,{className:"h-4 w-4"});case"vr_experience":return t.jsx(va,{className:"h-4 w-4"});case"ar_overlay":return t.jsx(yo,{className:"h-4 w-4"});case"3d_model":return t.jsx(lr,{className:"h-4 w-4"});case"spatial_audio":return t.jsx($3,{className:"h-4 w-4"});default:return t.jsx(Ks,{className:"h-4 w-4"})}};return t.jsxs("div",{className:"p-6 space-y-6 bg-black min-h-screen","data-testid":"vr-rendering-dashboard",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"VR/AR Rendering Engine"}),t.jsx("p",{className:"text-cyan-400 mt-2",children:"Advanced immersive content processing and optimization"})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(de,{variant:"outline",className:"border-cyan-400 text-cyan-400",children:"Neural Processing"}),t.jsx(de,{variant:"outline",className:"border-green-400 text-green-400",children:"Real-time Rendering"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs($,{className:"bg-gray-900/50 border-gray-800",children:[t.jsx(oe,{className:"pb-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(le,{className:"text-sm text-gray-400",children:"Total Content"}),t.jsx(Mn,{className:"h-4 w-4 text-cyan-400"})]})}),t.jsxs(q,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:o.totalContent.toLocaleString()}),t.jsxs("p",{className:"text-xs text-green-400",children:["+",o.completedToday," today"]})]})]}),t.jsxs($,{className:"bg-gray-900/50 border-gray-800",children:[t.jsx(oe,{className:"pb-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(le,{className:"text-sm text-gray-400",children:"Processing Queue"}),t.jsx($A,{className:"h-4 w-4 text-yellow-400"})]})}),t.jsxs(q,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:o.processingQueue}),t.jsxs("p",{className:"text-xs text-blue-400",children:["Est. ",d?.estimatedWaitTime||0,"s wait"]})]})]}),t.jsxs($,{className:"bg-gray-900/50 border-gray-800",children:[t.jsx(oe,{className:"pb-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(le,{className:"text-sm text-gray-400",children:"VR Sessions"}),t.jsx(er,{className:"h-4 w-4 text-purple-400"})]})}),t.jsxs(q,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:l.totalSessions.toLocaleString()}),t.jsxs("p",{className:"text-xs text-cyan-400",children:[l.completionRate,"% completion"]})]})]}),t.jsxs($,{className:"bg-gray-900/50 border-gray-800",children:[t.jsx(oe,{className:"pb-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(le,{className:"text-sm text-gray-400",children:"Avg Session Time"}),t.jsx(As,{className:"h-4 w-4 text-green-400"})]})}),t.jsxs(q,{children:[t.jsxs("div",{className:"text-2xl font-bold text-white",children:[Math.round(l.averageSessionTime/60),"m"]}),t.jsxs("p",{className:"text-xs text-green-400",children:[l.comfortScores.averageImmersion,"/10 immersion"]})]})]})]}),t.jsxs(Xs,{value:n,onValueChange:e,className:"space-y-6",children:[t.jsxs($s,{className:"bg-gray-900 border border-gray-800",children:[t.jsx(lt,{value:"overview",className:"data-[state=active]:bg-cyan-600",children:"Overview"}),t.jsx(lt,{value:"content",className:"data-[state=active]:bg-cyan-600",children:"Content Library"}),t.jsx(lt,{value:"processing",className:"data-[state=active]:bg-cyan-600",children:"Processing Queue"}),t.jsx(lt,{value:"analytics",className:"data-[state=active]:bg-cyan-600",children:"Spatial Analytics"})]}),t.jsx(ct,{value:"overview",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs($,{className:"bg-gray-900/50 border-gray-800",children:[t.jsx(oe,{children:t.jsxs(le,{className:"text-white flex items-center gap-2",children:[t.jsx(la,{className:"h-5 w-5 text-cyan-400"}),"Quality Distribution"]})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-3",children:Object.entries(o.qualityDistribution).map(([m,y])=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-300",children:m}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-24 bg-gray-700 rounded-full h-2",children:t.jsx("div",{className:"bg-cyan-400 h-2 rounded-full",style:{width:`${y/Math.max(...Object.values(o.qualityDistribution))*100}%`}})}),t.jsx("span",{className:"text-sm text-white w-8",children:y})]})]},m))})})]}),t.jsxs($,{className:"bg-gray-900/50 border-gray-800",children:[t.jsx(oe,{children:t.jsxs(le,{className:"text-white flex items-center gap-2",children:[t.jsx(or,{className:"h-5 w-5 text-purple-400"}),"Platform Optimization"]})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-3",children:Object.entries(o.platformDistribution).map(([m,y])=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-300 capitalize",children:m}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-24 bg-gray-700 rounded-full h-2",children:t.jsx("div",{className:"bg-purple-400 h-2 rounded-full",style:{width:`${y/Math.max(...Object.values(o.platformDistribution))*100}%`}})}),t.jsx("span",{className:"text-sm text-white w-8",children:y})]})]},m))})})]}),t.jsxs($,{className:"bg-gray-900/50 border-gray-800",children:[t.jsx(oe,{children:t.jsxs(le,{className:"text-white flex items-center gap-2",children:[t.jsx($3,{className:"h-5 w-5 text-green-400"}),"Popular VR Headsets"]})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-3",children:l.mostUsedDevices.map((m,y)=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-300",children:m.device}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-24 bg-gray-700 rounded-full h-2",children:t.jsx("div",{className:"bg-green-400 h-2 rounded-full",style:{width:`${m.count/Math.max(...l.mostUsedDevices.map(N=>N.count))*100}%`}})}),t.jsx("span",{className:"text-sm text-white w-12",children:m.count})]})]},m.device))})})]}),t.jsxs($,{className:"bg-gray-900/50 border-gray-800",children:[t.jsx(oe,{children:t.jsxs(le,{className:"text-white flex items-center gap-2",children:[t.jsx(Ks,{className:"h-5 w-5 text-blue-400"}),"User Comfort Scores"]})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-300",children:"Motion Sickness"}),t.jsxs("span",{className:"text-white",children:[l.comfortScores.averageMotionSickness,"/10"]})]}),t.jsx(Xn,{value:l.comfortScores.averageMotionSickness*10,className:"bg-gray-700"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-300",children:"Immersion Level"}),t.jsxs("span",{className:"text-white",children:[l.comfortScores.averageImmersion,"/10"]})]}),t.jsx(Xn,{value:l.comfortScores.averageImmersion*10,className:"bg-gray-700"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-300",children:"Presence Score"}),t.jsxs("span",{className:"text-white",children:[l.comfortScores.averagePresence,"/10"]})]}),t.jsx(Xn,{value:l.comfortScores.averagePresence*10,className:"bg-gray-700"})]})]})})]})]})}),t.jsx(ct,{value:"content",className:"space-y-6",children:t.jsxs($,{className:"bg-gray-900/50 border-gray-800",children:[t.jsx(oe,{children:t.jsx(le,{className:"text-white",children:"VR/AR Content Library"})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-4",children:c.length===0?t.jsx("div",{className:"text-center py-8 text-gray-400",children:"No VR content found. Upload some 360° videos or VR experiences to get started."}):c.map(m=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[h(m.type),t.jsxs("div",{children:[t.jsx("h3",{className:"text-white font-medium",children:m.name}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx(de,{variant:"outline",className:"text-xs",children:m.type.replace("_"," ")}),t.jsx(de,{variant:"outline",className:"text-xs",children:m.qualitySettings.resolution}),t.jsx(de,{variant:"outline",className:"text-xs",children:m.qualitySettings.optimizeForDevice})]})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:`inline-block w-2 h-2 rounded-full ${u(m.processing.status)} mr-2`}),t.jsx("span",{className:"text-sm text-gray-300 capitalize",children:m.processing.status}),m.processing.status==="processing"&&t.jsx("div",{className:"mt-1",children:t.jsx(Xn,{value:m.processing.progress,className:"w-20 h-1"})})]}),t.jsx(te,{size:"sm",variant:"outline",className:"text-xs",children:"View"})]})]},m.id))})})]})}),t.jsx(ct,{value:"processing",className:"space-y-6",children:t.jsxs($,{className:"bg-gray-900/50 border-gray-800",children:[t.jsx(oe,{children:t.jsx(le,{className:"text-white",children:"Processing Queue Status"})}),t.jsxs(q,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[t.jsxs("div",{className:"text-center p-4 bg-gray-800/50 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:d?.queueLength||0}),t.jsx("div",{className:"text-sm text-gray-400",children:"Items in Queue"})]}),t.jsxs("div",{className:"text-center p-4 bg-gray-800/50 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-400",children:d?.activeProcesses||0}),t.jsx("div",{className:"text-sm text-gray-400",children:"Active Processes"})]}),t.jsxs("div",{className:"text-center p-4 bg-gray-800/50 rounded-lg",children:[t.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[Math.round((d?.estimatedWaitTime||0)/60),"m"]}),t.jsx("div",{className:"text-sm text-gray-400",children:"Est. Wait Time"})]})]}),t.jsxs("div",{className:"space-y-4",children:[c.filter(m=>m.processing.status==="processing").map(m=>t.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("h3",{className:"text-white font-medium",children:m.name}),t.jsxs("span",{className:"text-sm text-cyan-400",children:[m.processing.progress,"%"]})]}),t.jsx(Xn,{value:m.processing.progress,className:"mb-3"}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2 text-xs",children:m.processing.stages.map((y,N)=>t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:`w-2 h-2 rounded-full ${u(y.status)}`}),t.jsx("span",{className:"text-gray-300",children:y.name})]},N))})]},m.id)),c.filter(m=>m.processing.status==="processing").length===0&&t.jsx("div",{className:"text-center py-8 text-gray-400",children:"No items currently processing"})]})]})]})}),t.jsx(ct,{value:"analytics",className:"space-y-6",children:t.jsxs($,{className:"bg-gray-900/50 border-gray-800",children:[t.jsx(oe,{children:t.jsx(le,{className:"text-white",children:"Spatial Analytics & User Behavior"})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-white font-medium mb-4",children:"Interaction Heatmap"}),t.jsx("div",{className:"space-y-3",children:l.interactionHeatmap.map((m,y)=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded",children:[t.jsx("span",{className:"text-gray-300 capitalize",children:m.type}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"text-sm text-white",children:[m.count," interactions"]}),t.jsxs("div",{className:"text-sm text-green-400",children:[m.successRate,"% success"]})]})]},m.type))})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-white font-medium mb-4",children:"Performance Insights"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[t.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Average Processing Time"}),t.jsxs("div",{className:"text-xl font-bold text-cyan-400",children:[Math.round(o.averageProcessingTime/1e3),"s"]})]}),t.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[t.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Success Rate"}),t.jsx("div",{className:"text-xl font-bold text-green-400",children:"94.7%"})]})]})]})]})})]})})]})]})}function iMe(){const[n,e]=R.useState("portfolio"),[s,r]=R.useState(""),{data:a=[]}=wn({queryKey:["/api/future-tech/advancements"],refetchInterval:3e4}),{data:i}=wn({queryKey:["/api/future-tech/portfolio"],refetchInterval:6e4}),{data:o}=wn({queryKey:["/api/future-tech/innovation-metrics"],refetchInterval:3e4}),{data:l=[]}=wn({queryKey:["/api/future-tech/scouting-reports"],refetchInterval:12e4}),{data:c=[]}=wn({queryKey:["/api/future-tech/trends"],refetchInterval:3e5}),d=kt({mutationFn:async()=>Kt("POST","/api/future-tech/trend-analysis",{}),onSuccess:()=>{v_.invalidateQueries({queryKey:["/api/future-tech/trends"]})}}),u=kt({mutationFn:async w=>Kt("POST","/api/future-tech/scouting",{query:w}),onSuccess:()=>{v_.invalidateQueries({queryKey:["/api/future-tech/scouting-reports"]}),r("")}}),h=a?.advancements||[],m=i?.analysis||{totalTechnologies:0,byCategory:{},averageImpactScore:0,totalInvestment:0,expectedROI:0,riskDistribution:{low:0,medium:0,high:0,critical:0},nearTermOpportunities:[]},y=o?.metrics||{activePipelines:0,totalBudget:0,spentBudget:0,averageProgress:0,pipelinesByStage:{},upcomingMilestones:[],deliverablesSummary:{prototypes:0,patents:0,publications:0,demos:0}},N=l?.reports||[],j=c?.analyses||[],v=w=>{switch(w){case"ai":return t.jsx(Gr,{className:"h-4 w-4"});case"vr":case"ar":return t.jsx(Mn,{className:"h-4 w-4"});case"blockchain":return t.jsx($A,{className:"h-4 w-4"});case"quantum":return t.jsx(Dre,{className:"h-4 w-4"});case"neural":return t.jsx(Ks,{className:"h-4 w-4"});case"biotech":return t.jsx(q3,{className:"h-4 w-4"});case"space":return t.jsx(lF,{className:"h-4 w-4"});default:return t.jsx(va,{className:"h-4 w-4"})}},b=w=>w<=25?"text-green-400":w<=50?"text-yellow-400":w<=75?"text-orange-400":"text-red-400",A=w=>w<=3?"bg-red-500":w<=6?"bg-yellow-500":"bg-green-500",S=w=>w>=1e6?`$${(w/1e6).toFixed(1)}M`:w>=1e3?`$${(w/1e3).toFixed(0)}K`:`$${w}`;return t.jsxs("div",{className:"p-6 space-y-6 bg-black min-h-screen","data-testid":"future-tech-dashboard",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Future Technology Management"}),t.jsx("p",{className:"text-cyan-400 mt-2",children:"Advanced technology roadmapping and innovation pipeline management"})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs(te,{onClick:()=>d.mutate(),disabled:d.isPending,className:"bg-cyan-600 hover:bg-cyan-700",children:[t.jsx(or,{className:"h-4 w-4 mr-2"}),d.isPending?"Analyzing...":"Run Trend Analysis"]}),t.jsx(de,{variant:"outline",className:"border-purple-400 text-purple-400",children:"AI-Powered Insights"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs($,{className:"bg-gray-900/50 border-gray-800",children:[t.jsx(oe,{className:"pb-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(le,{className:"text-sm text-gray-400",children:"Technologies"}),t.jsx(q3,{className:"h-4 w-4 text-cyan-400"})]})}),t.jsxs(q,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:m.totalTechnologies}),t.jsxs("p",{className:"text-xs text-cyan-400",children:[m.averageImpactScore.toFixed(1)," avg impact"]})]})]}),t.jsxs($,{className:"bg-gray-900/50 border-gray-800",children:[t.jsx(oe,{className:"pb-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(le,{className:"text-sm text-gray-400",children:"Active Pipelines"}),t.jsx(lF,{className:"h-4 w-4 text-purple-400"})]})}),t.jsxs(q,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:y.activePipelines}),t.jsxs("p",{className:"text-xs text-green-400",children:[y.averageProgress.toFixed(1),"% avg progress"]})]})]}),t.jsxs($,{className:"bg-gray-900/50 border-gray-800",children:[t.jsx(oe,{className:"pb-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(le,{className:"text-sm text-gray-400",children:"Investment"}),t.jsx(Jr,{className:"h-4 w-4 text-green-400"})]})}),t.jsxs(q,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:S(m.totalInvestment)}),t.jsxs("p",{className:"text-xs text-green-400",children:[m.expectedROI.toFixed(1),"% expected ROI"]})]})]}),t.jsxs($,{className:"bg-gray-900/50 border-gray-800",children:[t.jsx(oe,{className:"pb-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(le,{className:"text-sm text-gray-400",children:"Near-term Ops"}),t.jsx(au,{className:"h-4 w-4 text-yellow-400"})]})}),t.jsxs(q,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:m.nearTermOpportunities.length}),t.jsx("p",{className:"text-xs text-yellow-400",children:"Within 24 months"})]})]})]}),t.jsxs(Xs,{value:n,onValueChange:e,className:"space-y-6",children:[t.jsxs($s,{className:"bg-gray-900 border border-gray-800",children:[t.jsx(lt,{value:"portfolio",className:"data-[state=active]:bg-cyan-600",children:"Tech Portfolio"}),t.jsx(lt,{value:"pipelines",className:"data-[state=active]:bg-cyan-600",children:"Innovation Pipelines"}),t.jsx(lt,{value:"scouting",className:"data-[state=active]:bg-cyan-600",children:"Tech Scouting"}),t.jsx(lt,{value:"trends",className:"data-[state=active]:bg-cyan-600",children:"Market Trends"})]}),t.jsxs(ct,{value:"portfolio",className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs($,{className:"bg-gray-900/50 border-gray-800",children:[t.jsx(oe,{children:t.jsxs(le,{className:"text-white flex items-center gap-2",children:[t.jsx(la,{className:"h-5 w-5 text-cyan-400"}),"Technology Categories"]})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-3",children:Object.entries(m.byCategory).map(([w,E])=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[v(w),t.jsx("span",{className:"text-gray-300 capitalize",children:w})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-20 bg-gray-700 rounded-full h-2",children:t.jsx("div",{className:"bg-cyan-400 h-2 rounded-full",style:{width:`${E/Math.max(...Object.values(m.byCategory))*100}%`}})}),t.jsx("span",{className:"text-sm text-white w-8",children:E})]})]},w))})})]}),t.jsxs($,{className:"bg-gray-900/50 border-gray-800",children:[t.jsx(oe,{children:t.jsxs(le,{className:"text-white flex items-center gap-2",children:[t.jsx(ln,{className:"h-5 w-5 text-orange-400"}),"Risk Distribution"]})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-green-400",children:"Low Risk"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-20 bg-gray-700 rounded-full h-2",children:t.jsx("div",{className:"bg-green-400 h-2 rounded-full",style:{width:`${m.riskDistribution.low*5}%`}})}),t.jsx("span",{className:"text-sm text-white w-8",children:m.riskDistribution.low})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-yellow-400",children:"Medium Risk"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-20 bg-gray-700 rounded-full h-2",children:t.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:`${m.riskDistribution.medium*5}%`}})}),t.jsx("span",{className:"text-sm text-white w-8",children:m.riskDistribution.medium})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-orange-400",children:"High Risk"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-20 bg-gray-700 rounded-full h-2",children:t.jsx("div",{className:"bg-orange-400 h-2 rounded-full",style:{width:`${m.riskDistribution.high*5}%`}})}),t.jsx("span",{className:"text-sm text-white w-8",children:m.riskDistribution.high})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-red-400",children:"Critical Risk"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-20 bg-gray-700 rounded-full h-2",children:t.jsx("div",{className:"bg-red-400 h-2 rounded-full",style:{width:`${m.riskDistribution.critical*5}%`}})}),t.jsx("span",{className:"text-sm text-white w-8",children:m.riskDistribution.critical})]})]})]})})]})]}),t.jsxs($,{className:"bg-gray-900/50 border-gray-800",children:[t.jsx(oe,{children:t.jsx(le,{className:"text-white",children:"Technology Advancement Portfolio"})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-4",children:h.map(w=>t.jsx("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v(w.category),t.jsx("h3",{className:"text-white font-medium",children:w.name}),t.jsx(de,{variant:"outline",className:"text-xs",children:w.category})]}),t.jsx("p",{className:"text-gray-300 text-sm mb-3",children:w.description}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-xs",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Readiness Level"}),t.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[t.jsx("div",{className:`w-2 h-2 rounded-full ${A(w.currentReadinessLevel)}`}),t.jsxs("span",{className:"text-white",children:["TRL ",w.currentReadinessLevel,"/9"]})]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Impact Score"}),t.jsxs("div",{className:"text-cyan-400 mt-1",children:[w.impactScore,"/100"]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Time to Market"}),t.jsxs("div",{className:"text-yellow-400 mt-1",children:[w.estimatedTimeToMarket,"mo"]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Investment"}),t.jsx("div",{className:"text-green-400 mt-1",children:S(w.investmentRequired)})]})]})]}),t.jsxs("div",{className:"text-right ml-4",children:[t.jsxs("div",{className:`text-sm ${b(w.riskScore)}`,children:["Risk: ",w.riskScore,"/100"]}),t.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["ROI: ",w.potentialROI,"%"]})]})]})},w.id))})})]})]}),t.jsx(ct,{value:"pipelines",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs($,{className:"bg-gray-900/50 border-gray-800",children:[t.jsx(oe,{children:t.jsx(le,{className:"text-white",children:"Pipeline Stages"})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-3",children:Object.entries(y.pipelinesByStage).map(([w,E])=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-300 capitalize",children:w.replace("_"," ")}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-20 bg-gray-700 rounded-full h-2",children:t.jsx("div",{className:"bg-purple-400 h-2 rounded-full",style:{width:`${E/Math.max(...Object.values(y.pipelinesByStage))*100}%`}})}),t.jsx("span",{className:"text-sm text-white w-8",children:E})]})]},w))})})]}),t.jsxs($,{className:"bg-gray-900/50 border-gray-800",children:[t.jsx(oe,{children:t.jsx(le,{className:"text-white",children:"Budget Overview"})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[t.jsx("span",{className:"text-gray-300",children:"Budget Utilization"}),t.jsxs("span",{className:"text-white",children:[(y.spentBudget/y.totalBudget*100).toFixed(1),"%"]})]}),t.jsx(Xn,{value:y.spentBudget/y.totalBudget*100,className:"bg-gray-700"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-gray-400",children:"Total Budget"}),t.jsx("div",{className:"text-lg font-semibold text-white",children:S(y.totalBudget)})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-gray-400",children:"Spent"}),t.jsx("div",{className:"text-lg font-semibold text-cyan-400",children:S(y.spentBudget)})]})]})]})})]}),t.jsxs($,{className:"bg-gray-900/50 border-gray-800",children:[t.jsx(oe,{children:t.jsx(le,{className:"text-white",children:"Deliverables Summary"})}),t.jsx(q,{children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"text-center p-3 bg-gray-800/50 rounded",children:[t.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:y.deliverablesSummary.prototypes}),t.jsx("div",{className:"text-xs text-gray-400",children:"Prototypes"})]}),t.jsxs("div",{className:"text-center p-3 bg-gray-800/50 rounded",children:[t.jsx("div",{className:"text-2xl font-bold text-purple-400",children:y.deliverablesSummary.patents}),t.jsx("div",{className:"text-xs text-gray-400",children:"Patents"})]}),t.jsxs("div",{className:"text-center p-3 bg-gray-800/50 rounded",children:[t.jsx("div",{className:"text-2xl font-bold text-green-400",children:y.deliverablesSummary.publications}),t.jsx("div",{className:"text-xs text-gray-400",children:"Publications"})]}),t.jsxs("div",{className:"text-center p-3 bg-gray-800/50 rounded",children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:y.deliverablesSummary.demos}),t.jsx("div",{className:"text-xs text-gray-400",children:"Demos"})]})]})})]}),t.jsxs($,{className:"bg-gray-900/50 border-gray-800",children:[t.jsx(oe,{children:t.jsx(le,{className:"text-white",children:"Upcoming Milestones"})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-3",children:[y.upcomingMilestones.slice(0,5).map((w,E)=>t.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-800/50 rounded",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-white",children:w.milestone}),t.jsx("div",{className:"text-xs text-gray-400",children:w.pipeline})]}),t.jsx("div",{className:"text-xs text-cyan-400",children:new Date(w.date).toLocaleDateString()})]},E)),y.upcomingMilestones.length===0&&t.jsx("div",{className:"text-center py-4 text-gray-400",children:"No upcoming milestones"})]})})]})]})}),t.jsx(ct,{value:"scouting",className:"space-y-6",children:t.jsxs($,{className:"bg-gray-900/50 border-gray-800",children:[t.jsx(oe,{children:t.jsxs(le,{className:"text-white flex items-center gap-2",children:[t.jsx(jr,{className:"h-5 w-5 text-cyan-400"}),"Technology Scouting"]})}),t.jsxs(q,{children:[t.jsxs("div",{className:"flex gap-2 mb-6",children:[t.jsx("input",{type:"text",placeholder:"Enter technology or research area to scout...",value:s,onChange:w=>r(w.target.value),className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white placeholder-gray-400"}),t.jsx(te,{onClick:()=>u.mutate(s),disabled:u.isPending||!s.trim(),className:"bg-cyan-600 hover:bg-cyan-700",children:u.isPending?"Scouting...":"Scout"})]}),t.jsxs("div",{className:"space-y-4",children:[N.map(w=>t.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("h3",{className:"text-white font-medium",children:['"',w.query,'"']}),t.jsx("span",{className:"text-sm text-gray-400",children:new Date(w.scoutingDate).toLocaleDateString()})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("h4",{className:"text-cyan-400 font-medium mb-2",children:"AI Insights Summary"}),t.jsx("p",{className:"text-gray-300 text-sm",children:w.aiInsights.summary})]}),w.aiInsights.keyOpportunities.length>0&&t.jsxs("div",{className:"mb-4",children:[t.jsx("h4",{className:"text-green-400 font-medium mb-2",children:"Key Opportunities"}),t.jsx("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1",children:w.aiInsights.keyOpportunities.map((E,T)=>t.jsx("li",{children:E},T))})]}),w.findings.length>0&&t.jsxs("div",{children:[t.jsxs("h4",{className:"text-purple-400 font-medium mb-2",children:["Technology Findings (",w.findings.length,")"]}),t.jsx("div",{className:"grid gap-2",children:w.findings.slice(0,3).map((E,T)=>t.jsxs("div",{className:"p-2 bg-gray-700/50 rounded text-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("span",{className:"text-white font-medium",children:E.technology}),t.jsxs(de,{variant:"outline",className:E.acquisitionPotential==="high"?"border-green-400 text-green-400":E.acquisitionPotential==="medium"?"border-yellow-400 text-yellow-400":"border-gray-400 text-gray-400",children:[E.acquisitionPotential," potential"]})]}),t.jsx("div",{className:"text-gray-300",children:E.organization}),t.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["TRL: ",E.readinessLevel,"/9"]})]},T))})]})]},w.id)),N.length===0&&t.jsx("div",{className:"text-center py-8 text-gray-400",children:"No scouting reports yet. Enter a query above to start technology scouting."})]})]})]})}),t.jsx(ct,{value:"trends",className:"space-y-6",children:t.jsxs($,{className:"bg-gray-900/50 border-gray-800",children:[t.jsx(oe,{children:t.jsxs(le,{className:"text-white flex items-center gap-2",children:[t.jsx(or,{className:"h-5 w-5 text-cyan-400"}),"Market Trend Analysis"]})}),t.jsx(q,{children:j.length===0?t.jsx("div",{className:"text-center py-8 text-gray-400",children:'No trend analyses yet. Click "Run Trend Analysis" to generate AI-powered market insights.'}):t.jsx("div",{className:"space-y-6",children:j.slice(0,3).map((w,E)=>t.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("h3",{className:"text-white font-medium",children:"Market Analysis"}),t.jsx("span",{className:"text-sm text-gray-400",children:new Date(w.analysisDate).toLocaleDateString()})]}),w.insights?.hottestTechnologies?.length>0&&t.jsxs("div",{className:"mb-4",children:[t.jsx("h4",{className:"text-green-400 font-medium mb-2",children:"Hottest Technologies"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:w.insights.hottestTechnologies.map((T,P)=>t.jsx(de,{variant:"outline",className:"border-green-400 text-green-400",children:T},P))})]}),w.insights?.investmentOpportunities?.length>0&&t.jsxs("div",{className:"mb-4",children:[t.jsx("h4",{className:"text-cyan-400 font-medium mb-2",children:"Investment Opportunities"}),t.jsx("div",{className:"space-y-2",children:w.insights.investmentOpportunities.slice(0,3).map((T,P)=>t.jsxs("div",{className:"p-2 bg-gray-700/50 rounded text-sm",children:[t.jsx("div",{className:"text-white font-medium",children:T.technology}),t.jsx("div",{className:"text-gray-300",children:T.opportunity}),t.jsxs("div",{className:"text-xs text-cyan-400 mt-1",children:["Investment: ",T.investmentRange," | Expected ROI: ",T.expectedROI]})]},P))})]}),w.recommendations?.length>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"text-purple-400 font-medium mb-2",children:"Strategic Recommendations"}),t.jsx("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1",children:w.recommendations.slice(0,3).map((T,P)=>t.jsxs("li",{children:[T.action," - ",T.rationale]},P))})]})]},E))})})]})})]})]})}function oMe(){const[n,e]=R.useState("overview"),[s,r]=R.useState("weekly"),{data:a}=wn({queryKey:["/api/ai-cfo/summary"],refetchInterval:3e4}),{data:i}=wn({queryKey:["/api/ai-cfo/brief/latest",s],refetchInterval:6e4}),{data:o}=wn({queryKey:["/api/ai-cfo/insights"],refetchInterval:3e4}),{data:l}=wn({queryKey:["/api/ai-analytics/summary"],refetchInterval:45e3}),{data:c}=wn({queryKey:["/api/ai-analytics/market-intelligence"],refetchInterval:3e5}),{data:d}=wn({queryKey:["/api/creator-automation/metrics"],refetchInterval:6e4}),{data:u}=wn({queryKey:["/api/ai-moderation/metrics"],refetchInterval:3e4}),{data:h}=wn({queryKey:["/api/ecosystem/summary"],refetchInterval:15e3}),m=kt({mutationFn:async I=>Kt("POST","/api/ai-cfo/brief",{period:I}),onSuccess:()=>{v_.invalidateQueries({queryKey:["/api/ai-cfo/brief/latest"]})}}),y=a||{revenue:{total:0,growthRate:0},cashFlow:{operating:0}},N=i?.brief,j=o?.insights||[],v=j.filter(I=>I.severity==="high"||I.severity==="critical"),b=l||{models:{total:0,active:0,averageAccuracy:0}},A=c?.intelligence,S=d||{totalWorkflows:0,activeWorkflows:0,revenueGenerated:0,timeSaved:0},w=u||{totalScanned:0,approvalRate:0,averageProcessingTime:0},E=h||{systemHealth:{overall:"unknown",healthyServices:0,services:0}},T=I=>I>=1e6?`$${(I/1e6).toFixed(1)}M`:I>=1e3?`$${(I/1e3).toFixed(0)}K`:`$${I}`,P=I=>{switch(I){case"critical":return"text-red-400 border-red-400";case"high":return"text-orange-400 border-orange-400";case"medium":return"text-yellow-400 border-yellow-400";case"low":return"text-green-400 border-green-400";default:return"text-gray-400 border-gray-400"}},k=I=>{switch(I){case"healthy":return"text-green-400";case"degraded":return"text-yellow-400";case"unhealthy":return"text-red-400";default:return"text-gray-400"}};return t.jsxs("div",{className:"p-6 space-y-6 bg-black min-h-screen","data-testid":"ai-cfo-dashboard",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"AI CFO & Automated Ecosystem"}),t.jsx("p",{className:"text-cyan-400 mt-2",children:"FanzFinance OS - Comprehensive AI-powered financial intelligence and automation"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(te,{onClick:()=>m.mutate(s),disabled:m.isPending,className:"bg-cyan-600 hover:bg-cyan-700",children:[t.jsx(Gr,{className:"h-4 w-4 mr-2"}),m.isPending?"Generating...":"Generate AI Brief"]}),t.jsx(de,{variant:"outline",className:"border-green-400 text-green-400",children:"Autonomous Operation"}),t.jsx(de,{variant:"outline",className:"border-purple-400 text-purple-400",children:"GPT-5 Powered"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs($,{className:"bg-gray-900/50 border-gray-800",children:[t.jsx(oe,{className:"pb-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(le,{className:"text-sm text-gray-400",children:"Revenue Growth"}),t.jsx(Jr,{className:"h-4 w-4 text-green-400"})]})}),t.jsxs(q,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:T(y.revenue?.total||0)}),t.jsxs("p",{className:"text-xs text-green-400",children:["+",y.revenue?.growthRate||0,"% this period"]}),t.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:["Operating: ",T(y.cashFlow?.operating||0)]})]})]}),t.jsxs($,{className:"bg-gray-900/50 border-gray-800",children:[t.jsx(oe,{className:"pb-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(le,{className:"text-sm text-gray-400",children:"AI Insights"}),t.jsx(Gr,{className:"h-4 w-4 text-cyan-400"})]})}),t.jsxs(q,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:j.length}),t.jsxs("p",{className:"text-xs text-red-400",children:[v.length," critical alerts"]}),t.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:["Confidence:"," ",j.length>0?Math.round(j.reduce((I,L)=>I+L.confidence,0)/j.length*100):0,"%"]})]})]}),t.jsxs($,{className:"bg-gray-900/50 border-gray-800",children:[t.jsx(oe,{className:"pb-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(le,{className:"text-sm text-gray-400",children:"Automation ROI"}),t.jsx(Hf,{className:"h-4 w-4 text-purple-400"})]})}),t.jsxs(q,{children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:T(S.revenueGenerated)}),t.jsxs("p",{className:"text-xs text-purple-400",children:[S.timeSaved,"h saved"]}),t.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:[S.activeWorkflows," active workflows"]})]})]}),t.jsxs($,{className:"bg-gray-900/50 border-gray-800",children:[t.jsx(oe,{className:"pb-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(le,{className:"text-sm text-gray-400",children:"System Health"}),t.jsx(En,{className:`h-4 w-4 ${k(E.systemHealth?.overall)}`})]})}),t.jsxs(q,{children:[t.jsx("div",{className:"text-2xl font-bold text-white capitalize",children:E.systemHealth?.overall||"Unknown"}),t.jsxs("p",{className:"text-xs text-cyan-400",children:[E.systemHealth?.healthyServices||0,"/",E.systemHealth?.services||0," services"]}),t.jsx("div",{className:"mt-2 text-xs text-gray-400",children:"Auto-healing active"})]})]})]}),t.jsxs(Xs,{value:n,onValueChange:e,className:"space-y-6",children:[t.jsxs($s,{className:"bg-gray-900 border border-gray-800",children:[t.jsx(lt,{value:"overview",className:"data-[state=active]:bg-cyan-600",children:"Executive Overview"}),t.jsx(lt,{value:"insights",className:"data-[state=active]:bg-cyan-600",children:"AI Insights"}),t.jsx(lt,{value:"analytics",className:"data-[state=active]:bg-cyan-600",children:"Predictive Analytics"}),t.jsx(lt,{value:"automation",className:"data-[state=active]:bg-cyan-600",children:"Creator Automation"}),t.jsx(lt,{value:"ecosystem",className:"data-[state=active]:bg-cyan-600",children:"Ecosystem Health"})]}),t.jsx(ct,{value:"overview",className:"space-y-6",children:t.jsxs($,{className:"bg-gray-900/50 border-gray-800",children:[t.jsx(oe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(le,{className:"text-white flex items-center gap-2",children:[t.jsx(Gr,{className:"h-5 w-5 text-cyan-400"}),"AI CFO Brief - ",s]}),t.jsx("div",{className:"flex space-x-2",children:["daily","weekly","monthly","quarterly"].map(I=>t.jsx(te,{size:"sm",variant:s===I?"default":"outline",onClick:()=>r(I),className:"text-xs",children:I},I))})]})}),t.jsx(q,{children:N?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Executive Summary"}),t.jsx("p",{className:"text-gray-300 leading-relaxed",children:N.executiveSummary})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Key Takeaways"}),t.jsx("ul",{className:"space-y-2",children:N.keyTakeaways.map((I,L)=>t.jsxs("li",{className:"flex items-start gap-2 text-gray-300",children:[t.jsx("div",{className:"w-2 h-2 bg-cyan-400 rounded-full mt-2 flex-shrink-0"}),I]},L))})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[t.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Revenue"}),t.jsx("div",{className:"text-xl font-bold text-white",children:T(N.performanceHighlights.revenue.value)}),t.jsxs("div",{className:`text-xs ${N.performanceHighlights.revenue.change>=0?"text-green-400":"text-red-400"}`,children:[N.performanceHighlights.revenue.change>=0?"+":"",N.performanceHighlights.revenue.change,"%"]}),t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:N.performanceHighlights.revenue.insight})]}),t.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[t.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Profit Margin"}),t.jsxs("div",{className:"text-xl font-bold text-white",children:[N.performanceHighlights.profitMargin.value,"%"]}),t.jsxs("div",{className:`text-xs ${N.performanceHighlights.profitMargin.change>=0?"text-green-400":"text-red-400"}`,children:[N.performanceHighlights.profitMargin.change>=0?"+":"",N.performanceHighlights.profitMargin.change,"%"]}),t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:N.performanceHighlights.profitMargin.insight})]}),t.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[t.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Customer Acquisition"}),t.jsx("div",{className:"text-xl font-bold text-white",children:N.performanceHighlights.customerAcquisition.value.toLocaleString()}),t.jsxs("div",{className:`text-xs ${N.performanceHighlights.customerAcquisition.change>=0?"text-green-400":"text-red-400"}`,children:[N.performanceHighlights.customerAcquisition.change>=0?"+":"",N.performanceHighlights.customerAcquisition.change,"%"]}),t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:N.performanceHighlights.customerAcquisition.insight})]}),t.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg",children:[t.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Churn Rate"}),t.jsxs("div",{className:"text-xl font-bold text-white",children:[N.performanceHighlights.churnRate.value,"%"]}),t.jsxs("div",{className:`text-xs ${N.performanceHighlights.churnRate.change<=0?"text-green-400":"text-red-400"}`,children:[N.performanceHighlights.churnRate.change>=0?"+":"",N.performanceHighlights.churnRate.change,"%"]}),t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:N.performanceHighlights.churnRate.insight})]})]}),N.marketOpportunities?.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Market Opportunities"}),t.jsx("div",{className:"space-y-3",children:N.marketOpportunities.map((I,L)=>t.jsxs("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h4",{className:"text-white font-medium",children:I.opportunity}),t.jsxs(de,{variant:"outline",className:"text-xs border-green-400 text-green-400",children:[(I.confidence*100).toFixed(0),"% confidence"]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 text-xs",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Impact:"}),t.jsx("span",{className:"text-green-400 ml-1",children:T(I.potentialImpact)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Investment:"}),t.jsx("span",{className:"text-white ml-1",children:T(I.investmentRequired)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Timeline:"}),t.jsx("span",{className:"text-cyan-400 ml-1",children:I.timeToRealization})]})]})]},L))})]})]}):t.jsx("div",{className:"text-center py-8 text-gray-400",children:'No CFO brief available. Click "Generate AI Brief" to create one.'})})]})}),t.jsx(ct,{value:"insights",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs($,{className:"bg-gray-900/50 border-gray-800",children:[t.jsx(oe,{children:t.jsxs(le,{className:"text-white flex items-center gap-2",children:[t.jsx(ln,{className:"h-5 w-5 text-red-400"}),"Critical AI Insights"]})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-4",children:v.length>0?v.map(I=>t.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg border-l-4 border-red-400",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsx("h3",{className:"text-white font-medium",children:I.title}),t.jsx(de,{variant:"outline",className:P(I.severity),children:I.severity})]}),t.jsx("p",{className:"text-gray-300 text-sm mb-3",children:I.description}),t.jsxs("div",{className:"text-xs text-cyan-400 mb-2",children:[t.jsx("strong",{children:"Impact:"})," ",I.impact]}),t.jsxs("div",{className:"text-xs text-green-400 mb-2",children:[t.jsx("strong",{children:"Recommendation:"})," ",I.recommendation]}),t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[t.jsxs("span",{children:["Confidence: ",Math.round(I.confidence*100),"%"]}),t.jsxs("span",{children:["Est. Impact:"," ",T(I.estimatedImpact.revenue)," ","over ",I.estimatedImpact.timeframe]})]})]},I.id)):t.jsx("div",{className:"text-center py-8 text-gray-400",children:"No critical insights at this time. System is operating within normal parameters."})})})]}),t.jsxs($,{className:"bg-gray-900/50 border-gray-800",children:[t.jsx(oe,{children:t.jsxs(le,{className:"text-white flex items-center gap-2",children:[t.jsx(Gr,{className:"h-5 w-5 text-cyan-400"}),"All AI Insights"]})}),t.jsx(q,{children:t.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:j.map(I=>t.jsxs("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:[t.jsxs("div",{className:"flex items-start justify-between mb-1",children:[t.jsx("h4",{className:"text-white text-sm font-medium",children:I.title}),t.jsx(de,{variant:"outline",className:`text-xs ${P(I.severity)}`,children:I.severity})]}),t.jsx("p",{className:"text-gray-300 text-xs mb-2",children:I.description}),t.jsxs("div",{className:"flex items-center justify-between text-xs",children:[t.jsxs("span",{className:"text-gray-400",children:["Type: ",I.type.replace("_"," ")]}),t.jsxs("span",{className:"text-cyan-400",children:[Math.round(I.confidence*100),"% confident"]})]})]},I.id))})})]})]})}),t.jsx(ct,{value:"analytics",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs($,{className:"bg-gray-900/50 border-gray-800",children:[t.jsx(oe,{children:t.jsxs(le,{className:"text-white flex items-center gap-2",children:[t.jsx(la,{className:"h-5 w-5 text-purple-400"}),"Predictive Models"]})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[t.jsxs("div",{className:"p-3 bg-gray-800/50 rounded",children:[t.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:b.models?.total||0}),t.jsx("div",{className:"text-xs text-gray-400",children:"Total Models"})]}),t.jsxs("div",{className:"p-3 bg-gray-800/50 rounded",children:[t.jsx("div",{className:"text-2xl font-bold text-green-400",children:b.models?.active||0}),t.jsx("div",{className:"text-xs text-gray-400",children:"Active"})]}),t.jsxs("div",{className:"p-3 bg-gray-800/50 rounded",children:[t.jsxs("div",{className:"text-2xl font-bold text-purple-400",children:[Math.round((b.models?.averageAccuracy||0)*100),"%"]}),t.jsx("div",{className:"text-xs text-gray-400",children:"Avg Accuracy"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-300",children:"Revenue Forecasting"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-20 bg-gray-700 rounded-full h-2",children:t.jsx("div",{className:"bg-cyan-400 h-2 rounded-full",style:{width:"94%"}})}),t.jsx("span",{className:"text-sm text-white w-8",children:"94%"})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-300",children:"Content Performance"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-20 bg-gray-700 rounded-full h-2",children:t.jsx("div",{className:"bg-green-400 h-2 rounded-full",style:{width:"87%"}})}),t.jsx("span",{className:"text-sm text-white w-8",children:"87%"})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-300",children:"Churn Prevention"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-20 bg-gray-700 rounded-full h-2",children:t.jsx("div",{className:"bg-purple-400 h-2 rounded-full",style:{width:"91%"}})}),t.jsx("span",{className:"text-sm text-white w-8",children:"91%"})]})]})]})]})})]}),t.jsxs($,{className:"bg-gray-900/50 border-gray-800",children:[t.jsx(oe,{children:t.jsxs(le,{className:"text-white flex items-center gap-2",children:[t.jsx(or,{className:"h-5 w-5 text-yellow-400"}),"Market Intelligence"]})}),t.jsx(q,{children:A?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Consumer Spending Trends"}),t.jsxs("div",{className:"text-lg font-bold text-green-400 capitalize",children:[A.consumerSpendingPatterns.trend," Trend"]}),t.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Digital spending index:"," ",A.economicFactors.digitalSpendingTrend]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Technology Innovations"}),t.jsx("div",{className:"space-y-2",children:A.technologyInnovations.slice(0,3).map((I,L)=>t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-300",children:I.technology}),t.jsxs("div",{className:"text-cyan-400",children:[Math.round(I.adoptionRate*100),"% adoption"]})]},L))})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Market Sentiment"}),t.jsx("div",{className:`text-lg font-bold capitalize ${A.economicFactors.marketSentiment==="bullish"?"text-green-400":A.economicFactors.marketSentiment==="bearish"?"text-red-400":"text-yellow-400"}`,children:A.economicFactors.marketSentiment})]})]}):t.jsx("div",{className:"text-center py-8 text-gray-400",children:"Loading market intelligence data..."})})]})]})}),t.jsx(ct,{value:"automation",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs($,{className:"bg-gray-900/50 border-gray-800",children:[t.jsx(oe,{children:t.jsxs(le,{className:"text-white flex items-center gap-2",children:[t.jsx(Hf,{className:"h-5 w-5 text-purple-400"}),"Creator Automation Overview"]})}),t.jsxs(q,{children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[t.jsxs("div",{className:"text-center p-3 bg-gray-800/50 rounded",children:[t.jsx("div",{className:"text-2xl font-bold text-purple-400",children:S.totalWorkflows}),t.jsx("div",{className:"text-xs text-gray-400",children:"Total Workflows"})]}),t.jsxs("div",{className:"text-center p-3 bg-gray-800/50 rounded",children:[t.jsx("div",{className:"text-2xl font-bold text-green-400",children:S.activeWorkflows}),t.jsx("div",{className:"text-xs text-gray-400",children:"Active"})]}),t.jsxs("div",{className:"text-center p-3 bg-gray-800/50 rounded",children:[t.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:T(S.revenueGenerated)}),t.jsx("div",{className:"text-xs text-gray-400",children:"Revenue Generated"})]}),t.jsxs("div",{className:"text-center p-3 bg-gray-800/50 rounded",children:[t.jsxs("div",{className:"text-2xl font-bold text-yellow-400",children:[S.timeSaved,"h"]}),t.jsx("div",{className:"text-xs text-gray-400",children:"Time Saved"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[t.jsx("span",{className:"text-gray-300",children:"Workflow Completion Rate"}),t.jsxs("span",{className:"text-white",children:[S.completionRate?Math.round(S.completionRate*100):0,"%"]})]}),t.jsx(Xn,{value:S.completionRate?S.completionRate*100:0,className:"bg-gray-700"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[t.jsx("span",{className:"text-gray-300",children:"Engagement Increase"}),t.jsxs("span",{className:"text-white",children:[S.engagementIncrease?Math.round(S.engagementIncrease*100):0,"%"]})]}),t.jsx(Xn,{value:S.engagementIncrease?S.engagementIncrease*100:0,className:"bg-gray-700"})]})]})]})]}),t.jsxs($,{className:"bg-gray-900/50 border-gray-800",children:[t.jsx(oe,{children:t.jsxs(le,{className:"text-white flex items-center gap-2",children:[t.jsx(En,{className:"h-5 w-5 text-green-400"}),"AI Content Moderation"]})}),t.jsxs(q,{children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[t.jsxs("div",{className:"text-center p-3 bg-gray-800/50 rounded",children:[t.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:w.totalScanned?.toLocaleString()||0}),t.jsx("div",{className:"text-xs text-gray-400",children:"Content Scanned"})]}),t.jsxs("div",{className:"text-center p-3 bg-gray-800/50 rounded",children:[t.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[Math.round((w.approvalRate||0)*100),"%"]}),t.jsx("div",{className:"text-xs text-gray-400",children:"Approval Rate"})]}),t.jsxs("div",{className:"text-center p-3 bg-gray-800/50 rounded",children:[t.jsxs("div",{className:"text-2xl font-bold text-purple-400",children:[w.averageProcessingTime||0,"ms"]}),t.jsx("div",{className:"text-xs text-gray-400",children:"Avg Processing"})]}),t.jsxs("div",{className:"text-center p-3 bg-gray-800/50 rounded",children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:"94%"}),t.jsx("div",{className:"text-xs text-gray-400",children:"Accuracy Rate"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-300",children:"NSFW Detection"}),t.jsx("span",{className:"text-cyan-400",children:"94.2% accuracy"})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-300",children:"Fraud Detection"}),t.jsx("span",{className:"text-purple-400",children:"89.7% accuracy"})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"text-gray-300",children:"Sentiment Analysis"}),t.jsx("span",{className:"text-green-400",children:"91.3% accuracy"})]})]})]})]})]})}),t.jsx(ct,{value:"ecosystem",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs($,{className:"bg-gray-900/50 border-gray-800",children:[t.jsx(oe,{children:t.jsxs(le,{className:"text-white flex items-center gap-2",children:[t.jsx(Ks,{className:"h-5 w-5 text-green-400"}),"Ecosystem Health"]})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:`text-3xl font-bold capitalize ${k(E.systemHealth?.overall)}`,children:E.systemHealth?.overall||"Unknown"}),t.jsx("div",{className:"text-sm text-gray-400 mt-1",children:"Overall System Status"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"text-center p-3 bg-gray-800/50 rounded",children:[t.jsx("div",{className:"text-xl font-bold text-cyan-400",children:E.systemHealth?.services||0}),t.jsx("div",{className:"text-xs text-gray-400",children:"Total Services"})]}),t.jsxs("div",{className:"text-center p-3 bg-gray-800/50 rounded",children:[t.jsx("div",{className:"text-xl font-bold text-green-400",children:E.systemHealth?.healthyServices||0}),t.jsx("div",{className:"text-xs text-gray-400",children:"Healthy"})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[t.jsx("span",{className:"text-gray-300",children:"Service Health"}),t.jsxs("span",{className:"text-white",children:[E.systemHealth?.services?Math.round(E.systemHealth.healthyServices/E.systemHealth.services*100):0,"%"]})]}),t.jsx(Xn,{value:E.systemHealth?.services?E.systemHealth.healthyServices/E.systemHealth.services*100:0,className:"bg-gray-700"})]})]})})]}),t.jsxs($,{className:"bg-gray-900/50 border-gray-800",children:[t.jsx(oe,{children:t.jsxs(le,{className:"text-white flex items-center gap-2",children:[t.jsx(lr,{className:"h-5 w-5 text-yellow-400"}),"Self-Healing Operations"]})}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"text-center p-3 bg-gray-800/50 rounded",children:[t.jsx("div",{className:"text-xl font-bold text-green-400",children:E.selfHealing?.totalResolved||0}),t.jsx("div",{className:"text-xs text-gray-400",children:"Issues Resolved"})]}),t.jsxs("div",{className:"text-center p-3 bg-gray-800/50 rounded",children:[t.jsx("div",{className:"text-xl font-bold text-yellow-400",children:E.selfHealing?.activeOperations||0}),t.jsx("div",{className:"text-xs text-gray-400",children:"Active Operations"})]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Average Resolution Time"}),t.jsxs("div",{className:"text-lg font-bold text-cyan-400",children:[E.selfHealing?.averageResolutionTime?Math.round(E.selfHealing.averageResolutionTime):0,"s"]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Next Maintenance"}),t.jsx("div",{className:"text-sm text-white",children:E.maintenance?.nextMaintenance?new Date(E.maintenance.nextMaintenance).toLocaleDateString():"No scheduled maintenance"}),t.jsxs("div",{className:"text-xs text-gray-500",children:[E.maintenance?.criticalTasks||0," critical tasks pending"]})]})]})})]})]})})]})]})}function lMe({className:n,isFloating:e=!1}){const[s,r]=R.useState(!e),[a,i]=R.useState(!1),[o,l]=R.useState([{id:"1",role:"assistant",content:`🛡️ **FanzLegal AI Compliance Guardian** is now active.

I monitor all platform activities for legal compliance and can help with:

📋 **Laws & Regulations**: 18 U.S.C. § 2257, DMCA, GDPR, CCPA
🏛️ **Platform Policies**: Content guidelines, harassment prevention
⚖️ **Legal Guidance**: Federal law compliance, data protection
🚨 **Crisis Management**: Emergency protocols, incident response
👥 **Staff Monitoring**: Real-time action oversight, violation prevention

**WARNING**: I actively monitor and can BLOCK actions that violate laws or policies. Contact legal@fanzunlimited.com for urgent matters.`,timestamp:new Date,alertLevel:"info"}]),[c,d]=R.useState(""),u=R.useRef(null),{data:h}=wn({queryKey:["/api/compliance/status"],refetchInterval:5e3}),m=()=>{u.current?.scrollIntoView({behavior:"smooth"})};R.useEffect(()=>{m()},[o]);const y=kt({mutationFn:async v=>await Kt("POST","/api/compliance-bot/chat",{message:v,conversationHistory:o.slice(-10)}),onSuccess:v=>{l(b=>b.map(A=>A.typing?{...A,content:v.message,typing:!1,alertLevel:v.alertLevel,complianceCheck:v.complianceCheck}:A))},onError:()=>{l(v=>v.map(b=>b.typing?{...b,content:"⚠️ I'm experiencing technical difficulties. For immediate legal compliance assistance, contact legal@fanzunlimited.com",typing:!1,alertLevel:"error"}:b))}}),N=()=>{if(!c.trim())return;const v={id:Date.now().toString(),role:"user",content:c,timestamp:new Date},b={id:(Date.now()+1).toString(),role:"assistant",content:"Analyzing for compliance violations...",timestamp:new Date,typing:!0};l(A=>[...A,v,b]),d(""),y.mutate(c)},j=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),N())};return e&&!s?t.jsx(te,{onClick:()=>r(!0),className:"fixed bottom-6 right-6 h-14 w-14 rounded-full bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-700 hover:to-orange-700 shadow-lg z-50 animate-pulse","data-testid":"compliance-bot-toggle-button",children:t.jsx(En,{className:"h-6 w-6"})}):t.jsxs($,{className:Bt("bg-gray-900/95 border-red-800 backdrop-blur-sm",e?"fixed bottom-6 right-6 w-96 h-[600px] shadow-2xl z-50":"w-full h-full",a&&e?"h-16":"",n),"data-testid":"compliance-bot-card",children:[t.jsxs(oe,{className:"p-4 border-b border-red-800",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx(_l,{className:"h-8 w-8 bg-gradient-to-r from-red-600 to-orange-600",children:t.jsx(Al,{children:t.jsx(En,{className:"h-4 w-4 text-white"})})}),t.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-red-500 border-2 border-gray-900 rounded-full animate-pulse"})]}),t.jsxs("div",{children:[t.jsx(le,{className:"text-sm text-white",children:"FanzLegal AI Guardian"}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsxs(de,{variant:"destructive",className:"text-xs bg-red-900/50 text-red-300",children:[t.jsx(bk,{className:"h-3 w-3 mr-1"}),"Legal Monitor"]}),t.jsxs(de,{variant:"secondary",className:"text-xs bg-orange-900/50 text-orange-300",children:[t.jsx(Mn,{className:"h-3 w-3 mr-1"}),"Active"]})]})]})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[h&&t.jsxs("div",{className:"text-xs text-right mr-2",children:[t.jsxs("div",{className:"text-red-400",children:[h.blockedActions||0," Blocked"]}),t.jsxs("div",{className:"text-orange-400",children:[h.pendingApprovals||0," Pending"]})]}),e&&t.jsx(te,{variant:"ghost",size:"sm",onClick:()=>i(!a),className:"h-8 w-8 p-0 text-gray-400 hover:text-white","data-testid":"compliance-bot-minimize-button",children:a?t.jsx(tae,{className:"h-4 w-4"}):t.jsx(rae,{className:"h-4 w-4"})}),e&&t.jsx(te,{variant:"ghost",size:"sm",onClick:()=>r(!1),className:"h-8 w-8 p-0 text-gray-400 hover:text-white","data-testid":"compliance-bot-close-button",children:t.jsx(td,{className:"h-4 w-4"})})]})]}),h&&!a&&t.jsxs("div",{className:"mt-3 p-2 bg-gray-800 rounded border border-red-700",children:[t.jsx("div",{className:"text-xs text-gray-300 mb-1",children:"Real-time Compliance Status"}),t.jsxs("div",{className:"flex justify-between text-xs",children:[t.jsxs("span",{className:"text-green-400",children:[h.riskDistribution?.low||0," Low"]}),t.jsxs("span",{className:"text-yellow-400",children:[h.riskDistribution?.medium||0," Medium"]}),t.jsxs("span",{className:"text-orange-400",children:[h.riskDistribution?.high||0," High"]}),t.jsxs("span",{className:"text-red-400",children:[h.riskDistribution?.critical||0," Critical"]})]})]})]}),!a&&t.jsxs(q,{className:"p-0 flex flex-col h-full",children:[t.jsxs(L2,{className:"flex-1 p-4",children:[t.jsx("div",{className:"space-y-4",children:o.map(v=>t.jsxs("div",{className:Bt("flex gap-3",v.role==="user"?"justify-end":"justify-start"),children:[v.role==="assistant"&&t.jsx(_l,{className:Bt("h-8 w-8 mt-1",v.alertLevel==="error"?"bg-gradient-to-r from-red-600 to-red-700":v.alertLevel==="warning"?"bg-gradient-to-r from-orange-600 to-yellow-600":"bg-gradient-to-r from-red-600 to-orange-600"),children:t.jsx(Al,{children:v.alertLevel==="error"?t.jsx(ln,{className:"h-4 w-4 text-white"}):v.alertLevel==="warning"?t.jsx(Uj,{className:"h-4 w-4 text-white"}):t.jsx(En,{className:"h-4 w-4 text-white"})})}),t.jsxs("div",{className:"flex flex-col max-w-[80%]",children:[t.jsx("div",{className:Bt("rounded-lg p-3 text-sm",v.role==="user"?"bg-gradient-to-r from-red-600 to-orange-600 text-white":v.alertLevel==="error"?"bg-red-900/50 text-red-100 border border-red-700":v.alertLevel==="warning"?"bg-orange-900/50 text-orange-100 border border-orange-700":"bg-gray-800 text-gray-100 border border-red-700"),"data-testid":`message-${v.role}`,children:v.typing?t.jsx("div",{className:"flex items-center gap-1",children:t.jsxs("div",{className:"flex gap-1",children:[t.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full animate-pulse"}),t.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full animate-pulse",style:{animationDelay:"0.1s"}}),t.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full animate-pulse",style:{animationDelay:"0.2s"}})]})}):t.jsx("div",{className:"whitespace-pre-wrap",children:v.content})}),v.complianceCheck&&t.jsxs(Ta,{className:Bt("mt-2 text-xs",v.complianceCheck.blocked?"border-red-600 bg-red-900/20":v.complianceCheck.riskLevel==="high"?"border-orange-600 bg-orange-900/20":"border-yellow-600 bg-yellow-900/20"),children:[t.jsx(ln,{className:"h-3 w-3"}),t.jsxs(Ea,{className:"text-xs",children:[t.jsx("div",{className:"font-semibold mb-1",children:v.complianceCheck.blocked?"🚫 ACTION BLOCKED":"⚠️ COMPLIANCE ALERT"}),t.jsxs("div",{children:["Risk Level:"," ",v.complianceCheck.riskLevel.toUpperCase()]}),v.complianceCheck.violations.length>0&&t.jsxs("div",{children:["Violations:"," ",v.complianceCheck.violations.join(", ")]})]})]}),t.jsx("div",{className:Bt("text-xs mt-1 opacity-70",v.role==="user"?"text-red-200":"text-gray-400"),children:v.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),v.role==="user"&&t.jsx(_l,{className:"h-8 w-8 bg-gray-700 mt-1",children:t.jsx(Al,{children:t.jsx(Jv,{className:"h-4 w-4 text-gray-300"})})})]},v.id))}),t.jsx("div",{ref:u})]}),t.jsxs("div",{className:"p-4 border-t border-red-800",children:[t.jsx("div",{className:"mb-2",children:t.jsxs("div",{className:"flex items-center gap-2 text-xs text-red-400 mb-1",children:[t.jsx(Ii,{className:"h-3 w-3"}),t.jsx("span",{children:"All messages are monitored for legal compliance"})]})}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Fe,{placeholder:"Ask about laws, policies, compliance, or report violations...",value:c,onChange:v=>d(v.target.value),onKeyPress:j,className:"bg-gray-800 border-red-700 text-white placeholder-gray-400",disabled:y.isPending,"data-testid":"compliance-bot-input"}),t.jsx(te,{onClick:N,disabled:!c.trim()||y.isPending,className:"bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-700 hover:to-orange-700","data-testid":"compliance-bot-send-button",children:t.jsx($f,{className:"h-4 w-4"})})]}),t.jsx("div",{className:"text-xs text-gray-500 mt-2 text-center",children:"🛡️ Legal Guardian • Powered by Military-Grade AI • Fanz™ Unlimited Network LLC"})]})]})]})}function cMe(){const{data:n}=wn({queryKey:["/api/compliance/status"],refetchInterval:5e3}),{data:e}=wn({queryKey:["/api/compliance/approvals"],refetchInterval:1e4});return t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"🛡️ Legal Compliance Center"}),t.jsx("p",{className:"text-gray-400",children:"Military-grade compliance monitoring and violation prevention for Fanz™ Unlimited Network LLC"})]}),t.jsxs(de,{variant:"destructive",className:"bg-red-900/50 text-red-300 border-red-600",children:[t.jsx(Mn,{className:"h-4 w-4 mr-2"}),"Active Monitoring"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs($,{className:"bg-gray-900 border-green-800",children:[t.jsx(oe,{className:"pb-2",children:t.jsxs(le,{className:"text-sm font-medium text-gray-400 flex items-center",children:[t.jsx(xn,{className:"h-4 w-4 mr-2 text-green-500"}),"Clean Actions"]})}),t.jsxs(q,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-400",children:n?n.totalEvents-n.blockedActions:0}),t.jsx("p",{className:"text-xs text-gray-500",children:"Last 24 hours"})]})]}),t.jsxs($,{className:"bg-gray-900 border-red-800",children:[t.jsx(oe,{className:"pb-2",children:t.jsxs(le,{className:"text-sm font-medium text-gray-400 flex items-center",children:[t.jsx(Vs,{className:"h-4 w-4 mr-2 text-red-500"}),"Blocked Actions"]})}),t.jsxs(q,{children:[t.jsx("div",{className:"text-2xl font-bold text-red-400",children:n?.blockedActions||0}),t.jsx("p",{className:"text-xs text-gray-500",children:"Prevented violations"})]})]}),t.jsxs($,{className:"bg-gray-900 border-orange-800",children:[t.jsx(oe,{className:"pb-2",children:t.jsxs(le,{className:"text-sm font-medium text-gray-400 flex items-center",children:[t.jsx(As,{className:"h-4 w-4 mr-2 text-orange-500"}),"Pending Approvals"]})}),t.jsxs(q,{children:[t.jsx("div",{className:"text-2xl font-bold text-orange-400",children:n?.pendingApprovals||0}),t.jsx("p",{className:"text-xs text-gray-500",children:"Awaiting review"})]})]}),t.jsxs($,{className:"bg-gray-900 border-purple-800",children:[t.jsx(oe,{className:"pb-2",children:t.jsxs(le,{className:"text-sm font-medium text-gray-400 flex items-center",children:[t.jsx(ln,{className:"h-4 w-4 mr-2 text-purple-500"}),"Escalations"]})}),t.jsxs(q,{children:[t.jsx("div",{className:"text-2xl font-bold text-purple-400",children:n?.escalations||0}),t.jsx("p",{className:"text-xs text-gray-500",children:"Critical incidents"})]})]})]}),n&&t.jsxs($,{className:"bg-gray-900 border-gray-800",children:[t.jsx(oe,{children:t.jsxs(le,{className:"text-white flex items-center",children:[t.jsx(or,{className:"h-5 w-5 mr-2"}),"Risk Level Distribution (24h)"]})}),t.jsx(q,{children:t.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-green-400",children:n.riskDistribution.low}),t.jsx("div",{className:"text-sm text-gray-400",children:"Low Risk"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:n.riskDistribution.medium}),t.jsx("div",{className:"text-sm text-gray-400",children:"Medium Risk"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-orange-400",children:n.riskDistribution.high}),t.jsx("div",{className:"text-sm text-gray-400",children:"High Risk"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-red-400",children:n.riskDistribution.critical}),t.jsx("div",{className:"text-sm text-gray-400",children:"Critical"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-red-600",children:n.riskDistribution.immediateBlock}),t.jsx("div",{className:"text-sm text-gray-400",children:"Blocked"})]})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs($,{className:"bg-gray-900 border-red-800",children:[t.jsx(oe,{children:t.jsxs(le,{className:"text-white flex items-center",children:[t.jsx(En,{className:"h-5 w-5 mr-2 text-red-500"}),"FanzLegal AI Guardian"]})}),t.jsx(q,{className:"p-0",children:t.jsx("div",{className:"h-[500px]",children:t.jsx(lMe,{isFloating:!1})})})]}),t.jsxs($,{className:"bg-gray-900 border-orange-800",children:[t.jsx(oe,{children:t.jsxs(le,{className:"text-white flex items-center",children:[t.jsx(As,{className:"h-5 w-5 mr-2 text-orange-500"}),"Approval Queue"]})}),t.jsx(q,{children:e&&e.approvals.length>0?t.jsx("div",{className:"space-y-4",children:e.approvals.map(s=>t.jsx($,{className:"bg-gray-800 border-orange-700",children:t.jsxs(q,{className:"p-4",children:[t.jsxs("div",{className:"flex justify-between items-start mb-2",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold text-white",children:s.action}),t.jsxs("div",{className:"text-sm text-gray-400",children:["User: ",s.userId]})]}),t.jsx(de,{variant:s.riskLevel==="critical"?"destructive":"secondary",className:"text-xs",children:s.riskLevel.toUpperCase()})]}),s.violations.length>0&&t.jsxs("div",{className:"mb-3",children:[t.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Violations:"}),t.jsx("div",{className:"flex flex-wrap gap-1",children:s.violations.map(r=>t.jsx(de,{variant:"outline",className:"text-xs",children:r.replace("_"," ")},r))})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(te,{size:"sm",variant:"outline",className:"border-green-600 text-green-400",children:"Approve"}),t.jsx(te,{size:"sm",variant:"outline",className:"border-red-600 text-red-400",children:"Deny"})]})]})},s.id))}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(xn,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),t.jsx("div",{className:"text-white font-semibold mb-2",children:"No Pending Approvals"}),t.jsx("div",{className:"text-gray-400 text-sm",children:"All actions are compliant"})]})})]})]}),t.jsxs($,{className:"bg-gray-900 border-gray-800",children:[t.jsx(oe,{children:t.jsxs(le,{className:"text-white flex items-center",children:[t.jsx(Pi,{className:"h-5 w-5 mr-2"}),"Legal Reference Quick Access"]})}),t.jsx(q,{children:t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs(te,{variant:"outline",className:"border-blue-600 text-blue-400",size:"sm",children:[t.jsx(Uj,{className:"h-4 w-4 mr-2"}),"18 U.S.C. § 2257"]}),t.jsxs(te,{variant:"outline",className:"border-purple-600 text-purple-400",size:"sm",children:[t.jsx(bk,{className:"h-4 w-4 mr-2"}),"DMCA Guidelines"]}),t.jsxs(te,{variant:"outline",className:"border-green-600 text-green-400",size:"sm",children:[t.jsx(En,{className:"h-4 w-4 mr-2"}),"GDPR Compliance"]}),t.jsxs(te,{variant:"outline",className:"border-orange-600 text-orange-400",size:"sm",children:[t.jsx(er,{className:"h-4 w-4 mr-2"}),"Platform Policies"]})]})})]}),t.jsxs($,{className:"bg-red-950 border-red-800",children:[t.jsx(oe,{children:t.jsxs(le,{className:"text-white flex items-center",children:[t.jsx(ln,{className:"h-5 w-5 mr-2 text-red-500"}),"Emergency Legal Contacts"]})}),t.jsx(q,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold text-white mb-1",children:"Legal Department"}),t.jsx("div",{className:"text-red-300",children:"legal@fanzunlimited.com"}),t.jsx("div",{className:"text-gray-400",children:"For all legal matters"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold text-white mb-1",children:"Compliance Team"}),t.jsx("div",{className:"text-red-300",children:"compliance@fanzunlimited.com"}),t.jsx("div",{className:"text-gray-400",children:"Regulatory compliance"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold text-white mb-1",children:"Crisis Management"}),t.jsx("div",{className:"text-red-300",children:"crisis@fanzunlimited.com"}),t.jsx("div",{className:"text-gray-400",children:"Emergency incidents"})]})]})})]})]})}function dMe(){return t.jsx("div",{className:"min-h-screen bg-black text-white p-6",children:t.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[t.jsxs("div",{className:"text-center space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-amber-500 to-amber-600 rounded-lg flex items-center justify-center",children:t.jsx(Uj,{className:"w-7 h-7 text-white"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-4xl font-bold cyber-text-glow",children:"Legal Library"}),t.jsx("p",{className:"text-lg text-gray-400",children:"Fanz™ Unlimited Network LLC"})]})]}),t.jsxs("div",{className:"flex items-center justify-center space-x-6 text-sm text-gray-400",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(As,{className:"w-4 h-4"}),t.jsx("span",{children:"Effective: 10/24/24"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Pi,{className:"w-4 h-4"}),t.jsx("span",{children:"Last Updated: 2/07/2025"})]}),t.jsx(de,{variant:"outline",className:"text-amber-400 border-amber-400",children:"© 2025 Fanz™ Unlimited Network LLC"})]}),t.jsx("p",{className:"text-gray-300 max-w-4xl mx-auto",children:"Comprehensive legal framework ensuring full compliance with U.S., EU, and international laws, providing detailed enforcement guidelines for administrators and users across the Fanz ecosystem."})]}),t.jsxs(Xs,{defaultValue:"overview",className:"w-full",children:[t.jsxs($s,{className:"grid w-full grid-cols-6 bg-gray-900 border border-gray-700",children:[t.jsx(lt,{value:"overview",className:"text-xs",children:"Overview"}),t.jsx(lt,{value:"agreements",className:"text-xs",children:"User Agreements"}),t.jsx(lt,{value:"moderation",className:"text-xs",children:"Content Moderation"}),t.jsx(lt,{value:"data",className:"text-xs",children:"Data Retention"}),t.jsx(lt,{value:"compliance",className:"text-xs",children:"Admin Compliance"}),t.jsx(lt,{value:"legal-refs",className:"text-xs",children:"Legal References"})]}),t.jsxs(ct,{value:"overview",className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.jsxs($,{className:"bg-gray-900/50 border-gray-700 hover:border-amber-500/50 transition-colors",children:[t.jsxs(oe,{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(er,{className:"w-5 h-5 text-blue-400"}),t.jsx(le,{className:"text-lg",children:"User Agreements & Contracts"})]}),t.jsx(Ct,{children:"Legally binding agreements and compliance tracking systems"})]}),t.jsx(q,{children:t.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[t.jsx("li",{children:"• FUN User Agreement (Wyoming Law)"}),t.jsx("li",{children:"• Electronic Signatures (E-SIGN Act)"}),t.jsx("li",{children:"• Mandatory Arbitration Clauses"}),t.jsx("li",{children:"• Admin Compliance Tracking"})]})})]}),t.jsxs($,{className:"bg-gray-900/50 border-gray-700 hover:border-red-500/50 transition-colors",children:[t.jsxs(oe,{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(En,{className:"w-5 h-5 text-red-400"}),t.jsx(le,{className:"text-lg",children:"Content Moderation & Enforcement"})]}),t.jsx(Ct,{children:"Prohibited content policies and enforcement procedures"})]}),t.jsx(q,{children:t.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[t.jsx("li",{children:"• CSAM Detection (18 U.S.C. § 2252A)"}),t.jsx("li",{children:"• DMCA Copyright Enforcement"}),t.jsx("li",{children:"• Human Trafficking Prevention"}),t.jsx("li",{children:"• Revenge Porn Protection"})]})})]}),t.jsxs($,{className:"bg-gray-900/50 border-gray-700 hover:border-green-500/50 transition-colors",children:[t.jsxs(oe,{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(jl,{className:"w-5 h-5 text-green-400"}),t.jsx(le,{className:"text-lg",children:"Data Retention & Security"})]}),t.jsx(Ct,{children:"GDPR, CCPA compliance and secure deletion protocols"})]}),t.jsx(q,{children:t.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[t.jsx("li",{children:"• 7-Year Retention Policy"}),t.jsx("li",{children:"• DoD 5220.22-M Deletion"}),t.jsx("li",{children:"• Legal Hold Protocols"}),t.jsx("li",{children:"• NIST 800-88 Sanitization"})]})})]}),t.jsxs($,{className:"bg-gray-900/50 border-gray-700 hover:border-purple-500/50 transition-colors",children:[t.jsxs(oe,{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(E$,{className:"w-5 h-5 text-purple-400"}),t.jsx(le,{className:"text-lg",children:"Admin Training & Compliance"})]}),t.jsx(Ct,{children:"Training resources and quick reference materials"})]}),t.jsx(q,{children:t.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[t.jsx("li",{children:"• Admin Quick Reference Sheet"}),t.jsx("li",{children:"• PowerPoint Training Outlines"}),t.jsx("li",{children:"• Violation Escalation Matrix"}),t.jsx("li",{children:"• Compliance Deadlines"})]})})]}),t.jsxs($,{className:"bg-gray-900/50 border-gray-700 hover:border-cyan-500/50 transition-colors",children:[t.jsxs(oe,{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Er,{className:"w-5 h-5 text-cyan-400"}),t.jsx(le,{className:"text-lg",children:"U.S. Legal Compliance"})]}),t.jsx(Ct,{children:"Federal and state law requirements"})]}),t.jsx(q,{children:t.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[t.jsx("li",{children:"• DMCA (17 U.S.C. § 512)"}),t.jsx("li",{children:"• CCPA Data Protection"}),t.jsx("li",{children:"• COPA Child Protection"}),t.jsx("li",{children:"• Wyoming Contract Law"})]})})]}),t.jsxs($,{className:"bg-gray-900/50 border-gray-700 hover:border-orange-500/50 transition-colors",children:[t.jsxs(oe,{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(bk,{className:"w-5 h-5 text-orange-400"}),t.jsx(le,{className:"text-lg",children:"International Compliance"})]}),t.jsx(Ct,{children:"EU and international law requirements"})]}),t.jsx(q,{children:t.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[t.jsx("li",{children:"• GDPR (Article 17)"}),t.jsx("li",{children:"• EU Digital Services Act"}),t.jsx("li",{children:"• Berne Convention"}),t.jsx("li",{children:"• ISO 27001 Security"})]})})]})]}),t.jsxs($,{className:"bg-gradient-to-r from-amber-900/20 to-orange-900/20 border-amber-500/30",children:[t.jsx(oe,{children:t.jsxs(le,{className:"flex items-center space-x-2 text-amber-400",children:[t.jsx(ln,{className:"w-5 h-5"}),t.jsx("span",{children:"Emergency Compliance Actions"})]})}),t.jsx(q,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs(te,{variant:"outline",className:"border-red-500 text-red-400 hover:bg-red-500/10",children:[t.jsx(En,{className:"w-4 h-4 mr-2"}),"CSAM Report"]}),t.jsxs(te,{variant:"outline",className:"border-orange-500 text-orange-400 hover:bg-orange-500/10",children:[t.jsx(Pi,{className:"w-4 h-4 mr-2"}),"DMCA Takedown"]}),t.jsxs(te,{variant:"outline",className:"border-purple-500 text-purple-400 hover:bg-purple-500/10",children:[t.jsx(Ii,{className:"w-4 h-4 mr-2"}),"Legal Hold"]}),t.jsxs(te,{variant:"outline",className:"border-cyan-500 text-cyan-400 hover:bg-cyan-500/10",children:[t.jsx(Mn,{className:"w-4 h-4 mr-2"}),"Crisis Escalation"]})]})})]})]}),t.jsxs(ct,{value:"agreements",className:"space-y-6",children:[t.jsxs($,{className:"bg-gray-900/50 border-gray-700",children:[t.jsxs(oe,{children:[t.jsxs(le,{className:"flex items-center space-x-2",children:[t.jsx(er,{className:"w-6 h-6 text-blue-400"}),t.jsx("span",{children:"Fanz™ Unlimited Network User Agreement"})]}),t.jsx(Ct,{children:"Legally binding contract governed by Wyoming state law and federal regulations"})]}),t.jsxs(q,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-lg mb-3 text-cyan-400",children:"Legal Basis"}),t.jsxs("ul",{className:"space-y-2 text-sm",children:[t.jsxs("li",{className:"flex items-start space-x-2",children:[t.jsx(de,{variant:"outline",className:"text-xs mt-0.5",children:"Wyoming"}),t.jsx("span",{children:"Contract Law of the State of Wyoming, United States"})]}),t.jsxs("li",{className:"flex items-start space-x-2",children:[t.jsx(de,{variant:"outline",className:"text-xs mt-0.5",children:"Federal"}),t.jsx("span",{children:"Electronic Signatures in Global and National Commerce Act (E-SIGN Act)"})]}),t.jsxs("li",{className:"flex items-start space-x-2",children:[t.jsx(de,{variant:"outline",className:"text-xs mt-0.5",children:"UETA"}),t.jsx("span",{children:"Uniform Electronic Transactions Act"})]}),t.jsxs("li",{className:"flex items-start space-x-2",children:[t.jsx(de,{variant:"outline",className:"text-xs mt-0.5",children:"GDPR"}),t.jsx("span",{children:"Article 6(1)(b) - Contract necessity for data processing"})]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-lg mb-3 text-amber-400",children:"Platform Coverage"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Fanz Collection of Content Starz Platformz:"}),t.jsx("p",{className:"text-xs mt-1 text-gray-500",children:"BoyFanz.com, GirlFanz.com, DaddiesFanz.com, TransFanz.com, EbonyFanz.com, PupFanz.com, DLBroz.com, SouthernFanz.com, KinkFanz.com, FanzUnlimited.com, AllMyFanz.com, BoysRebellion.com, DaddiesToyBoy.com, DLRedneck.com, RecoveryFanz.com, WildRedneckRebel.com"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-400",children:"Fanz Collection of Auxiliary Sites:"}),t.jsx("p",{className:"text-xs mt-1 text-gray-500",children:"Fanz.Ceo, Fanz.Community, Fanz.Fans, Fanz.Fan, Fanz.Foundation, Fanz.Solutions, Fanz.ing, Fanz.University, Fanz.Follow, Fanz.Toys, FMD.Solutions"})]})]})]})]}),t.jsx(eT,{className:"bg-gray-700"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-lg mb-3 text-red-400",children:"Dispute Resolution & Arbitration"}),t.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-4",children:t.jsxs("div",{className:"space-y-3 text-sm",children:[t.jsxs("div",{className:"flex items-start space-x-2",children:[t.jsx(ln,{className:"w-4 h-4 text-red-400 mt-0.5"}),t.jsxs("div",{children:[t.jsx("strong",{children:"Mandatory Arbitration Clause:"})," Users waive their right to sue in public court and must resolve disputes via arbitration in Sheridan, Wyoming, USA."]})]}),t.jsxs("div",{className:"flex items-start space-x-2",children:[t.jsx(ln,{className:"w-4 h-4 text-red-400 mt-0.5"}),t.jsxs("div",{children:[t.jsx("strong",{children:"Class Action Waiver:"})," Users cannot file class-action lawsuits against FUN.",t.jsx("br",{}),t.jsx("span",{className:"text-xs text-gray-400",children:"(AT&T Mobility LLC v. Concepcion, 563 U.S. 333 (2011))"})]})]})]})})]})]})]}),t.jsxs($,{className:"bg-gray-900/50 border-gray-700",children:[t.jsxs(oe,{children:[t.jsx(le,{children:"Admin Escalation Process"}),t.jsx(Ct,{children:"Violation severity and required actions"})]}),t.jsx(q,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full border-collapse",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-gray-700",children:[t.jsx("th",{className:"text-left p-3 text-gray-400",children:"Severity"}),t.jsx("th",{className:"text-left p-3 text-gray-400",children:"Action Required"}),t.jsx("th",{className:"text-left p-3 text-gray-400",children:"Escalation Level"}),t.jsx("th",{className:"text-left p-3 text-gray-400",children:"Timeline"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{className:"border-b border-gray-800",children:[t.jsxs("td",{className:"p-3",children:[t.jsx(de,{variant:"outline",className:"text-yellow-400 border-yellow-400",children:"Minor"}),t.jsx("br",{}),t.jsx("span",{className:"text-xs text-gray-500",children:"Spam, Harassment"})]}),t.jsx("td",{className:"p-3",children:"Warning issued"}),t.jsx("td",{className:"p-3",children:"Admin Review"}),t.jsx("td",{className:"p-3 text-xs text-gray-400",children:"24-48 hours"})]}),t.jsxs("tr",{className:"border-b border-gray-800",children:[t.jsxs("td",{className:"p-3",children:[t.jsx(de,{variant:"outline",className:"text-orange-400 border-orange-400",children:"Major"}),t.jsx("br",{}),t.jsx("span",{className:"text-xs text-gray-500",children:"Fraud, Hate Speech"})]}),t.jsx("td",{className:"p-3",children:"Content removal, suspension"}),t.jsx("td",{className:"p-3",children:"Senior Admin Review"}),t.jsx("td",{className:"p-3 text-xs text-gray-400",children:"4-24 hours"})]}),t.jsxs("tr",{children:[t.jsxs("td",{className:"p-3",children:[t.jsx(de,{variant:"outline",className:"text-red-400 border-red-400",children:"Severe"}),t.jsx("br",{}),t.jsx("span",{className:"text-xs text-gray-500",children:"CSAM, Human Trafficking"})]}),t.jsx("td",{className:"p-3",children:"Permanent ban, law enforcement referral"}),t.jsx("td",{className:"p-3",children:"Legal Department"}),t.jsx("td",{className:"p-3 text-xs text-gray-400",children:"Immediate"})]})]})]})})})]})]}),t.jsx(ct,{value:"moderation",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs($,{className:"bg-red-900/20 border-red-500/30",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-red-400",children:"Prohibited Content Categories"}),t.jsx(Ct,{children:"Strictly prohibited content with legal references"})]}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"p-3 bg-red-900/30 rounded border border-red-500/50",children:t.jsxs("div",{className:"flex items-start space-x-2",children:[t.jsx(ln,{className:"w-4 h-4 text-red-400 mt-0.5"}),t.jsxs("div",{children:[t.jsx("strong",{className:"text-red-400",children:"Child Sexual Abuse Material (CSAM)"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Violation of 18 U.S.C. § 2252A (Federal Law)"})]})]})}),t.jsx("div",{className:"p-3 bg-red-900/30 rounded border border-red-500/50",children:t.jsxs("div",{className:"flex items-start space-x-2",children:[t.jsx(ln,{className:"w-4 h-4 text-red-400 mt-0.5"}),t.jsxs("div",{children:[t.jsx("strong",{className:"text-red-400",children:"Bestiality"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Violation of U.S. Animal Crush Video Prohibition Act, 18 U.S.C. § 48"})]})]})}),t.jsx("div",{className:"p-3 bg-red-900/30 rounded border border-red-500/50",children:t.jsxs("div",{className:"flex items-start space-x-2",children:[t.jsx(ln,{className:"w-4 h-4 text-red-400 mt-0.5"}),t.jsxs("div",{children:[t.jsx("strong",{className:"text-red-400",children:"Revenge Porn / Non-Consensual Intimate Media"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Violation of 47 U.S.C. § 230 (SAFE SEX Act)"})]})]})}),t.jsx("div",{className:"p-3 bg-red-900/30 rounded border border-red-500/50",children:t.jsxs("div",{className:"flex items-start space-x-2",children:[t.jsx(ln,{className:"w-4 h-4 text-red-400 mt-0.5"}),t.jsxs("div",{children:[t.jsx("strong",{className:"text-red-400",children:"Human Trafficking / Exploitation"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Violation of Trafficking Victims Protection Act (TVPA), 22 U.S.C. § 7102"})]})]})})]})})]}),t.jsxs($,{className:"bg-blue-900/20 border-blue-500/30",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-blue-400",children:"DMCA Copyright Enforcement"}),t.jsx(Ct,{children:"Digital Millennium Copyright Act compliance procedures"})]}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h5",{className:"font-semibold text-sm text-blue-400 mb-2",children:"Legal Basis"}),t.jsxs("ul",{className:"text-xs space-y-1 text-gray-300",children:[t.jsx("li",{children:"• Digital Millennium Copyright Act (DMCA), 17 U.S.C. § 512"}),t.jsx("li",{children:"• Berne Convention for the Protection of Literary and Artistic Works"})]})]}),t.jsxs("div",{children:[t.jsx("h5",{className:"font-semibold text-sm text-blue-400 mb-2",children:"Takedown Process"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-start space-x-2",children:[t.jsx(de,{variant:"outline",className:"text-xs mt-0.5",children:"1"}),t.jsxs("div",{className:"text-xs",children:[t.jsx("strong",{children:"Receipt of Complaint"})," - Must include signature, copyrighted work identification, location of infringing material, and legal statement of good faith."]})]}),t.jsxs("div",{className:"flex items-start space-x-2",children:[t.jsx(de,{variant:"outline",className:"text-xs mt-0.5",children:"2"}),t.jsxs("div",{className:"text-xs",children:[t.jsx("strong",{children:"Content Removal"})," - Admins must disable access within 24 hours of a valid claim."]})]}),t.jsxs("div",{className:"flex items-start space-x-2",children:[t.jsx(de,{variant:"outline",className:"text-xs mt-0.5",children:"3"}),t.jsxs("div",{className:"text-xs",children:[t.jsx("strong",{children:"User Notification"})," - Users have 10 days to respond before content is permanently removed."]})]})]})]})]})})]})]})}),t.jsx(ct,{value:"data",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs($,{className:"bg-green-900/20 border-green-500/30",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-green-400",children:"Data Retention Periods"}),t.jsx(Ct,{children:"Legal requirements for data storage"})]}),t.jsx(q,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-green-500/30",children:[t.jsx("th",{className:"text-left p-2 text-green-400 text-sm",children:"Data Type"}),t.jsx("th",{className:"text-left p-2 text-green-400 text-sm",children:"Retention"}),t.jsx("th",{className:"text-left p-2 text-green-400 text-sm",children:"Legal Reference"})]})}),t.jsxs("tbody",{className:"text-xs",children:[t.jsxs("tr",{className:"border-b border-gray-800",children:[t.jsx("td",{className:"p-2",children:"User Agreements"}),t.jsx("td",{className:"p-2",children:"5 years after termination"}),t.jsx("td",{className:"p-2 text-gray-400",children:"GDPR, CCPA"})]}),t.jsxs("tr",{className:"border-b border-gray-800",children:[t.jsx("td",{className:"p-2",children:"Billing Records"}),t.jsx("td",{className:"p-2",children:"7 years"}),t.jsx("td",{className:"p-2 text-gray-400",children:"IRS Tax Compliance"})]}),t.jsxs("tr",{children:[t.jsx("td",{className:"p-2",children:"Removed Content (Forensic Records)"}),t.jsx("td",{className:"p-2",children:"10 years"}),t.jsx("td",{className:"p-2 text-gray-400",children:"Law Enforcement Requirement"})]})]})]})})})]}),t.jsxs($,{className:"bg-purple-900/20 border-purple-500/30",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-purple-400",children:"Secure Deletion Protocols"}),t.jsx(Ct,{children:"Military-grade data sanitization standards"})]}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h5",{className:"font-semibold text-sm text-purple-400 mb-2",children:"Deletion Standards"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"p-2 bg-purple-900/30 rounded border border-purple-500/50",children:[t.jsx("strong",{className:"text-sm",children:"DoD 5220.22-M Standard"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Department of Defense standard for digital erasure of regular content"})]}),t.jsxs("div",{className:"p-2 bg-purple-900/30 rounded border border-purple-500/50",children:[t.jsx("strong",{className:"text-sm",children:"NIST 800-88 Guidelines"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Advanced sanitization for forensic deletions and sensitive data"})]})]})]}),t.jsxs("div",{children:[t.jsx("h5",{className:"font-semibold text-sm text-purple-400 mb-2",children:"Legal Hold Protocol"}),t.jsxs("div",{className:"text-xs space-y-1 text-gray-300",children:[t.jsx("li",{children:"• Legal Holds Prevent Data Deletion During Investigations"}),t.jsx("li",{children:"• Only the Legal Team Can Remove a Hold"}),t.jsx("li",{children:"• All hold actions are logged and audited"})]})]})]})})]})]})}),t.jsxs(ct,{value:"compliance",className:"space-y-6",children:[t.jsxs($,{className:"bg-gray-900/50 border-gray-700",children:[t.jsxs(oe,{children:[t.jsx(le,{children:"Admin Quick Reference Sheet"}),t.jsx(Ct,{children:"Essential compliance deadlines and responsible departments"})]}),t.jsx(q,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full border-collapse",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-gray-700",children:[t.jsx("th",{className:"text-left p-3 text-gray-400",children:"Task"}),t.jsx("th",{className:"text-left p-3 text-gray-400",children:"Deadline"}),t.jsx("th",{className:"text-left p-3 text-gray-400",children:"Responsible Department"}),t.jsx("th",{className:"text-left p-3 text-gray-400",children:"Compliance Level"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{className:"border-b border-gray-800",children:[t.jsx("td",{className:"p-3",children:"DMCA Complaint Processing"}),t.jsx("td",{className:"p-3",children:t.jsx(de,{variant:"outline",className:"text-red-400 border-red-400",children:"24 Hours"})}),t.jsx("td",{className:"p-3",children:"Legal Team"}),t.jsx("td",{className:"p-3",children:t.jsx(de,{variant:"outline",className:"text-amber-400 border-amber-400",children:"LEGAL_TEAM"})})]}),t.jsxs("tr",{className:"border-b border-gray-800",children:[t.jsx("td",{className:"p-3",children:"User Suspension for Violations"}),t.jsx("td",{className:"p-3",children:t.jsx(de,{variant:"outline",className:"text-red-400 border-red-400",children:"Immediately"})}),t.jsx("td",{className:"p-3",children:"Moderation Team"}),t.jsx("td",{className:"p-3",children:t.jsx(de,{variant:"outline",className:"text-blue-400 border-blue-400",children:"MODERATOR"})})]}),t.jsxs("tr",{className:"border-b border-gray-800",children:[t.jsx("td",{className:"p-3",children:"CSAM Content Reporting"}),t.jsx("td",{className:"p-3",children:t.jsx(de,{variant:"outline",className:"text-red-400 border-red-400",children:"Immediately"})}),t.jsx("td",{className:"p-3",children:"Security + Legal"}),t.jsx("td",{className:"p-3",children:t.jsx(de,{variant:"outline",className:"text-red-400 border-red-400",children:"CRISIS_MANAGER"})})]}),t.jsxs("tr",{children:[t.jsx("td",{className:"p-3",children:"Retention Review"}),t.jsx("td",{className:"p-3",children:t.jsx(de,{variant:"outline",className:"text-green-400 border-green-400",children:"Annually"})}),t.jsx("td",{className:"p-3",children:"Data Compliance Team"}),t.jsx("td",{className:"p-3",children:t.jsx(de,{variant:"outline",className:"text-green-400 border-green-400",children:"COMPLIANCE_OFFICER"})})]})]})]})})})]}),t.jsxs($,{className:"bg-gray-900/50 border-gray-700",children:[t.jsxs(oe,{children:[t.jsx(le,{children:"Training Resources"}),t.jsx(Ct,{children:"Admin training materials and compliance education"})]}),t.jsx(q,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("h5",{className:"font-semibold text-lg mb-3 text-cyan-400",children:"PowerPoint Training Outline"}),t.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[t.jsx("li",{children:"• Legal responsibilities of FUN administrators"}),t.jsx("li",{children:"• How to handle user disputes and legal notices"}),t.jsx("li",{children:"• Content moderation and law enforcement cooperation"}),t.jsx("li",{children:"• GDPR and CCPA compliance procedures"}),t.jsx("li",{children:"• Crisis management and escalation protocols"})]})]}),t.jsxs("div",{children:[t.jsx("h5",{className:"font-semibold text-lg mb-3 text-amber-400",children:"Required Compliance Logs"}),t.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[t.jsx("li",{children:"• User Agreement Compliance Log"}),t.jsx("li",{children:"• Complaint Resolution Log"}),t.jsx("li",{children:"• DMCA Compliance Log"}),t.jsx("li",{children:"• Data Retention Audit Log"}),t.jsx("li",{children:"• Legal Hold Management Log"})]})]})]})})]})]}),t.jsx(ct,{value:"legal-refs",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs($,{className:"bg-blue-900/20 border-blue-500/30",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-blue-400",children:"U.S. Laws & Regulations"}),t.jsx(Ct,{children:"Federal and state legal requirements"})]}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-3 text-sm",children:[t.jsxs("div",{className:"p-3 border border-blue-500/30 rounded",children:[t.jsx("strong",{children:"Digital Millennium Copyright Act (DMCA)"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"17 U.S.C. § 512 - Safe harbor provisions for online platforms"})]}),t.jsxs("div",{className:"p-3 border border-blue-500/30 rounded",children:[t.jsx("strong",{children:"California Consumer Privacy Act (CCPA)"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Section 1798.105 - Consumer rights for data deletion"})]}),t.jsxs("div",{className:"p-3 border border-blue-500/30 rounded",children:[t.jsx("strong",{children:"Child Online Protection Act (COPA)"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"47 U.S.C. § 231 - Protection of minors online"})]}),t.jsxs("div",{className:"p-3 border border-blue-500/30 rounded",children:[t.jsx("strong",{children:"18 U.S.C. § 2257"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Record-keeping requirements for adult content"})]})]})})]}),t.jsxs($,{className:"bg-purple-900/20 border-purple-500/30",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-purple-400",children:"European Union Laws"}),t.jsx(Ct,{children:"EU regulations and directives"})]}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-3 text-sm",children:[t.jsxs("div",{className:"p-3 border border-purple-500/30 rounded",children:[t.jsx("strong",{children:"General Data Protection Regulation (GDPR)"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:'Article 17 - Right to Erasure ("Right to be Forgotten")'})]}),t.jsxs("div",{className:"p-3 border border-purple-500/30 rounded",children:[t.jsx("strong",{children:"EU Digital Services Act (DSA)"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"2022/2065 - Content moderation and platform liability"})]}),t.jsxs("div",{className:"p-3 border border-purple-500/30 rounded",children:[t.jsx("strong",{children:"ePrivacy Directive"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"2002/58/EC - Electronic communications privacy"})]})]})})]}),t.jsxs($,{className:"bg-green-900/20 border-green-500/30",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-green-400",children:"International Treaties"}),t.jsx(Ct,{children:"Global copyright and data protection agreements"})]}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-3 text-sm",children:[t.jsxs("div",{className:"p-3 border border-green-500/30 rounded",children:[t.jsx("strong",{children:"Berne Convention"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Protection of Literary and Artistic Works"})]}),t.jsxs("div",{className:"p-3 border border-green-500/30 rounded",children:[t.jsx("strong",{children:"ISO 27001"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Information Security Management Standard"})]}),t.jsxs("div",{className:"p-3 border border-green-500/30 rounded",children:[t.jsx("strong",{children:"WIPO Copyright Treaty"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"World Intellectual Property Organization standards"})]})]})})]}),t.jsxs($,{className:"bg-orange-900/20 border-orange-500/30",children:[t.jsxs(oe,{children:[t.jsx(le,{className:"text-orange-400",children:"Case Law References"}),t.jsx(Ct,{children:"Relevant legal precedents"})]}),t.jsx(q,{children:t.jsxs("div",{className:"space-y-3 text-sm",children:[t.jsxs("div",{className:"p-3 border border-orange-500/30 rounded",children:[t.jsx("strong",{children:"AT&T Mobility LLC v. Concepcion"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"563 U.S. 333 (2011) - Class action waiver enforceability"})]}),t.jsxs("div",{className:"p-3 border border-orange-500/30 rounded",children:[t.jsx("strong",{children:"Specht v. Netscape Communications"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"306 F.3d 17 (2d Cir. 2002) - Clickwrap agreement validity"})]})]})})]})]})})]}),t.jsxs("div",{className:"text-center text-xs text-gray-500 pt-6 border-t border-gray-800",children:[t.jsx("p",{children:"This Legal & Compliance Library ensures Fanz™ Unlimited Network is fully aligned with all major legal requirements for digital platforms, copyright enforcement, and user data security."}),t.jsx("p",{className:"mt-2",children:"For legal questions or compliance issues, contact the Legal Department immediately."})]})]})})}var wR={exports:{}},Xu={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NH;function uMe(){return NH||(NH=1,Xu.ConcurrentRoot=1,Xu.ContinuousEventPriority=8,Xu.DefaultEventPriority=32,Xu.DiscreteEventPriority=2,Xu.IdleEventPriority=268435456,Xu.LegacyRoot=0,Xu.NoEventPriority=0),Xu}var SH;function hMe(){return SH||(SH=1,wR.exports=uMe()),wR.exports}var d_=hMe();/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const uw="180",Ep={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Mp={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},GJ=0,F5=1,$J=2,fMe=3,qJ=0,nT=1,Sj=2,Xc=3,Eh=0,So=1,tc=2,nu=0,rx=1,U5=2,z5=3,B5=4,WJ=5,Rf=100,KJ=101,XJ=102,ZJ=103,YJ=104,QJ=200,JJ=201,eee=202,tee=203,V2=204,H2=205,nee=206,see=207,ree=208,aee=209,iee=210,oee=211,lee=212,cee=213,dee=214,G2=0,$2=1,q2=2,_x=3,W2=4,K2=5,X2=6,Z2=7,hw=0,uee=1,hee=2,su=0,fee=1,mee=2,pee=3,pD=4,xee=5,gee=6,vee=7,V5="attached",yee="detached",Qf=300,cu=301,Jf=302,D0=303,T1=304,fy=306,E1=1e3,Ma=1001,M1=1002,ki=1003,xD=1004,mMe=1004,Mv=1005,pMe=1005,ir=1006,_j=1007,xMe=1007,$d=1008,H5=1008,_o=1009,sT=1010,rT=1011,L0=1012,fw=1013,du=1014,Qr=1015,mi=1016,aT=1017,iT=1018,F0=1020,gD=35902,vD=35899,yD=1021,bD=1022,xa=1023,U0=1026,z0=1027,mw=1028,pw=1029,jD=1030,oT=1031,gMe=1032,lT=1033,Aj=33776,Cj=33777,Tj=33778,Ej=33779,Y2=35840,Q2=35841,J2=35842,eA=35843,tA=36196,nA=37492,sA=37496,rA=37808,aA=37809,iA=37810,oA=37811,lA=37812,cA=37813,dA=37814,uA=37815,hA=37816,fA=37817,mA=37818,pA=37819,xA=37820,gA=37821,vA=36492,yA=36494,bA=36495,jA=36283,wA=36284,NA=36285,SA=36286,bee=2200,jee=2201,wee=2202,P1=2300,_A=2301,u_=2302,Vp=2400,Hp=2401,R1=2402,cT=2500,wD=2501,vMe=0,yMe=1,bMe=2,Nee=3200,See=3201,jMe=3202,wMe=3203,om=0,_ee=1,ah="",Mi="srgb",ld="srgb-linear",O1="linear",rr="srgb",NMe=0,Pp=7680,SMe=7681,_Me=7682,AMe=7683,CMe=34055,TMe=34056,EMe=5386,MMe=512,PMe=513,RMe=514,OMe=515,kMe=516,IMe=517,DMe=518,G5=519,Aee=512,Cee=513,Tee=514,ND=515,Eee=516,Mee=517,Pee=518,Ree=519,k1=35044,LMe=35048,FMe=35040,UMe=35045,zMe=35049,BMe=35041,VMe=35046,HMe=35050,GMe=35042,$Me="100",$5="300 es",yl=2e3,B0=2001,qMe={COMPUTE:"compute",RENDER:"render"},WMe={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},KMe={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};let xu=class{addEventListener(e,s){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(s)===-1&&r[e].push(s)}hasEventListener(e,s){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(s)!==-1}removeEventListener(e,s){const r=this._listeners;if(r===void 0)return;const a=r[e];if(a!==void 0){const i=a.indexOf(s);i!==-1&&a.splice(i,1)}}dispatchEvent(e){const s=this._listeners;if(s===void 0)return;const r=s[e.type];if(r!==void 0){e.target=this;const a=r.slice(0);for(let i=0,o=a.length;i<o;i++)a[i].call(this,e);e.target=null}}};const Zi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _H=1234567;const ax=Math.PI/180,V0=180/Math.PI;function Cl(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,s=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Zi[n&255]+Zi[n>>8&255]+Zi[n>>16&255]+Zi[n>>24&255]+"-"+Zi[e&255]+Zi[e>>8&255]+"-"+Zi[e>>16&15|64]+Zi[e>>24&255]+"-"+Zi[s&63|128]+Zi[s>>8&255]+"-"+Zi[s>>16&255]+Zi[s>>24&255]+Zi[r&255]+Zi[r>>8&255]+Zi[r>>16&255]+Zi[r>>24&255]).toLowerCase()}function Wn(n,e,s){return Math.max(e,Math.min(s,n))}function SD(n,e){return(n%e+e)%e}function XMe(n,e,s,r,a){return r+(n-e)*(a-r)/(s-e)}function ZMe(n,e,s){return n!==e?(s-n)/(e-n):0}function Mj(n,e,s){return(1-s)*n+s*e}function YMe(n,e,s,r){return Mj(n,e,1-Math.exp(-s*r))}function QMe(n,e=1){return e-Math.abs(SD(n,e*2)-e)}function JMe(n,e,s){return n<=e?0:n>=s?1:(n=(n-e)/(s-e),n*n*(3-2*n))}function e4e(n,e,s){return n<=e?0:n>=s?1:(n=(n-e)/(s-e),n*n*n*(n*(n*6-15)+10))}function t4e(n,e){return n+Math.floor(Math.random()*(e-n+1))}function n4e(n,e){return n+Math.random()*(e-n)}function s4e(n){return n*(.5-Math.random())}function r4e(n){n!==void 0&&(_H=n);let e=_H+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function a4e(n){return n*ax}function i4e(n){return n*V0}function o4e(n){return(n&n-1)===0&&n!==0}function l4e(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function c4e(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function d4e(n,e,s,r,a){const i=Math.cos,o=Math.sin,l=i(s/2),c=o(s/2),d=i((e+r)/2),u=o((e+r)/2),h=i((e-r)/2),m=o((e-r)/2),y=i((r-e)/2),N=o((r-e)/2);switch(a){case"XYX":n.set(l*u,c*h,c*m,l*d);break;case"YZY":n.set(c*m,l*u,c*h,l*d);break;case"ZXZ":n.set(c*h,c*m,l*u,l*d);break;case"XZX":n.set(l*u,c*N,c*y,l*d);break;case"YXY":n.set(c*y,l*u,c*N,l*d);break;case"ZYZ":n.set(c*N,c*y,l*u,l*d);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+a)}}function bo(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function ds(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const _D={DEG2RAD:ax,RAD2DEG:V0,generateUUID:Cl,clamp:Wn,euclideanModulo:SD,mapLinear:XMe,inverseLerp:ZMe,lerp:Mj,damp:YMe,pingpong:QMe,smoothstep:JMe,smootherstep:e4e,randInt:t4e,randFloat:n4e,randFloatSpread:s4e,seededRandom:r4e,degToRad:a4e,radToDeg:i4e,isPowerOfTwo:o4e,ceilPowerOfTwo:l4e,floorPowerOfTwo:c4e,setQuaternionFromProperEuler:d4e,normalize:ds,denormalize:bo};class mt{constructor(e=0,s=0){mt.prototype.isVector2=!0,this.x=e,this.y=s}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,s){return this.x=e,this.y=s,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,s){switch(e){case 0:this.x=s;break;case 1:this.y=s;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,s){return this.x=e.x+s.x,this.y=e.y+s.y,this}addScaledVector(e,s){return this.x+=e.x*s,this.y+=e.y*s,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,s){return this.x=e.x-s.x,this.y=e.y-s.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const s=this.x,r=this.y,a=e.elements;return this.x=a[0]*s+a[3]*r+a[6],this.y=a[1]*s+a[4]*r+a[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,s){return this.x=Wn(this.x,e.x,s.x),this.y=Wn(this.y,e.y,s.y),this}clampScalar(e,s){return this.x=Wn(this.x,e,s),this.y=Wn(this.y,e,s),this}clampLength(e,s){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Wn(r,e,s))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const s=Math.sqrt(this.lengthSq()*e.lengthSq());if(s===0)return Math.PI/2;const r=this.dot(e)/s;return Math.acos(Wn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const s=this.x-e.x,r=this.y-e.y;return s*s+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,s){return this.x+=(e.x-this.x)*s,this.y+=(e.y-this.y)*s,this}lerpVectors(e,s,r){return this.x=e.x+(s.x-e.x)*r,this.y=e.y+(s.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,s=0){return this.x=e[s],this.y=e[s+1],this}toArray(e=[],s=0){return e[s]=this.x,e[s+1]=this.y,e}fromBufferAttribute(e,s){return this.x=e.getX(s),this.y=e.getY(s),this}rotateAround(e,s){const r=Math.cos(s),a=Math.sin(s),i=this.x-e.x,o=this.y-e.y;return this.x=i*r-o*a+e.x,this.y=i*a+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class to{constructor(e=0,s=0,r=0,a=1){this.isQuaternion=!0,this._x=e,this._y=s,this._z=r,this._w=a}static slerpFlat(e,s,r,a,i,o,l){let c=r[a+0],d=r[a+1],u=r[a+2],h=r[a+3];const m=i[o+0],y=i[o+1],N=i[o+2],j=i[o+3];if(l===0){e[s+0]=c,e[s+1]=d,e[s+2]=u,e[s+3]=h;return}if(l===1){e[s+0]=m,e[s+1]=y,e[s+2]=N,e[s+3]=j;return}if(h!==j||c!==m||d!==y||u!==N){let v=1-l;const b=c*m+d*y+u*N+h*j,A=b>=0?1:-1,S=1-b*b;if(S>Number.EPSILON){const E=Math.sqrt(S),T=Math.atan2(E,b*A);v=Math.sin(v*T)/E,l=Math.sin(l*T)/E}const w=l*A;if(c=c*v+m*w,d=d*v+y*w,u=u*v+N*w,h=h*v+j*w,v===1-l){const E=1/Math.sqrt(c*c+d*d+u*u+h*h);c*=E,d*=E,u*=E,h*=E}}e[s]=c,e[s+1]=d,e[s+2]=u,e[s+3]=h}static multiplyQuaternionsFlat(e,s,r,a,i,o){const l=r[a],c=r[a+1],d=r[a+2],u=r[a+3],h=i[o],m=i[o+1],y=i[o+2],N=i[o+3];return e[s]=l*N+u*h+c*y-d*m,e[s+1]=c*N+u*m+d*h-l*y,e[s+2]=d*N+u*y+l*m-c*h,e[s+3]=u*N-l*h-c*m-d*y,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,s,r,a){return this._x=e,this._y=s,this._z=r,this._w=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,s=!0){const r=e._x,a=e._y,i=e._z,o=e._order,l=Math.cos,c=Math.sin,d=l(r/2),u=l(a/2),h=l(i/2),m=c(r/2),y=c(a/2),N=c(i/2);switch(o){case"XYZ":this._x=m*u*h+d*y*N,this._y=d*y*h-m*u*N,this._z=d*u*N+m*y*h,this._w=d*u*h-m*y*N;break;case"YXZ":this._x=m*u*h+d*y*N,this._y=d*y*h-m*u*N,this._z=d*u*N-m*y*h,this._w=d*u*h+m*y*N;break;case"ZXY":this._x=m*u*h-d*y*N,this._y=d*y*h+m*u*N,this._z=d*u*N+m*y*h,this._w=d*u*h-m*y*N;break;case"ZYX":this._x=m*u*h-d*y*N,this._y=d*y*h+m*u*N,this._z=d*u*N-m*y*h,this._w=d*u*h+m*y*N;break;case"YZX":this._x=m*u*h+d*y*N,this._y=d*y*h+m*u*N,this._z=d*u*N-m*y*h,this._w=d*u*h-m*y*N;break;case"XZY":this._x=m*u*h-d*y*N,this._y=d*y*h-m*u*N,this._z=d*u*N+m*y*h,this._w=d*u*h+m*y*N;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return s===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,s){const r=s/2,a=Math.sin(r);return this._x=e.x*a,this._y=e.y*a,this._z=e.z*a,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const s=e.elements,r=s[0],a=s[4],i=s[8],o=s[1],l=s[5],c=s[9],d=s[2],u=s[6],h=s[10],m=r+l+h;if(m>0){const y=.5/Math.sqrt(m+1);this._w=.25/y,this._x=(u-c)*y,this._y=(i-d)*y,this._z=(o-a)*y}else if(r>l&&r>h){const y=2*Math.sqrt(1+r-l-h);this._w=(u-c)/y,this._x=.25*y,this._y=(a+o)/y,this._z=(i+d)/y}else if(l>h){const y=2*Math.sqrt(1+l-r-h);this._w=(i-d)/y,this._x=(a+o)/y,this._y=.25*y,this._z=(c+u)/y}else{const y=2*Math.sqrt(1+h-r-l);this._w=(o-a)/y,this._x=(i+d)/y,this._y=(c+u)/y,this._z=.25*y}return this._onChangeCallback(),this}setFromUnitVectors(e,s){let r=e.dot(s)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*s.z-e.z*s.y,this._y=e.z*s.x-e.x*s.z,this._z=e.x*s.y-e.y*s.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Wn(this.dot(e),-1,1)))}rotateTowards(e,s){const r=this.angleTo(e);if(r===0)return this;const a=Math.min(1,s/r);return this.slerp(e,a),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,s){const r=e._x,a=e._y,i=e._z,o=e._w,l=s._x,c=s._y,d=s._z,u=s._w;return this._x=r*u+o*l+a*d-i*c,this._y=a*u+o*c+i*l-r*d,this._z=i*u+o*d+r*c-a*l,this._w=o*u-r*l-a*c-i*d,this._onChangeCallback(),this}slerp(e,s){if(s===0)return this;if(s===1)return this.copy(e);const r=this._x,a=this._y,i=this._z,o=this._w;let l=o*e._w+r*e._x+a*e._y+i*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=o,this._x=r,this._y=a,this._z=i,this;const c=1-l*l;if(c<=Number.EPSILON){const y=1-s;return this._w=y*o+s*this._w,this._x=y*r+s*this._x,this._y=y*a+s*this._y,this._z=y*i+s*this._z,this.normalize(),this}const d=Math.sqrt(c),u=Math.atan2(d,l),h=Math.sin((1-s)*u)/d,m=Math.sin(s*u)/d;return this._w=o*h+this._w*m,this._x=r*h+this._x*m,this._y=a*h+this._y*m,this._z=i*h+this._z*m,this._onChangeCallback(),this}slerpQuaternions(e,s,r){return this.copy(e).slerp(s,r)}random(){const e=2*Math.PI*Math.random(),s=2*Math.PI*Math.random(),r=Math.random(),a=Math.sqrt(1-r),i=Math.sqrt(r);return this.set(a*Math.sin(e),a*Math.cos(e),i*Math.sin(s),i*Math.cos(s))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,s=0){return this._x=e[s],this._y=e[s+1],this._z=e[s+2],this._w=e[s+3],this._onChangeCallback(),this}toArray(e=[],s=0){return e[s]=this._x,e[s+1]=this._y,e[s+2]=this._z,e[s+3]=this._w,e}fromBufferAttribute(e,s){return this._x=e.getX(s),this._y=e.getY(s),this._z=e.getZ(s),this._w=e.getW(s),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class he{constructor(e=0,s=0,r=0){he.prototype.isVector3=!0,this.x=e,this.y=s,this.z=r}set(e,s,r){return r===void 0&&(r=this.z),this.x=e,this.y=s,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,s){switch(e){case 0:this.x=s;break;case 1:this.y=s;break;case 2:this.z=s;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,s){return this.x=e.x+s.x,this.y=e.y+s.y,this.z=e.z+s.z,this}addScaledVector(e,s){return this.x+=e.x*s,this.y+=e.y*s,this.z+=e.z*s,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,s){return this.x=e.x-s.x,this.y=e.y-s.y,this.z=e.z-s.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,s){return this.x=e.x*s.x,this.y=e.y*s.y,this.z=e.z*s.z,this}applyEuler(e){return this.applyQuaternion(AH.setFromEuler(e))}applyAxisAngle(e,s){return this.applyQuaternion(AH.setFromAxisAngle(e,s))}applyMatrix3(e){const s=this.x,r=this.y,a=this.z,i=e.elements;return this.x=i[0]*s+i[3]*r+i[6]*a,this.y=i[1]*s+i[4]*r+i[7]*a,this.z=i[2]*s+i[5]*r+i[8]*a,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const s=this.x,r=this.y,a=this.z,i=e.elements,o=1/(i[3]*s+i[7]*r+i[11]*a+i[15]);return this.x=(i[0]*s+i[4]*r+i[8]*a+i[12])*o,this.y=(i[1]*s+i[5]*r+i[9]*a+i[13])*o,this.z=(i[2]*s+i[6]*r+i[10]*a+i[14])*o,this}applyQuaternion(e){const s=this.x,r=this.y,a=this.z,i=e.x,o=e.y,l=e.z,c=e.w,d=2*(o*a-l*r),u=2*(l*s-i*a),h=2*(i*r-o*s);return this.x=s+c*d+o*h-l*u,this.y=r+c*u+l*d-i*h,this.z=a+c*h+i*u-o*d,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const s=this.x,r=this.y,a=this.z,i=e.elements;return this.x=i[0]*s+i[4]*r+i[8]*a,this.y=i[1]*s+i[5]*r+i[9]*a,this.z=i[2]*s+i[6]*r+i[10]*a,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,s){return this.x=Wn(this.x,e.x,s.x),this.y=Wn(this.y,e.y,s.y),this.z=Wn(this.z,e.z,s.z),this}clampScalar(e,s){return this.x=Wn(this.x,e,s),this.y=Wn(this.y,e,s),this.z=Wn(this.z,e,s),this}clampLength(e,s){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Wn(r,e,s))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,s){return this.x+=(e.x-this.x)*s,this.y+=(e.y-this.y)*s,this.z+=(e.z-this.z)*s,this}lerpVectors(e,s,r){return this.x=e.x+(s.x-e.x)*r,this.y=e.y+(s.y-e.y)*r,this.z=e.z+(s.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,s){const r=e.x,a=e.y,i=e.z,o=s.x,l=s.y,c=s.z;return this.x=a*c-i*l,this.y=i*o-r*c,this.z=r*l-a*o,this}projectOnVector(e){const s=e.lengthSq();if(s===0)return this.set(0,0,0);const r=e.dot(this)/s;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return NR.copy(this).projectOnVector(e),this.sub(NR)}reflect(e){return this.sub(NR.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const s=Math.sqrt(this.lengthSq()*e.lengthSq());if(s===0)return Math.PI/2;const r=this.dot(e)/s;return Math.acos(Wn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const s=this.x-e.x,r=this.y-e.y,a=this.z-e.z;return s*s+r*r+a*a}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,s,r){const a=Math.sin(s)*e;return this.x=a*Math.sin(r),this.y=Math.cos(s)*e,this.z=a*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,s,r){return this.x=e*Math.sin(s),this.y=r,this.z=e*Math.cos(s),this}setFromMatrixPosition(e){const s=e.elements;return this.x=s[12],this.y=s[13],this.z=s[14],this}setFromMatrixScale(e){const s=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),a=this.setFromMatrixColumn(e,2).length();return this.x=s,this.y=r,this.z=a,this}setFromMatrixColumn(e,s){return this.fromArray(e.elements,s*4)}setFromMatrix3Column(e,s){return this.fromArray(e.elements,s*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,s=0){return this.x=e[s],this.y=e[s+1],this.z=e[s+2],this}toArray(e=[],s=0){return e[s]=this.x,e[s+1]=this.y,e[s+2]=this.z,e}fromBufferAttribute(e,s){return this.x=e.getX(s),this.y=e.getY(s),this.z=e.getZ(s),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,s=Math.random()*2-1,r=Math.sqrt(1-s*s);return this.x=r*Math.cos(e),this.y=s,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const NR=new he,AH=new to;class is{constructor(e,s,r,a,i,o,l,c,d){is.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,s,r,a,i,o,l,c,d)}set(e,s,r,a,i,o,l,c,d){const u=this.elements;return u[0]=e,u[1]=a,u[2]=l,u[3]=s,u[4]=i,u[5]=c,u[6]=r,u[7]=o,u[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const s=this.elements,r=e.elements;return s[0]=r[0],s[1]=r[1],s[2]=r[2],s[3]=r[3],s[4]=r[4],s[5]=r[5],s[6]=r[6],s[7]=r[7],s[8]=r[8],this}extractBasis(e,s,r){return e.setFromMatrix3Column(this,0),s.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const s=e.elements;return this.set(s[0],s[4],s[8],s[1],s[5],s[9],s[2],s[6],s[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,s){const r=e.elements,a=s.elements,i=this.elements,o=r[0],l=r[3],c=r[6],d=r[1],u=r[4],h=r[7],m=r[2],y=r[5],N=r[8],j=a[0],v=a[3],b=a[6],A=a[1],S=a[4],w=a[7],E=a[2],T=a[5],P=a[8];return i[0]=o*j+l*A+c*E,i[3]=o*v+l*S+c*T,i[6]=o*b+l*w+c*P,i[1]=d*j+u*A+h*E,i[4]=d*v+u*S+h*T,i[7]=d*b+u*w+h*P,i[2]=m*j+y*A+N*E,i[5]=m*v+y*S+N*T,i[8]=m*b+y*w+N*P,this}multiplyScalar(e){const s=this.elements;return s[0]*=e,s[3]*=e,s[6]*=e,s[1]*=e,s[4]*=e,s[7]*=e,s[2]*=e,s[5]*=e,s[8]*=e,this}determinant(){const e=this.elements,s=e[0],r=e[1],a=e[2],i=e[3],o=e[4],l=e[5],c=e[6],d=e[7],u=e[8];return s*o*u-s*l*d-r*i*u+r*l*c+a*i*d-a*o*c}invert(){const e=this.elements,s=e[0],r=e[1],a=e[2],i=e[3],o=e[4],l=e[5],c=e[6],d=e[7],u=e[8],h=u*o-l*d,m=l*c-u*i,y=d*i-o*c,N=s*h+r*m+a*y;if(N===0)return this.set(0,0,0,0,0,0,0,0,0);const j=1/N;return e[0]=h*j,e[1]=(a*d-u*r)*j,e[2]=(l*r-a*o)*j,e[3]=m*j,e[4]=(u*s-a*c)*j,e[5]=(a*i-l*s)*j,e[6]=y*j,e[7]=(r*c-d*s)*j,e[8]=(o*s-r*i)*j,this}transpose(){let e;const s=this.elements;return e=s[1],s[1]=s[3],s[3]=e,e=s[2],s[2]=s[6],s[6]=e,e=s[5],s[5]=s[7],s[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const s=this.elements;return e[0]=s[0],e[1]=s[3],e[2]=s[6],e[3]=s[1],e[4]=s[4],e[5]=s[7],e[6]=s[2],e[7]=s[5],e[8]=s[8],this}setUvTransform(e,s,r,a,i,o,l){const c=Math.cos(i),d=Math.sin(i);return this.set(r*c,r*d,-r*(c*o+d*l)+o+e,-a*d,a*c,-a*(-d*o+c*l)+l+s,0,0,1),this}scale(e,s){return this.premultiply(SR.makeScale(e,s)),this}rotate(e){return this.premultiply(SR.makeRotation(-e)),this}translate(e,s){return this.premultiply(SR.makeTranslation(e,s)),this}makeTranslation(e,s){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,s,0,0,1),this}makeRotation(e){const s=Math.cos(e),r=Math.sin(e);return this.set(s,-r,0,r,s,0,0,0,1),this}makeScale(e,s){return this.set(e,0,0,0,s,0,0,0,1),this}equals(e){const s=this.elements,r=e.elements;for(let a=0;a<9;a++)if(s[a]!==r[a])return!1;return!0}fromArray(e,s=0){for(let r=0;r<9;r++)this.elements[r]=e[r+s];return this}toArray(e=[],s=0){const r=this.elements;return e[s]=r[0],e[s+1]=r[1],e[s+2]=r[2],e[s+3]=r[3],e[s+4]=r[4],e[s+5]=r[5],e[s+6]=r[6],e[s+7]=r[7],e[s+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const SR=new is;function Oee(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const u4e={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Pv(n,e){return new u4e[n](e)}function I1(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function kee(){const n=I1("canvas");return n.style.display="block",n}const CH={};function D1(n){n in CH||(CH[n]=!0,console.warn(n))}function h4e(n,e,s){return new Promise(function(r,a){function i(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:a();break;case n.TIMEOUT_EXPIRED:setTimeout(i,s);break;default:r()}}setTimeout(i,s)})}const TH=new is().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),EH=new is().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function f4e(){const n={enabled:!0,workingColorSpace:ld,spaces:{},convert:function(a,i,o){return this.enabled===!1||i===o||!i||!o||(this.spaces[i].transfer===rr&&(a.r=xh(a.r),a.g=xh(a.g),a.b=xh(a.b)),this.spaces[i].primaries!==this.spaces[o].primaries&&(a.applyMatrix3(this.spaces[i].toXYZ),a.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===rr&&(a.r=qv(a.r),a.g=qv(a.g),a.b=qv(a.b))),a},workingToColorSpace:function(a,i){return this.convert(a,this.workingColorSpace,i)},colorSpaceToWorking:function(a,i){return this.convert(a,i,this.workingColorSpace)},getPrimaries:function(a){return this.spaces[a].primaries},getTransfer:function(a){return a===ah?O1:this.spaces[a].transfer},getToneMappingMode:function(a){return this.spaces[a].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(a,i=this.workingColorSpace){return a.fromArray(this.spaces[i].luminanceCoefficients)},define:function(a){Object.assign(this.spaces,a)},_getMatrix:function(a,i,o){return a.copy(this.spaces[i].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(a){return this.spaces[a].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(a=this.workingColorSpace){return this.spaces[a].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(a,i){return D1("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(a,i)},toWorkingColorSpace:function(a,i){return D1("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(a,i)}},e=[.64,.33,.3,.6,.15,.06],s=[.2126,.7152,.0722],r=[.3127,.329];return n.define({[ld]:{primaries:e,whitePoint:r,transfer:O1,toXYZ:TH,fromXYZ:EH,luminanceCoefficients:s,workingColorSpaceConfig:{unpackColorSpace:Mi},outputColorSpaceConfig:{drawingBufferColorSpace:Mi}},[Mi]:{primaries:e,whitePoint:r,transfer:rr,toXYZ:TH,fromXYZ:EH,luminanceCoefficients:s,outputColorSpaceConfig:{drawingBufferColorSpace:Mi}}}),n}const Ps=f4e();function xh(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function qv(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Jg;class Iee{static getDataURL(e,s="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{Jg===void 0&&(Jg=I1("canvas")),Jg.width=e.width,Jg.height=e.height;const a=Jg.getContext("2d");e instanceof ImageData?a.putImageData(e,0,0):a.drawImage(e,0,0,e.width,e.height),r=Jg}return r.toDataURL(s)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const s=I1("canvas");s.width=e.width,s.height=e.height;const r=s.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const a=r.getImageData(0,0,e.width,e.height),i=a.data;for(let o=0;o<i.length;o++)i[o]=xh(i[o]/255)*255;return r.putImageData(a,0,0),s}else if(e.data){const s=e.data.slice(0);for(let r=0;r<s.length;r++)s instanceof Uint8Array||s instanceof Uint8ClampedArray?s[r]=Math.floor(xh(s[r]/255)*255):s[r]=xh(s[r]);return{data:s,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let m4e=0;class If{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:m4e++}),this.uuid=Cl(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const s=this.data;return typeof HTMLVideoElement<"u"&&s instanceof HTMLVideoElement?e.set(s.videoWidth,s.videoHeight,0):s instanceof VideoFrame?e.set(s.displayHeight,s.displayWidth,0):s!==null?e.set(s.width,s.height,s.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const s=e===void 0||typeof e=="string";if(!s&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},a=this.data;if(a!==null){let i;if(Array.isArray(a)){i=[];for(let o=0,l=a.length;o<l;o++)a[o].isDataTexture?i.push(_R(a[o].image)):i.push(_R(a[o]))}else i=_R(a);r.url=i}return s||(e.images[this.uuid]=r),r}}function _R(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?Iee.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let p4e=0;const AR=new he;class fr extends xu{constructor(e=fr.DEFAULT_IMAGE,s=fr.DEFAULT_MAPPING,r=Ma,a=Ma,i=ir,o=$d,l=xa,c=_o,d=fr.DEFAULT_ANISOTROPY,u=ah){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:p4e++}),this.uuid=Cl(),this.name="",this.source=new If(e),this.mipmaps=[],this.mapping=s,this.channel=0,this.wrapS=r,this.wrapT=a,this.magFilter=i,this.minFilter=o,this.anisotropy=d,this.format=l,this.internalFormat=null,this.type=c,this.offset=new mt(0,0),this.repeat=new mt(1,1),this.center=new mt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new is,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(AR).x}get height(){return this.source.getSize(AR).y}get depth(){return this.source.getSize(AR).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,s){this.updateRanges.push({start:e,count:s})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const s in e){const r=e[s];if(r===void 0){console.warn(`THREE.Texture.setValues(): parameter '${s}' has value of undefined.`);continue}const a=this[s];if(a===void 0){console.warn(`THREE.Texture.setValues(): property '${s}' does not exist.`);continue}a&&r&&a.isVector2&&r.isVector2||a&&r&&a.isVector3&&r.isVector3||a&&r&&a.isMatrix3&&r.isMatrix3?a.copy(r):this[s]=r}}toJSON(e){const s=e===void 0||typeof e=="string";if(!s&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),s||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Qf)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case E1:e.x=e.x-Math.floor(e.x);break;case Ma:e.x=e.x<0?0:1;break;case M1:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case E1:e.y=e.y-Math.floor(e.y);break;case Ma:e.y=e.y<0?0:1;break;case M1:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}fr.DEFAULT_IMAGE=null;fr.DEFAULT_MAPPING=Qf;fr.DEFAULT_ANISOTROPY=1;class js{constructor(e=0,s=0,r=0,a=1){js.prototype.isVector4=!0,this.x=e,this.y=s,this.z=r,this.w=a}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,s,r,a){return this.x=e,this.y=s,this.z=r,this.w=a,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,s){switch(e){case 0:this.x=s;break;case 1:this.y=s;break;case 2:this.z=s;break;case 3:this.w=s;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,s){return this.x=e.x+s.x,this.y=e.y+s.y,this.z=e.z+s.z,this.w=e.w+s.w,this}addScaledVector(e,s){return this.x+=e.x*s,this.y+=e.y*s,this.z+=e.z*s,this.w+=e.w*s,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,s){return this.x=e.x-s.x,this.y=e.y-s.y,this.z=e.z-s.z,this.w=e.w-s.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const s=this.x,r=this.y,a=this.z,i=this.w,o=e.elements;return this.x=o[0]*s+o[4]*r+o[8]*a+o[12]*i,this.y=o[1]*s+o[5]*r+o[9]*a+o[13]*i,this.z=o[2]*s+o[6]*r+o[10]*a+o[14]*i,this.w=o[3]*s+o[7]*r+o[11]*a+o[15]*i,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const s=Math.sqrt(1-e.w*e.w);return s<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/s,this.y=e.y/s,this.z=e.z/s),this}setAxisAngleFromRotationMatrix(e){let s,r,a,i;const c=e.elements,d=c[0],u=c[4],h=c[8],m=c[1],y=c[5],N=c[9],j=c[2],v=c[6],b=c[10];if(Math.abs(u-m)<.01&&Math.abs(h-j)<.01&&Math.abs(N-v)<.01){if(Math.abs(u+m)<.1&&Math.abs(h+j)<.1&&Math.abs(N+v)<.1&&Math.abs(d+y+b-3)<.1)return this.set(1,0,0,0),this;s=Math.PI;const S=(d+1)/2,w=(y+1)/2,E=(b+1)/2,T=(u+m)/4,P=(h+j)/4,k=(N+v)/4;return S>w&&S>E?S<.01?(r=0,a=.707106781,i=.707106781):(r=Math.sqrt(S),a=T/r,i=P/r):w>E?w<.01?(r=.707106781,a=0,i=.707106781):(a=Math.sqrt(w),r=T/a,i=k/a):E<.01?(r=.707106781,a=.707106781,i=0):(i=Math.sqrt(E),r=P/i,a=k/i),this.set(r,a,i,s),this}let A=Math.sqrt((v-N)*(v-N)+(h-j)*(h-j)+(m-u)*(m-u));return Math.abs(A)<.001&&(A=1),this.x=(v-N)/A,this.y=(h-j)/A,this.z=(m-u)/A,this.w=Math.acos((d+y+b-1)/2),this}setFromMatrixPosition(e){const s=e.elements;return this.x=s[12],this.y=s[13],this.z=s[14],this.w=s[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,s){return this.x=Wn(this.x,e.x,s.x),this.y=Wn(this.y,e.y,s.y),this.z=Wn(this.z,e.z,s.z),this.w=Wn(this.w,e.w,s.w),this}clampScalar(e,s){return this.x=Wn(this.x,e,s),this.y=Wn(this.y,e,s),this.z=Wn(this.z,e,s),this.w=Wn(this.w,e,s),this}clampLength(e,s){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Wn(r,e,s))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,s){return this.x+=(e.x-this.x)*s,this.y+=(e.y-this.y)*s,this.z+=(e.z-this.z)*s,this.w+=(e.w-this.w)*s,this}lerpVectors(e,s,r){return this.x=e.x+(s.x-e.x)*r,this.y=e.y+(s.y-e.y)*r,this.z=e.z+(s.z-e.z)*r,this.w=e.w+(s.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,s=0){return this.x=e[s],this.y=e[s+1],this.z=e[s+2],this.w=e[s+3],this}toArray(e=[],s=0){return e[s]=this.x,e[s+1]=this.y,e[s+2]=this.z,e[s+3]=this.w,e}fromBufferAttribute(e,s){return this.x=e.getX(s),this.y=e.getY(s),this.z=e.getZ(s),this.w=e.getW(s),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class AD extends xu{constructor(e=1,s=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ir,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=s,this.depth=r.depth,this.scissor=new js(0,0,e,s),this.scissorTest=!1,this.viewport=new js(0,0,e,s);const a={width:e,height:s,depth:r.depth},i=new fr(a);this.textures=[];const o=r.count;for(let l=0;l<o;l++)this.textures[l]=i.clone(),this.textures[l].isRenderTargetTexture=!0,this.textures[l].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const s={minFilter:ir,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(s.mapping=e.mapping),e.wrapS!==void 0&&(s.wrapS=e.wrapS),e.wrapT!==void 0&&(s.wrapT=e.wrapT),e.wrapR!==void 0&&(s.wrapR=e.wrapR),e.magFilter!==void 0&&(s.magFilter=e.magFilter),e.minFilter!==void 0&&(s.minFilter=e.minFilter),e.format!==void 0&&(s.format=e.format),e.type!==void 0&&(s.type=e.type),e.anisotropy!==void 0&&(s.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(s.colorSpace=e.colorSpace),e.flipY!==void 0&&(s.flipY=e.flipY),e.generateMipmaps!==void 0&&(s.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(s.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(s)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,s,r=1){if(this.width!==e||this.height!==s||this.depth!==r){this.width=e,this.height=s,this.depth=r;for(let a=0,i=this.textures.length;a<i;a++)this.textures[a].image.width=e,this.textures[a].image.height=s,this.textures[a].image.depth=r,this.textures[a].isArrayTexture=this.textures[a].image.depth>1;this.dispose()}this.viewport.set(0,0,e,s),this.scissor.set(0,0,e,s)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let s=0,r=e.textures.length;s<r;s++){this.textures[s]=e.textures[s].clone(),this.textures[s].isRenderTargetTexture=!0,this.textures[s].renderTarget=this;const a=Object.assign({},e.textures[s].image);this.textures[s].source=new If(a)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ic extends AD{constructor(e=1,s=1,r={}){super(e,s,r),this.isWebGLRenderTarget=!0}}class dT extends fr{constructor(e=null,s=1,r=1,a=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:s,height:r,depth:a},this.magFilter=ki,this.minFilter=ki,this.wrapR=Ma,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class x4e extends ic{constructor(e=1,s=1,r=1,a={}){super(e,s,a),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new dT(null,e,s,r),this._setTextureOptions(a),this.texture.isRenderTargetTexture=!0}}class uT extends fr{constructor(e=null,s=1,r=1,a=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:s,height:r,depth:a},this.magFilter=ki,this.minFilter=ki,this.wrapR=Ma,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class g4e extends ic{constructor(e=1,s=1,r=1,a={}){super(e,s,a),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new uT(null,e,s,r),this._setTextureOptions(a),this.texture.isRenderTargetTexture=!0}}class Ya{constructor(e=new he(1/0,1/0,1/0),s=new he(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=s}set(e,s){return this.min.copy(e),this.max.copy(s),this}setFromArray(e){this.makeEmpty();for(let s=0,r=e.length;s<r;s+=3)this.expandByPoint(Gc.fromArray(e,s));return this}setFromBufferAttribute(e){this.makeEmpty();for(let s=0,r=e.count;s<r;s++)this.expandByPoint(Gc.fromBufferAttribute(e,s));return this}setFromPoints(e){this.makeEmpty();for(let s=0,r=e.length;s<r;s++)this.expandByPoint(e[s]);return this}setFromCenterAndSize(e,s){const r=Gc.copy(s).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,s=!1){return this.makeEmpty(),this.expandByObject(e,s)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,s=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const i=r.getAttribute("position");if(s===!0&&i!==void 0&&e.isInstancedMesh!==!0)for(let o=0,l=i.count;o<l;o++)e.isMesh===!0?e.getVertexPosition(o,Gc):Gc.fromBufferAttribute(i,o),Gc.applyMatrix4(e.matrixWorld),this.expandByPoint(Gc);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),nS.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),nS.copy(r.boundingBox)),nS.applyMatrix4(e.matrixWorld),this.union(nS)}const a=e.children;for(let i=0,o=a.length;i<o;i++)this.expandByObject(a[i],s);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,s){return s.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Gc),Gc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let s,r;return e.normal.x>0?(s=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(s=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(s+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(s+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(s+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(s+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),s<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Bb),sS.subVectors(this.max,Bb),ev.subVectors(e.a,Bb),tv.subVectors(e.b,Bb),nv.subVectors(e.c,Bb),yf.subVectors(tv,ev),bf.subVectors(nv,tv),hp.subVectors(ev,nv);let s=[0,-yf.z,yf.y,0,-bf.z,bf.y,0,-hp.z,hp.y,yf.z,0,-yf.x,bf.z,0,-bf.x,hp.z,0,-hp.x,-yf.y,yf.x,0,-bf.y,bf.x,0,-hp.y,hp.x,0];return!CR(s,ev,tv,nv,sS)||(s=[1,0,0,0,1,0,0,0,1],!CR(s,ev,tv,nv,sS))?!1:(rS.crossVectors(yf,bf),s=[rS.x,rS.y,rS.z],CR(s,ev,tv,nv,sS))}clampPoint(e,s){return s.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Gc).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Gc).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Zu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Zu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Zu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Zu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Zu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Zu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Zu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Zu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Zu),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Zu=[new he,new he,new he,new he,new he,new he,new he,new he],Gc=new he,nS=new Ya,ev=new he,tv=new he,nv=new he,yf=new he,bf=new he,hp=new he,Bb=new he,sS=new he,rS=new he,fp=new he;function CR(n,e,s,r,a){for(let i=0,o=n.length-3;i<=o;i+=3){fp.fromArray(n,i);const l=a.x*Math.abs(fp.x)+a.y*Math.abs(fp.y)+a.z*Math.abs(fp.z),c=e.dot(fp),d=s.dot(fp),u=r.dot(fp);if(Math.max(-Math.max(c,d,u),Math.min(c,d,u))>l)return!1}return!0}const v4e=new Ya,Vb=new he,TR=new he;let Qa=class{constructor(e=new he,s=-1){this.isSphere=!0,this.center=e,this.radius=s}set(e,s){return this.center.copy(e),this.radius=s,this}setFromPoints(e,s){const r=this.center;s!==void 0?r.copy(s):v4e.setFromPoints(e).getCenter(r);let a=0;for(let i=0,o=e.length;i<o;i++)a=Math.max(a,r.distanceToSquared(e[i]));return this.radius=Math.sqrt(a),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const s=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=s*s}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,s){const r=this.center.distanceToSquared(e);return s.copy(e),r>this.radius*this.radius&&(s.sub(this.center).normalize(),s.multiplyScalar(this.radius).add(this.center)),s}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Vb.subVectors(e,this.center);const s=Vb.lengthSq();if(s>this.radius*this.radius){const r=Math.sqrt(s),a=(r-this.radius)*.5;this.center.addScaledVector(Vb,a/r),this.radius+=a}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(TR.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Vb.copy(e.center).add(TR)),this.expandByPoint(Vb.copy(e.center).sub(TR))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}};const Yu=new he,ER=new he,aS=new he,jf=new he,MR=new he,iS=new he,PR=new he;class kx{constructor(e=new he,s=new he(0,0,-1)){this.origin=e,this.direction=s}set(e,s){return this.origin.copy(e),this.direction.copy(s),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,s){return s.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Yu)),this}closestPointToPoint(e,s){s.subVectors(e,this.origin);const r=s.dot(this.direction);return r<0?s.copy(this.origin):s.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const s=Yu.subVectors(e,this.origin).dot(this.direction);return s<0?this.origin.distanceToSquared(e):(Yu.copy(this.origin).addScaledVector(this.direction,s),Yu.distanceToSquared(e))}distanceSqToSegment(e,s,r,a){ER.copy(e).add(s).multiplyScalar(.5),aS.copy(s).sub(e).normalize(),jf.copy(this.origin).sub(ER);const i=e.distanceTo(s)*.5,o=-this.direction.dot(aS),l=jf.dot(this.direction),c=-jf.dot(aS),d=jf.lengthSq(),u=Math.abs(1-o*o);let h,m,y,N;if(u>0)if(h=o*c-l,m=o*l-c,N=i*u,h>=0)if(m>=-N)if(m<=N){const j=1/u;h*=j,m*=j,y=h*(h+o*m+2*l)+m*(o*h+m+2*c)+d}else m=i,h=Math.max(0,-(o*m+l)),y=-h*h+m*(m+2*c)+d;else m=-i,h=Math.max(0,-(o*m+l)),y=-h*h+m*(m+2*c)+d;else m<=-N?(h=Math.max(0,-(-o*i+l)),m=h>0?-i:Math.min(Math.max(-i,-c),i),y=-h*h+m*(m+2*c)+d):m<=N?(h=0,m=Math.min(Math.max(-i,-c),i),y=m*(m+2*c)+d):(h=Math.max(0,-(o*i+l)),m=h>0?i:Math.min(Math.max(-i,-c),i),y=-h*h+m*(m+2*c)+d);else m=o>0?-i:i,h=Math.max(0,-(o*m+l)),y=-h*h+m*(m+2*c)+d;return r&&r.copy(this.origin).addScaledVector(this.direction,h),a&&a.copy(ER).addScaledVector(aS,m),y}intersectSphere(e,s){Yu.subVectors(e.center,this.origin);const r=Yu.dot(this.direction),a=Yu.dot(Yu)-r*r,i=e.radius*e.radius;if(a>i)return null;const o=Math.sqrt(i-a),l=r-o,c=r+o;return c<0?null:l<0?this.at(c,s):this.at(l,s)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const s=e.normal.dot(this.direction);if(s===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/s;return r>=0?r:null}intersectPlane(e,s){const r=this.distanceToPlane(e);return r===null?null:this.at(r,s)}intersectsPlane(e){const s=e.distanceToPoint(this.origin);return s===0||e.normal.dot(this.direction)*s<0}intersectBox(e,s){let r,a,i,o,l,c;const d=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,m=this.origin;return d>=0?(r=(e.min.x-m.x)*d,a=(e.max.x-m.x)*d):(r=(e.max.x-m.x)*d,a=(e.min.x-m.x)*d),u>=0?(i=(e.min.y-m.y)*u,o=(e.max.y-m.y)*u):(i=(e.max.y-m.y)*u,o=(e.min.y-m.y)*u),r>o||i>a||((i>r||isNaN(r))&&(r=i),(o<a||isNaN(a))&&(a=o),h>=0?(l=(e.min.z-m.z)*h,c=(e.max.z-m.z)*h):(l=(e.max.z-m.z)*h,c=(e.min.z-m.z)*h),r>c||l>a)||((l>r||r!==r)&&(r=l),(c<a||a!==a)&&(a=c),a<0)?null:this.at(r>=0?r:a,s)}intersectsBox(e){return this.intersectBox(e,Yu)!==null}intersectTriangle(e,s,r,a,i){MR.subVectors(s,e),iS.subVectors(r,e),PR.crossVectors(MR,iS);let o=this.direction.dot(PR),l;if(o>0){if(a)return null;l=1}else if(o<0)l=-1,o=-o;else return null;jf.subVectors(this.origin,e);const c=l*this.direction.dot(iS.crossVectors(jf,iS));if(c<0)return null;const d=l*this.direction.dot(MR.cross(jf));if(d<0||c+d>o)return null;const u=-l*jf.dot(PR);return u<0?null:this.at(u/o,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Kn{constructor(e,s,r,a,i,o,l,c,d,u,h,m,y,N,j,v){Kn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,s,r,a,i,o,l,c,d,u,h,m,y,N,j,v)}set(e,s,r,a,i,o,l,c,d,u,h,m,y,N,j,v){const b=this.elements;return b[0]=e,b[4]=s,b[8]=r,b[12]=a,b[1]=i,b[5]=o,b[9]=l,b[13]=c,b[2]=d,b[6]=u,b[10]=h,b[14]=m,b[3]=y,b[7]=N,b[11]=j,b[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Kn().fromArray(this.elements)}copy(e){const s=this.elements,r=e.elements;return s[0]=r[0],s[1]=r[1],s[2]=r[2],s[3]=r[3],s[4]=r[4],s[5]=r[5],s[6]=r[6],s[7]=r[7],s[8]=r[8],s[9]=r[9],s[10]=r[10],s[11]=r[11],s[12]=r[12],s[13]=r[13],s[14]=r[14],s[15]=r[15],this}copyPosition(e){const s=this.elements,r=e.elements;return s[12]=r[12],s[13]=r[13],s[14]=r[14],this}setFromMatrix3(e){const s=e.elements;return this.set(s[0],s[3],s[6],0,s[1],s[4],s[7],0,s[2],s[5],s[8],0,0,0,0,1),this}extractBasis(e,s,r){return e.setFromMatrixColumn(this,0),s.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,s,r){return this.set(e.x,s.x,r.x,0,e.y,s.y,r.y,0,e.z,s.z,r.z,0,0,0,0,1),this}extractRotation(e){const s=this.elements,r=e.elements,a=1/sv.setFromMatrixColumn(e,0).length(),i=1/sv.setFromMatrixColumn(e,1).length(),o=1/sv.setFromMatrixColumn(e,2).length();return s[0]=r[0]*a,s[1]=r[1]*a,s[2]=r[2]*a,s[3]=0,s[4]=r[4]*i,s[5]=r[5]*i,s[6]=r[6]*i,s[7]=0,s[8]=r[8]*o,s[9]=r[9]*o,s[10]=r[10]*o,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,this}makeRotationFromEuler(e){const s=this.elements,r=e.x,a=e.y,i=e.z,o=Math.cos(r),l=Math.sin(r),c=Math.cos(a),d=Math.sin(a),u=Math.cos(i),h=Math.sin(i);if(e.order==="XYZ"){const m=o*u,y=o*h,N=l*u,j=l*h;s[0]=c*u,s[4]=-c*h,s[8]=d,s[1]=y+N*d,s[5]=m-j*d,s[9]=-l*c,s[2]=j-m*d,s[6]=N+y*d,s[10]=o*c}else if(e.order==="YXZ"){const m=c*u,y=c*h,N=d*u,j=d*h;s[0]=m+j*l,s[4]=N*l-y,s[8]=o*d,s[1]=o*h,s[5]=o*u,s[9]=-l,s[2]=y*l-N,s[6]=j+m*l,s[10]=o*c}else if(e.order==="ZXY"){const m=c*u,y=c*h,N=d*u,j=d*h;s[0]=m-j*l,s[4]=-o*h,s[8]=N+y*l,s[1]=y+N*l,s[5]=o*u,s[9]=j-m*l,s[2]=-o*d,s[6]=l,s[10]=o*c}else if(e.order==="ZYX"){const m=o*u,y=o*h,N=l*u,j=l*h;s[0]=c*u,s[4]=N*d-y,s[8]=m*d+j,s[1]=c*h,s[5]=j*d+m,s[9]=y*d-N,s[2]=-d,s[6]=l*c,s[10]=o*c}else if(e.order==="YZX"){const m=o*c,y=o*d,N=l*c,j=l*d;s[0]=c*u,s[4]=j-m*h,s[8]=N*h+y,s[1]=h,s[5]=o*u,s[9]=-l*u,s[2]=-d*u,s[6]=y*h+N,s[10]=m-j*h}else if(e.order==="XZY"){const m=o*c,y=o*d,N=l*c,j=l*d;s[0]=c*u,s[4]=-h,s[8]=d*u,s[1]=m*h+j,s[5]=o*u,s[9]=y*h-N,s[2]=N*h-y,s[6]=l*u,s[10]=j*h+m}return s[3]=0,s[7]=0,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,this}makeRotationFromQuaternion(e){return this.compose(y4e,e,b4e)}lookAt(e,s,r){const a=this.elements;return dl.subVectors(e,s),dl.lengthSq()===0&&(dl.z=1),dl.normalize(),wf.crossVectors(r,dl),wf.lengthSq()===0&&(Math.abs(r.z)===1?dl.x+=1e-4:dl.z+=1e-4,dl.normalize(),wf.crossVectors(r,dl)),wf.normalize(),oS.crossVectors(dl,wf),a[0]=wf.x,a[4]=oS.x,a[8]=dl.x,a[1]=wf.y,a[5]=oS.y,a[9]=dl.y,a[2]=wf.z,a[6]=oS.z,a[10]=dl.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,s){const r=e.elements,a=s.elements,i=this.elements,o=r[0],l=r[4],c=r[8],d=r[12],u=r[1],h=r[5],m=r[9],y=r[13],N=r[2],j=r[6],v=r[10],b=r[14],A=r[3],S=r[7],w=r[11],E=r[15],T=a[0],P=a[4],k=a[8],I=a[12],L=a[1],U=a[5],H=a[9],B=a[13],K=a[2],J=a[6],W=a[10],ee=a[14],G=a[3],ae=a[7],fe=a[11],se=a[15];return i[0]=o*T+l*L+c*K+d*G,i[4]=o*P+l*U+c*J+d*ae,i[8]=o*k+l*H+c*W+d*fe,i[12]=o*I+l*B+c*ee+d*se,i[1]=u*T+h*L+m*K+y*G,i[5]=u*P+h*U+m*J+y*ae,i[9]=u*k+h*H+m*W+y*fe,i[13]=u*I+h*B+m*ee+y*se,i[2]=N*T+j*L+v*K+b*G,i[6]=N*P+j*U+v*J+b*ae,i[10]=N*k+j*H+v*W+b*fe,i[14]=N*I+j*B+v*ee+b*se,i[3]=A*T+S*L+w*K+E*G,i[7]=A*P+S*U+w*J+E*ae,i[11]=A*k+S*H+w*W+E*fe,i[15]=A*I+S*B+w*ee+E*se,this}multiplyScalar(e){const s=this.elements;return s[0]*=e,s[4]*=e,s[8]*=e,s[12]*=e,s[1]*=e,s[5]*=e,s[9]*=e,s[13]*=e,s[2]*=e,s[6]*=e,s[10]*=e,s[14]*=e,s[3]*=e,s[7]*=e,s[11]*=e,s[15]*=e,this}determinant(){const e=this.elements,s=e[0],r=e[4],a=e[8],i=e[12],o=e[1],l=e[5],c=e[9],d=e[13],u=e[2],h=e[6],m=e[10],y=e[14],N=e[3],j=e[7],v=e[11],b=e[15];return N*(+i*c*h-a*d*h-i*l*m+r*d*m+a*l*y-r*c*y)+j*(+s*c*y-s*d*m+i*o*m-a*o*y+a*d*u-i*c*u)+v*(+s*d*h-s*l*y-i*o*h+r*o*y+i*l*u-r*d*u)+b*(-a*l*u-s*c*h+s*l*m+a*o*h-r*o*m+r*c*u)}transpose(){const e=this.elements;let s;return s=e[1],e[1]=e[4],e[4]=s,s=e[2],e[2]=e[8],e[8]=s,s=e[6],e[6]=e[9],e[9]=s,s=e[3],e[3]=e[12],e[12]=s,s=e[7],e[7]=e[13],e[13]=s,s=e[11],e[11]=e[14],e[14]=s,this}setPosition(e,s,r){const a=this.elements;return e.isVector3?(a[12]=e.x,a[13]=e.y,a[14]=e.z):(a[12]=e,a[13]=s,a[14]=r),this}invert(){const e=this.elements,s=e[0],r=e[1],a=e[2],i=e[3],o=e[4],l=e[5],c=e[6],d=e[7],u=e[8],h=e[9],m=e[10],y=e[11],N=e[12],j=e[13],v=e[14],b=e[15],A=h*v*d-j*m*d+j*c*y-l*v*y-h*c*b+l*m*b,S=N*m*d-u*v*d-N*c*y+o*v*y+u*c*b-o*m*b,w=u*j*d-N*h*d+N*l*y-o*j*y-u*l*b+o*h*b,E=N*h*c-u*j*c-N*l*m+o*j*m+u*l*v-o*h*v,T=s*A+r*S+a*w+i*E;if(T===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/T;return e[0]=A*P,e[1]=(j*m*i-h*v*i-j*a*y+r*v*y+h*a*b-r*m*b)*P,e[2]=(l*v*i-j*c*i+j*a*d-r*v*d-l*a*b+r*c*b)*P,e[3]=(h*c*i-l*m*i-h*a*d+r*m*d+l*a*y-r*c*y)*P,e[4]=S*P,e[5]=(u*v*i-N*m*i+N*a*y-s*v*y-u*a*b+s*m*b)*P,e[6]=(N*c*i-o*v*i-N*a*d+s*v*d+o*a*b-s*c*b)*P,e[7]=(o*m*i-u*c*i+u*a*d-s*m*d-o*a*y+s*c*y)*P,e[8]=w*P,e[9]=(N*h*i-u*j*i-N*r*y+s*j*y+u*r*b-s*h*b)*P,e[10]=(o*j*i-N*l*i+N*r*d-s*j*d-o*r*b+s*l*b)*P,e[11]=(u*l*i-o*h*i-u*r*d+s*h*d+o*r*y-s*l*y)*P,e[12]=E*P,e[13]=(u*j*a-N*h*a+N*r*m-s*j*m-u*r*v+s*h*v)*P,e[14]=(N*l*a-o*j*a-N*r*c+s*j*c+o*r*v-s*l*v)*P,e[15]=(o*h*a-u*l*a+u*r*c-s*h*c-o*r*m+s*l*m)*P,this}scale(e){const s=this.elements,r=e.x,a=e.y,i=e.z;return s[0]*=r,s[4]*=a,s[8]*=i,s[1]*=r,s[5]*=a,s[9]*=i,s[2]*=r,s[6]*=a,s[10]*=i,s[3]*=r,s[7]*=a,s[11]*=i,this}getMaxScaleOnAxis(){const e=this.elements,s=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],a=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(s,r,a))}makeTranslation(e,s,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,s,0,0,1,r,0,0,0,1),this}makeRotationX(e){const s=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,s,-r,0,0,r,s,0,0,0,0,1),this}makeRotationY(e){const s=Math.cos(e),r=Math.sin(e);return this.set(s,0,r,0,0,1,0,0,-r,0,s,0,0,0,0,1),this}makeRotationZ(e){const s=Math.cos(e),r=Math.sin(e);return this.set(s,-r,0,0,r,s,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,s){const r=Math.cos(s),a=Math.sin(s),i=1-r,o=e.x,l=e.y,c=e.z,d=i*o,u=i*l;return this.set(d*o+r,d*l-a*c,d*c+a*l,0,d*l+a*c,u*l+r,u*c-a*o,0,d*c-a*l,u*c+a*o,i*c*c+r,0,0,0,0,1),this}makeScale(e,s,r){return this.set(e,0,0,0,0,s,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,s,r,a,i,o){return this.set(1,r,i,0,e,1,o,0,s,a,1,0,0,0,0,1),this}compose(e,s,r){const a=this.elements,i=s._x,o=s._y,l=s._z,c=s._w,d=i+i,u=o+o,h=l+l,m=i*d,y=i*u,N=i*h,j=o*u,v=o*h,b=l*h,A=c*d,S=c*u,w=c*h,E=r.x,T=r.y,P=r.z;return a[0]=(1-(j+b))*E,a[1]=(y+w)*E,a[2]=(N-S)*E,a[3]=0,a[4]=(y-w)*T,a[5]=(1-(m+b))*T,a[6]=(v+A)*T,a[7]=0,a[8]=(N+S)*P,a[9]=(v-A)*P,a[10]=(1-(m+j))*P,a[11]=0,a[12]=e.x,a[13]=e.y,a[14]=e.z,a[15]=1,this}decompose(e,s,r){const a=this.elements;let i=sv.set(a[0],a[1],a[2]).length();const o=sv.set(a[4],a[5],a[6]).length(),l=sv.set(a[8],a[9],a[10]).length();this.determinant()<0&&(i=-i),e.x=a[12],e.y=a[13],e.z=a[14],$c.copy(this);const d=1/i,u=1/o,h=1/l;return $c.elements[0]*=d,$c.elements[1]*=d,$c.elements[2]*=d,$c.elements[4]*=u,$c.elements[5]*=u,$c.elements[6]*=u,$c.elements[8]*=h,$c.elements[9]*=h,$c.elements[10]*=h,s.setFromRotationMatrix($c),r.x=i,r.y=o,r.z=l,this}makePerspective(e,s,r,a,i,o,l=yl,c=!1){const d=this.elements,u=2*i/(s-e),h=2*i/(r-a),m=(s+e)/(s-e),y=(r+a)/(r-a);let N,j;if(c)N=i/(o-i),j=o*i/(o-i);else if(l===yl)N=-(o+i)/(o-i),j=-2*o*i/(o-i);else if(l===B0)N=-o/(o-i),j=-o*i/(o-i);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return d[0]=u,d[4]=0,d[8]=m,d[12]=0,d[1]=0,d[5]=h,d[9]=y,d[13]=0,d[2]=0,d[6]=0,d[10]=N,d[14]=j,d[3]=0,d[7]=0,d[11]=-1,d[15]=0,this}makeOrthographic(e,s,r,a,i,o,l=yl,c=!1){const d=this.elements,u=2/(s-e),h=2/(r-a),m=-(s+e)/(s-e),y=-(r+a)/(r-a);let N,j;if(c)N=1/(o-i),j=o/(o-i);else if(l===yl)N=-2/(o-i),j=-(o+i)/(o-i);else if(l===B0)N=-1/(o-i),j=-i/(o-i);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return d[0]=u,d[4]=0,d[8]=0,d[12]=m,d[1]=0,d[5]=h,d[9]=0,d[13]=y,d[2]=0,d[6]=0,d[10]=N,d[14]=j,d[3]=0,d[7]=0,d[11]=0,d[15]=1,this}equals(e){const s=this.elements,r=e.elements;for(let a=0;a<16;a++)if(s[a]!==r[a])return!1;return!0}fromArray(e,s=0){for(let r=0;r<16;r++)this.elements[r]=e[r+s];return this}toArray(e=[],s=0){const r=this.elements;return e[s]=r[0],e[s+1]=r[1],e[s+2]=r[2],e[s+3]=r[3],e[s+4]=r[4],e[s+5]=r[5],e[s+6]=r[6],e[s+7]=r[7],e[s+8]=r[8],e[s+9]=r[9],e[s+10]=r[10],e[s+11]=r[11],e[s+12]=r[12],e[s+13]=r[13],e[s+14]=r[14],e[s+15]=r[15],e}}const sv=new he,$c=new Kn,y4e=new he(0,0,0),b4e=new he(1,1,1),wf=new he,oS=new he,dl=new he,MH=new Kn,PH=new to;class Ml{constructor(e=0,s=0,r=0,a=Ml.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=s,this._z=r,this._order=a}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,s,r,a=this._order){return this._x=e,this._y=s,this._z=r,this._order=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,s=this._order,r=!0){const a=e.elements,i=a[0],o=a[4],l=a[8],c=a[1],d=a[5],u=a[9],h=a[2],m=a[6],y=a[10];switch(s){case"XYZ":this._y=Math.asin(Wn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,y),this._z=Math.atan2(-o,i)):(this._x=Math.atan2(m,d),this._z=0);break;case"YXZ":this._x=Math.asin(-Wn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(l,y),this._z=Math.atan2(c,d)):(this._y=Math.atan2(-h,i),this._z=0);break;case"ZXY":this._x=Math.asin(Wn(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(-h,y),this._z=Math.atan2(-o,d)):(this._y=0,this._z=Math.atan2(c,i));break;case"ZYX":this._y=Math.asin(-Wn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(m,y),this._z=Math.atan2(c,i)):(this._x=0,this._z=Math.atan2(-o,d));break;case"YZX":this._z=Math.asin(Wn(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-u,d),this._y=Math.atan2(-h,i)):(this._x=0,this._y=Math.atan2(l,y));break;case"XZY":this._z=Math.asin(-Wn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(m,d),this._y=Math.atan2(l,i)):(this._x=Math.atan2(-u,y),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+s)}return this._order=s,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,s,r){return MH.makeRotationFromQuaternion(e),this.setFromRotationMatrix(MH,s,r)}setFromVector3(e,s=this._order){return this.set(e.x,e.y,e.z,s)}reorder(e){return PH.setFromEuler(this),this.setFromQuaternion(PH,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],s=0){return e[s]=this._x,e[s+1]=this._y,e[s+2]=this._z,e[s+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ml.DEFAULT_ORDER="XYZ";class H0{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let j4e=0;const RH=new he,rv=new to,Qu=new Kn,lS=new he,Hb=new he,w4e=new he,N4e=new to,OH=new he(1,0,0),kH=new he(0,1,0),IH=new he(0,0,1),DH={type:"added"},S4e={type:"removed"},av={type:"childadded",child:null},RR={type:"childremoved",child:null};class Ls extends xu{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:j4e++}),this.uuid=Cl(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ls.DEFAULT_UP.clone();const e=new he,s=new Ml,r=new to,a=new he(1,1,1);function i(){r.setFromEuler(s,!1)}function o(){s.setFromQuaternion(r,void 0,!1)}s._onChange(i),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:s},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new Kn},normalMatrix:{value:new is}}),this.matrix=new Kn,this.matrixWorld=new Kn,this.matrixAutoUpdate=Ls.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Ls.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new H0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,s){this.quaternion.setFromAxisAngle(e,s)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,s){return rv.setFromAxisAngle(e,s),this.quaternion.multiply(rv),this}rotateOnWorldAxis(e,s){return rv.setFromAxisAngle(e,s),this.quaternion.premultiply(rv),this}rotateX(e){return this.rotateOnAxis(OH,e)}rotateY(e){return this.rotateOnAxis(kH,e)}rotateZ(e){return this.rotateOnAxis(IH,e)}translateOnAxis(e,s){return RH.copy(e).applyQuaternion(this.quaternion),this.position.add(RH.multiplyScalar(s)),this}translateX(e){return this.translateOnAxis(OH,e)}translateY(e){return this.translateOnAxis(kH,e)}translateZ(e){return this.translateOnAxis(IH,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Qu.copy(this.matrixWorld).invert())}lookAt(e,s,r){e.isVector3?lS.copy(e):lS.set(e,s,r);const a=this.parent;this.updateWorldMatrix(!0,!1),Hb.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Qu.lookAt(Hb,lS,this.up):Qu.lookAt(lS,Hb,this.up),this.quaternion.setFromRotationMatrix(Qu),a&&(Qu.extractRotation(a.matrixWorld),rv.setFromRotationMatrix(Qu),this.quaternion.premultiply(rv.invert()))}add(e){if(arguments.length>1){for(let s=0;s<arguments.length;s++)this.add(arguments[s]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(DH),av.child=e,this.dispatchEvent(av),av.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const s=this.children.indexOf(e);return s!==-1&&(e.parent=null,this.children.splice(s,1),e.dispatchEvent(S4e),RR.child=e,this.dispatchEvent(RR),RR.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Qu.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Qu.multiply(e.parent.matrixWorld)),e.applyMatrix4(Qu),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(DH),av.child=e,this.dispatchEvent(av),av.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,s){if(this[e]===s)return this;for(let r=0,a=this.children.length;r<a;r++){const o=this.children[r].getObjectByProperty(e,s);if(o!==void 0)return o}}getObjectsByProperty(e,s,r=[]){this[e]===s&&r.push(this);const a=this.children;for(let i=0,o=a.length;i<o;i++)a[i].getObjectsByProperty(e,s,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Hb,e,w4e),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Hb,N4e,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const s=this.matrixWorld.elements;return e.set(s[8],s[9],s[10]).normalize()}raycast(){}traverse(e){e(this);const s=this.children;for(let r=0,a=s.length;r<a;r++)s[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const s=this.children;for(let r=0,a=s.length;r<a;r++)s[r].traverseVisible(e)}traverseAncestors(e){const s=this.parent;s!==null&&(e(s),s.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const s=this.children;for(let r=0,a=s.length;r<a;r++)s[r].updateMatrixWorld(e)}updateWorldMatrix(e,s){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),s===!0){const a=this.children;for(let i=0,o=a.length;i<o;i++)a[i].updateWorldMatrix(!1,!0)}}toJSON(e){const s=e===void 0||typeof e=="string",r={};s&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const a={};a.uuid=this.uuid,a.type=this.type,this.name!==""&&(a.name=this.name),this.castShadow===!0&&(a.castShadow=!0),this.receiveShadow===!0&&(a.receiveShadow=!0),this.visible===!1&&(a.visible=!1),this.frustumCulled===!1&&(a.frustumCulled=!1),this.renderOrder!==0&&(a.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(a.userData=this.userData),a.layers=this.layers.mask,a.matrix=this.matrix.toArray(),a.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(a.matrixAutoUpdate=!1),this.isInstancedMesh&&(a.type="InstancedMesh",a.count=this.count,a.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(a.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(a.type="BatchedMesh",a.perObjectFrustumCulled=this.perObjectFrustumCulled,a.sortObjects=this.sortObjects,a.drawRanges=this._drawRanges,a.reservedRanges=this._reservedRanges,a.geometryInfo=this._geometryInfo.map(l=>({...l,boundingBox:l.boundingBox?l.boundingBox.toJSON():void 0,boundingSphere:l.boundingSphere?l.boundingSphere.toJSON():void 0})),a.instanceInfo=this._instanceInfo.map(l=>({...l})),a.availableInstanceIds=this._availableInstanceIds.slice(),a.availableGeometryIds=this._availableGeometryIds.slice(),a.nextIndexStart=this._nextIndexStart,a.nextVertexStart=this._nextVertexStart,a.geometryCount=this._geometryCount,a.maxInstanceCount=this._maxInstanceCount,a.maxVertexCount=this._maxVertexCount,a.maxIndexCount=this._maxIndexCount,a.geometryInitialized=this._geometryInitialized,a.matricesTexture=this._matricesTexture.toJSON(e),a.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(a.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(a.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(a.boundingBox=this.boundingBox.toJSON()));function i(l,c){return l[c.uuid]===void 0&&(l[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?a.background=this.background.toJSON():this.background.isTexture&&(a.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(a.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){a.geometry=i(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const c=l.shapes;if(Array.isArray(c))for(let d=0,u=c.length;d<u;d++){const h=c[d];i(e.shapes,h)}else i(e.shapes,c)}}if(this.isSkinnedMesh&&(a.bindMode=this.bindMode,a.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(i(e.skeletons,this.skeleton),a.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let c=0,d=this.material.length;c<d;c++)l.push(i(e.materials,this.material[c]));a.material=l}else a.material=i(e.materials,this.material);if(this.children.length>0){a.children=[];for(let l=0;l<this.children.length;l++)a.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){a.animations=[];for(let l=0;l<this.animations.length;l++){const c=this.animations[l];a.animations.push(i(e.animations,c))}}if(s){const l=o(e.geometries),c=o(e.materials),d=o(e.textures),u=o(e.images),h=o(e.shapes),m=o(e.skeletons),y=o(e.animations),N=o(e.nodes);l.length>0&&(r.geometries=l),c.length>0&&(r.materials=c),d.length>0&&(r.textures=d),u.length>0&&(r.images=u),h.length>0&&(r.shapes=h),m.length>0&&(r.skeletons=m),y.length>0&&(r.animations=y),N.length>0&&(r.nodes=N)}return r.object=a,r;function o(l){const c=[];for(const d in l){const u=l[d];delete u.metadata,c.push(u)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,s=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),s===!0)for(let r=0;r<e.children.length;r++){const a=e.children[r];this.add(a.clone())}return this}}Ls.DEFAULT_UP=new he(0,1,0);Ls.DEFAULT_MATRIX_AUTO_UPDATE=!0;Ls.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const qc=new he,Ju=new he,OR=new he,eh=new he,iv=new he,ov=new he,LH=new he,kR=new he,IR=new he,DR=new he,LR=new js,FR=new js,UR=new js;class Wo{constructor(e=new he,s=new he,r=new he){this.a=e,this.b=s,this.c=r}static getNormal(e,s,r,a){a.subVectors(r,s),qc.subVectors(e,s),a.cross(qc);const i=a.lengthSq();return i>0?a.multiplyScalar(1/Math.sqrt(i)):a.set(0,0,0)}static getBarycoord(e,s,r,a,i){qc.subVectors(a,s),Ju.subVectors(r,s),OR.subVectors(e,s);const o=qc.dot(qc),l=qc.dot(Ju),c=qc.dot(OR),d=Ju.dot(Ju),u=Ju.dot(OR),h=o*d-l*l;if(h===0)return i.set(0,0,0),null;const m=1/h,y=(d*c-l*u)*m,N=(o*u-l*c)*m;return i.set(1-y-N,N,y)}static containsPoint(e,s,r,a){return this.getBarycoord(e,s,r,a,eh)===null?!1:eh.x>=0&&eh.y>=0&&eh.x+eh.y<=1}static getInterpolation(e,s,r,a,i,o,l,c){return this.getBarycoord(e,s,r,a,eh)===null?(c.x=0,c.y=0,"z"in c&&(c.z=0),"w"in c&&(c.w=0),null):(c.setScalar(0),c.addScaledVector(i,eh.x),c.addScaledVector(o,eh.y),c.addScaledVector(l,eh.z),c)}static getInterpolatedAttribute(e,s,r,a,i,o){return LR.setScalar(0),FR.setScalar(0),UR.setScalar(0),LR.fromBufferAttribute(e,s),FR.fromBufferAttribute(e,r),UR.fromBufferAttribute(e,a),o.setScalar(0),o.addScaledVector(LR,i.x),o.addScaledVector(FR,i.y),o.addScaledVector(UR,i.z),o}static isFrontFacing(e,s,r,a){return qc.subVectors(r,s),Ju.subVectors(e,s),qc.cross(Ju).dot(a)<0}set(e,s,r){return this.a.copy(e),this.b.copy(s),this.c.copy(r),this}setFromPointsAndIndices(e,s,r,a){return this.a.copy(e[s]),this.b.copy(e[r]),this.c.copy(e[a]),this}setFromAttributeAndIndices(e,s,r,a){return this.a.fromBufferAttribute(e,s),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,a),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return qc.subVectors(this.c,this.b),Ju.subVectors(this.a,this.b),qc.cross(Ju).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Wo.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,s){return Wo.getBarycoord(e,this.a,this.b,this.c,s)}getInterpolation(e,s,r,a,i){return Wo.getInterpolation(e,this.a,this.b,this.c,s,r,a,i)}containsPoint(e){return Wo.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Wo.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,s){const r=this.a,a=this.b,i=this.c;let o,l;iv.subVectors(a,r),ov.subVectors(i,r),kR.subVectors(e,r);const c=iv.dot(kR),d=ov.dot(kR);if(c<=0&&d<=0)return s.copy(r);IR.subVectors(e,a);const u=iv.dot(IR),h=ov.dot(IR);if(u>=0&&h<=u)return s.copy(a);const m=c*h-u*d;if(m<=0&&c>=0&&u<=0)return o=c/(c-u),s.copy(r).addScaledVector(iv,o);DR.subVectors(e,i);const y=iv.dot(DR),N=ov.dot(DR);if(N>=0&&y<=N)return s.copy(i);const j=y*d-c*N;if(j<=0&&d>=0&&N<=0)return l=d/(d-N),s.copy(r).addScaledVector(ov,l);const v=u*N-y*h;if(v<=0&&h-u>=0&&y-N>=0)return LH.subVectors(i,a),l=(h-u)/(h-u+(y-N)),s.copy(a).addScaledVector(LH,l);const b=1/(v+j+m);return o=j*b,l=m*b,s.copy(r).addScaledVector(iv,o).addScaledVector(ov,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Dee={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Nf={h:0,s:0,l:0},cS={h:0,s:0,l:0};function zR(n,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?n+(e-n)*6*s:s<1/2?e:s<2/3?n+(e-n)*6*(2/3-s):n}class nn{constructor(e,s,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,s,r)}set(e,s,r){if(s===void 0&&r===void 0){const a=e;a&&a.isColor?this.copy(a):typeof a=="number"?this.setHex(a):typeof a=="string"&&this.setStyle(a)}else this.setRGB(e,s,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,s=Mi){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Ps.colorSpaceToWorking(this,s),this}setRGB(e,s,r,a=Ps.workingColorSpace){return this.r=e,this.g=s,this.b=r,Ps.colorSpaceToWorking(this,a),this}setHSL(e,s,r,a=Ps.workingColorSpace){if(e=SD(e,1),s=Wn(s,0,1),r=Wn(r,0,1),s===0)this.r=this.g=this.b=r;else{const i=r<=.5?r*(1+s):r+s-r*s,o=2*r-i;this.r=zR(o,i,e+1/3),this.g=zR(o,i,e),this.b=zR(o,i,e-1/3)}return Ps.colorSpaceToWorking(this,a),this}setStyle(e,s=Mi){function r(i){i!==void 0&&parseFloat(i)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let a;if(a=/^(\w+)\(([^\)]*)\)/.exec(e)){let i;const o=a[1],l=a[2];switch(o){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,s);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,s);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,s);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(a=/^\#([A-Fa-f\d]+)$/.exec(e)){const i=a[1],o=i.length;if(o===3)return this.setRGB(parseInt(i.charAt(0),16)/15,parseInt(i.charAt(1),16)/15,parseInt(i.charAt(2),16)/15,s);if(o===6)return this.setHex(parseInt(i,16),s);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,s);return this}setColorName(e,s=Mi){const r=Dee[e.toLowerCase()];return r!==void 0?this.setHex(r,s):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=xh(e.r),this.g=xh(e.g),this.b=xh(e.b),this}copyLinearToSRGB(e){return this.r=qv(e.r),this.g=qv(e.g),this.b=qv(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Mi){return Ps.workingToColorSpace(Yi.copy(this),e),Math.round(Wn(Yi.r*255,0,255))*65536+Math.round(Wn(Yi.g*255,0,255))*256+Math.round(Wn(Yi.b*255,0,255))}getHexString(e=Mi){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,s=Ps.workingColorSpace){Ps.workingToColorSpace(Yi.copy(this),s);const r=Yi.r,a=Yi.g,i=Yi.b,o=Math.max(r,a,i),l=Math.min(r,a,i);let c,d;const u=(l+o)/2;if(l===o)c=0,d=0;else{const h=o-l;switch(d=u<=.5?h/(o+l):h/(2-o-l),o){case r:c=(a-i)/h+(a<i?6:0);break;case a:c=(i-r)/h+2;break;case i:c=(r-a)/h+4;break}c/=6}return e.h=c,e.s=d,e.l=u,e}getRGB(e,s=Ps.workingColorSpace){return Ps.workingToColorSpace(Yi.copy(this),s),e.r=Yi.r,e.g=Yi.g,e.b=Yi.b,e}getStyle(e=Mi){Ps.workingToColorSpace(Yi.copy(this),e);const s=Yi.r,r=Yi.g,a=Yi.b;return e!==Mi?`color(${e} ${s.toFixed(3)} ${r.toFixed(3)} ${a.toFixed(3)})`:`rgb(${Math.round(s*255)},${Math.round(r*255)},${Math.round(a*255)})`}offsetHSL(e,s,r){return this.getHSL(Nf),this.setHSL(Nf.h+e,Nf.s+s,Nf.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,s){return this.r=e.r+s.r,this.g=e.g+s.g,this.b=e.b+s.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,s){return this.r+=(e.r-this.r)*s,this.g+=(e.g-this.g)*s,this.b+=(e.b-this.b)*s,this}lerpColors(e,s,r){return this.r=e.r+(s.r-e.r)*r,this.g=e.g+(s.g-e.g)*r,this.b=e.b+(s.b-e.b)*r,this}lerpHSL(e,s){this.getHSL(Nf),e.getHSL(cS);const r=Mj(Nf.h,cS.h,s),a=Mj(Nf.s,cS.s,s),i=Mj(Nf.l,cS.l,s);return this.setHSL(r,a,i),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const s=this.r,r=this.g,a=this.b,i=e.elements;return this.r=i[0]*s+i[3]*r+i[6]*a,this.g=i[1]*s+i[4]*r+i[7]*a,this.b=i[2]*s+i[5]*r+i[8]*a,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,s=0){return this.r=e[s],this.g=e[s+1],this.b=e[s+2],this}toArray(e=[],s=0){return e[s]=this.r,e[s+1]=this.g,e[s+2]=this.b,e}fromBufferAttribute(e,s){return this.r=e.getX(s),this.g=e.getY(s),this.b=e.getZ(s),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Yi=new nn;nn.NAMES=Dee;let _4e=0;class no extends xu{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:_4e++}),this.uuid=Cl(),this.name="",this.type="Material",this.blending=rx,this.side=Eh,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=V2,this.blendDst=H2,this.blendEquation=Rf,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new nn(0,0,0),this.blendAlpha=0,this.depthFunc=_x,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=G5,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Pp,this.stencilZFail=Pp,this.stencilZPass=Pp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const s in e){const r=e[s];if(r===void 0){console.warn(`THREE.Material: parameter '${s}' has value of undefined.`);continue}const a=this[s];if(a===void 0){console.warn(`THREE.Material: '${s}' is not a property of THREE.${this.type}.`);continue}a&&a.isColor?a.set(r):a&&a.isVector3&&r&&r.isVector3?a.copy(r):this[s]=r}}toJSON(e){const s=e===void 0||typeof e=="string";s&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(r.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(r.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==rx&&(r.blending=this.blending),this.side!==Eh&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==V2&&(r.blendSrc=this.blendSrc),this.blendDst!==H2&&(r.blendDst=this.blendDst),this.blendEquation!==Rf&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==_x&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==G5&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Pp&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Pp&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Pp&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function a(i){const o=[];for(const l in i){const c=i[l];delete c.metadata,o.push(c)}return o}if(s){const i=a(e.textures),o=a(e.images);i.length>0&&(r.textures=i),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const s=e.clippingPlanes;let r=null;if(s!==null){const a=s.length;r=new Array(a);for(let i=0;i!==a;++i)r[i]=s[i].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Dh extends no{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new nn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ml,this.combine=hw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const ih=A4e();function A4e(){const n=new ArrayBuffer(4),e=new Float32Array(n),s=new Uint32Array(n),r=new Uint32Array(512),a=new Uint32Array(512);for(let c=0;c<256;++c){const d=c-127;d<-27?(r[c]=0,r[c|256]=32768,a[c]=24,a[c|256]=24):d<-14?(r[c]=1024>>-d-14,r[c|256]=1024>>-d-14|32768,a[c]=-d-1,a[c|256]=-d-1):d<=15?(r[c]=d+15<<10,r[c|256]=d+15<<10|32768,a[c]=13,a[c|256]=13):d<128?(r[c]=31744,r[c|256]=64512,a[c]=24,a[c|256]=24):(r[c]=31744,r[c|256]=64512,a[c]=13,a[c|256]=13)}const i=new Uint32Array(2048),o=new Uint32Array(64),l=new Uint32Array(64);for(let c=1;c<1024;++c){let d=c<<13,u=0;for(;(d&8388608)===0;)d<<=1,u-=8388608;d&=-8388609,u+=947912704,i[c]=d|u}for(let c=1024;c<2048;++c)i[c]=939524096+(c-1024<<13);for(let c=1;c<31;++c)o[c]=c<<23;o[31]=1199570944,o[32]=2147483648;for(let c=33;c<63;++c)o[c]=2147483648+(c-32<<23);o[63]=3347054592;for(let c=1;c<64;++c)c!==32&&(l[c]=1024);return{floatView:e,uint32View:s,baseTable:r,shiftTable:a,mantissaTable:i,exponentTable:o,offsetTable:l}}function Ho(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Wn(n,-65504,65504),ih.floatView[0]=n;const e=ih.uint32View[0],s=e>>23&511;return ih.baseTable[s]+((e&8388607)>>ih.shiftTable[s])}function oj(n){const e=n>>10;return ih.uint32View[0]=ih.mantissaTable[ih.offsetTable[e]+(n&1023)]+ih.exponentTable[e],ih.floatView[0]}class Gp{static toHalfFloat(e){return Ho(e)}static fromHalfFloat(e){return oj(e)}}const Na=new he,dS=new mt;let C4e=0;class mr{constructor(e,s,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:C4e++}),this.name="",this.array=e,this.itemSize=s,this.count=e!==void 0?e.length/s:0,this.normalized=r,this.usage=k1,this.updateRanges=[],this.gpuType=Qr,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,s){this.updateRanges.push({start:e,count:s})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,s,r){e*=this.itemSize,r*=s.itemSize;for(let a=0,i=this.itemSize;a<i;a++)this.array[e+a]=s.array[r+a];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let s=0,r=this.count;s<r;s++)dS.fromBufferAttribute(this,s),dS.applyMatrix3(e),this.setXY(s,dS.x,dS.y);else if(this.itemSize===3)for(let s=0,r=this.count;s<r;s++)Na.fromBufferAttribute(this,s),Na.applyMatrix3(e),this.setXYZ(s,Na.x,Na.y,Na.z);return this}applyMatrix4(e){for(let s=0,r=this.count;s<r;s++)Na.fromBufferAttribute(this,s),Na.applyMatrix4(e),this.setXYZ(s,Na.x,Na.y,Na.z);return this}applyNormalMatrix(e){for(let s=0,r=this.count;s<r;s++)Na.fromBufferAttribute(this,s),Na.applyNormalMatrix(e),this.setXYZ(s,Na.x,Na.y,Na.z);return this}transformDirection(e){for(let s=0,r=this.count;s<r;s++)Na.fromBufferAttribute(this,s),Na.transformDirection(e),this.setXYZ(s,Na.x,Na.y,Na.z);return this}set(e,s=0){return this.array.set(e,s),this}getComponent(e,s){let r=this.array[e*this.itemSize+s];return this.normalized&&(r=bo(r,this.array)),r}setComponent(e,s,r){return this.normalized&&(r=ds(r,this.array)),this.array[e*this.itemSize+s]=r,this}getX(e){let s=this.array[e*this.itemSize];return this.normalized&&(s=bo(s,this.array)),s}setX(e,s){return this.normalized&&(s=ds(s,this.array)),this.array[e*this.itemSize]=s,this}getY(e){let s=this.array[e*this.itemSize+1];return this.normalized&&(s=bo(s,this.array)),s}setY(e,s){return this.normalized&&(s=ds(s,this.array)),this.array[e*this.itemSize+1]=s,this}getZ(e){let s=this.array[e*this.itemSize+2];return this.normalized&&(s=bo(s,this.array)),s}setZ(e,s){return this.normalized&&(s=ds(s,this.array)),this.array[e*this.itemSize+2]=s,this}getW(e){let s=this.array[e*this.itemSize+3];return this.normalized&&(s=bo(s,this.array)),s}setW(e,s){return this.normalized&&(s=ds(s,this.array)),this.array[e*this.itemSize+3]=s,this}setXY(e,s,r){return e*=this.itemSize,this.normalized&&(s=ds(s,this.array),r=ds(r,this.array)),this.array[e+0]=s,this.array[e+1]=r,this}setXYZ(e,s,r,a){return e*=this.itemSize,this.normalized&&(s=ds(s,this.array),r=ds(r,this.array),a=ds(a,this.array)),this.array[e+0]=s,this.array[e+1]=r,this.array[e+2]=a,this}setXYZW(e,s,r,a,i){return e*=this.itemSize,this.normalized&&(s=ds(s,this.array),r=ds(r,this.array),a=ds(a,this.array),i=ds(i,this.array)),this.array[e+0]=s,this.array[e+1]=r,this.array[e+2]=a,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==k1&&(e.usage=this.usage),e}}class T4e extends mr{constructor(e,s,r){super(new Int8Array(e),s,r)}}class E4e extends mr{constructor(e,s,r){super(new Uint8Array(e),s,r)}}class M4e extends mr{constructor(e,s,r){super(new Uint8ClampedArray(e),s,r)}}class P4e extends mr{constructor(e,s,r){super(new Int16Array(e),s,r)}}class CD extends mr{constructor(e,s,r){super(new Uint16Array(e),s,r)}}class R4e extends mr{constructor(e,s,r){super(new Int32Array(e),s,r)}}class TD extends mr{constructor(e,s,r){super(new Uint32Array(e),s,r)}}class O4e extends mr{constructor(e,s,r){super(new Uint16Array(e),s,r),this.isFloat16BufferAttribute=!0}getX(e){let s=oj(this.array[e*this.itemSize]);return this.normalized&&(s=bo(s,this.array)),s}setX(e,s){return this.normalized&&(s=ds(s,this.array)),this.array[e*this.itemSize]=Ho(s),this}getY(e){let s=oj(this.array[e*this.itemSize+1]);return this.normalized&&(s=bo(s,this.array)),s}setY(e,s){return this.normalized&&(s=ds(s,this.array)),this.array[e*this.itemSize+1]=Ho(s),this}getZ(e){let s=oj(this.array[e*this.itemSize+2]);return this.normalized&&(s=bo(s,this.array)),s}setZ(e,s){return this.normalized&&(s=ds(s,this.array)),this.array[e*this.itemSize+2]=Ho(s),this}getW(e){let s=oj(this.array[e*this.itemSize+3]);return this.normalized&&(s=bo(s,this.array)),s}setW(e,s){return this.normalized&&(s=ds(s,this.array)),this.array[e*this.itemSize+3]=Ho(s),this}setXY(e,s,r){return e*=this.itemSize,this.normalized&&(s=ds(s,this.array),r=ds(r,this.array)),this.array[e+0]=Ho(s),this.array[e+1]=Ho(r),this}setXYZ(e,s,r,a){return e*=this.itemSize,this.normalized&&(s=ds(s,this.array),r=ds(r,this.array),a=ds(a,this.array)),this.array[e+0]=Ho(s),this.array[e+1]=Ho(r),this.array[e+2]=Ho(a),this}setXYZW(e,s,r,a,i){return e*=this.itemSize,this.normalized&&(s=ds(s,this.array),r=ds(r,this.array),a=ds(a,this.array),i=ds(i,this.array)),this.array[e+0]=Ho(s),this.array[e+1]=Ho(r),this.array[e+2]=Ho(a),this.array[e+3]=Ho(i),this}}class un extends mr{constructor(e,s,r){super(new Float32Array(e),s,r)}}let k4e=0;const Yl=new Kn,BR=new Ls,lv=new he,ul=new Ya,Gb=new Ya,ui=new he;class us extends xu{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:k4e++}),this.uuid=Cl(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Oee(e)?TD:CD)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,s){return this.attributes[e]=s,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,s,r=0){this.groups.push({start:e,count:s,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,s){this.drawRange.start=e,this.drawRange.count=s}applyMatrix4(e){const s=this.attributes.position;s!==void 0&&(s.applyMatrix4(e),s.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const i=new is().getNormalMatrix(e);r.applyNormalMatrix(i),r.needsUpdate=!0}const a=this.attributes.tangent;return a!==void 0&&(a.transformDirection(e),a.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Yl.makeRotationFromQuaternion(e),this.applyMatrix4(Yl),this}rotateX(e){return Yl.makeRotationX(e),this.applyMatrix4(Yl),this}rotateY(e){return Yl.makeRotationY(e),this.applyMatrix4(Yl),this}rotateZ(e){return Yl.makeRotationZ(e),this.applyMatrix4(Yl),this}translate(e,s,r){return Yl.makeTranslation(e,s,r),this.applyMatrix4(Yl),this}scale(e,s,r){return Yl.makeScale(e,s,r),this.applyMatrix4(Yl),this}lookAt(e){return BR.lookAt(e),BR.updateMatrix(),this.applyMatrix4(BR.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(lv).negate(),this.translate(lv.x,lv.y,lv.z),this}setFromPoints(e){const s=this.getAttribute("position");if(s===void 0){const r=[];for(let a=0,i=e.length;a<i;a++){const o=e[a];r.push(o.x,o.y,o.z||0)}this.setAttribute("position",new un(r,3))}else{const r=Math.min(e.length,s.count);for(let a=0;a<r;a++){const i=e[a];s.setXYZ(a,i.x,i.y,i.z||0)}e.length>s.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),s.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ya);const e=this.attributes.position,s=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new he(-1/0,-1/0,-1/0),new he(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),s)for(let r=0,a=s.length;r<a;r++){const i=s[r];ul.setFromBufferAttribute(i),this.morphTargetsRelative?(ui.addVectors(this.boundingBox.min,ul.min),this.boundingBox.expandByPoint(ui),ui.addVectors(this.boundingBox.max,ul.max),this.boundingBox.expandByPoint(ui)):(this.boundingBox.expandByPoint(ul.min),this.boundingBox.expandByPoint(ul.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Qa);const e=this.attributes.position,s=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new he,1/0);return}if(e){const r=this.boundingSphere.center;if(ul.setFromBufferAttribute(e),s)for(let i=0,o=s.length;i<o;i++){const l=s[i];Gb.setFromBufferAttribute(l),this.morphTargetsRelative?(ui.addVectors(ul.min,Gb.min),ul.expandByPoint(ui),ui.addVectors(ul.max,Gb.max),ul.expandByPoint(ui)):(ul.expandByPoint(Gb.min),ul.expandByPoint(Gb.max))}ul.getCenter(r);let a=0;for(let i=0,o=e.count;i<o;i++)ui.fromBufferAttribute(e,i),a=Math.max(a,r.distanceToSquared(ui));if(s)for(let i=0,o=s.length;i<o;i++){const l=s[i],c=this.morphTargetsRelative;for(let d=0,u=l.count;d<u;d++)ui.fromBufferAttribute(l,d),c&&(lv.fromBufferAttribute(e,d),ui.add(lv)),a=Math.max(a,r.distanceToSquared(ui))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,s=this.attributes;if(e===null||s.position===void 0||s.normal===void 0||s.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=s.position,a=s.normal,i=s.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new mr(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),l=[],c=[];for(let k=0;k<r.count;k++)l[k]=new he,c[k]=new he;const d=new he,u=new he,h=new he,m=new mt,y=new mt,N=new mt,j=new he,v=new he;function b(k,I,L){d.fromBufferAttribute(r,k),u.fromBufferAttribute(r,I),h.fromBufferAttribute(r,L),m.fromBufferAttribute(i,k),y.fromBufferAttribute(i,I),N.fromBufferAttribute(i,L),u.sub(d),h.sub(d),y.sub(m),N.sub(m);const U=1/(y.x*N.y-N.x*y.y);isFinite(U)&&(j.copy(u).multiplyScalar(N.y).addScaledVector(h,-y.y).multiplyScalar(U),v.copy(h).multiplyScalar(y.x).addScaledVector(u,-N.x).multiplyScalar(U),l[k].add(j),l[I].add(j),l[L].add(j),c[k].add(v),c[I].add(v),c[L].add(v))}let A=this.groups;A.length===0&&(A=[{start:0,count:e.count}]);for(let k=0,I=A.length;k<I;++k){const L=A[k],U=L.start,H=L.count;for(let B=U,K=U+H;B<K;B+=3)b(e.getX(B+0),e.getX(B+1),e.getX(B+2))}const S=new he,w=new he,E=new he,T=new he;function P(k){E.fromBufferAttribute(a,k),T.copy(E);const I=l[k];S.copy(I),S.sub(E.multiplyScalar(E.dot(I))).normalize(),w.crossVectors(T,I);const U=w.dot(c[k])<0?-1:1;o.setXYZW(k,S.x,S.y,S.z,U)}for(let k=0,I=A.length;k<I;++k){const L=A[k],U=L.start,H=L.count;for(let B=U,K=U+H;B<K;B+=3)P(e.getX(B+0)),P(e.getX(B+1)),P(e.getX(B+2))}}computeVertexNormals(){const e=this.index,s=this.getAttribute("position");if(s!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new mr(new Float32Array(s.count*3),3),this.setAttribute("normal",r);else for(let m=0,y=r.count;m<y;m++)r.setXYZ(m,0,0,0);const a=new he,i=new he,o=new he,l=new he,c=new he,d=new he,u=new he,h=new he;if(e)for(let m=0,y=e.count;m<y;m+=3){const N=e.getX(m+0),j=e.getX(m+1),v=e.getX(m+2);a.fromBufferAttribute(s,N),i.fromBufferAttribute(s,j),o.fromBufferAttribute(s,v),u.subVectors(o,i),h.subVectors(a,i),u.cross(h),l.fromBufferAttribute(r,N),c.fromBufferAttribute(r,j),d.fromBufferAttribute(r,v),l.add(u),c.add(u),d.add(u),r.setXYZ(N,l.x,l.y,l.z),r.setXYZ(j,c.x,c.y,c.z),r.setXYZ(v,d.x,d.y,d.z)}else for(let m=0,y=s.count;m<y;m+=3)a.fromBufferAttribute(s,m+0),i.fromBufferAttribute(s,m+1),o.fromBufferAttribute(s,m+2),u.subVectors(o,i),h.subVectors(a,i),u.cross(h),r.setXYZ(m+0,u.x,u.y,u.z),r.setXYZ(m+1,u.x,u.y,u.z),r.setXYZ(m+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let s=0,r=e.count;s<r;s++)ui.fromBufferAttribute(e,s),ui.normalize(),e.setXYZ(s,ui.x,ui.y,ui.z)}toNonIndexed(){function e(l,c){const d=l.array,u=l.itemSize,h=l.normalized,m=new d.constructor(c.length*u);let y=0,N=0;for(let j=0,v=c.length;j<v;j++){l.isInterleavedBufferAttribute?y=c[j]*l.data.stride+l.offset:y=c[j]*u;for(let b=0;b<u;b++)m[N++]=d[y++]}return new mr(m,u,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const s=new us,r=this.index.array,a=this.attributes;for(const l in a){const c=a[l],d=e(c,r);s.setAttribute(l,d)}const i=this.morphAttributes;for(const l in i){const c=[],d=i[l];for(let u=0,h=d.length;u<h;u++){const m=d[u],y=e(m,r);c.push(y)}s.morphAttributes[l]=c}s.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let l=0,c=o.length;l<c;l++){const d=o[l];s.addGroup(d.start,d.count,d.materialIndex)}return s}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const d in c)c[d]!==void 0&&(e[d]=c[d]);return e}e.data={attributes:{}};const s=this.index;s!==null&&(e.data.index={type:s.array.constructor.name,array:Array.prototype.slice.call(s.array)});const r=this.attributes;for(const c in r){const d=r[c];e.data.attributes[c]=d.toJSON(e.data)}const a={};let i=!1;for(const c in this.morphAttributes){const d=this.morphAttributes[c],u=[];for(let h=0,m=d.length;h<m;h++){const y=d[h];u.push(y.toJSON(e.data))}u.length>0&&(a[c]=u,i=!0)}i&&(e.data.morphAttributes=a,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere=l.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const s={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const a=e.attributes;for(const d in a){const u=a[d];this.setAttribute(d,u.clone(s))}const i=e.morphAttributes;for(const d in i){const u=[],h=i[d];for(let m=0,y=h.length;m<y;m++)u.push(h[m].clone(s));this.morphAttributes[d]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let d=0,u=o.length;d<u;d++){const h=o[d];this.addGroup(h.start,h.count,h.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const FH=new Kn,mp=new kx,uS=new Qa,UH=new he,hS=new he,fS=new he,mS=new he,VR=new he,pS=new he,zH=new he,xS=new he;class qr extends Ls{constructor(e=new us,s=new Dh){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=s,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,s){return super.copy(e,s),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const s=this.geometry.morphAttributes,r=Object.keys(s);if(r.length>0){const a=s[r[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,o=a.length;i<o;i++){const l=a[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=i}}}}getVertexPosition(e,s){const r=this.geometry,a=r.attributes.position,i=r.morphAttributes.position,o=r.morphTargetsRelative;s.fromBufferAttribute(a,e);const l=this.morphTargetInfluences;if(i&&l){pS.set(0,0,0);for(let c=0,d=i.length;c<d;c++){const u=l[c],h=i[c];u!==0&&(VR.fromBufferAttribute(h,e),o?pS.addScaledVector(VR,u):pS.addScaledVector(VR.sub(s),u))}s.add(pS)}return s}raycast(e,s){const r=this.geometry,a=this.material,i=this.matrixWorld;a!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),uS.copy(r.boundingSphere),uS.applyMatrix4(i),mp.copy(e.ray).recast(e.near),!(uS.containsPoint(mp.origin)===!1&&(mp.intersectSphere(uS,UH)===null||mp.origin.distanceToSquared(UH)>(e.far-e.near)**2))&&(FH.copy(i).invert(),mp.copy(e.ray).applyMatrix4(FH),!(r.boundingBox!==null&&mp.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,s,mp)))}_computeIntersections(e,s,r){let a;const i=this.geometry,o=this.material,l=i.index,c=i.attributes.position,d=i.attributes.uv,u=i.attributes.uv1,h=i.attributes.normal,m=i.groups,y=i.drawRange;if(l!==null)if(Array.isArray(o))for(let N=0,j=m.length;N<j;N++){const v=m[N],b=o[v.materialIndex],A=Math.max(v.start,y.start),S=Math.min(l.count,Math.min(v.start+v.count,y.start+y.count));for(let w=A,E=S;w<E;w+=3){const T=l.getX(w),P=l.getX(w+1),k=l.getX(w+2);a=gS(this,b,e,r,d,u,h,T,P,k),a&&(a.faceIndex=Math.floor(w/3),a.face.materialIndex=v.materialIndex,s.push(a))}}else{const N=Math.max(0,y.start),j=Math.min(l.count,y.start+y.count);for(let v=N,b=j;v<b;v+=3){const A=l.getX(v),S=l.getX(v+1),w=l.getX(v+2);a=gS(this,o,e,r,d,u,h,A,S,w),a&&(a.faceIndex=Math.floor(v/3),s.push(a))}}else if(c!==void 0)if(Array.isArray(o))for(let N=0,j=m.length;N<j;N++){const v=m[N],b=o[v.materialIndex],A=Math.max(v.start,y.start),S=Math.min(c.count,Math.min(v.start+v.count,y.start+y.count));for(let w=A,E=S;w<E;w+=3){const T=w,P=w+1,k=w+2;a=gS(this,b,e,r,d,u,h,T,P,k),a&&(a.faceIndex=Math.floor(w/3),a.face.materialIndex=v.materialIndex,s.push(a))}}else{const N=Math.max(0,y.start),j=Math.min(c.count,y.start+y.count);for(let v=N,b=j;v<b;v+=3){const A=v,S=v+1,w=v+2;a=gS(this,o,e,r,d,u,h,A,S,w),a&&(a.faceIndex=Math.floor(v/3),s.push(a))}}}}function I4e(n,e,s,r,a,i,o,l){let c;if(e.side===So?c=r.intersectTriangle(o,i,a,!0,l):c=r.intersectTriangle(a,i,o,e.side===Eh,l),c===null)return null;xS.copy(l),xS.applyMatrix4(n.matrixWorld);const d=s.ray.origin.distanceTo(xS);return d<s.near||d>s.far?null:{distance:d,point:xS.clone(),object:n}}function gS(n,e,s,r,a,i,o,l,c,d){n.getVertexPosition(l,hS),n.getVertexPosition(c,fS),n.getVertexPosition(d,mS);const u=I4e(n,e,s,r,hS,fS,mS,zH);if(u){const h=new he;Wo.getBarycoord(zH,hS,fS,mS,h),a&&(u.uv=Wo.getInterpolatedAttribute(a,l,c,d,h,new mt)),i&&(u.uv1=Wo.getInterpolatedAttribute(i,l,c,d,h,new mt)),o&&(u.normal=Wo.getInterpolatedAttribute(o,l,c,d,h,new he),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const m={a:l,b:c,c:d,normal:new he,materialIndex:0};Wo.getNormal(hS,fS,mS,m.normal),u.face=m,u.barycoord=h}return u}class Ix extends us{constructor(e=1,s=1,r=1,a=1,i=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:s,depth:r,widthSegments:a,heightSegments:i,depthSegments:o};const l=this;a=Math.floor(a),i=Math.floor(i),o=Math.floor(o);const c=[],d=[],u=[],h=[];let m=0,y=0;N("z","y","x",-1,-1,r,s,e,o,i,0),N("z","y","x",1,-1,r,s,-e,o,i,1),N("x","z","y",1,1,e,r,s,a,o,2),N("x","z","y",1,-1,e,r,-s,a,o,3),N("x","y","z",1,-1,e,s,r,a,i,4),N("x","y","z",-1,-1,e,s,-r,a,i,5),this.setIndex(c),this.setAttribute("position",new un(d,3)),this.setAttribute("normal",new un(u,3)),this.setAttribute("uv",new un(h,2));function N(j,v,b,A,S,w,E,T,P,k,I){const L=w/P,U=E/k,H=w/2,B=E/2,K=T/2,J=P+1,W=k+1;let ee=0,G=0;const ae=new he;for(let fe=0;fe<W;fe++){const se=fe*U-B;for(let me=0;me<J;me++){const Oe=me*L-H;ae[j]=Oe*A,ae[v]=se*S,ae[b]=K,d.push(ae.x,ae.y,ae.z),ae[j]=0,ae[v]=0,ae[b]=T>0?1:-1,u.push(ae.x,ae.y,ae.z),h.push(me/P),h.push(1-fe/k),ee+=1}}for(let fe=0;fe<k;fe++)for(let se=0;se<P;se++){const me=m+se+J*fe,Oe=m+se+J*(fe+1),Ye=m+(se+1)+J*(fe+1),dt=m+(se+1)+J*fe;c.push(me,Oe,dt),c.push(Oe,Ye,dt),G+=6}l.addGroup(y,G,I),y+=G,m+=ee}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ix(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function G0(n){const e={};for(const s in n){e[s]={};for(const r in n[s]){const a=n[s][r];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?a.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[s][r]=null):e[s][r]=a.clone():Array.isArray(a)?e[s][r]=a.slice():e[s][r]=a}}return e}function po(n){const e={};for(let s=0;s<n.length;s++){const r=G0(n[s]);for(const a in r)e[a]=r[a]}return e}function D4e(n){const e=[];for(let s=0;s<n.length;s++)e.push(n[s].clone());return e}function Lee(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Ps.workingColorSpace}const AA={clone:G0,merge:po};var L4e=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,F4e=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ao extends no{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=L4e,this.fragmentShader=F4e,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=G0(e.uniforms),this.uniformsGroups=D4e(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const s=super.toJSON(e);s.glslVersion=this.glslVersion,s.uniforms={};for(const a in this.uniforms){const o=this.uniforms[a].value;o&&o.isTexture?s.uniforms[a]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?s.uniforms[a]={type:"c",value:o.getHex()}:o&&o.isVector2?s.uniforms[a]={type:"v2",value:o.toArray()}:o&&o.isVector3?s.uniforms[a]={type:"v3",value:o.toArray()}:o&&o.isVector4?s.uniforms[a]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?s.uniforms[a]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?s.uniforms[a]={type:"m4",value:o.toArray()}:s.uniforms[a]={value:o}}Object.keys(this.defines).length>0&&(s.defines=this.defines),s.vertexShader=this.vertexShader,s.fragmentShader=this.fragmentShader,s.lights=this.lights,s.clipping=this.clipping;const r={};for(const a in this.extensions)this.extensions[a]===!0&&(r[a]=!0);return Object.keys(r).length>0&&(s.extensions=r),s}}class hT extends Ls{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Kn,this.projectionMatrix=new Kn,this.projectionMatrixInverse=new Kn,this.coordinateSystem=yl,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,s){return super.copy(e,s),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,s){super.updateWorldMatrix(e,s),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Sf=new he,BH=new mt,VH=new mt;class Zr extends hT{constructor(e=50,s=1,r=.1,a=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=a,this.focus=10,this.aspect=s,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,s){return super.copy(e,s),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const s=.5*this.getFilmHeight()/e;this.fov=V0*2*Math.atan(s),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(ax*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return V0*2*Math.atan(Math.tan(ax*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,s,r){Sf.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),s.set(Sf.x,Sf.y).multiplyScalar(-e/Sf.z),Sf.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Sf.x,Sf.y).multiplyScalar(-e/Sf.z)}getViewSize(e,s){return this.getViewBounds(e,BH,VH),s.subVectors(VH,BH)}setViewOffset(e,s,r,a,i,o){this.aspect=e/s,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=s,this.view.offsetX=r,this.view.offsetY=a,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let s=e*Math.tan(ax*.5*this.fov)/this.zoom,r=2*s,a=this.aspect*r,i=-.5*a;const o=this.view;if(this.view!==null&&this.view.enabled){const c=o.fullWidth,d=o.fullHeight;i+=o.offsetX*a/c,s-=o.offsetY*r/d,a*=o.width/c,r*=o.height/d}const l=this.filmOffset;l!==0&&(i+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+a,s,s-r,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const s=super.toJSON(e);return s.object.fov=this.fov,s.object.zoom=this.zoom,s.object.near=this.near,s.object.far=this.far,s.object.focus=this.focus,s.object.aspect=this.aspect,this.view!==null&&(s.object.view=Object.assign({},this.view)),s.object.filmGauge=this.filmGauge,s.object.filmOffset=this.filmOffset,s}}const cv=-90,dv=1;class Fee extends Ls{constructor(e,s,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const a=new Zr(cv,dv,e,s);a.layers=this.layers,this.add(a);const i=new Zr(cv,dv,e,s);i.layers=this.layers,this.add(i);const o=new Zr(cv,dv,e,s);o.layers=this.layers,this.add(o);const l=new Zr(cv,dv,e,s);l.layers=this.layers,this.add(l);const c=new Zr(cv,dv,e,s);c.layers=this.layers,this.add(c);const d=new Zr(cv,dv,e,s);d.layers=this.layers,this.add(d)}updateCoordinateSystem(){const e=this.coordinateSystem,s=this.children.concat(),[r,a,i,o,l,c]=s;for(const d of s)this.remove(d);if(e===yl)r.up.set(0,1,0),r.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),i.up.set(0,0,-1),i.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(e===B0)r.up.set(0,-1,0),r.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),i.up.set(0,0,1),i.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const d of s)this.add(d),d.updateMatrixWorld()}update(e,s){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:a}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,o,l,c,d,u]=this.children,h=e.getRenderTarget(),m=e.getActiveCubeFace(),y=e.getActiveMipmapLevel(),N=e.xr.enabled;e.xr.enabled=!1;const j=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,a),e.render(s,i),e.setRenderTarget(r,1,a),e.render(s,o),e.setRenderTarget(r,2,a),e.render(s,l),e.setRenderTarget(r,3,a),e.render(s,c),e.setRenderTarget(r,4,a),e.render(s,d),r.texture.generateMipmaps=j,e.setRenderTarget(r,5,a),e.render(s,u),e.setRenderTarget(h,m,y),e.xr.enabled=N,r.texture.needsPMREMUpdate=!0}}class xw extends fr{constructor(e=[],s=cu,r,a,i,o,l,c,d,u){super(e,s,r,a,i,o,l,c,d,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class ED extends ic{constructor(e=1,s={}){super(e,e,s),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},a=[r,r,r,r,r,r];this.texture=new xw(a),this._setTextureOptions(s),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,s){this.texture.type=s.type,this.texture.colorSpace=s.colorSpace,this.texture.generateMipmaps=s.generateMipmaps,this.texture.minFilter=s.minFilter,this.texture.magFilter=s.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},a=new Ix(5,5,5),i=new Ao({name:"CubemapFromEquirect",uniforms:G0(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:So,blending:nu});i.uniforms.tEquirect.value=s;const o=new qr(a,i),l=s.minFilter;return s.minFilter===$d&&(s.minFilter=ir),new Fee(1,10,this).update(e,o),s.minFilter=l,o.geometry.dispose(),o.material.dispose(),this}clear(e,s=!0,r=!0,a=!0){const i=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(s,r,a);e.setRenderTarget(i)}}class Rv extends Ls{constructor(){super(),this.isGroup=!0,this.type="Group"}}const U4e={type:"move"};class h_{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Rv,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Rv,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new he,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new he),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Rv,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new he,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new he),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const s=this._hand;if(s)for(const r of e.hand.values())this._getHandJoint(s,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,s,r){let a=null,i=null,o=null;const l=this._targetRay,c=this._grip,d=this._hand;if(e&&s.session.visibilityState!=="visible-blurred"){if(d&&e.hand){o=!0;for(const j of e.hand.values()){const v=s.getJointPose(j,r),b=this._getHandJoint(d,j);v!==null&&(b.matrix.fromArray(v.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.matrixWorldNeedsUpdate=!0,b.jointRadius=v.radius),b.visible=v!==null}const u=d.joints["index-finger-tip"],h=d.joints["thumb-tip"],m=u.position.distanceTo(h.position),y=.02,N=.005;d.inputState.pinching&&m>y+N?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!d.inputState.pinching&&m<=y-N&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(i=s.getPose(e.gripSpace,r),i!==null&&(c.matrix.fromArray(i.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,i.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(i.linearVelocity)):c.hasLinearVelocity=!1,i.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(i.angularVelocity)):c.hasAngularVelocity=!1));l!==null&&(a=s.getPose(e.targetRaySpace,r),a===null&&i!==null&&(a=i),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(U4e)))}return l!==null&&(l.visible=a!==null),c!==null&&(c.visible=i!==null),d!==null&&(d.visible=o!==null),this}_getHandJoint(e,s){if(e.joints[s.jointName]===void 0){const r=new Rv;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[s.jointName]=r,e.add(r)}return e.joints[s.jointName]}}class fT{constructor(e,s=25e-5){this.isFogExp2=!0,this.name="",this.color=new nn(e),this.density=s}clone(){return new fT(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class mT{constructor(e,s=1,r=1e3){this.isFog=!0,this.name="",this.color=new nn(e),this.near=s,this.far=r}clone(){return new mT(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class gw extends Ls{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Ml,this.environmentIntensity=1,this.environmentRotation=new Ml,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,s){return super.copy(e,s),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const s=super.toJSON(e);return this.fog!==null&&(s.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(s.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(s.object.backgroundIntensity=this.backgroundIntensity),s.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(s.object.environmentIntensity=this.environmentIntensity),s.object.environmentRotation=this.environmentRotation.toArray(),s}}class pT{constructor(e,s){this.isInterleavedBuffer=!0,this.array=e,this.stride=s,this.count=e!==void 0?e.length/s:0,this.usage=k1,this.updateRanges=[],this.version=0,this.uuid=Cl()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,s){this.updateRanges.push({start:e,count:s})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,s,r){e*=this.stride,r*=s.stride;for(let a=0,i=this.stride;a<i;a++)this.array[e+a]=s.array[r+a];return this}set(e,s=0){return this.array.set(e,s),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Cl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const s=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(s,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Cl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const mo=new he;class bl{constructor(e,s,r,a=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=s,this.offset=r,this.normalized=a}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let s=0,r=this.data.count;s<r;s++)mo.fromBufferAttribute(this,s),mo.applyMatrix4(e),this.setXYZ(s,mo.x,mo.y,mo.z);return this}applyNormalMatrix(e){for(let s=0,r=this.count;s<r;s++)mo.fromBufferAttribute(this,s),mo.applyNormalMatrix(e),this.setXYZ(s,mo.x,mo.y,mo.z);return this}transformDirection(e){for(let s=0,r=this.count;s<r;s++)mo.fromBufferAttribute(this,s),mo.transformDirection(e),this.setXYZ(s,mo.x,mo.y,mo.z);return this}getComponent(e,s){let r=this.array[e*this.data.stride+this.offset+s];return this.normalized&&(r=bo(r,this.array)),r}setComponent(e,s,r){return this.normalized&&(r=ds(r,this.array)),this.data.array[e*this.data.stride+this.offset+s]=r,this}setX(e,s){return this.normalized&&(s=ds(s,this.array)),this.data.array[e*this.data.stride+this.offset]=s,this}setY(e,s){return this.normalized&&(s=ds(s,this.array)),this.data.array[e*this.data.stride+this.offset+1]=s,this}setZ(e,s){return this.normalized&&(s=ds(s,this.array)),this.data.array[e*this.data.stride+this.offset+2]=s,this}setW(e,s){return this.normalized&&(s=ds(s,this.array)),this.data.array[e*this.data.stride+this.offset+3]=s,this}getX(e){let s=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(s=bo(s,this.array)),s}getY(e){let s=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(s=bo(s,this.array)),s}getZ(e){let s=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(s=bo(s,this.array)),s}getW(e){let s=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(s=bo(s,this.array)),s}setXY(e,s,r){return e=e*this.data.stride+this.offset,this.normalized&&(s=ds(s,this.array),r=ds(r,this.array)),this.data.array[e+0]=s,this.data.array[e+1]=r,this}setXYZ(e,s,r,a){return e=e*this.data.stride+this.offset,this.normalized&&(s=ds(s,this.array),r=ds(r,this.array),a=ds(a,this.array)),this.data.array[e+0]=s,this.data.array[e+1]=r,this.data.array[e+2]=a,this}setXYZW(e,s,r,a,i){return e=e*this.data.stride+this.offset,this.normalized&&(s=ds(s,this.array),r=ds(r,this.array),a=ds(a,this.array),i=ds(i,this.array)),this.data.array[e+0]=s,this.data.array[e+1]=r,this.data.array[e+2]=a,this.data.array[e+3]=i,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const s=[];for(let r=0;r<this.count;r++){const a=r*this.data.stride+this.offset;for(let i=0;i<this.itemSize;i++)s.push(this.data.array[a+i])}return new mr(new this.array.constructor(s),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new bl(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const s=[];for(let r=0;r<this.count;r++){const a=r*this.data.stride+this.offset;for(let i=0;i<this.itemSize;i++)s.push(this.data.array[a+i])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:s,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class MD extends no{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new nn(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let uv;const $b=new he,hv=new he,fv=new he,mv=new mt,qb=new mt,Uee=new Kn,vS=new he,Wb=new he,yS=new he,HH=new mt,HR=new mt,GH=new mt;class zee extends Ls{constructor(e=new MD){if(super(),this.isSprite=!0,this.type="Sprite",uv===void 0){uv=new us;const s=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new pT(s,5);uv.setIndex([0,1,2,0,2,3]),uv.setAttribute("position",new bl(r,3,0,!1)),uv.setAttribute("uv",new bl(r,2,3,!1))}this.geometry=uv,this.material=e,this.center=new mt(.5,.5),this.count=1}raycast(e,s){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),hv.setFromMatrixScale(this.matrixWorld),Uee.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),fv.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&hv.multiplyScalar(-fv.z);const r=this.material.rotation;let a,i;r!==0&&(i=Math.cos(r),a=Math.sin(r));const o=this.center;bS(vS.set(-.5,-.5,0),fv,o,hv,a,i),bS(Wb.set(.5,-.5,0),fv,o,hv,a,i),bS(yS.set(.5,.5,0),fv,o,hv,a,i),HH.set(0,0),HR.set(1,0),GH.set(1,1);let l=e.ray.intersectTriangle(vS,Wb,yS,!1,$b);if(l===null&&(bS(Wb.set(-.5,.5,0),fv,o,hv,a,i),HR.set(0,1),l=e.ray.intersectTriangle(vS,yS,Wb,!1,$b),l===null))return;const c=e.ray.origin.distanceTo($b);c<e.near||c>e.far||s.push({distance:c,point:$b.clone(),uv:Wo.getInterpolation($b,vS,Wb,yS,HH,HR,GH,new mt),face:null,object:this})}copy(e,s){return super.copy(e,s),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function bS(n,e,s,r,a,i){mv.subVectors(n,s).addScalar(.5).multiply(r),a!==void 0?(qb.x=i*mv.x-a*mv.y,qb.y=a*mv.x+i*mv.y):qb.copy(mv),n.copy(e),n.x+=qb.x,n.y+=qb.y,n.applyMatrix4(Uee)}const jS=new he,$H=new he;class Bee extends Ls{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const s=e.levels;for(let r=0,a=s.length;r<a;r++){const i=s[r];this.addLevel(i.object.clone(),i.distance,i.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,s=0,r=0){s=Math.abs(s);const a=this.levels;let i;for(i=0;i<a.length&&!(s<a[i].distance);i++);return a.splice(i,0,{distance:s,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const s=this.levels;for(let r=0;r<s.length;r++)if(s[r].distance===e){const a=s.splice(r,1);return this.remove(a[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const s=this.levels;if(s.length>0){let r,a;for(r=1,a=s.length;r<a;r++){let i=s[r].distance;if(s[r].object.visible&&(i-=i*s[r].hysteresis),e<i)break}return s[r-1].object}return null}raycast(e,s){if(this.levels.length>0){jS.setFromMatrixPosition(this.matrixWorld);const a=e.ray.origin.distanceTo(jS);this.getObjectForDistance(a).raycast(e,s)}}update(e){const s=this.levels;if(s.length>1){jS.setFromMatrixPosition(e.matrixWorld),$H.setFromMatrixPosition(this.matrixWorld);const r=jS.distanceTo($H)/e.zoom;s[0].object.visible=!0;let a,i;for(a=1,i=s.length;a<i;a++){let o=s[a].distance;if(s[a].object.visible&&(o-=o*s[a].hysteresis),r>=o)s[a-1].object.visible=!1,s[a].object.visible=!0;else break}for(this._currentLevel=a-1;a<i;a++)s[a].object.visible=!1}}toJSON(e){const s=super.toJSON(e);this.autoUpdate===!1&&(s.object.autoUpdate=!1),s.object.levels=[];const r=this.levels;for(let a=0,i=r.length;a<i;a++){const o=r[a];s.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return s}}const qH=new he,WH=new js,KH=new js,z4e=new he,XH=new Kn,wS=new he,GR=new Qa,ZH=new Kn,$R=new kx;class Vee extends qr{constructor(e,s){super(e,s),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=V5,this.bindMatrix=new Kn,this.bindMatrixInverse=new Kn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Ya),this.boundingBox.makeEmpty();const s=e.getAttribute("position");for(let r=0;r<s.count;r++)this.getVertexPosition(r,wS),this.boundingBox.expandByPoint(wS)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Qa),this.boundingSphere.makeEmpty();const s=e.getAttribute("position");for(let r=0;r<s.count;r++)this.getVertexPosition(r,wS),this.boundingSphere.expandByPoint(wS)}copy(e,s){return super.copy(e,s),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,s){const r=this.material,a=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),GR.copy(this.boundingSphere),GR.applyMatrix4(a),e.ray.intersectsSphere(GR)!==!1&&(ZH.copy(a).invert(),$R.copy(e.ray).applyMatrix4(ZH),!(this.boundingBox!==null&&$R.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,s,$R)))}getVertexPosition(e,s){return super.getVertexPosition(e,s),this.applyBoneTransform(e,s),s}bind(e,s){this.skeleton=e,s===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),s=this.matrixWorld),this.bindMatrix.copy(s),this.bindMatrixInverse.copy(s).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new js,s=this.geometry.attributes.skinWeight;for(let r=0,a=s.count;r<a;r++){e.fromBufferAttribute(s,r);const i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),s.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===V5?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===yee?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,s){const r=this.skeleton,a=this.geometry;WH.fromBufferAttribute(a.attributes.skinIndex,e),KH.fromBufferAttribute(a.attributes.skinWeight,e),qH.copy(s).applyMatrix4(this.bindMatrix),s.set(0,0,0);for(let i=0;i<4;i++){const o=KH.getComponent(i);if(o!==0){const l=WH.getComponent(i);XH.multiplyMatrices(r.bones[l].matrixWorld,r.boneInverses[l]),s.addScaledVector(z4e.copy(qH).applyMatrix4(XH),o)}}return s.applyMatrix4(this.bindMatrixInverse)}}class PD extends Ls{constructor(){super(),this.isBone=!0,this.type="Bone"}}class rd extends fr{constructor(e=null,s=1,r=1,a,i,o,l,c,d=ki,u=ki,h,m){super(null,o,l,c,d,u,a,i,h,m),this.isDataTexture=!0,this.image={data:e,width:s,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const YH=new Kn,B4e=new Kn;class xT{constructor(e=[],s=[]){this.uuid=Cl(),this.bones=e.slice(0),this.boneInverses=s,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,s=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),s.length===0)this.calculateInverses();else if(e.length!==s.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,a=this.bones.length;r<a;r++)this.boneInverses.push(new Kn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,s=this.bones.length;e<s;e++){const r=new Kn;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,s=this.bones.length;e<s;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,s=this.bones.length;e<s;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,s=this.boneInverses,r=this.boneMatrices,a=this.boneTexture;for(let i=0,o=e.length;i<o;i++){const l=e[i]?e[i].matrixWorld:B4e;YH.multiplyMatrices(l,s[i]),YH.toArray(r,i*16)}a!==null&&(a.needsUpdate=!0)}clone(){return new xT(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const s=new Float32Array(e*e*4);s.set(this.boneMatrices);const r=new rd(s,e,e,xa,Qr);return r.needsUpdate=!0,this.boneMatrices=s,this.boneTexture=r,this}getBoneByName(e){for(let s=0,r=this.bones.length;s<r;s++){const a=this.bones[s];if(a.name===e)return a}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,s){this.uuid=e.uuid;for(let r=0,a=e.bones.length;r<a;r++){const i=e.bones[r];let o=s[i];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),o=new PD),this.bones.push(o),this.boneInverses.push(new Kn().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const s=this.bones,r=this.boneInverses;for(let a=0,i=s.length;a<i;a++){const o=s[a];e.bones.push(o.uuid);const l=r[a];e.boneInverses.push(l.toArray())}return e}}class $0 extends mr{constructor(e,s,r,a=1){super(e,s,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=a}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const pv=new Kn,QH=new Kn,NS=[],JH=new Ya,V4e=new Kn,Kb=new qr,Xb=new Qa;class Hee extends qr{constructor(e,s,r){super(e,s),this.isInstancedMesh=!0,this.instanceMatrix=new $0(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let a=0;a<r;a++)this.setMatrixAt(a,V4e)}computeBoundingBox(){const e=this.geometry,s=this.count;this.boundingBox===null&&(this.boundingBox=new Ya),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<s;r++)this.getMatrixAt(r,pv),JH.copy(e.boundingBox).applyMatrix4(pv),this.boundingBox.union(JH)}computeBoundingSphere(){const e=this.geometry,s=this.count;this.boundingSphere===null&&(this.boundingSphere=new Qa),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<s;r++)this.getMatrixAt(r,pv),Xb.copy(e.boundingSphere).applyMatrix4(pv),this.boundingSphere.union(Xb)}copy(e,s){return super.copy(e,s),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,s){s.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,s){s.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,s){const r=s.morphTargetInfluences,a=this.morphTexture.source.data.data,i=r.length+1,o=e*i+1;for(let l=0;l<r.length;l++)r[l]=a[o+l]}raycast(e,s){const r=this.matrixWorld,a=this.count;if(Kb.geometry=this.geometry,Kb.material=this.material,Kb.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Xb.copy(this.boundingSphere),Xb.applyMatrix4(r),e.ray.intersectsSphere(Xb)!==!1))for(let i=0;i<a;i++){this.getMatrixAt(i,pv),QH.multiplyMatrices(r,pv),Kb.matrixWorld=QH,Kb.raycast(e,NS);for(let o=0,l=NS.length;o<l;o++){const c=NS[o];c.instanceId=i,c.object=this,s.push(c)}NS.length=0}}setColorAt(e,s){this.instanceColor===null&&(this.instanceColor=new $0(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),s.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,s){s.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,s){const r=s.morphTargetInfluences,a=r.length+1;this.morphTexture===null&&(this.morphTexture=new rd(new Float32Array(a*this.count),a,this.count,mw,Qr));const i=this.morphTexture.source.data.data;let o=0;for(let d=0;d<r.length;d++)o+=r[d];const l=this.geometry.morphTargetsRelative?1:1-o,c=a*e;i[c]=l,i.set(r,c+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const qR=new he,H4e=new he,G4e=new is;class sh{constructor(e=new he(1,0,0),s=0){this.isPlane=!0,this.normal=e,this.constant=s}set(e,s){return this.normal.copy(e),this.constant=s,this}setComponents(e,s,r,a){return this.normal.set(e,s,r),this.constant=a,this}setFromNormalAndCoplanarPoint(e,s){return this.normal.copy(e),this.constant=-s.dot(this.normal),this}setFromCoplanarPoints(e,s,r){const a=qR.subVectors(r,s).cross(H4e.subVectors(e,s)).normalize();return this.setFromNormalAndCoplanarPoint(a,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,s){return s.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,s){const r=e.delta(qR),a=this.normal.dot(r);if(a===0)return this.distanceToPoint(e.start)===0?s.copy(e.start):null;const i=-(e.start.dot(this.normal)+this.constant)/a;return i<0||i>1?null:s.copy(e.start).addScaledVector(r,i)}intersectsLine(e){const s=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return s<0&&r>0||r<0&&s>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,s){const r=s||G4e.getNormalMatrix(e),a=this.coplanarPoint(qR).applyMatrix4(e),i=this.normal.applyMatrix3(r).normalize();return this.constant=-a.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const pp=new Qa,$4e=new mt(.5,.5),SS=new he;class my{constructor(e=new sh,s=new sh,r=new sh,a=new sh,i=new sh,o=new sh){this.planes=[e,s,r,a,i,o]}set(e,s,r,a,i,o){const l=this.planes;return l[0].copy(e),l[1].copy(s),l[2].copy(r),l[3].copy(a),l[4].copy(i),l[5].copy(o),this}copy(e){const s=this.planes;for(let r=0;r<6;r++)s[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,s=yl,r=!1){const a=this.planes,i=e.elements,o=i[0],l=i[1],c=i[2],d=i[3],u=i[4],h=i[5],m=i[6],y=i[7],N=i[8],j=i[9],v=i[10],b=i[11],A=i[12],S=i[13],w=i[14],E=i[15];if(a[0].setComponents(d-o,y-u,b-N,E-A).normalize(),a[1].setComponents(d+o,y+u,b+N,E+A).normalize(),a[2].setComponents(d+l,y+h,b+j,E+S).normalize(),a[3].setComponents(d-l,y-h,b-j,E-S).normalize(),r)a[4].setComponents(c,m,v,w).normalize(),a[5].setComponents(d-c,y-m,b-v,E-w).normalize();else if(a[4].setComponents(d-c,y-m,b-v,E-w).normalize(),s===yl)a[5].setComponents(d+c,y+m,b+v,E+w).normalize();else if(s===B0)a[5].setComponents(c,m,v,w).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+s);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),pp.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const s=e.geometry;s.boundingSphere===null&&s.computeBoundingSphere(),pp.copy(s.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(pp)}intersectsSprite(e){pp.center.set(0,0,0);const s=$4e.distanceTo(e.center);return pp.radius=.7071067811865476+s,pp.applyMatrix4(e.matrixWorld),this.intersectsSphere(pp)}intersectsSphere(e){const s=this.planes,r=e.center,a=-e.radius;for(let i=0;i<6;i++)if(s[i].distanceToPoint(r)<a)return!1;return!0}intersectsBox(e){const s=this.planes;for(let r=0;r<6;r++){const a=s[r];if(SS.x=a.normal.x>0?e.max.x:e.min.x,SS.y=a.normal.y>0?e.max.y:e.min.y,SS.z=a.normal.z>0?e.max.z:e.min.z,a.distanceToPoint(SS)<0)return!1}return!0}containsPoint(e){const s=this.planes;for(let r=0;r<6;r++)if(s[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Id=new Kn,Dd=new my;class gT{constructor(){this.coordinateSystem=yl}intersectsObject(e,s){if(!s.isArrayCamera||s.cameras.length===0)return!1;for(let r=0;r<s.cameras.length;r++){const a=s.cameras[r];if(Id.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Dd.setFromProjectionMatrix(Id,a.coordinateSystem,a.reversedDepth),Dd.intersectsObject(e))return!0}return!1}intersectsSprite(e,s){if(!s||!s.cameras||s.cameras.length===0)return!1;for(let r=0;r<s.cameras.length;r++){const a=s.cameras[r];if(Id.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Dd.setFromProjectionMatrix(Id,a.coordinateSystem,a.reversedDepth),Dd.intersectsSprite(e))return!0}return!1}intersectsSphere(e,s){if(!s||!s.cameras||s.cameras.length===0)return!1;for(let r=0;r<s.cameras.length;r++){const a=s.cameras[r];if(Id.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Dd.setFromProjectionMatrix(Id,a.coordinateSystem,a.reversedDepth),Dd.intersectsSphere(e))return!0}return!1}intersectsBox(e,s){if(!s||!s.cameras||s.cameras.length===0)return!1;for(let r=0;r<s.cameras.length;r++){const a=s.cameras[r];if(Id.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Dd.setFromProjectionMatrix(Id,a.coordinateSystem,a.reversedDepth),Dd.intersectsBox(e))return!0}return!1}containsPoint(e,s){if(!s||!s.cameras||s.cameras.length===0)return!1;for(let r=0;r<s.cameras.length;r++){const a=s.cameras[r];if(Id.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Dd.setFromProjectionMatrix(Id,a.coordinateSystem,a.reversedDepth),Dd.containsPoint(e))return!0}return!1}clone(){return new gT}}function WR(n,e){return n-e}function q4e(n,e){return n.z-e.z}function W4e(n,e){return e.z-n.z}class K4e{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,s,r,a){const i=this.pool,o=this.list;this.index>=i.length&&i.push({start:-1,count:-1,z:-1,index:-1});const l=i[this.index];o.push(l),this.index++,l.start=e,l.count=s,l.z=r,l.index=a}reset(){this.list.length=0,this.index=0}}const Vo=new Kn,X4e=new nn(1,1,1),e7=new my,Z4e=new gT,_S=new Ya,xp=new Qa,Zb=new he,t7=new he,Y4e=new he,KR=new K4e,Qi=new qr,AS=[];function Q4e(n,e,s=0){const r=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const a=n.count;for(let i=0;i<a;i++)for(let o=0;o<r;o++)e.setComponent(i+s,o,n.getComponent(i,o))}else e.array.set(n.array,s*r);e.needsUpdate=!0}function gp(n,e){if(n.constructor!==e.constructor){const s=Math.min(n.length,e.length);for(let r=0;r<s;r++)e[r]=n[r]}else{const s=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,s))}}class Gee extends qr{constructor(e,s,r=s*2,a){super(new us,a),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=s,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const s=new Float32Array(e*e*4),r=new rd(s,e,e,xa,Qr);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const s=new Uint32Array(e*e),r=new rd(s,e,e,pw,du);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const s=new Float32Array(e*e*4).fill(1),r=new rd(s,e,e,xa,Qr);r.colorSpace=Ps.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const s=this.geometry,r=this._maxVertexCount,a=this._maxIndexCount;if(this._geometryInitialized===!1){for(const i in e.attributes){const o=e.getAttribute(i),{array:l,itemSize:c,normalized:d}=o,u=new l.constructor(r*c),h=new mr(u,c,d);s.setAttribute(i,h)}if(e.getIndex()!==null){const i=r>65535?new Uint32Array(a):new Uint16Array(a);s.setIndex(new mr(i,1))}this._geometryInitialized=!0}}_validateGeometry(e){const s=this.geometry;if(!!e.getIndex()!=!!s.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in s.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const a=e.getAttribute(r),i=s.getAttribute(r);if(a.itemSize!==i.itemSize||a.normalized!==i.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const s=this._instanceInfo;if(e<0||e>=s.length||s[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const s=this._geometryInfo;if(e<0||e>=s.length||s[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ya);const e=this.boundingBox,s=this._instanceInfo;e.makeEmpty();for(let r=0,a=s.length;r<a;r++){if(s[r].active===!1)continue;const i=s[r].geometryIndex;this.getMatrixAt(r,Vo),this.getBoundingBoxAt(i,_S).applyMatrix4(Vo),e.union(_S)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Qa);const e=this.boundingSphere,s=this._instanceInfo;e.makeEmpty();for(let r=0,a=s.length;r<a;r++){if(s[r].active===!1)continue;const i=s[r].geometryIndex;this.getMatrixAt(r,Vo),this.getBoundingSphereAt(i,xp).applyMatrix4(Vo),e.union(xp)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let a=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(WR),a=this._availableInstanceIds.shift(),this._instanceInfo[a]=r):(a=this._instanceInfo.length,this._instanceInfo.push(r));const i=this._matricesTexture;Vo.identity().toArray(i.image.data,a*16),i.needsUpdate=!0;const o=this._colorsTexture;return o&&(X4e.toArray(o.image.data,a*4),o.needsUpdate=!0),this._visibilityChanged=!0,a}addGeometry(e,s=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const a={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},i=this._geometryInfo;a.vertexStart=this._nextVertexStart,a.reservedVertexCount=s===-1?e.getAttribute("position").count:s;const o=e.getIndex();if(o!==null&&(a.indexStart=this._nextIndexStart,a.reservedIndexCount=r===-1?o.count:r),a.indexStart!==-1&&a.indexStart+a.reservedIndexCount>this._maxIndexCount||a.vertexStart+a.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let c;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(WR),c=this._availableGeometryIds.shift(),i[c]=a):(c=this._geometryCount,this._geometryCount++,i.push(a)),this.setGeometryAt(c,e),this._nextIndexStart=a.indexStart+a.reservedIndexCount,this._nextVertexStart=a.vertexStart+a.reservedVertexCount,c}setGeometryAt(e,s){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(s);const r=this.geometry,a=r.getIndex()!==null,i=r.getIndex(),o=s.getIndex(),l=this._geometryInfo[e];if(a&&o.count>l.reservedIndexCount||s.attributes.position.count>l.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const c=l.vertexStart,d=l.reservedVertexCount;l.vertexCount=s.getAttribute("position").count;for(const u in r.attributes){const h=s.getAttribute(u),m=r.getAttribute(u);Q4e(h,m,c);const y=h.itemSize;for(let N=h.count,j=d;N<j;N++){const v=c+N;for(let b=0;b<y;b++)m.setComponent(v,b,0)}m.needsUpdate=!0,m.addUpdateRange(c*y,d*y)}if(a){const u=l.indexStart,h=l.reservedIndexCount;l.indexCount=s.getIndex().count;for(let m=0;m<o.count;m++)i.setX(u+m,c+o.getX(m));for(let m=o.count,y=h;m<y;m++)i.setX(u+m,c);i.needsUpdate=!0,i.addUpdateRange(u,l.reservedIndexCount)}return l.start=a?l.indexStart:l.vertexStart,l.count=a?l.indexCount:l.vertexCount,l.boundingBox=null,s.boundingBox!==null&&(l.boundingBox=s.boundingBox.clone()),l.boundingSphere=null,s.boundingSphere!==null&&(l.boundingSphere=s.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const s=this._geometryInfo;if(e>=s.length||s[e].active===!1)return this;const r=this._instanceInfo;for(let a=0,i=r.length;a<i;a++)r[a].active&&r[a].geometryIndex===e&&this.deleteInstance(a);return s[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,s=0;const r=this._geometryInfo,a=r.map((o,l)=>l).sort((o,l)=>r[o].vertexStart-r[l].vertexStart),i=this.geometry;for(let o=0,l=r.length;o<l;o++){const c=a[o],d=r[c];if(d.active!==!1){if(i.index!==null){if(d.indexStart!==s){const{indexStart:u,vertexStart:h,reservedIndexCount:m}=d,y=i.index,N=y.array,j=e-h;for(let v=u;v<u+m;v++)N[v]=N[v]+j;y.array.copyWithin(s,u,u+m),y.addUpdateRange(s,m),d.indexStart=s}s+=d.reservedIndexCount}if(d.vertexStart!==e){const{vertexStart:u,reservedVertexCount:h}=d,m=i.attributes;for(const y in m){const N=m[y],{array:j,itemSize:v}=N;j.copyWithin(e*v,u*v,(u+h)*v),N.addUpdateRange(e*v,h*v)}d.vertexStart=e}e+=d.reservedVertexCount,d.start=i.index?d.indexStart:d.vertexStart,this._nextIndexStart=i.index?d.indexStart+d.reservedIndexCount:0,this._nextVertexStart=d.vertexStart+d.reservedVertexCount}}return this}getBoundingBoxAt(e,s){if(e>=this._geometryCount)return null;const r=this.geometry,a=this._geometryInfo[e];if(a.boundingBox===null){const i=new Ya,o=r.index,l=r.attributes.position;for(let c=a.start,d=a.start+a.count;c<d;c++){let u=c;o&&(u=o.getX(u)),i.expandByPoint(Zb.fromBufferAttribute(l,u))}a.boundingBox=i}return s.copy(a.boundingBox),s}getBoundingSphereAt(e,s){if(e>=this._geometryCount)return null;const r=this.geometry,a=this._geometryInfo[e];if(a.boundingSphere===null){const i=new Qa;this.getBoundingBoxAt(e,_S),_S.getCenter(i.center);const o=r.index,l=r.attributes.position;let c=0;for(let d=a.start,u=a.start+a.count;d<u;d++){let h=d;o&&(h=o.getX(h)),Zb.fromBufferAttribute(l,h),c=Math.max(c,i.center.distanceToSquared(Zb))}i.radius=Math.sqrt(c),a.boundingSphere=i}return s.copy(a.boundingSphere),s}setMatrixAt(e,s){this.validateInstanceId(e);const r=this._matricesTexture,a=this._matricesTexture.image.data;return s.toArray(a,e*16),r.needsUpdate=!0,this}getMatrixAt(e,s){return this.validateInstanceId(e),s.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,s){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),s.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,s){return this.validateInstanceId(e),s.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,s){return this.validateInstanceId(e),this._instanceInfo[e].visible===s?this:(this._instanceInfo[e].visible=s,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,s){return this.validateInstanceId(e),this.validateGeometryId(s),this._instanceInfo[e].geometryIndex=s,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,s={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return s.vertexStart=r.vertexStart,s.vertexCount=r.vertexCount,s.reservedVertexCount=r.reservedVertexCount,s.indexStart=r.indexStart,s.indexCount=r.indexCount,s.reservedIndexCount=r.reservedIndexCount,s.start=r.start,s.count=r.count,s}setInstanceCount(e){const s=this._availableInstanceIds,r=this._instanceInfo;for(s.sort(WR);s[s.length-1]===r.length-1;)r.pop(),s.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const a=new Int32Array(e),i=new Int32Array(e);gp(this._multiDrawCounts,a),gp(this._multiDrawStarts,i),this._multiDrawCounts=a,this._multiDrawStarts=i,this._maxInstanceCount=e;const o=this._indirectTexture,l=this._matricesTexture,c=this._colorsTexture;o.dispose(),this._initIndirectTexture(),gp(o.image.data,this._indirectTexture.image.data),l.dispose(),this._initMatricesTexture(),gp(l.image.data,this._matricesTexture.image.data),c&&(c.dispose(),this._initColorsTexture(),gp(c.image.data,this._colorsTexture.image.data))}setGeometrySize(e,s){const r=[...this._geometryInfo].filter(l=>l.active);if(Math.max(...r.map(l=>l.vertexStart+l.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${s}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(c=>c.indexStart+c.reservedIndexCount))>s)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${s}. Cannot shrink further.`);const i=this.geometry;i.dispose(),this._maxVertexCount=e,this._maxIndexCount=s,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new us,this._initializeGeometry(i));const o=this.geometry;i.index&&gp(i.index.array,o.index.array);for(const l in i.attributes)gp(i.attributes[l].array,o.attributes[l].array)}raycast(e,s){const r=this._instanceInfo,a=this._geometryInfo,i=this.matrixWorld,o=this.geometry;Qi.material=this.material,Qi.geometry.index=o.index,Qi.geometry.attributes=o.attributes,Qi.geometry.boundingBox===null&&(Qi.geometry.boundingBox=new Ya),Qi.geometry.boundingSphere===null&&(Qi.geometry.boundingSphere=new Qa);for(let l=0,c=r.length;l<c;l++){if(!r[l].visible||!r[l].active)continue;const d=r[l].geometryIndex,u=a[d];Qi.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(l,Qi.matrixWorld).premultiply(i),this.getBoundingBoxAt(d,Qi.geometry.boundingBox),this.getBoundingSphereAt(d,Qi.geometry.boundingSphere),Qi.raycast(e,AS);for(let h=0,m=AS.length;h<m;h++){const y=AS[h];y.object=this,y.batchId=l,s.push(y)}AS.length=0}Qi.material=null,Qi.geometry.index=null,Qi.geometry.attributes={},Qi.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(s=>({...s,boundingBox:s.boundingBox!==null?s.boundingBox.clone():null,boundingSphere:s.boundingSphere!==null?s.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(s=>({...s})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,s,r,a,i){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=a.getIndex(),l=o===null?1:o.array.BYTES_PER_ELEMENT,c=this._instanceInfo,d=this._multiDrawStarts,u=this._multiDrawCounts,h=this._geometryInfo,m=this.perObjectFrustumCulled,y=this._indirectTexture,N=y.image.data,j=r.isArrayCamera?Z4e:e7;m&&!r.isArrayCamera&&(Vo.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),e7.setFromProjectionMatrix(Vo,r.coordinateSystem,r.reversedDepth));let v=0;if(this.sortObjects){Vo.copy(this.matrixWorld).invert(),Zb.setFromMatrixPosition(r.matrixWorld).applyMatrix4(Vo),t7.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(Vo);for(let S=0,w=c.length;S<w;S++)if(c[S].visible&&c[S].active){const E=c[S].geometryIndex;this.getMatrixAt(S,Vo),this.getBoundingSphereAt(E,xp).applyMatrix4(Vo);let T=!1;if(m&&(T=!j.intersectsSphere(xp,r)),!T){const P=h[E],k=Y4e.subVectors(xp.center,Zb).dot(t7);KR.push(P.start,P.count,k,S)}}const b=KR.list,A=this.customSort;A===null?b.sort(i.transparent?W4e:q4e):A.call(this,b,r);for(let S=0,w=b.length;S<w;S++){const E=b[S];d[v]=E.start*l,u[v]=E.count,N[v]=E.index,v++}KR.reset()}else for(let b=0,A=c.length;b<A;b++)if(c[b].visible&&c[b].active){const S=c[b].geometryIndex;let w=!1;if(m&&(this.getMatrixAt(b,Vo),this.getBoundingSphereAt(S,xp).applyMatrix4(Vo),w=!j.intersectsSphere(xp,r)),!w){const E=h[S];d[v]=E.start*l,u[v]=E.count,N[v]=b,v++}}y.needsUpdate=!0,this._multiDrawCount=v,this._visibilityChanged=!1}onBeforeShadow(e,s,r,a,i,o){this.onBeforeRender(e,null,a,i,o)}}class To extends no{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new nn(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const CA=new he,TA=new he,n7=new Kn,Yb=new kx,CS=new Qa,XR=new he,s7=new he;let em=class extends Ls{constructor(e=new us,s=new To){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=s,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,s){return super.copy(e,s),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const s=e.attributes.position,r=[0];for(let a=1,i=s.count;a<i;a++)CA.fromBufferAttribute(s,a-1),TA.fromBufferAttribute(s,a),r[a]=r[a-1],r[a]+=CA.distanceTo(TA);e.setAttribute("lineDistance",new un(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,s){const r=this.geometry,a=this.matrixWorld,i=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),CS.copy(r.boundingSphere),CS.applyMatrix4(a),CS.radius+=i,e.ray.intersectsSphere(CS)===!1)return;n7.copy(a).invert(),Yb.copy(e.ray).applyMatrix4(n7);const l=i/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,d=this.isLineSegments?2:1,u=r.index,m=r.attributes.position;if(u!==null){const y=Math.max(0,o.start),N=Math.min(u.count,o.start+o.count);for(let j=y,v=N-1;j<v;j+=d){const b=u.getX(j),A=u.getX(j+1),S=TS(this,e,Yb,c,b,A,j);S&&s.push(S)}if(this.isLineLoop){const j=u.getX(N-1),v=u.getX(y),b=TS(this,e,Yb,c,j,v,N-1);b&&s.push(b)}}else{const y=Math.max(0,o.start),N=Math.min(m.count,o.start+o.count);for(let j=y,v=N-1;j<v;j+=d){const b=TS(this,e,Yb,c,j,j+1,j);b&&s.push(b)}if(this.isLineLoop){const j=TS(this,e,Yb,c,N-1,y,N-1);j&&s.push(j)}}}updateMorphTargets(){const s=this.geometry.morphAttributes,r=Object.keys(s);if(r.length>0){const a=s[r[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,o=a.length;i<o;i++){const l=a[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=i}}}}};function TS(n,e,s,r,a,i,o){const l=n.geometry.attributes.position;if(CA.fromBufferAttribute(l,a),TA.fromBufferAttribute(l,i),s.distanceSqToSegment(CA,TA,XR,s7)>r)return;XR.applyMatrix4(n.matrixWorld);const d=e.ray.origin.distanceTo(XR);if(!(d<e.near||d>e.far))return{distance:d,point:s7.clone().applyMatrix4(n.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:n}}const r7=new he,a7=new he;class gu extends em{constructor(e,s){super(e,s),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const s=e.attributes.position,r=[];for(let a=0,i=s.count;a<i;a+=2)r7.fromBufferAttribute(s,a),a7.fromBufferAttribute(s,a+1),r[a]=a===0?0:r[a-1],r[a+1]=r[a]+r7.distanceTo(a7);e.setAttribute("lineDistance",new un(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class $ee extends em{constructor(e,s){super(e,s),this.isLineLoop=!0,this.type="LineLoop"}}class RD extends no{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new nn(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const i7=new Kn,q5=new kx,ES=new Qa,MS=new he;class qee extends Ls{constructor(e=new us,s=new RD){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=s,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,s){return super.copy(e,s),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,s){const r=this.geometry,a=this.matrixWorld,i=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),ES.copy(r.boundingSphere),ES.applyMatrix4(a),ES.radius+=i,e.ray.intersectsSphere(ES)===!1)return;i7.copy(a).invert(),q5.copy(e.ray).applyMatrix4(i7);const l=i/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,d=r.index,h=r.attributes.position;if(d!==null){const m=Math.max(0,o.start),y=Math.min(d.count,o.start+o.count);for(let N=m,j=y;N<j;N++){const v=d.getX(N);MS.fromBufferAttribute(h,v),o7(MS,v,c,a,e,s,this)}}else{const m=Math.max(0,o.start),y=Math.min(h.count,o.start+o.count);for(let N=m,j=y;N<j;N++)MS.fromBufferAttribute(h,N),o7(MS,N,c,a,e,s,this)}}updateMorphTargets(){const s=this.geometry.morphAttributes,r=Object.keys(s);if(r.length>0){const a=s[r[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,o=a.length;i<o;i++){const l=a[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=i}}}}}function o7(n,e,s,r,a,i,o){const l=q5.distanceSqToPoint(n);if(l<s){const c=new he;q5.closestPointToPoint(n,c),c.applyMatrix4(r);const d=a.ray.origin.distanceTo(c);if(d<a.near||d>a.far)return;i.push({distance:d,distanceToRay:Math.sqrt(l),point:c,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class Wee extends fr{constructor(e,s,r,a,i=ir,o=ir,l,c,d){super(e,s,r,a,i,o,l,c,d),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const u=this;function h(){u.needsUpdate=!0,u._requestVideoFrameCallbackId=e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(h))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),super.dispose()}}class J4e extends Wee{constructor(e,s,r,a,i,o,l,c){super({},e,s,r,a,i,o,l,c),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class ePe extends fr{constructor(e,s){super({width:e,height:s}),this.isFramebufferTexture=!0,this.magFilter=ki,this.minFilter=ki,this.generateMipmaps=!1,this.needsUpdate=!0}}class vT extends fr{constructor(e,s,r,a,i,o,l,c,d,u,h,m){super(null,o,l,c,d,u,a,i,h,m),this.isCompressedTexture=!0,this.image={width:s,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class tPe extends vT{constructor(e,s,r,a,i,o){super(e,s,r,i,o),this.isCompressedArrayTexture=!0,this.image.depth=a,this.wrapR=Ma,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class nPe extends vT{constructor(e,s,r){super(void 0,e[0].width,e[0].height,s,r,cu),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class sPe extends fr{constructor(e,s,r,a,i,o,l,c,d){super(e,s,r,a,i,o,l,c,d),this.isCanvasTexture=!0,this.needsUpdate=!0}}class OD extends fr{constructor(e,s,r=du,a,i,o,l=ki,c=ki,d,u=U0,h=1){if(u!==U0&&u!==z0)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const m={width:e,height:s,depth:h};super(m,a,i,o,l,c,u,r,d),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new If(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const s=super.toJSON(e);return this.compareFunction!==null&&(s.compareFunction=this.compareFunction),s}}class kD extends fr{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class yT extends us{constructor(e=1,s=1,r=4,a=8,i=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:s,capSegments:r,radialSegments:a,heightSegments:i},s=Math.max(0,s),r=Math.max(1,Math.floor(r)),a=Math.max(3,Math.floor(a)),i=Math.max(1,Math.floor(i));const o=[],l=[],c=[],d=[],u=s/2,h=Math.PI/2*e,m=s,y=2*h+m,N=r*2+i,j=a+1,v=new he,b=new he;for(let A=0;A<=N;A++){let S=0,w=0,E=0,T=0;if(A<=r){const I=A/r,L=I*Math.PI/2;w=-u-e*Math.cos(L),E=e*Math.sin(L),T=-e*Math.cos(L),S=I*h}else if(A<=r+i){const I=(A-r)/i;w=-u+I*s,E=e,T=0,S=h+I*m}else{const I=(A-r-i)/r,L=I*Math.PI/2;w=u+e*Math.sin(L),E=e*Math.cos(L),T=e*Math.sin(L),S=h+m+I*h}const P=Math.max(0,Math.min(1,S/y));let k=0;A===0?k=.5/a:A===N&&(k=-.5/a);for(let I=0;I<=a;I++){const L=I/a,U=L*Math.PI*2,H=Math.sin(U),B=Math.cos(U);b.x=-E*B,b.y=w,b.z=E*H,l.push(b.x,b.y,b.z),v.set(-E*B,T,E*H),v.normalize(),c.push(v.x,v.y,v.z),d.push(L+k,P)}if(A>0){const I=(A-1)*j;for(let L=0;L<a;L++){const U=I+L,H=I+L+1,B=A*j+L,K=A*j+L+1;o.push(U,H,B),o.push(H,K,B)}}}this.setIndex(o),this.setAttribute("position",new un(l,3)),this.setAttribute("normal",new un(c,3)),this.setAttribute("uv",new un(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yT(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class bT extends us{constructor(e=1,s=32,r=0,a=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:s,thetaStart:r,thetaLength:a},s=Math.max(3,s);const i=[],o=[],l=[],c=[],d=new he,u=new mt;o.push(0,0,0),l.push(0,0,1),c.push(.5,.5);for(let h=0,m=3;h<=s;h++,m+=3){const y=r+h/s*a;d.x=e*Math.cos(y),d.y=e*Math.sin(y),o.push(d.x,d.y,d.z),l.push(0,0,1),u.x=(o[m]/e+1)/2,u.y=(o[m+1]/e+1)/2,c.push(u.x,u.y)}for(let h=1;h<=s;h++)i.push(h,h+1,0);this.setIndex(i),this.setAttribute("position",new un(o,3)),this.setAttribute("normal",new un(l,3)),this.setAttribute("uv",new un(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bT(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class vw extends us{constructor(e=1,s=1,r=1,a=32,i=1,o=!1,l=0,c=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:s,height:r,radialSegments:a,heightSegments:i,openEnded:o,thetaStart:l,thetaLength:c};const d=this;a=Math.floor(a),i=Math.floor(i);const u=[],h=[],m=[],y=[];let N=0;const j=[],v=r/2;let b=0;A(),o===!1&&(e>0&&S(!0),s>0&&S(!1)),this.setIndex(u),this.setAttribute("position",new un(h,3)),this.setAttribute("normal",new un(m,3)),this.setAttribute("uv",new un(y,2));function A(){const w=new he,E=new he;let T=0;const P=(s-e)/r;for(let k=0;k<=i;k++){const I=[],L=k/i,U=L*(s-e)+e;for(let H=0;H<=a;H++){const B=H/a,K=B*c+l,J=Math.sin(K),W=Math.cos(K);E.x=U*J,E.y=-L*r+v,E.z=U*W,h.push(E.x,E.y,E.z),w.set(J,P,W).normalize(),m.push(w.x,w.y,w.z),y.push(B,1-L),I.push(N++)}j.push(I)}for(let k=0;k<a;k++)for(let I=0;I<i;I++){const L=j[I][k],U=j[I+1][k],H=j[I+1][k+1],B=j[I][k+1];(e>0||I!==0)&&(u.push(L,U,B),T+=3),(s>0||I!==i-1)&&(u.push(U,H,B),T+=3)}d.addGroup(b,T,0),b+=T}function S(w){const E=N,T=new mt,P=new he;let k=0;const I=w===!0?e:s,L=w===!0?1:-1;for(let H=1;H<=a;H++)h.push(0,v*L,0),m.push(0,L,0),y.push(.5,.5),N++;const U=N;for(let H=0;H<=a;H++){const K=H/a*c+l,J=Math.cos(K),W=Math.sin(K);P.x=I*W,P.y=v*L,P.z=I*J,h.push(P.x,P.y,P.z),m.push(0,L,0),T.x=J*.5+.5,T.y=W*.5*L+.5,y.push(T.x,T.y),N++}for(let H=0;H<a;H++){const B=E+H,K=U+H;w===!0?u.push(K,K+1,B):u.push(K+1,K,B),k+=3}d.addGroup(b,k,w===!0?1:2),b+=k}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vw(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class yw extends vw{constructor(e=1,s=1,r=32,a=1,i=!1,o=0,l=Math.PI*2){super(0,e,s,r,a,i,o,l),this.type="ConeGeometry",this.parameters={radius:e,height:s,radialSegments:r,heightSegments:a,openEnded:i,thetaStart:o,thetaLength:l}}static fromJSON(e){return new yw(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class lm extends us{constructor(e=[],s=[],r=1,a=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:s,radius:r,detail:a};const i=[],o=[];l(a),d(r),u(),this.setAttribute("position",new un(i,3)),this.setAttribute("normal",new un(i.slice(),3)),this.setAttribute("uv",new un(o,2)),a===0?this.computeVertexNormals():this.normalizeNormals();function l(A){const S=new he,w=new he,E=new he;for(let T=0;T<s.length;T+=3)y(s[T+0],S),y(s[T+1],w),y(s[T+2],E),c(S,w,E,A)}function c(A,S,w,E){const T=E+1,P=[];for(let k=0;k<=T;k++){P[k]=[];const I=A.clone().lerp(w,k/T),L=S.clone().lerp(w,k/T),U=T-k;for(let H=0;H<=U;H++)H===0&&k===T?P[k][H]=I:P[k][H]=I.clone().lerp(L,H/U)}for(let k=0;k<T;k++)for(let I=0;I<2*(T-k)-1;I++){const L=Math.floor(I/2);I%2===0?(m(P[k][L+1]),m(P[k+1][L]),m(P[k][L])):(m(P[k][L+1]),m(P[k+1][L+1]),m(P[k+1][L]))}}function d(A){const S=new he;for(let w=0;w<i.length;w+=3)S.x=i[w+0],S.y=i[w+1],S.z=i[w+2],S.normalize().multiplyScalar(A),i[w+0]=S.x,i[w+1]=S.y,i[w+2]=S.z}function u(){const A=new he;for(let S=0;S<i.length;S+=3){A.x=i[S+0],A.y=i[S+1],A.z=i[S+2];const w=v(A)/2/Math.PI+.5,E=b(A)/Math.PI+.5;o.push(w,1-E)}N(),h()}function h(){for(let A=0;A<o.length;A+=6){const S=o[A+0],w=o[A+2],E=o[A+4],T=Math.max(S,w,E),P=Math.min(S,w,E);T>.9&&P<.1&&(S<.2&&(o[A+0]+=1),w<.2&&(o[A+2]+=1),E<.2&&(o[A+4]+=1))}}function m(A){i.push(A.x,A.y,A.z)}function y(A,S){const w=A*3;S.x=e[w+0],S.y=e[w+1],S.z=e[w+2]}function N(){const A=new he,S=new he,w=new he,E=new he,T=new mt,P=new mt,k=new mt;for(let I=0,L=0;I<i.length;I+=9,L+=6){A.set(i[I+0],i[I+1],i[I+2]),S.set(i[I+3],i[I+4],i[I+5]),w.set(i[I+6],i[I+7],i[I+8]),T.set(o[L+0],o[L+1]),P.set(o[L+2],o[L+3]),k.set(o[L+4],o[L+5]),E.copy(A).add(S).add(w).divideScalar(3);const U=v(E);j(T,L+0,A,U),j(P,L+2,S,U),j(k,L+4,w,U)}}function j(A,S,w,E){E<0&&A.x===1&&(o[S]=A.x-1),w.x===0&&w.z===0&&(o[S]=E/2/Math.PI+.5)}function v(A){return Math.atan2(A.z,-A.x)}function b(A){return Math.atan2(-A.y,Math.sqrt(A.x*A.x+A.z*A.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lm(e.vertices,e.indices,e.radius,e.details)}}class jT extends lm{constructor(e=1,s=0){const r=(1+Math.sqrt(5))/2,a=1/r,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-a,-r,0,-a,r,0,a,-r,0,a,r,-a,-r,0,-a,r,0,a,-r,0,a,r,0,-r,0,-a,r,0,-a,-r,0,a,r,0,a],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(i,o,e,s),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:s}}static fromJSON(e){return new jT(e.radius,e.detail)}}const PS=new he,RS=new he,ZR=new he,OS=new Wo;class Kee extends us{constructor(e=null,s=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:s},e!==null){const a=Math.pow(10,4),i=Math.cos(ax*s),o=e.getIndex(),l=e.getAttribute("position"),c=o?o.count:l.count,d=[0,0,0],u=["a","b","c"],h=new Array(3),m={},y=[];for(let N=0;N<c;N+=3){o?(d[0]=o.getX(N),d[1]=o.getX(N+1),d[2]=o.getX(N+2)):(d[0]=N,d[1]=N+1,d[2]=N+2);const{a:j,b:v,c:b}=OS;if(j.fromBufferAttribute(l,d[0]),v.fromBufferAttribute(l,d[1]),b.fromBufferAttribute(l,d[2]),OS.getNormal(ZR),h[0]=`${Math.round(j.x*a)},${Math.round(j.y*a)},${Math.round(j.z*a)}`,h[1]=`${Math.round(v.x*a)},${Math.round(v.y*a)},${Math.round(v.z*a)}`,h[2]=`${Math.round(b.x*a)},${Math.round(b.y*a)},${Math.round(b.z*a)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let A=0;A<3;A++){const S=(A+1)%3,w=h[A],E=h[S],T=OS[u[A]],P=OS[u[S]],k=`${w}_${E}`,I=`${E}_${w}`;I in m&&m[I]?(ZR.dot(m[I].normal)<=i&&(y.push(T.x,T.y,T.z),y.push(P.x,P.y,P.z)),m[I]=null):k in m||(m[k]={index0:d[A],index1:d[S],normal:ZR.clone()})}}for(const N in m)if(m[N]){const{index0:j,index1:v}=m[N];PS.fromBufferAttribute(l,j),RS.fromBufferAttribute(l,v),y.push(PS.x,PS.y,PS.z),y.push(RS.x,RS.y,RS.z)}this.setAttribute("position",new un(y,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class hd{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,s){const r=this.getUtoTmapping(e);return this.getPoint(r,s)}getPoints(e=5){const s=[];for(let r=0;r<=e;r++)s.push(this.getPoint(r/e));return s}getSpacedPoints(e=5){const s=[];for(let r=0;r<=e;r++)s.push(this.getPointAt(r/e));return s}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const s=[];let r,a=this.getPoint(0),i=0;s.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),i+=r.distanceTo(a),s.push(i),a=r;return this.cacheArcLengths=s,s}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,s=null){const r=this.getLengths();let a=0;const i=r.length;let o;s?o=s:o=e*r[i-1];let l=0,c=i-1,d;for(;l<=c;)if(a=Math.floor(l+(c-l)/2),d=r[a]-o,d<0)l=a+1;else if(d>0)c=a-1;else{c=a;break}if(a=c,r[a]===o)return a/(i-1);const u=r[a],m=r[a+1]-u,y=(o-u)/m;return(a+y)/(i-1)}getTangent(e,s){let a=e-1e-4,i=e+1e-4;a<0&&(a=0),i>1&&(i=1);const o=this.getPoint(a),l=this.getPoint(i),c=s||(o.isVector2?new mt:new he);return c.copy(l).sub(o).normalize(),c}getTangentAt(e,s){const r=this.getUtoTmapping(e);return this.getTangent(r,s)}computeFrenetFrames(e,s=!1){const r=new he,a=[],i=[],o=[],l=new he,c=new Kn;for(let y=0;y<=e;y++){const N=y/e;a[y]=this.getTangentAt(N,new he)}i[0]=new he,o[0]=new he;let d=Number.MAX_VALUE;const u=Math.abs(a[0].x),h=Math.abs(a[0].y),m=Math.abs(a[0].z);u<=d&&(d=u,r.set(1,0,0)),h<=d&&(d=h,r.set(0,1,0)),m<=d&&r.set(0,0,1),l.crossVectors(a[0],r).normalize(),i[0].crossVectors(a[0],l),o[0].crossVectors(a[0],i[0]);for(let y=1;y<=e;y++){if(i[y]=i[y-1].clone(),o[y]=o[y-1].clone(),l.crossVectors(a[y-1],a[y]),l.length()>Number.EPSILON){l.normalize();const N=Math.acos(Wn(a[y-1].dot(a[y]),-1,1));i[y].applyMatrix4(c.makeRotationAxis(l,N))}o[y].crossVectors(a[y],i[y])}if(s===!0){let y=Math.acos(Wn(i[0].dot(i[e]),-1,1));y/=e,a[0].dot(l.crossVectors(i[0],i[e]))>0&&(y=-y);for(let N=1;N<=e;N++)i[N].applyMatrix4(c.makeRotationAxis(a[N],y*N)),o[N].crossVectors(a[N],i[N])}return{tangents:a,normals:i,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class wT extends hd{constructor(e=0,s=0,r=1,a=1,i=0,o=Math.PI*2,l=!1,c=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=s,this.xRadius=r,this.yRadius=a,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=l,this.aRotation=c}getPoint(e,s=new mt){const r=s,a=Math.PI*2;let i=this.aEndAngle-this.aStartAngle;const o=Math.abs(i)<Number.EPSILON;for(;i<0;)i+=a;for(;i>a;)i-=a;i<Number.EPSILON&&(o?i=0:i=a),this.aClockwise===!0&&!o&&(i===a?i=-a:i=i-a);const l=this.aStartAngle+e*i;let c=this.aX+this.xRadius*Math.cos(l),d=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const u=Math.cos(this.aRotation),h=Math.sin(this.aRotation),m=c-this.aX,y=d-this.aY;c=m*u-y*h+this.aX,d=m*h+y*u+this.aY}return r.set(c,d)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Xee extends wT{constructor(e,s,r,a,i,o){super(e,s,r,r,a,i,o),this.isArcCurve=!0,this.type="ArcCurve"}}function ID(){let n=0,e=0,s=0,r=0;function a(i,o,l,c){n=i,e=l,s=-3*i+3*o-2*l-c,r=2*i-2*o+l+c}return{initCatmullRom:function(i,o,l,c,d){a(o,l,d*(l-i),d*(c-o))},initNonuniformCatmullRom:function(i,o,l,c,d,u,h){let m=(o-i)/d-(l-i)/(d+u)+(l-o)/u,y=(l-o)/u-(c-o)/(u+h)+(c-l)/h;m*=u,y*=u,a(o,l,m,y)},calc:function(i){const o=i*i,l=o*i;return n+e*i+s*o+r*l}}}const kS=new he,YR=new ID,QR=new ID,JR=new ID;class Zee extends hd{constructor(e=[],s=!1,r="centripetal",a=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=s,this.curveType=r,this.tension=a}getPoint(e,s=new he){const r=s,a=this.points,i=a.length,o=(i-(this.closed?0:1))*e;let l=Math.floor(o),c=o-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/i)+1)*i:c===0&&l===i-1&&(l=i-2,c=1);let d,u;this.closed||l>0?d=a[(l-1)%i]:(kS.subVectors(a[0],a[1]).add(a[0]),d=kS);const h=a[l%i],m=a[(l+1)%i];if(this.closed||l+2<i?u=a[(l+2)%i]:(kS.subVectors(a[i-1],a[i-2]).add(a[i-1]),u=kS),this.curveType==="centripetal"||this.curveType==="chordal"){const y=this.curveType==="chordal"?.5:.25;let N=Math.pow(d.distanceToSquared(h),y),j=Math.pow(h.distanceToSquared(m),y),v=Math.pow(m.distanceToSquared(u),y);j<1e-4&&(j=1),N<1e-4&&(N=j),v<1e-4&&(v=j),YR.initNonuniformCatmullRom(d.x,h.x,m.x,u.x,N,j,v),QR.initNonuniformCatmullRom(d.y,h.y,m.y,u.y,N,j,v),JR.initNonuniformCatmullRom(d.z,h.z,m.z,u.z,N,j,v)}else this.curveType==="catmullrom"&&(YR.initCatmullRom(d.x,h.x,m.x,u.x,this.tension),QR.initCatmullRom(d.y,h.y,m.y,u.y,this.tension),JR.initCatmullRom(d.z,h.z,m.z,u.z,this.tension));return r.set(YR.calc(c),QR.calc(c),JR.calc(c)),r}copy(e){super.copy(e),this.points=[];for(let s=0,r=e.points.length;s<r;s++){const a=e.points[s];this.points.push(a.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let s=0,r=this.points.length;s<r;s++){const a=this.points[s];e.points.push(a.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let s=0,r=e.points.length;s<r;s++){const a=e.points[s];this.points.push(new he().fromArray(a))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function l7(n,e,s,r,a){const i=(r-e)*.5,o=(a-s)*.5,l=n*n,c=n*l;return(2*s-2*r+i+o)*c+(-3*s+3*r-2*i-o)*l+i*n+s}function rPe(n,e){const s=1-n;return s*s*e}function aPe(n,e){return 2*(1-n)*n*e}function iPe(n,e){return n*n*e}function Pj(n,e,s,r){return rPe(n,e)+aPe(n,s)+iPe(n,r)}function oPe(n,e){const s=1-n;return s*s*s*e}function lPe(n,e){const s=1-n;return 3*s*s*n*e}function cPe(n,e){return 3*(1-n)*n*n*e}function dPe(n,e){return n*n*n*e}function Rj(n,e,s,r,a){return oPe(n,e)+lPe(n,s)+cPe(n,r)+dPe(n,a)}class DD extends hd{constructor(e=new mt,s=new mt,r=new mt,a=new mt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=s,this.v2=r,this.v3=a}getPoint(e,s=new mt){const r=s,a=this.v0,i=this.v1,o=this.v2,l=this.v3;return r.set(Rj(e,a.x,i.x,o.x,l.x),Rj(e,a.y,i.y,o.y,l.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Yee extends hd{constructor(e=new he,s=new he,r=new he,a=new he){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=s,this.v2=r,this.v3=a}getPoint(e,s=new he){const r=s,a=this.v0,i=this.v1,o=this.v2,l=this.v3;return r.set(Rj(e,a.x,i.x,o.x,l.x),Rj(e,a.y,i.y,o.y,l.y),Rj(e,a.z,i.z,o.z,l.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class LD extends hd{constructor(e=new mt,s=new mt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=s}getPoint(e,s=new mt){const r=s;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,s){return this.getPoint(e,s)}getTangent(e,s=new mt){return s.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,s){return this.getTangent(e,s)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Qee extends hd{constructor(e=new he,s=new he){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=s}getPoint(e,s=new he){const r=s;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,s){return this.getPoint(e,s)}getTangent(e,s=new he){return s.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,s){return this.getTangent(e,s)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class FD extends hd{constructor(e=new mt,s=new mt,r=new mt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=s,this.v2=r}getPoint(e,s=new mt){const r=s,a=this.v0,i=this.v1,o=this.v2;return r.set(Pj(e,a.x,i.x,o.x),Pj(e,a.y,i.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class UD extends hd{constructor(e=new he,s=new he,r=new he){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=s,this.v2=r}getPoint(e,s=new he){const r=s,a=this.v0,i=this.v1,o=this.v2;return r.set(Pj(e,a.x,i.x,o.x),Pj(e,a.y,i.y,o.y),Pj(e,a.z,i.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class zD extends hd{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,s=new mt){const r=s,a=this.points,i=(a.length-1)*e,o=Math.floor(i),l=i-o,c=a[o===0?o:o-1],d=a[o],u=a[o>a.length-2?a.length-1:o+1],h=a[o>a.length-3?a.length-1:o+2];return r.set(l7(l,c.x,d.x,u.x,h.x),l7(l,c.y,d.y,u.y,h.y)),r}copy(e){super.copy(e),this.points=[];for(let s=0,r=e.points.length;s<r;s++){const a=e.points[s];this.points.push(a.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let s=0,r=this.points.length;s<r;s++){const a=this.points[s];e.points.push(a.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let s=0,r=e.points.length;s<r;s++){const a=e.points[s];this.points.push(new mt().fromArray(a))}return this}}var EA=Object.freeze({__proto__:null,ArcCurve:Xee,CatmullRomCurve3:Zee,CubicBezierCurve:DD,CubicBezierCurve3:Yee,EllipseCurve:wT,LineCurve:LD,LineCurve3:Qee,QuadraticBezierCurve:FD,QuadraticBezierCurve3:UD,SplineCurve:zD});class Jee extends hd{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),s=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(s)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new EA[r](s,e))}return this}getPoint(e,s){const r=e*this.getLength(),a=this.getCurveLengths();let i=0;for(;i<a.length;){if(a[i]>=r){const o=a[i]-r,l=this.curves[i],c=l.getLength(),d=c===0?0:1-o/c;return l.getPointAt(d,s)}i++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let s=0;for(let r=0,a=this.curves.length;r<a;r++)s+=this.curves[r].getLength(),e.push(s);return this.cacheLengths=e,e}getSpacedPoints(e=40){const s=[];for(let r=0;r<=e;r++)s.push(this.getPoint(r/e));return this.autoClose&&s.push(s[0]),s}getPoints(e=12){const s=[];let r;for(let a=0,i=this.curves;a<i.length;a++){const o=i[a],l=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,c=o.getPoints(l);for(let d=0;d<c.length;d++){const u=c[d];r&&r.equals(u)||(s.push(u),r=u)}}return this.autoClose&&s.length>1&&!s[s.length-1].equals(s[0])&&s.push(s[0]),s}copy(e){super.copy(e),this.curves=[];for(let s=0,r=e.curves.length;s<r;s++){const a=e.curves[s];this.curves.push(a.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let s=0,r=this.curves.length;s<r;s++){const a=this.curves[s];e.curves.push(a.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let s=0,r=e.curves.length;s<r;s++){const a=e.curves[s];this.curves.push(new EA[a.type]().fromJSON(a))}return this}}class MA extends Jee{constructor(e){super(),this.type="Path",this.currentPoint=new mt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let s=1,r=e.length;s<r;s++)this.lineTo(e[s].x,e[s].y);return this}moveTo(e,s){return this.currentPoint.set(e,s),this}lineTo(e,s){const r=new LD(this.currentPoint.clone(),new mt(e,s));return this.curves.push(r),this.currentPoint.set(e,s),this}quadraticCurveTo(e,s,r,a){const i=new FD(this.currentPoint.clone(),new mt(e,s),new mt(r,a));return this.curves.push(i),this.currentPoint.set(r,a),this}bezierCurveTo(e,s,r,a,i,o){const l=new DD(this.currentPoint.clone(),new mt(e,s),new mt(r,a),new mt(i,o));return this.curves.push(l),this.currentPoint.set(i,o),this}splineThru(e){const s=[this.currentPoint.clone()].concat(e),r=new zD(s);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,s,r,a,i,o){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absarc(e+l,s+c,r,a,i,o),this}absarc(e,s,r,a,i,o){return this.absellipse(e,s,r,r,a,i,o),this}ellipse(e,s,r,a,i,o,l,c){const d=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+d,s+u,r,a,i,o,l,c),this}absellipse(e,s,r,a,i,o,l,c){const d=new wT(e,s,r,a,i,o,l,c);if(this.curves.length>0){const h=d.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(d);const u=d.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class ix extends MA{constructor(e){super(e),this.uuid=Cl(),this.type="Shape",this.holes=[]}getPointsHoles(e){const s=[];for(let r=0,a=this.holes.length;r<a;r++)s[r]=this.holes[r].getPoints(e);return s}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let s=0,r=e.holes.length;s<r;s++){const a=e.holes[s];this.holes.push(a.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let s=0,r=this.holes.length;s<r;s++){const a=this.holes[s];e.holes.push(a.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let s=0,r=e.holes.length;s<r;s++){const a=e.holes[s];this.holes.push(new MA().fromJSON(a))}return this}}function uPe(n,e,s=2){const r=e&&e.length,a=r?e[0]*s:n.length;let i=ete(n,0,a,s,!0);const o=[];if(!i||i.next===i.prev)return o;let l,c,d;if(r&&(i=xPe(n,e,i,s)),n.length>80*s){l=1/0,c=1/0;let u=-1/0,h=-1/0;for(let m=s;m<a;m+=s){const y=n[m],N=n[m+1];y<l&&(l=y),N<c&&(c=N),y>u&&(u=y),N>h&&(h=N)}d=Math.max(u-l,h-c),d=d!==0?32767/d:0}return L1(i,o,s,l,c,d,0),o}function ete(n,e,s,r,a){let i;if(a===CPe(n,e,s,r)>0)for(let o=e;o<s;o+=r)i=c7(o/r|0,n[o],n[o+1],i);else for(let o=s-r;o>=e;o-=r)i=c7(o/r|0,n[o],n[o+1],i);return i&&q0(i,i.next)&&(U1(i),i=i.next),i}function Ax(n,e){if(!n)return n;e||(e=n);let s=n,r;do if(r=!1,!s.steiner&&(q0(s,s.next)||Yr(s.prev,s,s.next)===0)){if(U1(s),s=e=s.prev,s===s.next)break;r=!0}else s=s.next;while(r||s!==e);return e}function L1(n,e,s,r,a,i,o){if(!n)return;!o&&i&&jPe(n,r,a,i);let l=n;for(;n.prev!==n.next;){const c=n.prev,d=n.next;if(i?fPe(n,r,a,i):hPe(n)){e.push(c.i,n.i,d.i),U1(n),n=d.next,l=d.next;continue}if(n=d,n===l){o?o===1?(n=mPe(Ax(n),e),L1(n,e,s,r,a,i,2)):o===2&&pPe(n,e,s,r,a,i):L1(Ax(n),e,s,r,a,i,1);break}}}function hPe(n){const e=n.prev,s=n,r=n.next;if(Yr(e,s,r)>=0)return!1;const a=e.x,i=s.x,o=r.x,l=e.y,c=s.y,d=r.y,u=Math.min(a,i,o),h=Math.min(l,c,d),m=Math.max(a,i,o),y=Math.max(l,c,d);let N=r.next;for(;N!==e;){if(N.x>=u&&N.x<=m&&N.y>=h&&N.y<=y&&lj(a,l,i,c,o,d,N.x,N.y)&&Yr(N.prev,N,N.next)>=0)return!1;N=N.next}return!0}function fPe(n,e,s,r){const a=n.prev,i=n,o=n.next;if(Yr(a,i,o)>=0)return!1;const l=a.x,c=i.x,d=o.x,u=a.y,h=i.y,m=o.y,y=Math.min(l,c,d),N=Math.min(u,h,m),j=Math.max(l,c,d),v=Math.max(u,h,m),b=W5(y,N,e,s,r),A=W5(j,v,e,s,r);let S=n.prevZ,w=n.nextZ;for(;S&&S.z>=b&&w&&w.z<=A;){if(S.x>=y&&S.x<=j&&S.y>=N&&S.y<=v&&S!==a&&S!==o&&lj(l,u,c,h,d,m,S.x,S.y)&&Yr(S.prev,S,S.next)>=0||(S=S.prevZ,w.x>=y&&w.x<=j&&w.y>=N&&w.y<=v&&w!==a&&w!==o&&lj(l,u,c,h,d,m,w.x,w.y)&&Yr(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;S&&S.z>=b;){if(S.x>=y&&S.x<=j&&S.y>=N&&S.y<=v&&S!==a&&S!==o&&lj(l,u,c,h,d,m,S.x,S.y)&&Yr(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;w&&w.z<=A;){if(w.x>=y&&w.x<=j&&w.y>=N&&w.y<=v&&w!==a&&w!==o&&lj(l,u,c,h,d,m,w.x,w.y)&&Yr(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function mPe(n,e){let s=n;do{const r=s.prev,a=s.next.next;!q0(r,a)&&nte(r,s,s.next,a)&&F1(r,a)&&F1(a,r)&&(e.push(r.i,s.i,a.i),U1(s),U1(s.next),s=n=a),s=s.next}while(s!==n);return Ax(s)}function pPe(n,e,s,r,a,i){let o=n;do{let l=o.next.next;for(;l!==o.prev;){if(o.i!==l.i&&SPe(o,l)){let c=ste(o,l);o=Ax(o,o.next),c=Ax(c,c.next),L1(o,e,s,r,a,i,0),L1(c,e,s,r,a,i,0);return}l=l.next}o=o.next}while(o!==n)}function xPe(n,e,s,r){const a=[];for(let i=0,o=e.length;i<o;i++){const l=e[i]*r,c=i<o-1?e[i+1]*r:n.length,d=ete(n,l,c,r,!1);d===d.next&&(d.steiner=!0),a.push(NPe(d))}a.sort(gPe);for(let i=0;i<a.length;i++)s=vPe(a[i],s);return s}function gPe(n,e){let s=n.x-e.x;if(s===0&&(s=n.y-e.y,s===0)){const r=(n.next.y-n.y)/(n.next.x-n.x),a=(e.next.y-e.y)/(e.next.x-e.x);s=r-a}return s}function vPe(n,e){const s=yPe(n,e);if(!s)return e;const r=ste(s,n);return Ax(r,r.next),Ax(s,s.next)}function yPe(n,e){let s=e;const r=n.x,a=n.y;let i=-1/0,o;if(q0(n,s))return s;do{if(q0(n,s.next))return s.next;if(a<=s.y&&a>=s.next.y&&s.next.y!==s.y){const h=s.x+(a-s.y)*(s.next.x-s.x)/(s.next.y-s.y);if(h<=r&&h>i&&(i=h,o=s.x<s.next.x?s:s.next,h===r))return o}s=s.next}while(s!==e);if(!o)return null;const l=o,c=o.x,d=o.y;let u=1/0;s=o;do{if(r>=s.x&&s.x>=c&&r!==s.x&&tte(a<d?r:i,a,c,d,a<d?i:r,a,s.x,s.y)){const h=Math.abs(a-s.y)/(r-s.x);F1(s,n)&&(h<u||h===u&&(s.x>o.x||s.x===o.x&&bPe(o,s)))&&(o=s,u=h)}s=s.next}while(s!==l);return o}function bPe(n,e){return Yr(n.prev,n,e.prev)<0&&Yr(e.next,n,n.next)<0}function jPe(n,e,s,r){let a=n;do a.z===0&&(a.z=W5(a.x,a.y,e,s,r)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next;while(a!==n);a.prevZ.nextZ=null,a.prevZ=null,wPe(a)}function wPe(n){let e,s=1;do{let r=n,a;n=null;let i=null;for(e=0;r;){e++;let o=r,l=0;for(let d=0;d<s&&(l++,o=o.nextZ,!!o);d++);let c=s;for(;l>0||c>0&&o;)l!==0&&(c===0||!o||r.z<=o.z)?(a=r,r=r.nextZ,l--):(a=o,o=o.nextZ,c--),i?i.nextZ=a:n=a,a.prevZ=i,i=a;r=o}i.nextZ=null,s*=2}while(e>1);return n}function W5(n,e,s,r,a){return n=(n-s)*a|0,e=(e-r)*a|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function NPe(n){let e=n,s=n;do(e.x<s.x||e.x===s.x&&e.y<s.y)&&(s=e),e=e.next;while(e!==n);return s}function tte(n,e,s,r,a,i,o,l){return(a-o)*(e-l)>=(n-o)*(i-l)&&(n-o)*(r-l)>=(s-o)*(e-l)&&(s-o)*(i-l)>=(a-o)*(r-l)}function lj(n,e,s,r,a,i,o,l){return!(n===o&&e===l)&&tte(n,e,s,r,a,i,o,l)}function SPe(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!_Pe(n,e)&&(F1(n,e)&&F1(e,n)&&APe(n,e)&&(Yr(n.prev,n,e.prev)||Yr(n,e.prev,e))||q0(n,e)&&Yr(n.prev,n,n.next)>0&&Yr(e.prev,e,e.next)>0)}function Yr(n,e,s){return(e.y-n.y)*(s.x-e.x)-(e.x-n.x)*(s.y-e.y)}function q0(n,e){return n.x===e.x&&n.y===e.y}function nte(n,e,s,r){const a=DS(Yr(n,e,s)),i=DS(Yr(n,e,r)),o=DS(Yr(s,r,n)),l=DS(Yr(s,r,e));return!!(a!==i&&o!==l||a===0&&IS(n,s,e)||i===0&&IS(n,r,e)||o===0&&IS(s,n,r)||l===0&&IS(s,e,r))}function IS(n,e,s){return e.x<=Math.max(n.x,s.x)&&e.x>=Math.min(n.x,s.x)&&e.y<=Math.max(n.y,s.y)&&e.y>=Math.min(n.y,s.y)}function DS(n){return n>0?1:n<0?-1:0}function _Pe(n,e){let s=n;do{if(s.i!==n.i&&s.next.i!==n.i&&s.i!==e.i&&s.next.i!==e.i&&nte(s,s.next,n,e))return!0;s=s.next}while(s!==n);return!1}function F1(n,e){return Yr(n.prev,n,n.next)<0?Yr(n,e,n.next)>=0&&Yr(n,n.prev,e)>=0:Yr(n,e,n.prev)<0||Yr(n,n.next,e)<0}function APe(n,e){let s=n,r=!1;const a=(n.x+e.x)/2,i=(n.y+e.y)/2;do s.y>i!=s.next.y>i&&s.next.y!==s.y&&a<(s.next.x-s.x)*(i-s.y)/(s.next.y-s.y)+s.x&&(r=!r),s=s.next;while(s!==n);return r}function ste(n,e){const s=K5(n.i,n.x,n.y),r=K5(e.i,e.x,e.y),a=n.next,i=e.prev;return n.next=e,e.prev=n,s.next=a,a.prev=s,r.next=s,s.prev=r,i.next=r,r.prev=i,r}function c7(n,e,s,r){const a=K5(n,e,s);return r?(a.next=r.next,a.prev=r,r.next.prev=a,r.next=a):(a.prev=a,a.next=a),a}function U1(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function K5(n,e,s){return{i:n,x:e,y:s,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function CPe(n,e,s,r){let a=0;for(let i=e,o=s-r;i<s;i+=r)a+=(n[o]-n[i])*(n[i+1]+n[o+1]),o=i;return a}class TPe{static triangulate(e,s,r=2){return uPe(e,s,r)}}class nd{static area(e){const s=e.length;let r=0;for(let a=s-1,i=0;i<s;a=i++)r+=e[a].x*e[i].y-e[i].x*e[a].y;return r*.5}static isClockWise(e){return nd.area(e)<0}static triangulateShape(e,s){const r=[],a=[],i=[];d7(e),u7(r,e);let o=e.length;s.forEach(d7);for(let c=0;c<s.length;c++)a.push(o),o+=s[c].length,u7(r,s[c]);const l=TPe.triangulate(r,a);for(let c=0;c<l.length;c+=3)i.push(l.slice(c,c+3));return i}}function d7(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function u7(n,e){for(let s=0;s<e.length;s++)n.push(e[s].x),n.push(e[s].y)}class NT extends us{constructor(e=new ix([new mt(.5,.5),new mt(-.5,.5),new mt(-.5,-.5),new mt(.5,-.5)]),s={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:s},e=Array.isArray(e)?e:[e];const r=this,a=[],i=[];for(let l=0,c=e.length;l<c;l++){const d=e[l];o(d)}this.setAttribute("position",new un(a,3)),this.setAttribute("uv",new un(i,2)),this.computeVertexNormals();function o(l){const c=[],d=s.curveSegments!==void 0?s.curveSegments:12,u=s.steps!==void 0?s.steps:1,h=s.depth!==void 0?s.depth:1;let m=s.bevelEnabled!==void 0?s.bevelEnabled:!0,y=s.bevelThickness!==void 0?s.bevelThickness:.2,N=s.bevelSize!==void 0?s.bevelSize:y-.1,j=s.bevelOffset!==void 0?s.bevelOffset:0,v=s.bevelSegments!==void 0?s.bevelSegments:3;const b=s.extrudePath,A=s.UVGenerator!==void 0?s.UVGenerator:EPe;let S,w=!1,E,T,P,k;b&&(S=b.getSpacedPoints(u),w=!0,m=!1,E=b.computeFrenetFrames(u,!1),T=new he,P=new he,k=new he),m||(v=0,y=0,N=0,j=0);const I=l.extractPoints(d);let L=I.shape;const U=I.holes;if(!nd.isClockWise(L)){L=L.reverse();for(let Ke=0,et=U.length;Ke<et;Ke++){const st=U[Ke];nd.isClockWise(st)&&(U[Ke]=st.reverse())}}function B(Ke){const st=10000000000000001e-36;let Qe=Ke[0];for(let At=1;At<=Ke.length;At++){const xt=At%Ke.length,ue=Ke[xt],Ee=ue.x-Qe.x,Ie=ue.y-Qe.y,ne=Ee*Ee+Ie*Ie,X=Math.max(Math.abs(ue.x),Math.abs(ue.y),Math.abs(Qe.x),Math.abs(Qe.y)),je=st*X*X;if(ne<=je){Ke.splice(xt,1),At--;continue}Qe=ue}}B(L),U.forEach(B);const K=U.length,J=L;for(let Ke=0;Ke<K;Ke++){const et=U[Ke];L=L.concat(et)}function W(Ke,et,st){return et||console.error("THREE.ExtrudeGeometry: vec does not exist"),Ke.clone().addScaledVector(et,st)}const ee=L.length;function G(Ke,et,st){let Qe,At,xt;const ue=Ke.x-et.x,Ee=Ke.y-et.y,Ie=st.x-Ke.x,ne=st.y-Ke.y,X=ue*ue+Ee*Ee,je=ue*ne-Ee*Ie;if(Math.abs(je)>Number.EPSILON){const Re=Math.sqrt(X),nt=Math.sqrt(Ie*Ie+ne*ne),We=et.x-Ee/Re,Ft=et.y+ue/Re,Et=st.x-ne/nt,Ut=st.y+Ie/nt,Qt=((Et-We)*ne-(Ut-Ft)*Ie)/(ue*ne-Ee*Ie);Qe=We+ue*Qt-Ke.x,At=Ft+Ee*Qt-Ke.y;const wt=Qe*Qe+At*At;if(wt<=2)return new mt(Qe,At);xt=Math.sqrt(wt/2)}else{let Re=!1;ue>Number.EPSILON?Ie>Number.EPSILON&&(Re=!0):ue<-Number.EPSILON?Ie<-Number.EPSILON&&(Re=!0):Math.sign(Ee)===Math.sign(ne)&&(Re=!0),Re?(Qe=-Ee,At=ue,xt=Math.sqrt(X)):(Qe=ue,At=Ee,xt=Math.sqrt(X/2))}return new mt(Qe/xt,At/xt)}const ae=[];for(let Ke=0,et=J.length,st=et-1,Qe=Ke+1;Ke<et;Ke++,st++,Qe++)st===et&&(st=0),Qe===et&&(Qe=0),ae[Ke]=G(J[Ke],J[st],J[Qe]);const fe=[];let se,me=ae.concat();for(let Ke=0,et=K;Ke<et;Ke++){const st=U[Ke];se=[];for(let Qe=0,At=st.length,xt=At-1,ue=Qe+1;Qe<At;Qe++,xt++,ue++)xt===At&&(xt=0),ue===At&&(ue=0),se[Qe]=G(st[Qe],st[xt],st[ue]);fe.push(se),me=me.concat(se)}let Oe;if(v===0)Oe=nd.triangulateShape(J,U);else{const Ke=[],et=[];for(let st=0;st<v;st++){const Qe=st/v,At=y*Math.cos(Qe*Math.PI/2),xt=N*Math.sin(Qe*Math.PI/2)+j;for(let ue=0,Ee=J.length;ue<Ee;ue++){const Ie=W(J[ue],ae[ue],xt);De(Ie.x,Ie.y,-At),Qe===0&&Ke.push(Ie)}for(let ue=0,Ee=K;ue<Ee;ue++){const Ie=U[ue];se=fe[ue];const ne=[];for(let X=0,je=Ie.length;X<je;X++){const Re=W(Ie[X],se[X],xt);De(Re.x,Re.y,-At),Qe===0&&ne.push(Re)}Qe===0&&et.push(ne)}}Oe=nd.triangulateShape(Ke,et)}const Ye=Oe.length,dt=N+j;for(let Ke=0;Ke<ee;Ke++){const et=m?W(L[Ke],me[Ke],dt):L[Ke];w?(P.copy(E.normals[0]).multiplyScalar(et.x),T.copy(E.binormals[0]).multiplyScalar(et.y),k.copy(S[0]).add(P).add(T),De(k.x,k.y,k.z)):De(et.x,et.y,0)}for(let Ke=1;Ke<=u;Ke++)for(let et=0;et<ee;et++){const st=m?W(L[et],me[et],dt):L[et];w?(P.copy(E.normals[Ke]).multiplyScalar(st.x),T.copy(E.binormals[Ke]).multiplyScalar(st.y),k.copy(S[Ke]).add(P).add(T),De(k.x,k.y,k.z)):De(st.x,st.y,h/u*Ke)}for(let Ke=v-1;Ke>=0;Ke--){const et=Ke/v,st=y*Math.cos(et*Math.PI/2),Qe=N*Math.sin(et*Math.PI/2)+j;for(let At=0,xt=J.length;At<xt;At++){const ue=W(J[At],ae[At],Qe);De(ue.x,ue.y,h+st)}for(let At=0,xt=U.length;At<xt;At++){const ue=U[At];se=fe[At];for(let Ee=0,Ie=ue.length;Ee<Ie;Ee++){const ne=W(ue[Ee],se[Ee],Qe);w?De(ne.x,ne.y+S[u-1].y,S[u-1].x+st):De(ne.x,ne.y,h+st)}}}be(),Ce();function be(){const Ke=a.length/3;if(m){let et=0,st=ee*et;for(let Qe=0;Qe<Ye;Qe++){const At=Oe[Qe];qe(At[2]+st,At[1]+st,At[0]+st)}et=u+v*2,st=ee*et;for(let Qe=0;Qe<Ye;Qe++){const At=Oe[Qe];qe(At[0]+st,At[1]+st,At[2]+st)}}else{for(let et=0;et<Ye;et++){const st=Oe[et];qe(st[2],st[1],st[0])}for(let et=0;et<Ye;et++){const st=Oe[et];qe(st[0]+ee*u,st[1]+ee*u,st[2]+ee*u)}}r.addGroup(Ke,a.length/3-Ke,0)}function Ce(){const Ke=a.length/3;let et=0;Ue(J,et),et+=J.length;for(let st=0,Qe=U.length;st<Qe;st++){const At=U[st];Ue(At,et),et+=At.length}r.addGroup(Ke,a.length/3-Ke,1)}function Ue(Ke,et){let st=Ke.length;for(;--st>=0;){const Qe=st;let At=st-1;At<0&&(At=Ke.length-1);for(let xt=0,ue=u+v*2;xt<ue;xt++){const Ee=ee*xt,Ie=ee*(xt+1),ne=et+Qe+Ee,X=et+At+Ee,je=et+At+Ie,Re=et+Qe+Ie;rt(ne,X,je,Re)}}}function De(Ke,et,st){c.push(Ke),c.push(et),c.push(st)}function qe(Ke,et,st){$e(Ke),$e(et),$e(st);const Qe=a.length/3,At=A.generateTopUV(r,a,Qe-3,Qe-2,Qe-1);pe(At[0]),pe(At[1]),pe(At[2])}function rt(Ke,et,st,Qe){$e(Ke),$e(et),$e(Qe),$e(et),$e(st),$e(Qe);const At=a.length/3,xt=A.generateSideWallUV(r,a,At-6,At-3,At-2,At-1);pe(xt[0]),pe(xt[1]),pe(xt[3]),pe(xt[1]),pe(xt[2]),pe(xt[3])}function $e(Ke){a.push(c[Ke*3+0]),a.push(c[Ke*3+1]),a.push(c[Ke*3+2])}function pe(Ke){i.push(Ke.x),i.push(Ke.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),s=this.parameters.shapes,r=this.parameters.options;return MPe(s,r,e)}static fromJSON(e,s){const r=[];for(let i=0,o=e.shapes.length;i<o;i++){const l=s[e.shapes[i]];r.push(l)}const a=e.options.extrudePath;return a!==void 0&&(e.options.extrudePath=new EA[a.type]().fromJSON(a)),new NT(r,e.options)}}const EPe={generateTopUV:function(n,e,s,r,a){const i=e[s*3],o=e[s*3+1],l=e[r*3],c=e[r*3+1],d=e[a*3],u=e[a*3+1];return[new mt(i,o),new mt(l,c),new mt(d,u)]},generateSideWallUV:function(n,e,s,r,a,i){const o=e[s*3],l=e[s*3+1],c=e[s*3+2],d=e[r*3],u=e[r*3+1],h=e[r*3+2],m=e[a*3],y=e[a*3+1],N=e[a*3+2],j=e[i*3],v=e[i*3+1],b=e[i*3+2];return Math.abs(l-u)<Math.abs(o-d)?[new mt(o,1-c),new mt(d,1-h),new mt(m,1-N),new mt(j,1-b)]:[new mt(l,1-c),new mt(u,1-h),new mt(y,1-N),new mt(v,1-b)]}};function MPe(n,e,s){if(s.shapes=[],Array.isArray(n))for(let r=0,a=n.length;r<a;r++){const i=n[r];s.shapes.push(i.uuid)}else s.shapes.push(n.uuid);return s.options=Object.assign({},e),e.extrudePath!==void 0&&(s.options.extrudePath=e.extrudePath.toJSON()),s}class bw extends lm{constructor(e=1,s=0){const r=(1+Math.sqrt(5))/2,a=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],i=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(a,i,e,s),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:s}}static fromJSON(e){return new bw(e.radius,e.detail)}}class ST extends us{constructor(e=[new mt(0,-.5),new mt(.5,0),new mt(0,.5)],s=12,r=0,a=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:s,phiStart:r,phiLength:a},s=Math.floor(s),a=Wn(a,0,Math.PI*2);const i=[],o=[],l=[],c=[],d=[],u=1/s,h=new he,m=new mt,y=new he,N=new he,j=new he;let v=0,b=0;for(let A=0;A<=e.length-1;A++)switch(A){case 0:v=e[A+1].x-e[A].x,b=e[A+1].y-e[A].y,y.x=b*1,y.y=-v,y.z=b*0,j.copy(y),y.normalize(),c.push(y.x,y.y,y.z);break;case e.length-1:c.push(j.x,j.y,j.z);break;default:v=e[A+1].x-e[A].x,b=e[A+1].y-e[A].y,y.x=b*1,y.y=-v,y.z=b*0,N.copy(y),y.x+=j.x,y.y+=j.y,y.z+=j.z,y.normalize(),c.push(y.x,y.y,y.z),j.copy(N)}for(let A=0;A<=s;A++){const S=r+A*u*a,w=Math.sin(S),E=Math.cos(S);for(let T=0;T<=e.length-1;T++){h.x=e[T].x*w,h.y=e[T].y,h.z=e[T].x*E,o.push(h.x,h.y,h.z),m.x=A/s,m.y=T/(e.length-1),l.push(m.x,m.y);const P=c[3*T+0]*w,k=c[3*T+1],I=c[3*T+0]*E;d.push(P,k,I)}}for(let A=0;A<s;A++)for(let S=0;S<e.length-1;S++){const w=S+A*e.length,E=w,T=w+e.length,P=w+e.length+1,k=w+1;i.push(E,T,k),i.push(P,k,T)}this.setIndex(i),this.setAttribute("position",new un(o,3)),this.setAttribute("uv",new un(l,2)),this.setAttribute("normal",new un(d,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ST(e.points,e.segments,e.phiStart,e.phiLength)}}class jw extends lm{constructor(e=1,s=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],a=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,a,e,s),this.type="OctahedronGeometry",this.parameters={radius:e,detail:s}}static fromJSON(e){return new jw(e.radius,e.detail)}}class cm extends us{constructor(e=1,s=1,r=1,a=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:s,widthSegments:r,heightSegments:a};const i=e/2,o=s/2,l=Math.floor(r),c=Math.floor(a),d=l+1,u=c+1,h=e/l,m=s/c,y=[],N=[],j=[],v=[];for(let b=0;b<u;b++){const A=b*m-o;for(let S=0;S<d;S++){const w=S*h-i;N.push(w,-A,0),j.push(0,0,1),v.push(S/l),v.push(1-b/c)}}for(let b=0;b<c;b++)for(let A=0;A<l;A++){const S=A+d*b,w=A+d*(b+1),E=A+1+d*(b+1),T=A+1+d*b;y.push(S,w,T),y.push(w,E,T)}this.setIndex(y),this.setAttribute("position",new un(N,3)),this.setAttribute("normal",new un(j,3)),this.setAttribute("uv",new un(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cm(e.width,e.height,e.widthSegments,e.heightSegments)}}class _T extends us{constructor(e=.5,s=1,r=32,a=1,i=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:s,thetaSegments:r,phiSegments:a,thetaStart:i,thetaLength:o},r=Math.max(3,r),a=Math.max(1,a);const l=[],c=[],d=[],u=[];let h=e;const m=(s-e)/a,y=new he,N=new mt;for(let j=0;j<=a;j++){for(let v=0;v<=r;v++){const b=i+v/r*o;y.x=h*Math.cos(b),y.y=h*Math.sin(b),c.push(y.x,y.y,y.z),d.push(0,0,1),N.x=(y.x/s+1)/2,N.y=(y.y/s+1)/2,u.push(N.x,N.y)}h+=m}for(let j=0;j<a;j++){const v=j*(r+1);for(let b=0;b<r;b++){const A=b+v,S=A,w=A+r+1,E=A+r+2,T=A+1;l.push(S,w,T),l.push(w,E,T)}}this.setIndex(l),this.setAttribute("position",new un(c,3)),this.setAttribute("normal",new un(d,3)),this.setAttribute("uv",new un(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _T(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class AT extends us{constructor(e=new ix([new mt(0,.5),new mt(-.5,-.5),new mt(.5,-.5)]),s=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:s};const r=[],a=[],i=[],o=[];let l=0,c=0;if(Array.isArray(e)===!1)d(e);else for(let u=0;u<e.length;u++)d(e[u]),this.addGroup(l,c,u),l+=c,c=0;this.setIndex(r),this.setAttribute("position",new un(a,3)),this.setAttribute("normal",new un(i,3)),this.setAttribute("uv",new un(o,2));function d(u){const h=a.length/3,m=u.extractPoints(s);let y=m.shape;const N=m.holes;nd.isClockWise(y)===!1&&(y=y.reverse());for(let v=0,b=N.length;v<b;v++){const A=N[v];nd.isClockWise(A)===!0&&(N[v]=A.reverse())}const j=nd.triangulateShape(y,N);for(let v=0,b=N.length;v<b;v++){const A=N[v];y=y.concat(A)}for(let v=0,b=y.length;v<b;v++){const A=y[v];a.push(A.x,A.y,0),i.push(0,0,1),o.push(A.x,A.y)}for(let v=0,b=j.length;v<b;v++){const A=j[v],S=A[0]+h,w=A[1]+h,E=A[2]+h;r.push(S,w,E),c+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),s=this.parameters.shapes;return PPe(s,e)}static fromJSON(e,s){const r=[];for(let a=0,i=e.shapes.length;a<i;a++){const o=s[e.shapes[a]];r.push(o)}return new AT(r,e.curveSegments)}}function PPe(n,e){if(e.shapes=[],Array.isArray(n))for(let s=0,r=n.length;s<r;s++){const a=n[s];e.shapes.push(a.uuid)}else e.shapes.push(n.uuid);return e}class ww extends us{constructor(e=1,s=32,r=16,a=0,i=Math.PI*2,o=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:s,heightSegments:r,phiStart:a,phiLength:i,thetaStart:o,thetaLength:l},s=Math.max(3,Math.floor(s)),r=Math.max(2,Math.floor(r));const c=Math.min(o+l,Math.PI);let d=0;const u=[],h=new he,m=new he,y=[],N=[],j=[],v=[];for(let b=0;b<=r;b++){const A=[],S=b/r;let w=0;b===0&&o===0?w=.5/s:b===r&&c===Math.PI&&(w=-.5/s);for(let E=0;E<=s;E++){const T=E/s;h.x=-e*Math.cos(a+T*i)*Math.sin(o+S*l),h.y=e*Math.cos(o+S*l),h.z=e*Math.sin(a+T*i)*Math.sin(o+S*l),N.push(h.x,h.y,h.z),m.copy(h).normalize(),j.push(m.x,m.y,m.z),v.push(T+w,1-S),A.push(d++)}u.push(A)}for(let b=0;b<r;b++)for(let A=0;A<s;A++){const S=u[b][A+1],w=u[b][A],E=u[b+1][A],T=u[b+1][A+1];(b!==0||o>0)&&y.push(S,w,T),(b!==r-1||c<Math.PI)&&y.push(w,E,T)}this.setIndex(y),this.setAttribute("position",new un(N,3)),this.setAttribute("normal",new un(j,3)),this.setAttribute("uv",new un(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ww(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class CT extends lm{constructor(e=1,s=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],a=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,a,e,s),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:s}}static fromJSON(e){return new CT(e.radius,e.detail)}}class TT extends us{constructor(e=1,s=.4,r=12,a=48,i=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:s,radialSegments:r,tubularSegments:a,arc:i},r=Math.floor(r),a=Math.floor(a);const o=[],l=[],c=[],d=[],u=new he,h=new he,m=new he;for(let y=0;y<=r;y++)for(let N=0;N<=a;N++){const j=N/a*i,v=y/r*Math.PI*2;h.x=(e+s*Math.cos(v))*Math.cos(j),h.y=(e+s*Math.cos(v))*Math.sin(j),h.z=s*Math.sin(v),l.push(h.x,h.y,h.z),u.x=e*Math.cos(j),u.y=e*Math.sin(j),m.subVectors(h,u).normalize(),c.push(m.x,m.y,m.z),d.push(N/a),d.push(y/r)}for(let y=1;y<=r;y++)for(let N=1;N<=a;N++){const j=(a+1)*y+N-1,v=(a+1)*(y-1)+N-1,b=(a+1)*(y-1)+N,A=(a+1)*y+N;o.push(j,v,A),o.push(v,b,A)}this.setIndex(o),this.setAttribute("position",new un(l,3)),this.setAttribute("normal",new un(c,3)),this.setAttribute("uv",new un(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new TT(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class ET extends us{constructor(e=1,s=.4,r=64,a=8,i=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:s,tubularSegments:r,radialSegments:a,p:i,q:o},r=Math.floor(r),a=Math.floor(a);const l=[],c=[],d=[],u=[],h=new he,m=new he,y=new he,N=new he,j=new he,v=new he,b=new he;for(let S=0;S<=r;++S){const w=S/r*i*Math.PI*2;A(w,i,o,e,y),A(w+.01,i,o,e,N),v.subVectors(N,y),b.addVectors(N,y),j.crossVectors(v,b),b.crossVectors(j,v),j.normalize(),b.normalize();for(let E=0;E<=a;++E){const T=E/a*Math.PI*2,P=-s*Math.cos(T),k=s*Math.sin(T);h.x=y.x+(P*b.x+k*j.x),h.y=y.y+(P*b.y+k*j.y),h.z=y.z+(P*b.z+k*j.z),c.push(h.x,h.y,h.z),m.subVectors(h,y).normalize(),d.push(m.x,m.y,m.z),u.push(S/r),u.push(E/a)}}for(let S=1;S<=r;S++)for(let w=1;w<=a;w++){const E=(a+1)*(S-1)+(w-1),T=(a+1)*S+(w-1),P=(a+1)*S+w,k=(a+1)*(S-1)+w;l.push(E,T,k),l.push(T,P,k)}this.setIndex(l),this.setAttribute("position",new un(c,3)),this.setAttribute("normal",new un(d,3)),this.setAttribute("uv",new un(u,2));function A(S,w,E,T,P){const k=Math.cos(S),I=Math.sin(S),L=E/w*S,U=Math.cos(L);P.x=T*(2+U)*.5*k,P.y=T*(2+U)*I*.5,P.z=T*Math.sin(L)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ET(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class MT extends us{constructor(e=new UD(new he(-1,-1,0),new he(-1,1,0),new he(1,1,0)),s=64,r=1,a=8,i=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:s,radius:r,radialSegments:a,closed:i};const o=e.computeFrenetFrames(s,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const l=new he,c=new he,d=new mt;let u=new he;const h=[],m=[],y=[],N=[];j(),this.setIndex(N),this.setAttribute("position",new un(h,3)),this.setAttribute("normal",new un(m,3)),this.setAttribute("uv",new un(y,2));function j(){for(let S=0;S<s;S++)v(S);v(i===!1?s:0),A(),b()}function v(S){u=e.getPointAt(S/s,u);const w=o.normals[S],E=o.binormals[S];for(let T=0;T<=a;T++){const P=T/a*Math.PI*2,k=Math.sin(P),I=-Math.cos(P);c.x=I*w.x+k*E.x,c.y=I*w.y+k*E.y,c.z=I*w.z+k*E.z,c.normalize(),m.push(c.x,c.y,c.z),l.x=u.x+r*c.x,l.y=u.y+r*c.y,l.z=u.z+r*c.z,h.push(l.x,l.y,l.z)}}function b(){for(let S=1;S<=s;S++)for(let w=1;w<=a;w++){const E=(a+1)*(S-1)+(w-1),T=(a+1)*S+(w-1),P=(a+1)*S+w,k=(a+1)*(S-1)+w;N.push(E,T,k),N.push(T,P,k)}}function A(){for(let S=0;S<=s;S++)for(let w=0;w<=a;w++)d.x=S/s,d.y=w/a,y.push(d.x,d.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new MT(new EA[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class BD extends us{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const s=[],r=new Set,a=new he,i=new he;if(e.index!==null){const o=e.attributes.position,l=e.index;let c=e.groups;c.length===0&&(c=[{start:0,count:l.count,materialIndex:0}]);for(let d=0,u=c.length;d<u;++d){const h=c[d],m=h.start,y=h.count;for(let N=m,j=m+y;N<j;N+=3)for(let v=0;v<3;v++){const b=l.getX(N+v),A=l.getX(N+(v+1)%3);a.fromBufferAttribute(o,b),i.fromBufferAttribute(o,A),h7(a,i,r)===!0&&(s.push(a.x,a.y,a.z),s.push(i.x,i.y,i.z))}}}else{const o=e.attributes.position;for(let l=0,c=o.count/3;l<c;l++)for(let d=0;d<3;d++){const u=3*l+d,h=3*l+(d+1)%3;a.fromBufferAttribute(o,u),i.fromBufferAttribute(o,h),h7(a,i,r)===!0&&(s.push(a.x,a.y,a.z),s.push(i.x,i.y,i.z))}}this.setAttribute("position",new un(s,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function h7(n,e,s){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,a=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return s.has(r)===!0||s.has(a)===!0?!1:(s.add(r),s.add(a),!0)}var f7=Object.freeze({__proto__:null,BoxGeometry:Ix,CapsuleGeometry:yT,CircleGeometry:bT,ConeGeometry:yw,CylinderGeometry:vw,DodecahedronGeometry:jT,EdgesGeometry:Kee,ExtrudeGeometry:NT,IcosahedronGeometry:bw,LatheGeometry:ST,OctahedronGeometry:jw,PlaneGeometry:cm,PolyhedronGeometry:lm,RingGeometry:_T,ShapeGeometry:AT,SphereGeometry:ww,TetrahedronGeometry:CT,TorusGeometry:TT,TorusKnotGeometry:ET,TubeGeometry:MT,WireframeGeometry:BD});class rte extends no{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new nn(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class ate extends Ao{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class VD extends no{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new nn(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new nn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=om,this.normalScale=new mt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ml,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class HD extends VD{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new mt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Wn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(s){this.ior=(1+.4*s)/(1-.4*s)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new nn(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new nn(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new nn(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class ite extends no{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new nn(16777215),this.specular=new nn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new nn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=om,this.normalScale=new mt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ml,this.combine=hw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ote extends no{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new nn(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new nn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=om,this.normalScale=new mt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class lte extends no{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=om,this.normalScale=new mt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class cte extends no{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new nn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new nn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=om,this.normalScale=new mt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ml,this.combine=hw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class GD extends no{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Nee,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class $D extends no{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class dte extends no{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new nn(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=om,this.normalScale=new mt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ute extends To{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function $p(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function hte(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function fte(n){function e(a,i){return n[a]-n[i]}const s=n.length,r=new Array(s);for(let a=0;a!==s;++a)r[a]=a;return r.sort(e),r}function X5(n,e,s){const r=n.length,a=new n.constructor(r);for(let i=0,o=0;o!==r;++i){const l=s[i]*e;for(let c=0;c!==e;++c)a[o++]=n[l+c]}return a}function qD(n,e,s,r){let a=1,i=n[0];for(;i!==void 0&&i[r]===void 0;)i=n[a++];if(i===void 0)return;let o=i[r];if(o!==void 0)if(Array.isArray(o))do o=i[r],o!==void 0&&(e.push(i.time),s.push(...o)),i=n[a++];while(i!==void 0);else if(o.toArray!==void 0)do o=i[r],o!==void 0&&(e.push(i.time),o.toArray(s,s.length)),i=n[a++];while(i!==void 0);else do o=i[r],o!==void 0&&(e.push(i.time),s.push(o)),i=n[a++];while(i!==void 0)}function RPe(n,e,s,r,a=30){const i=n.clone();i.name=e;const o=[];for(let c=0;c<i.tracks.length;++c){const d=i.tracks[c],u=d.getValueSize(),h=[],m=[];for(let y=0;y<d.times.length;++y){const N=d.times[y]*a;if(!(N<s||N>=r)){h.push(d.times[y]);for(let j=0;j<u;++j)m.push(d.values[y*u+j])}}h.length!==0&&(d.times=$p(h,d.times.constructor),d.values=$p(m,d.values.constructor),o.push(d))}i.tracks=o;let l=1/0;for(let c=0;c<i.tracks.length;++c)l>i.tracks[c].times[0]&&(l=i.tracks[c].times[0]);for(let c=0;c<i.tracks.length;++c)i.tracks[c].shift(-1*l);return i.resetDuration(),i}function OPe(n,e=0,s=n,r=30){r<=0&&(r=30);const a=s.tracks.length,i=e/r;for(let o=0;o<a;++o){const l=s.tracks[o],c=l.ValueTypeName;if(c==="bool"||c==="string")continue;const d=n.tracks.find(function(b){return b.name===l.name&&b.ValueTypeName===c});if(d===void 0)continue;let u=0;const h=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=h/3);let m=0;const y=d.getValueSize();d.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=y/3);const N=l.times.length-1;let j;if(i<=l.times[0]){const b=u,A=h-u;j=l.values.slice(b,A)}else if(i>=l.times[N]){const b=N*h+u,A=b+h-u;j=l.values.slice(b,A)}else{const b=l.createInterpolant(),A=u,S=h-u;b.evaluate(i),j=b.resultBuffer.slice(A,S)}c==="quaternion"&&new to().fromArray(j).normalize().conjugate().toArray(j);const v=d.times.length;for(let b=0;b<v;++b){const A=b*y+m;if(c==="quaternion")to.multiplyQuaternionsFlat(d.values,A,j,0,d.values,A);else{const S=y-m*2;for(let w=0;w<S;++w)d.values[A+w]-=j[w]}}}return n.blendMode=wD,n}class kPe{static convertArray(e,s){return $p(e,s)}static isTypedArray(e){return hte(e)}static getKeyframeOrder(e){return fte(e)}static sortedArray(e,s,r){return X5(e,s,r)}static flattenJSON(e,s,r,a){qD(e,s,r,a)}static subclip(e,s,r,a,i=30){return RPe(e,s,r,a,i)}static makeClipAdditive(e,s=0,r=e,a=30){return OPe(e,s,r,a)}}class Nw{constructor(e,s,r,a){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=a!==void 0?a:new s.constructor(r),this.sampleValues=s,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const s=this.parameterPositions;let r=this._cachedIndex,a=s[r],i=s[r-1];e:{t:{let o;n:{s:if(!(e<a)){for(let l=r+2;;){if(a===void 0){if(e<i)break s;return r=s.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===l)break;if(i=a,a=s[++r],e<a)break t}o=s.length;break n}if(!(e>=i)){const l=s[1];e<l&&(r=2,i=l);for(let c=r-2;;){if(i===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===c)break;if(a=i,i=s[--r-1],e>=i)break t}o=r,r=0;break n}break e}for(;r<o;){const l=r+o>>>1;e<s[l]?o=l:r=l+1}if(a=s[r],i=s[r-1],i===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(a===void 0)return r=s.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,i,a)}return this.interpolate_(r,i,e,a)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const s=this.resultBuffer,r=this.sampleValues,a=this.valueSize,i=e*a;for(let o=0;o!==a;++o)s[o]=r[i+o];return s}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class mte extends Nw{constructor(e,s,r,a){super(e,s,r,a),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Vp,endingEnd:Vp}}intervalChanged_(e,s,r){const a=this.parameterPositions;let i=e-2,o=e+1,l=a[i],c=a[o];if(l===void 0)switch(this.getSettings_().endingStart){case Hp:i=e,l=2*s-r;break;case R1:i=a.length-2,l=s+a[i]-a[i+1];break;default:i=e,l=r}if(c===void 0)switch(this.getSettings_().endingEnd){case Hp:o=e,c=2*r-s;break;case R1:o=1,c=r+a[1]-a[0];break;default:o=e-1,c=s}const d=(r-s)*.5,u=this.valueSize;this._weightPrev=d/(s-l),this._weightNext=d/(c-r),this._offsetPrev=i*u,this._offsetNext=o*u}interpolate_(e,s,r,a){const i=this.resultBuffer,o=this.sampleValues,l=this.valueSize,c=e*l,d=c-l,u=this._offsetPrev,h=this._offsetNext,m=this._weightPrev,y=this._weightNext,N=(r-s)/(a-s),j=N*N,v=j*N,b=-m*v+2*m*j-m*N,A=(1+m)*v+(-1.5-2*m)*j+(-.5+m)*N+1,S=(-1-y)*v+(1.5+y)*j+.5*N,w=y*v-y*j;for(let E=0;E!==l;++E)i[E]=b*o[u+E]+A*o[d+E]+S*o[c+E]+w*o[h+E];return i}}class WD extends Nw{constructor(e,s,r,a){super(e,s,r,a)}interpolate_(e,s,r,a){const i=this.resultBuffer,o=this.sampleValues,l=this.valueSize,c=e*l,d=c-l,u=(r-s)/(a-s),h=1-u;for(let m=0;m!==l;++m)i[m]=o[d+m]*h+o[c+m]*u;return i}}class pte extends Nw{constructor(e,s,r,a){super(e,s,r,a)}interpolate_(e){return this.copySampleValue_(e-1)}}class uc{constructor(e,s,r,a){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(s===void 0||s.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=$p(s,this.TimeBufferType),this.values=$p(r,this.ValueBufferType),this.setInterpolation(a||this.DefaultInterpolation)}static toJSON(e){const s=e.constructor;let r;if(s.toJSON!==this.toJSON)r=s.toJSON(e);else{r={name:e.name,times:$p(e.times,Array),values:$p(e.values,Array)};const a=e.getInterpolation();a!==e.DefaultInterpolation&&(r.interpolation=a)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new pte(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new WD(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new mte(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let s;switch(e){case P1:s=this.InterpolantFactoryMethodDiscrete;break;case _A:s=this.InterpolantFactoryMethodLinear;break;case u_:s=this.InterpolantFactoryMethodSmooth;break}if(s===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=s,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return P1;case this.InterpolantFactoryMethodLinear:return _A;case this.InterpolantFactoryMethodSmooth:return u_}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const s=this.times;for(let r=0,a=s.length;r!==a;++r)s[r]+=e}return this}scale(e){if(e!==1){const s=this.times;for(let r=0,a=s.length;r!==a;++r)s[r]*=e}return this}trim(e,s){const r=this.times,a=r.length;let i=0,o=a-1;for(;i!==a&&r[i]<e;)++i;for(;o!==-1&&r[o]>s;)--o;if(++o,i!==0||o!==a){i>=o&&(o=Math.max(o,1),i=o-1);const l=this.getValueSize();this.times=r.slice(i,o),this.values=this.values.slice(i*l,o*l)}return this}validate(){let e=!0;const s=this.getValueSize();s-Math.floor(s)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,a=this.values,i=r.length;i===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let l=0;l!==i;l++){const c=r[l];if(typeof c=="number"&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,c),e=!1;break}if(o!==null&&o>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,c,o),e=!1;break}o=c}if(a!==void 0&&hte(a))for(let l=0,c=a.length;l!==c;++l){const d=a[l];if(isNaN(d)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,d),e=!1;break}}return e}optimize(){const e=this.times.slice(),s=this.values.slice(),r=this.getValueSize(),a=this.getInterpolation()===u_,i=e.length-1;let o=1;for(let l=1;l<i;++l){let c=!1;const d=e[l],u=e[l+1];if(d!==u&&(l!==1||d!==e[0]))if(a)c=!0;else{const h=l*r,m=h-r,y=h+r;for(let N=0;N!==r;++N){const j=s[h+N];if(j!==s[m+N]||j!==s[y+N]){c=!0;break}}}if(c){if(l!==o){e[o]=e[l];const h=l*r,m=o*r;for(let y=0;y!==r;++y)s[m+y]=s[h+y]}++o}}if(i>0){e[o]=e[i];for(let l=i*r,c=o*r,d=0;d!==r;++d)s[c+d]=s[l+d];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=s.slice(0,o*r)):(this.times=e,this.values=s),this}clone(){const e=this.times.slice(),s=this.values.slice(),r=this.constructor,a=new r(this.name,e,s);return a.createInterpolant=this.createInterpolant,a}}uc.prototype.ValueTypeName="";uc.prototype.TimeBufferType=Float32Array;uc.prototype.ValueBufferType=Float32Array;uc.prototype.DefaultInterpolation=_A;class Dx extends uc{constructor(e,s,r){super(e,s,r)}}Dx.prototype.ValueTypeName="bool";Dx.prototype.ValueBufferType=Array;Dx.prototype.DefaultInterpolation=P1;Dx.prototype.InterpolantFactoryMethodLinear=void 0;Dx.prototype.InterpolantFactoryMethodSmooth=void 0;class KD extends uc{constructor(e,s,r,a){super(e,s,r,a)}}KD.prototype.ValueTypeName="color";class z1 extends uc{constructor(e,s,r,a){super(e,s,r,a)}}z1.prototype.ValueTypeName="number";class xte extends Nw{constructor(e,s,r,a){super(e,s,r,a)}interpolate_(e,s,r,a){const i=this.resultBuffer,o=this.sampleValues,l=this.valueSize,c=(r-s)/(a-s);let d=e*l;for(let u=d+l;d!==u;d+=4)to.slerpFlat(i,0,o,d-l,o,d,c);return i}}class Sw extends uc{constructor(e,s,r,a){super(e,s,r,a)}InterpolantFactoryMethodLinear(e){return new xte(this.times,this.values,this.getValueSize(),e)}}Sw.prototype.ValueTypeName="quaternion";Sw.prototype.InterpolantFactoryMethodSmooth=void 0;class Lx extends uc{constructor(e,s,r){super(e,s,r)}}Lx.prototype.ValueTypeName="string";Lx.prototype.ValueBufferType=Array;Lx.prototype.DefaultInterpolation=P1;Lx.prototype.InterpolantFactoryMethodLinear=void 0;Lx.prototype.InterpolantFactoryMethodSmooth=void 0;class B1 extends uc{constructor(e,s,r,a){super(e,s,r,a)}}B1.prototype.ValueTypeName="vector";class V1{constructor(e="",s=-1,r=[],a=cT){this.name=e,this.tracks=r,this.duration=s,this.blendMode=a,this.uuid=Cl(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const s=[],r=e.tracks,a=1/(e.fps||1);for(let o=0,l=r.length;o!==l;++o)s.push(DPe(r[o]).scale(a));const i=new this(e.name,e.duration,s,e.blendMode);return i.uuid=e.uuid,i.userData=JSON.parse(e.userData||"{}"),i}static toJSON(e){const s=[],r=e.tracks,a={name:e.name,duration:e.duration,tracks:s,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let i=0,o=r.length;i!==o;++i)s.push(uc.toJSON(r[i]));return a}static CreateFromMorphTargetSequence(e,s,r,a){const i=s.length,o=[];for(let l=0;l<i;l++){let c=[],d=[];c.push((l+i-1)%i,l,(l+1)%i),d.push(0,1,0);const u=fte(c);c=X5(c,1,u),d=X5(d,1,u),!a&&c[0]===0&&(c.push(i),d.push(d[0])),o.push(new z1(".morphTargetInfluences["+s[l].name+"]",c,d).scale(1/r))}return new this(e,-1,o)}static findByName(e,s){let r=e;if(!Array.isArray(e)){const a=e;r=a.geometry&&a.geometry.animations||a.animations}for(let a=0;a<r.length;a++)if(r[a].name===s)return r[a];return null}static CreateClipsFromMorphTargetSequences(e,s,r){const a={},i=/^([\w-]*?)([\d]+)$/;for(let l=0,c=e.length;l<c;l++){const d=e[l],u=d.name.match(i);if(u&&u.length>1){const h=u[1];let m=a[h];m||(a[h]=m=[]),m.push(d)}}const o=[];for(const l in a)o.push(this.CreateFromMorphTargetSequence(l,a[l],s,r));return o}static parseAnimation(e,s){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(h,m,y,N,j){if(y.length!==0){const v=[],b=[];qD(y,v,b,N),v.length!==0&&j.push(new h(m,v,b))}},a=[],i=e.name||"default",o=e.fps||30,l=e.blendMode;let c=e.length||-1;const d=e.hierarchy||[];for(let h=0;h<d.length;h++){const m=d[h].keys;if(!(!m||m.length===0))if(m[0].morphTargets){const y={};let N;for(N=0;N<m.length;N++)if(m[N].morphTargets)for(let j=0;j<m[N].morphTargets.length;j++)y[m[N].morphTargets[j]]=-1;for(const j in y){const v=[],b=[];for(let A=0;A!==m[N].morphTargets.length;++A){const S=m[N];v.push(S.time),b.push(S.morphTarget===j?1:0)}a.push(new z1(".morphTargetInfluence["+j+"]",v,b))}c=y.length*o}else{const y=".bones["+s[h].name+"]";r(B1,y+".position",m,"pos",a),r(Sw,y+".quaternion",m,"rot",a),r(B1,y+".scale",m,"scl",a)}}return a.length===0?null:new this(i,c,a,l)}resetDuration(){const e=this.tracks;let s=0;for(let r=0,a=e.length;r!==a;++r){const i=this.tracks[r];s=Math.max(s,i.times[i.times.length-1])}return this.duration=s,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let s=0;s<this.tracks.length;s++)e=e&&this.tracks[s].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let r=0;r<this.tracks.length;r++)e.push(this.tracks[r].clone());const s=new this.constructor(this.name,this.duration,e,this.blendMode);return s.userData=JSON.parse(JSON.stringify(this.userData)),s}toJSON(){return this.constructor.toJSON(this)}}function IPe(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return z1;case"vector":case"vector2":case"vector3":case"vector4":return B1;case"color":return KD;case"quaternion":return Sw;case"bool":case"boolean":return Dx;case"string":return Lx}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function DPe(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=IPe(n.type);if(n.times===void 0){const s=[],r=[];qD(n.keys,s,r,"value"),n.times=s,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const qd={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class PT{constructor(e,s,r){const a=this;let i=!1,o=0,l=0,c;const d=[];this.onStart=void 0,this.onLoad=e,this.onProgress=s,this.onError=r,this.abortController=new AbortController,this.itemStart=function(u){l++,i===!1&&a.onStart!==void 0&&a.onStart(u,o,l),i=!0},this.itemEnd=function(u){o++,a.onProgress!==void 0&&a.onProgress(u,o,l),o===l&&(i=!1,a.onLoad!==void 0&&a.onLoad())},this.itemError=function(u){a.onError!==void 0&&a.onError(u)},this.resolveURL=function(u){return c?c(u):u},this.setURLModifier=function(u){return c=u,this},this.addHandler=function(u,h){return d.push(u,h),this},this.removeHandler=function(u){const h=d.indexOf(u);return h!==-1&&d.splice(h,2),this},this.getHandler=function(u){for(let h=0,m=d.length;h<m;h+=2){const y=d[h],N=d[h+1];if(y.global&&(y.lastIndex=0),y.test(u))return N}return null},this.abort=function(){return this.abortController.abort(),this.abortController=new AbortController,this}}}const gte=new PT;class Eo{constructor(e){this.manager=e!==void 0?e:gte,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,s){const r=this;return new Promise(function(a,i){r.load(e,a,s,i)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}Eo.DEFAULT_MATERIAL_NAME="__DEFAULT";const th={};class LPe extends Error{constructor(e,s){super(e),this.response=s}}class Tl extends Eo{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,s,r,a){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const i=qd.get(`file:${e}`);if(i!==void 0)return this.manager.itemStart(e),setTimeout(()=>{s&&s(i),this.manager.itemEnd(e)},0),i;if(th[e]!==void 0){th[e].push({onLoad:s,onProgress:r,onError:a});return}th[e]=[],th[e].push({onLoad:s,onProgress:r,onError:a});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),l=this.mimeType,c=this.responseType;fetch(o).then(d=>{if(d.status===200||d.status===0){if(d.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||d.body===void 0||d.body.getReader===void 0)return d;const u=th[e],h=d.body.getReader(),m=d.headers.get("X-File-Size")||d.headers.get("Content-Length"),y=m?parseInt(m):0,N=y!==0;let j=0;const v=new ReadableStream({start(b){A();function A(){h.read().then(({done:S,value:w})=>{if(S)b.close();else{j+=w.byteLength;const E=new ProgressEvent("progress",{lengthComputable:N,loaded:j,total:y});for(let T=0,P=u.length;T<P;T++){const k=u[T];k.onProgress&&k.onProgress(E)}b.enqueue(w),A()}},S=>{b.error(S)})}}});return new Response(v)}else throw new LPe(`fetch for "${d.url}" responded with ${d.status}: ${d.statusText}`,d)}).then(d=>{switch(c){case"arraybuffer":return d.arrayBuffer();case"blob":return d.blob();case"document":return d.text().then(u=>new DOMParser().parseFromString(u,l));case"json":return d.json();default:if(l==="")return d.text();{const h=/charset="?([^;"\s]*)"?/i.exec(l),m=h&&h[1]?h[1].toLowerCase():void 0,y=new TextDecoder(m);return d.arrayBuffer().then(N=>y.decode(N))}}}).then(d=>{qd.add(`file:${e}`,d);const u=th[e];delete th[e];for(let h=0,m=u.length;h<m;h++){const y=u[h];y.onLoad&&y.onLoad(d)}}).catch(d=>{const u=th[e];if(u===void 0)throw this.manager.itemError(e),d;delete th[e];for(let h=0,m=u.length;h<m;h++){const y=u[h];y.onError&&y.onError(d)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class FPe extends Eo{constructor(e){super(e)}load(e,s,r,a){const i=this,o=new Tl(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{s(i.parse(JSON.parse(l)))}catch(c){a?a(c):console.error(c),i.manager.itemError(e)}},r,a)}parse(e){const s=[];for(let r=0;r<e.length;r++){const a=V1.parse(e[r]);s.push(a)}return s}}class UPe extends Eo{constructor(e){super(e)}load(e,s,r,a){const i=this,o=[],l=new vT,c=new Tl(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(i.withCredentials);let d=0;function u(h){c.load(e[h],function(m){const y=i.parse(m,!0);o[h]={width:y.width,height:y.height,format:y.format,mipmaps:y.mipmaps},d+=1,d===6&&(y.mipmapCount===1&&(l.minFilter=ir),l.image=o,l.format=y.format,l.needsUpdate=!0,s&&s(l))},r,a)}if(Array.isArray(e))for(let h=0,m=e.length;h<m;++h)u(h);else c.load(e,function(h){const m=i.parse(h,!0);if(m.isCubemap){const y=m.mipmaps.length/m.mipmapCount;for(let N=0;N<y;N++){o[N]={mipmaps:[]};for(let j=0;j<m.mipmapCount;j++)o[N].mipmaps.push(m.mipmaps[N*m.mipmapCount+j]),o[N].format=m.format,o[N].width=m.width,o[N].height=m.height}l.image=o}else l.image.width=m.width,l.image.height=m.height,l.mipmaps=m.mipmaps;m.mipmapCount===1&&(l.minFilter=ir),l.format=m.format,l.needsUpdate=!0,s&&s(l)},r,a);return l}}const xv=new WeakMap;class H1 extends Eo{constructor(e){super(e)}load(e,s,r,a){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,o=qd.get(`image:${e}`);if(o!==void 0){if(o.complete===!0)i.manager.itemStart(e),setTimeout(function(){s&&s(o),i.manager.itemEnd(e)},0);else{let h=xv.get(o);h===void 0&&(h=[],xv.set(o,h)),h.push({onLoad:s,onError:a})}return o}const l=I1("img");function c(){u(),s&&s(this);const h=xv.get(this)||[];for(let m=0;m<h.length;m++){const y=h[m];y.onLoad&&y.onLoad(this)}xv.delete(this),i.manager.itemEnd(e)}function d(h){u(),a&&a(h),qd.remove(`image:${e}`);const m=xv.get(this)||[];for(let y=0;y<m.length;y++){const N=m[y];N.onError&&N.onError(h)}xv.delete(this),i.manager.itemError(e),i.manager.itemEnd(e)}function u(){l.removeEventListener("load",c,!1),l.removeEventListener("error",d,!1)}return l.addEventListener("load",c,!1),l.addEventListener("error",d,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),qd.add(`image:${e}`,l),i.manager.itemStart(e),l.src=e,l}}class vte extends Eo{constructor(e){super(e)}load(e,s,r,a){const i=new xw;i.colorSpace=Mi;const o=new H1(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let l=0;function c(d){o.load(e[d],function(u){i.images[d]=u,l++,l===6&&(i.needsUpdate=!0,s&&s(i))},void 0,a)}for(let d=0;d<e.length;++d)c(d);return i}}class XD extends Eo{constructor(e){super(e)}load(e,s,r,a){const i=this,o=new rd,l=new Tl(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(i.withCredentials),l.load(e,function(c){let d;try{d=i.parse(c)}catch(u){if(a!==void 0)a(u);else{console.error(u);return}}d.image!==void 0?o.image=d.image:d.data!==void 0&&(o.image.width=d.width,o.image.height=d.height,o.image.data=d.data),o.wrapS=d.wrapS!==void 0?d.wrapS:Ma,o.wrapT=d.wrapT!==void 0?d.wrapT:Ma,o.magFilter=d.magFilter!==void 0?d.magFilter:ir,o.minFilter=d.minFilter!==void 0?d.minFilter:ir,o.anisotropy=d.anisotropy!==void 0?d.anisotropy:1,d.colorSpace!==void 0&&(o.colorSpace=d.colorSpace),d.flipY!==void 0&&(o.flipY=d.flipY),d.format!==void 0&&(o.format=d.format),d.type!==void 0&&(o.type=d.type),d.mipmaps!==void 0&&(o.mipmaps=d.mipmaps,o.minFilter=$d),d.mipmapCount===1&&(o.minFilter=ir),d.generateMipmaps!==void 0&&(o.generateMipmaps=d.generateMipmaps),o.needsUpdate=!0,s&&s(o,d)},r,a),o}}class zPe extends Eo{constructor(e){super(e)}load(e,s,r,a){const i=new fr,o=new H1(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(l){i.image=l,i.needsUpdate=!0,s!==void 0&&s(i)},r,a),i}}class dm extends Ls{constructor(e,s=1){super(),this.isLight=!0,this.type="Light",this.color=new nn(e),this.intensity=s}dispose(){}copy(e,s){return super.copy(e,s),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const s=super.toJSON(e);return s.object.color=this.color.getHex(),s.object.intensity=this.intensity,this.groundColor!==void 0&&(s.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(s.object.distance=this.distance),this.angle!==void 0&&(s.object.angle=this.angle),this.decay!==void 0&&(s.object.decay=this.decay),this.penumbra!==void 0&&(s.object.penumbra=this.penumbra),this.shadow!==void 0&&(s.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(s.object.target=this.target.uuid),s}}class yte extends dm{constructor(e,s,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ls.DEFAULT_UP),this.updateMatrix(),this.groundColor=new nn(s)}copy(e,s){return super.copy(e,s),this.groundColor.copy(e.groundColor),this}}const e3=new Kn,m7=new he,p7=new he;class ZD{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new mt(512,512),this.mapType=_o,this.map=null,this.mapPass=null,this.matrix=new Kn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new my,this._frameExtents=new mt(1,1),this._viewportCount=1,this._viewports=[new js(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const s=this.camera,r=this.matrix;m7.setFromMatrixPosition(e.matrixWorld),s.position.copy(m7),p7.setFromMatrixPosition(e.target.matrixWorld),s.lookAt(p7),s.updateMatrixWorld(),e3.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),this._frustum.setFromProjectionMatrix(e3,s.coordinateSystem,s.reversedDepth),s.reversedDepth?r.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(e3)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class BPe extends ZD{constructor(){super(new Zr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const s=this.camera,r=V0*2*e.angle*this.focus,a=this.mapSize.width/this.mapSize.height*this.aspect,i=e.distance||s.far;(r!==s.fov||a!==s.aspect||i!==s.far)&&(s.fov=r,s.aspect=a,s.far=i,s.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class bte extends dm{constructor(e,s,r=0,a=Math.PI/3,i=0,o=2){super(e,s),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ls.DEFAULT_UP),this.updateMatrix(),this.target=new Ls,this.distance=r,this.angle=a,this.penumbra=i,this.decay=o,this.map=null,this.shadow=new BPe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,s){return super.copy(e,s),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const x7=new Kn,Qb=new he,t3=new he;class VPe extends ZD{constructor(){super(new Zr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new mt(4,2),this._viewportCount=6,this._viewports=[new js(2,1,1,1),new js(0,1,1,1),new js(3,1,1,1),new js(1,1,1,1),new js(3,0,1,1),new js(1,0,1,1)],this._cubeDirections=[new he(1,0,0),new he(-1,0,0),new he(0,0,1),new he(0,0,-1),new he(0,1,0),new he(0,-1,0)],this._cubeUps=[new he(0,1,0),new he(0,1,0),new he(0,1,0),new he(0,1,0),new he(0,0,1),new he(0,0,-1)]}updateMatrices(e,s=0){const r=this.camera,a=this.matrix,i=e.distance||r.far;i!==r.far&&(r.far=i,r.updateProjectionMatrix()),Qb.setFromMatrixPosition(e.matrixWorld),r.position.copy(Qb),t3.copy(r.position),t3.add(this._cubeDirections[s]),r.up.copy(this._cubeUps[s]),r.lookAt(t3),r.updateMatrixWorld(),a.makeTranslation(-Qb.x,-Qb.y,-Qb.z),x7.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(x7,r.coordinateSystem,r.reversedDepth)}}class jte extends dm{constructor(e,s,r=0,a=2){super(e,s),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=a,this.shadow=new VPe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,s){return super.copy(e,s),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class ad extends hT{constructor(e=-1,s=1,r=1,a=-1,i=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=s,this.top=r,this.bottom=a,this.near=i,this.far=o,this.updateProjectionMatrix()}copy(e,s){return super.copy(e,s),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,s,r,a,i,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=s,this.view.offsetX=r,this.view.offsetY=a,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),s=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,a=(this.top+this.bottom)/2;let i=r-e,o=r+e,l=a+s,c=a-s;if(this.view!==null&&this.view.enabled){const d=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=d*this.view.offsetX,o=i+d*this.view.width,l-=u*this.view.offsetY,c=l-u*this.view.height}this.projectionMatrix.makeOrthographic(i,o,l,c,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const s=super.toJSON(e);return s.object.zoom=this.zoom,s.object.left=this.left,s.object.right=this.right,s.object.top=this.top,s.object.bottom=this.bottom,s.object.near=this.near,s.object.far=this.far,this.view!==null&&(s.object.view=Object.assign({},this.view)),s}}class HPe extends ZD{constructor(){super(new ad(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class wte extends dm{constructor(e,s){super(e,s),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ls.DEFAULT_UP),this.updateMatrix(),this.target=new Ls,this.shadow=new HPe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Nte extends dm{constructor(e,s){super(e,s),this.isAmbientLight=!0,this.type="AmbientLight"}}class Ste extends dm{constructor(e,s,r=10,a=10){super(e,s),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=a}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const s=super.toJSON(e);return s.object.width=this.width,s.object.height=this.height,s}}class _te{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new he)}set(e){for(let s=0;s<9;s++)this.coefficients[s].copy(e[s]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,s){const r=e.x,a=e.y,i=e.z,o=this.coefficients;return s.copy(o[0]).multiplyScalar(.282095),s.addScaledVector(o[1],.488603*a),s.addScaledVector(o[2],.488603*i),s.addScaledVector(o[3],.488603*r),s.addScaledVector(o[4],1.092548*(r*a)),s.addScaledVector(o[5],1.092548*(a*i)),s.addScaledVector(o[6],.315392*(3*i*i-1)),s.addScaledVector(o[7],1.092548*(r*i)),s.addScaledVector(o[8],.546274*(r*r-a*a)),s}getIrradianceAt(e,s){const r=e.x,a=e.y,i=e.z,o=this.coefficients;return s.copy(o[0]).multiplyScalar(.886227),s.addScaledVector(o[1],2*.511664*a),s.addScaledVector(o[2],2*.511664*i),s.addScaledVector(o[3],2*.511664*r),s.addScaledVector(o[4],2*.429043*r*a),s.addScaledVector(o[5],2*.429043*a*i),s.addScaledVector(o[6],.743125*i*i-.247708),s.addScaledVector(o[7],2*.429043*r*i),s.addScaledVector(o[8],.429043*(r*r-a*a)),s}add(e){for(let s=0;s<9;s++)this.coefficients[s].add(e.coefficients[s]);return this}addScaledSH(e,s){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],s);return this}scale(e){for(let s=0;s<9;s++)this.coefficients[s].multiplyScalar(e);return this}lerp(e,s){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],s);return this}equals(e){for(let s=0;s<9;s++)if(!this.coefficients[s].equals(e.coefficients[s]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,s=0){const r=this.coefficients;for(let a=0;a<9;a++)r[a].fromArray(e,s+a*3);return this}toArray(e=[],s=0){const r=this.coefficients;for(let a=0;a<9;a++)r[a].toArray(e,s+a*3);return e}static getBasisAt(e,s){const r=e.x,a=e.y,i=e.z;s[0]=.282095,s[1]=.488603*a,s[2]=.488603*i,s[3]=.488603*r,s[4]=1.092548*r*a,s[5]=1.092548*a*i,s[6]=.315392*(3*i*i-1),s[7]=1.092548*r*i,s[8]=.546274*(r*r-a*a)}}class Ate extends dm{constructor(e=new _te,s=1){super(void 0,s),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const s=super.toJSON(e);return s.object.sh=this.sh.toArray(),s}}class RT extends Eo{constructor(e){super(e),this.textures={}}load(e,s,r,a){const i=this,o=new Tl(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(e,function(l){try{s(i.parse(JSON.parse(l)))}catch(c){a?a(c):console.error(c),i.manager.itemError(e)}},r,a)}parse(e){const s=this.textures;function r(i){return s[i]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",i),s[i]}const a=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(a.uuid=e.uuid),e.name!==void 0&&(a.name=e.name),e.color!==void 0&&a.color!==void 0&&a.color.setHex(e.color),e.roughness!==void 0&&(a.roughness=e.roughness),e.metalness!==void 0&&(a.metalness=e.metalness),e.sheen!==void 0&&(a.sheen=e.sheen),e.sheenColor!==void 0&&(a.sheenColor=new nn().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(a.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&a.emissive!==void 0&&a.emissive.setHex(e.emissive),e.specular!==void 0&&a.specular!==void 0&&a.specular.setHex(e.specular),e.specularIntensity!==void 0&&(a.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&a.specularColor!==void 0&&a.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(a.shininess=e.shininess),e.clearcoat!==void 0&&(a.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(a.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(a.dispersion=e.dispersion),e.iridescence!==void 0&&(a.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(a.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(a.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(a.transmission=e.transmission),e.thickness!==void 0&&(a.thickness=e.thickness),e.attenuationDistance!==void 0&&(a.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&a.attenuationColor!==void 0&&a.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(a.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(a.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(a.fog=e.fog),e.flatShading!==void 0&&(a.flatShading=e.flatShading),e.blending!==void 0&&(a.blending=e.blending),e.combine!==void 0&&(a.combine=e.combine),e.side!==void 0&&(a.side=e.side),e.shadowSide!==void 0&&(a.shadowSide=e.shadowSide),e.opacity!==void 0&&(a.opacity=e.opacity),e.transparent!==void 0&&(a.transparent=e.transparent),e.alphaTest!==void 0&&(a.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(a.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(a.depthFunc=e.depthFunc),e.depthTest!==void 0&&(a.depthTest=e.depthTest),e.depthWrite!==void 0&&(a.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(a.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(a.blendSrc=e.blendSrc),e.blendDst!==void 0&&(a.blendDst=e.blendDst),e.blendEquation!==void 0&&(a.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(a.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(a.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(a.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&a.blendColor!==void 0&&a.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(a.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(a.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(a.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(a.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(a.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(a.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(a.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(a.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(a.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(a.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(a.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(a.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(a.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(a.rotation=e.rotation),e.linewidth!==void 0&&(a.linewidth=e.linewidth),e.dashSize!==void 0&&(a.dashSize=e.dashSize),e.gapSize!==void 0&&(a.gapSize=e.gapSize),e.scale!==void 0&&(a.scale=e.scale),e.polygonOffset!==void 0&&(a.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(a.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(a.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(a.dithering=e.dithering),e.alphaToCoverage!==void 0&&(a.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(a.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(a.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(a.visible=e.visible),e.toneMapped!==void 0&&(a.toneMapped=e.toneMapped),e.userData!==void 0&&(a.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?a.vertexColors=e.vertexColors>0:a.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const i in e.uniforms){const o=e.uniforms[i];switch(a.uniforms[i]={},o.type){case"t":a.uniforms[i].value=r(o.value);break;case"c":a.uniforms[i].value=new nn().setHex(o.value);break;case"v2":a.uniforms[i].value=new mt().fromArray(o.value);break;case"v3":a.uniforms[i].value=new he().fromArray(o.value);break;case"v4":a.uniforms[i].value=new js().fromArray(o.value);break;case"m3":a.uniforms[i].value=new is().fromArray(o.value);break;case"m4":a.uniforms[i].value=new Kn().fromArray(o.value);break;default:a.uniforms[i].value=o.value}}if(e.defines!==void 0&&(a.defines=e.defines),e.vertexShader!==void 0&&(a.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(a.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(a.glslVersion=e.glslVersion),e.extensions!==void 0)for(const i in e.extensions)a.extensions[i]=e.extensions[i];if(e.lights!==void 0&&(a.lights=e.lights),e.clipping!==void 0&&(a.clipping=e.clipping),e.size!==void 0&&(a.size=e.size),e.sizeAttenuation!==void 0&&(a.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(a.map=r(e.map)),e.matcap!==void 0&&(a.matcap=r(e.matcap)),e.alphaMap!==void 0&&(a.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(a.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(a.bumpScale=e.bumpScale),e.normalMap!==void 0&&(a.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(a.normalMapType=e.normalMapType),e.normalScale!==void 0){let i=e.normalScale;Array.isArray(i)===!1&&(i=[i,i]),a.normalScale=new mt().fromArray(i)}return e.displacementMap!==void 0&&(a.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(a.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(a.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(a.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(a.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(a.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(a.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(a.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(a.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(a.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(a.envMap=r(e.envMap)),e.envMapRotation!==void 0&&a.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(a.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(a.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(a.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(a.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(a.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(a.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(a.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(a.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(a.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(a.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(a.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(a.clearcoatNormalScale=new mt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(a.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(a.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(a.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(a.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(a.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(a.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(a.sheenRoughnessMap=r(e.sheenRoughnessMap)),a}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return RT.createMaterialFromType(e)}static createMaterialFromType(e){const s={ShadowMaterial:rte,SpriteMaterial:MD,RawShaderMaterial:ate,ShaderMaterial:Ao,PointsMaterial:RD,MeshPhysicalMaterial:HD,MeshStandardMaterial:VD,MeshPhongMaterial:ite,MeshToonMaterial:ote,MeshNormalMaterial:lte,MeshLambertMaterial:cte,MeshDepthMaterial:GD,MeshDistanceMaterial:$D,MeshBasicMaterial:Dh,MeshMatcapMaterial:dte,LineDashedMaterial:ute,LineBasicMaterial:To,Material:no};return new s[e]}}class Z5{static extractUrlBase(e){const s=e.lastIndexOf("/");return s===-1?"./":e.slice(0,s+1)}static resolveURL(e,s){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(s)&&/^\//.test(e)&&(s=s.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:s+e)}}class YD extends us{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Cte extends Eo{constructor(e){super(e)}load(e,s,r,a){const i=this,o=new Tl(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(e,function(l){try{s(i.parse(JSON.parse(l)))}catch(c){a?a(c):console.error(c),i.manager.itemError(e)}},r,a)}parse(e){const s={},r={};function a(y,N){if(s[N]!==void 0)return s[N];const v=y.interleavedBuffers[N],b=i(y,v.buffer),A=Pv(v.type,b),S=new pT(A,v.stride);return S.uuid=v.uuid,s[N]=S,S}function i(y,N){if(r[N]!==void 0)return r[N];const v=y.arrayBuffers[N],b=new Uint32Array(v).buffer;return r[N]=b,b}const o=e.isInstancedBufferGeometry?new YD:new us,l=e.data.index;if(l!==void 0){const y=Pv(l.type,l.array);o.setIndex(new mr(y,1))}const c=e.data.attributes;for(const y in c){const N=c[y];let j;if(N.isInterleavedBufferAttribute){const v=a(e.data,N.data);j=new bl(v,N.itemSize,N.offset,N.normalized)}else{const v=Pv(N.type,N.array),b=N.isInstancedBufferAttribute?$0:mr;j=new b(v,N.itemSize,N.normalized)}N.name!==void 0&&(j.name=N.name),N.usage!==void 0&&j.setUsage(N.usage),o.setAttribute(y,j)}const d=e.data.morphAttributes;if(d)for(const y in d){const N=d[y],j=[];for(let v=0,b=N.length;v<b;v++){const A=N[v];let S;if(A.isInterleavedBufferAttribute){const w=a(e.data,A.data);S=new bl(w,A.itemSize,A.offset,A.normalized)}else{const w=Pv(A.type,A.array);S=new mr(w,A.itemSize,A.normalized)}A.name!==void 0&&(S.name=A.name),j.push(S)}o.morphAttributes[y]=j}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let y=0,N=h.length;y!==N;++y){const j=h[y];o.addGroup(j.start,j.count,j.materialIndex)}const m=e.data.boundingSphere;return m!==void 0&&(o.boundingSphere=new Qa().fromJSON(m)),e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class GPe extends Eo{constructor(e){super(e)}load(e,s,r,a){const i=this,o=this.path===""?Z5.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const l=new Tl(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){let d=null;try{d=JSON.parse(c)}catch(h){a!==void 0&&a(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const u=d.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){a!==void 0&&a(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}i.parse(d,s)},r,a)}async loadAsync(e,s){const r=this,a=this.path===""?Z5.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const i=new Tl(this.manager);i.setPath(this.path),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials);const o=await i.loadAsync(e,s),l=JSON.parse(o),c=l.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(l)}parse(e,s){const r=this.parseAnimations(e.animations),a=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,a),o=this.parseImages(e.images,function(){s!==void 0&&s(d)}),l=this.parseTextures(e.textures,o),c=this.parseMaterials(e.materials,l),d=this.parseObject(e.object,i,c,l,r),u=this.parseSkeletons(e.skeletons,d);if(this.bindSkeletons(d,u),this.bindLightTargets(d),s!==void 0){let h=!1;for(const m in o)if(o[m].data instanceof HTMLImageElement){h=!0;break}h===!1&&s(d)}return d}async parseAsync(e){const s=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,r),i=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,i),l=this.parseMaterials(e.materials,o),c=this.parseObject(e.object,a,l,o,s),d=this.parseSkeletons(e.skeletons,c);return this.bindSkeletons(c,d),this.bindLightTargets(c),c}parseShapes(e){const s={};if(e!==void 0)for(let r=0,a=e.length;r<a;r++){const i=new ix().fromJSON(e[r]);s[i.uuid]=i}return s}parseSkeletons(e,s){const r={},a={};if(s.traverse(function(i){i.isBone&&(a[i.uuid]=i)}),e!==void 0)for(let i=0,o=e.length;i<o;i++){const l=new xT().fromJSON(e[i],a);r[l.uuid]=l}return r}parseGeometries(e,s){const r={};if(e!==void 0){const a=new Cte;for(let i=0,o=e.length;i<o;i++){let l;const c=e[i];switch(c.type){case"BufferGeometry":case"InstancedBufferGeometry":l=a.parse(c);break;default:c.type in f7?l=f7[c.type].fromJSON(c,s):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${c.type}"`)}l.uuid=c.uuid,c.name!==void 0&&(l.name=c.name),c.userData!==void 0&&(l.userData=c.userData),r[c.uuid]=l}}return r}parseMaterials(e,s){const r={},a={};if(e!==void 0){const i=new RT;i.setTextures(s);for(let o=0,l=e.length;o<l;o++){const c=e[o];r[c.uuid]===void 0&&(r[c.uuid]=i.parse(c)),a[c.uuid]=r[c.uuid]}}return a}parseAnimations(e){const s={};if(e!==void 0)for(let r=0;r<e.length;r++){const a=e[r],i=V1.parse(a);s[i.uuid]=i}return s}parseImages(e,s){const r=this,a={};let i;function o(c){return r.manager.itemStart(c),i.load(c,function(){r.manager.itemEnd(c)},void 0,function(){r.manager.itemError(c),r.manager.itemEnd(c)})}function l(c){if(typeof c=="string"){const d=c,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:r.resourcePath+d;return o(u)}else return c.data?{data:Pv(c.type,c.data),width:c.width,height:c.height}:null}if(e!==void 0&&e.length>0){const c=new PT(s);i=new H1(c),i.setCrossOrigin(this.crossOrigin);for(let d=0,u=e.length;d<u;d++){const h=e[d],m=h.url;if(Array.isArray(m)){const y=[];for(let N=0,j=m.length;N<j;N++){const v=m[N],b=l(v);b!==null&&(b instanceof HTMLImageElement?y.push(b):y.push(new rd(b.data,b.width,b.height)))}a[h.uuid]=new If(y)}else{const y=l(h.url);a[h.uuid]=new If(y)}}}return a}async parseImagesAsync(e){const s=this,r={};let a;async function i(o){if(typeof o=="string"){const l=o,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:s.resourcePath+l;return await a.loadAsync(c)}else return o.data?{data:Pv(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){a=new H1(this.manager),a.setCrossOrigin(this.crossOrigin);for(let o=0,l=e.length;o<l;o++){const c=e[o],d=c.url;if(Array.isArray(d)){const u=[];for(let h=0,m=d.length;h<m;h++){const y=d[h],N=await i(y);N!==null&&(N instanceof HTMLImageElement?u.push(N):u.push(new rd(N.data,N.width,N.height)))}r[c.uuid]=new If(u)}else{const u=await i(c.url);r[c.uuid]=new If(u)}}}return r}parseTextures(e,s){function r(i,o){return typeof i=="number"?i:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",i),o[i])}const a={};if(e!==void 0)for(let i=0,o=e.length;i<o;i++){const l=e[i];l.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),s[l.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",l.image);const c=s[l.image],d=c.data;let u;Array.isArray(d)?(u=new xw,d.length===6&&(u.needsUpdate=!0)):(d&&d.data?u=new rd:u=new fr,d&&(u.needsUpdate=!0)),u.source=c,u.uuid=l.uuid,l.name!==void 0&&(u.name=l.name),l.mapping!==void 0&&(u.mapping=r(l.mapping,$Pe)),l.channel!==void 0&&(u.channel=l.channel),l.offset!==void 0&&u.offset.fromArray(l.offset),l.repeat!==void 0&&u.repeat.fromArray(l.repeat),l.center!==void 0&&u.center.fromArray(l.center),l.rotation!==void 0&&(u.rotation=l.rotation),l.wrap!==void 0&&(u.wrapS=r(l.wrap[0],g7),u.wrapT=r(l.wrap[1],g7)),l.format!==void 0&&(u.format=l.format),l.internalFormat!==void 0&&(u.internalFormat=l.internalFormat),l.type!==void 0&&(u.type=l.type),l.colorSpace!==void 0&&(u.colorSpace=l.colorSpace),l.minFilter!==void 0&&(u.minFilter=r(l.minFilter,v7)),l.magFilter!==void 0&&(u.magFilter=r(l.magFilter,v7)),l.anisotropy!==void 0&&(u.anisotropy=l.anisotropy),l.flipY!==void 0&&(u.flipY=l.flipY),l.generateMipmaps!==void 0&&(u.generateMipmaps=l.generateMipmaps),l.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(u.unpackAlignment=l.unpackAlignment),l.compareFunction!==void 0&&(u.compareFunction=l.compareFunction),l.userData!==void 0&&(u.userData=l.userData),a[l.uuid]=u}return a}parseObject(e,s,r,a,i){let o;function l(m){return s[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",m),s[m]}function c(m){if(m!==void 0){if(Array.isArray(m)){const y=[];for(let N=0,j=m.length;N<j;N++){const v=m[N];r[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),y.push(r[v])}return y}return r[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",m),r[m]}}function d(m){return a[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",m),a[m]}let u,h;switch(e.type){case"Scene":o=new gw,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new nn(e.background):o.background=d(e.background)),e.environment!==void 0&&(o.environment=d(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new mT(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new fT(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Zr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new ad(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new Nte(e.color,e.intensity);break;case"DirectionalLight":o=new wte(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new jte(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new Ste(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new bte(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new yte(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Ate().fromJSON(e);break;case"SkinnedMesh":u=l(e.geometry),h=c(e.material),o=new Vee(u,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=l(e.geometry),h=c(e.material),o=new qr(u,h);break;case"InstancedMesh":u=l(e.geometry),h=c(e.material);const m=e.count,y=e.instanceMatrix,N=e.instanceColor;o=new Hee(u,h,m),o.instanceMatrix=new $0(new Float32Array(y.array),16),N!==void 0&&(o.instanceColor=new $0(new Float32Array(N.array),N.itemSize));break;case"BatchedMesh":u=l(e.geometry),h=c(e.material),o=new Gee(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,h),o.geometry=u,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(j=>{let v=null,b=null;return j.boundingBox!==void 0&&(v=new Ya().fromJSON(j.boundingBox)),j.boundingSphere!==void 0&&(b=new Qa().fromJSON(j.boundingSphere)),{...j,boundingBox:v,boundingSphere:b}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=d(e.matricesTexture.uuid),o._indirectTexture=d(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=d(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new Qa().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(o.boundingBox=new Ya().fromJSON(e.boundingBox));break;case"LOD":o=new Bee;break;case"Line":o=new em(l(e.geometry),c(e.material));break;case"LineLoop":o=new $ee(l(e.geometry),c(e.material));break;case"LineSegments":o=new gu(l(e.geometry),c(e.material));break;case"PointCloud":case"Points":o=new qee(l(e.geometry),c(e.material));break;case"Sprite":o=new zee(c(e.material));break;case"Group":o=new Rv;break;case"Bone":o=new PD;break;default:o=new Ls}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const m=e.children;for(let y=0;y<m.length;y++)o.add(this.parseObject(m[y],s,r,a,i))}if(e.animations!==void 0){const m=e.animations;for(let y=0;y<m.length;y++){const N=m[y];o.animations.push(i[N])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const m=e.levels;for(let y=0;y<m.length;y++){const N=m[y],j=o.getObjectByProperty("uuid",N.object);j!==void 0&&o.addLevel(j,N.distance,N.hysteresis)}}return o}bindSkeletons(e,s){Object.keys(s).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const a=s[r.skeleton];a===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(a,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(s){if(s.isDirectionalLight||s.isSpotLight){const r=s.target,a=e.getObjectByProperty("uuid",r);a!==void 0?s.target=a:s.target=new Ls}})}}const $Pe={UVMapping:Qf,CubeReflectionMapping:cu,CubeRefractionMapping:Jf,EquirectangularReflectionMapping:D0,EquirectangularRefractionMapping:T1,CubeUVReflectionMapping:fy},g7={RepeatWrapping:E1,ClampToEdgeWrapping:Ma,MirroredRepeatWrapping:M1},v7={NearestFilter:ki,NearestMipmapNearestFilter:xD,NearestMipmapLinearFilter:Mv,LinearFilter:ir,LinearMipmapNearestFilter:_j,LinearMipmapLinearFilter:$d},n3=new WeakMap;class qPe extends Eo{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,s,r,a){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,o=qd.get(`image-bitmap:${e}`);if(o!==void 0){if(i.manager.itemStart(e),o.then){o.then(d=>{if(n3.has(o)===!0)a&&a(n3.get(o)),i.manager.itemError(e),i.manager.itemEnd(e);else return s&&s(d),i.manager.itemEnd(e),d});return}return setTimeout(function(){s&&s(o),i.manager.itemEnd(e)},0),o}const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader,l.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const c=fetch(e,l).then(function(d){return d.blob()}).then(function(d){return createImageBitmap(d,Object.assign(i.options,{colorSpaceConversion:"none"}))}).then(function(d){return qd.add(`image-bitmap:${e}`,d),s&&s(d),i.manager.itemEnd(e),d}).catch(function(d){a&&a(d),n3.set(c,d),qd.remove(`image-bitmap:${e}`),i.manager.itemError(e),i.manager.itemEnd(e)});qd.add(`image-bitmap:${e}`,c),i.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let LS;class QD{static getContext(){return LS===void 0&&(LS=new(window.AudioContext||window.webkitAudioContext)),LS}static setContext(e){LS=e}}class WPe extends Eo{constructor(e){super(e)}load(e,s,r,a){const i=this,o=new Tl(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(c){try{const d=c.slice(0);QD.getContext().decodeAudioData(d,function(h){s(h)}).catch(l)}catch(d){l(d)}},r,a);function l(c){a?a(c):console.error(c),i.manager.itemError(e)}}}const y7=new Kn,b7=new Kn,vp=new Kn;class KPe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Zr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Zr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const s=this._cache;if(s.focus!==e.focus||s.fov!==e.fov||s.aspect!==e.aspect*this.aspect||s.near!==e.near||s.far!==e.far||s.zoom!==e.zoom||s.eyeSep!==this.eyeSep){s.focus=e.focus,s.fov=e.fov,s.aspect=e.aspect*this.aspect,s.near=e.near,s.far=e.far,s.zoom=e.zoom,s.eyeSep=this.eyeSep,vp.copy(e.projectionMatrix);const a=s.eyeSep/2,i=a*s.near/s.focus,o=s.near*Math.tan(ax*s.fov*.5)/s.zoom;let l,c;b7.elements[12]=-a,y7.elements[12]=a,l=-o*s.aspect+i,c=o*s.aspect+i,vp.elements[0]=2*s.near/(c-l),vp.elements[8]=(c+l)/(c-l),this.cameraL.projectionMatrix.copy(vp),l=-o*s.aspect-i,c=o*s.aspect-i,vp.elements[0]=2*s.near/(c-l),vp.elements[8]=(c+l)/(c-l),this.cameraR.projectionMatrix.copy(vp)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(b7),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(y7)}}class Tte extends Zr{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class JD{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const s=performance.now();e=(s-this.oldTime)/1e3,this.oldTime=s,this.elapsedTime+=e}return e}}const yp=new he,s3=new to,XPe=new he,bp=new he,jp=new he;class ZPe extends Ls{constructor(){super(),this.type="AudioListener",this.context=QD.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new JD}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const s=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(yp,s3,XPe),bp.set(0,0,-1).applyQuaternion(s3),jp.set(0,1,0).applyQuaternion(s3),s.positionX){const r=this.context.currentTime+this.timeDelta;s.positionX.linearRampToValueAtTime(yp.x,r),s.positionY.linearRampToValueAtTime(yp.y,r),s.positionZ.linearRampToValueAtTime(yp.z,r),s.forwardX.linearRampToValueAtTime(bp.x,r),s.forwardY.linearRampToValueAtTime(bp.y,r),s.forwardZ.linearRampToValueAtTime(bp.z,r),s.upX.linearRampToValueAtTime(jp.x,r),s.upY.linearRampToValueAtTime(jp.y,r),s.upZ.linearRampToValueAtTime(jp.z,r)}else s.setPosition(yp.x,yp.y,yp.z),s.setOrientation(bp.x,bp.y,bp.z,jp.x,jp.y,jp.z)}}class Ete extends Ls{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const s=this.context.createBufferSource();return s.buffer=this.buffer,s.loop=this.loop,s.loopStart=this.loopStart,s.loopEnd=this.loopEnd,s.onended=this.onEnded.bind(this),s.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=s,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,s=this.filters.length;e<s;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,s=this.filters.length;e<s;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,s){return super.copy(e,s),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const wp=new he,j7=new to,YPe=new he,Np=new he;class QPe extends Ete{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,s,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=s,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(wp,j7,YPe),Np.set(0,0,1).applyQuaternion(j7);const s=this.panner;if(s.positionX){const r=this.context.currentTime+this.listener.timeDelta;s.positionX.linearRampToValueAtTime(wp.x,r),s.positionY.linearRampToValueAtTime(wp.y,r),s.positionZ.linearRampToValueAtTime(wp.z,r),s.orientationX.linearRampToValueAtTime(Np.x,r),s.orientationY.linearRampToValueAtTime(Np.y,r),s.orientationZ.linearRampToValueAtTime(Np.z,r)}else s.setPosition(wp.x,wp.y,wp.z),s.setOrientation(Np.x,Np.y,Np.z)}}class JPe{constructor(e,s=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=s,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const s=this.getFrequencyData();for(let r=0;r<s.length;r++)e+=s[r];return e/s.length}}class Mte{constructor(e,s,r){this.binding=e,this.valueSize=r;let a,i,o;switch(s){case"quaternion":a=this._slerp,i=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":a=this._select,i=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:a=this._lerp,i=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=a,this._mixBufferRegionAdditive=i,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,s){const r=this.buffer,a=this.valueSize,i=e*a+a;let o=this.cumulativeWeight;if(o===0){for(let l=0;l!==a;++l)r[i+l]=r[l];o=s}else{o+=s;const l=s/o;this._mixBufferRegion(r,i,0,l,a)}this.cumulativeWeight=o}accumulateAdditive(e){const s=this.buffer,r=this.valueSize,a=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(s,a,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const s=this.valueSize,r=this.buffer,a=e*s+s,i=this.cumulativeWeight,o=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){const c=s*this._origIndex;this._mixBufferRegion(r,a,c,1-i,s)}o>0&&this._mixBufferRegionAdditive(r,a,this._addIndex*s,1,s);for(let c=s,d=s+s;c!==d;++c)if(r[c]!==r[c+s]){l.setValue(r,a);break}}saveOriginalState(){const e=this.binding,s=this.buffer,r=this.valueSize,a=r*this._origIndex;e.getValue(s,a);for(let i=r,o=a;i!==o;++i)s[i]=s[a+i%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,s=e+this.valueSize;for(let r=e;r<s;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,s=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[s+r]=this.buffer[e+r]}_select(e,s,r,a,i){if(a>=.5)for(let o=0;o!==i;++o)e[s+o]=e[r+o]}_slerp(e,s,r,a){to.slerpFlat(e,s,e,s,e,r,a)}_slerpAdditive(e,s,r,a,i){const o=this._workIndex*i;to.multiplyQuaternionsFlat(e,o,e,s,e,r),to.slerpFlat(e,s,e,s,e,o,a)}_lerp(e,s,r,a,i){const o=1-a;for(let l=0;l!==i;++l){const c=s+l;e[c]=e[c]*o+e[r+l]*a}}_lerpAdditive(e,s,r,a,i){for(let o=0;o!==i;++o){const l=s+o;e[l]=e[l]+e[r+o]*a}}}const eL="\\[\\]\\.:\\/",eRe=new RegExp("["+eL+"]","g"),tL="[^"+eL+"]",tRe="[^"+eL.replace("\\.","")+"]",nRe=/((?:WC+[\/:])*)/.source.replace("WC",tL),sRe=/(WCOD+)?/.source.replace("WCOD",tRe),rRe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",tL),aRe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",tL),iRe=new RegExp("^"+nRe+sRe+rRe+aRe+"$"),oRe=["material","materials","bones","map"];class lRe{constructor(e,s,r){const a=r||Ds.parseTrackName(s);this._targetGroup=e,this._bindings=e.subscribe_(s,a)}getValue(e,s){this.bind();const r=this._targetGroup.nCachedObjects_,a=this._bindings[r];a!==void 0&&a.getValue(e,s)}setValue(e,s){const r=this._bindings;for(let a=this._targetGroup.nCachedObjects_,i=r.length;a!==i;++a)r[a].setValue(e,s)}bind(){const e=this._bindings;for(let s=this._targetGroup.nCachedObjects_,r=e.length;s!==r;++s)e[s].bind()}unbind(){const e=this._bindings;for(let s=this._targetGroup.nCachedObjects_,r=e.length;s!==r;++s)e[s].unbind()}}class Ds{constructor(e,s,r){this.path=s,this.parsedPath=r||Ds.parseTrackName(s),this.node=Ds.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,s,r){return e&&e.isAnimationObjectGroup?new Ds.Composite(e,s,r):new Ds(e,s,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(eRe,"")}static parseTrackName(e){const s=iRe.exec(e);if(s===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:s[2],objectName:s[3],objectIndex:s[4],propertyName:s[5],propertyIndex:s[6]},a=r.nodeName&&r.nodeName.lastIndexOf(".");if(a!==void 0&&a!==-1){const i=r.nodeName.substring(a+1);oRe.indexOf(i)!==-1&&(r.nodeName=r.nodeName.substring(0,a),r.objectName=i)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,s){if(s===void 0||s===""||s==="."||s===-1||s===e.name||s===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(s);if(r!==void 0)return r}if(e.children){const r=function(i){for(let o=0;o<i.length;o++){const l=i[o];if(l.name===s||l.uuid===s)return l;const c=r(l.children);if(c)return c}return null},a=r(e.children);if(a)return a}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,s){e[s]=this.targetObject[this.propertyName]}_getValue_array(e,s){const r=this.resolvedProperty;for(let a=0,i=r.length;a!==i;++a)e[s++]=r[a]}_getValue_arrayElement(e,s){e[s]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,s){this.resolvedProperty.toArray(e,s)}_setValue_direct(e,s){this.targetObject[this.propertyName]=e[s]}_setValue_direct_setNeedsUpdate(e,s){this.targetObject[this.propertyName]=e[s],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,s){this.targetObject[this.propertyName]=e[s],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,s){const r=this.resolvedProperty;for(let a=0,i=r.length;a!==i;++a)r[a]=e[s++]}_setValue_array_setNeedsUpdate(e,s){const r=this.resolvedProperty;for(let a=0,i=r.length;a!==i;++a)r[a]=e[s++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,s){const r=this.resolvedProperty;for(let a=0,i=r.length;a!==i;++a)r[a]=e[s++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,s){this.resolvedProperty[this.propertyIndex]=e[s]}_setValue_arrayElement_setNeedsUpdate(e,s){this.resolvedProperty[this.propertyIndex]=e[s],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,s){this.resolvedProperty[this.propertyIndex]=e[s],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,s){this.resolvedProperty.fromArray(e,s)}_setValue_fromArray_setNeedsUpdate(e,s){this.resolvedProperty.fromArray(e,s),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,s){this.resolvedProperty.fromArray(e,s),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,s){this.bind(),this.getValue(e,s)}_setValue_unbound(e,s){this.bind(),this.setValue(e,s)}bind(){let e=this.node;const s=this.parsedPath,r=s.objectName,a=s.propertyName;let i=s.propertyIndex;if(e||(e=Ds.findNode(this.rootNode,s.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let d=s.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===d){d=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(d!==void 0){if(e[d]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[d]}}const o=e[a];if(o===void 0){const d=s.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+d+"."+a+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?l=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(i!==void 0){if(a==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[i]!==void 0&&(i=e.morphTargetDictionary[i])}c=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=i}else o.fromArray!==void 0&&o.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(c=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=a;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ds.Composite=lRe;Ds.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Ds.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Ds.prototype.GetterByBindingType=[Ds.prototype._getValue_direct,Ds.prototype._getValue_array,Ds.prototype._getValue_arrayElement,Ds.prototype._getValue_toArray];Ds.prototype.SetterByBindingTypeAndVersioning=[[Ds.prototype._setValue_direct,Ds.prototype._setValue_direct_setNeedsUpdate,Ds.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ds.prototype._setValue_array,Ds.prototype._setValue_array_setNeedsUpdate,Ds.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ds.prototype._setValue_arrayElement,Ds.prototype._setValue_arrayElement_setNeedsUpdate,Ds.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ds.prototype._setValue_fromArray,Ds.prototype._setValue_fromArray_setNeedsUpdate,Ds.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class cRe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Cl(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,a=arguments.length;r!==a;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const s=this;this.stats={objects:{get total(){return s._objects.length},get inUse(){return this.total-s.nCachedObjects_}},get bindingsPerObject(){return s._bindings.length}}}add(){const e=this._objects,s=this._indicesByUUID,r=this._paths,a=this._parsedPaths,i=this._bindings,o=i.length;let l,c=e.length,d=this.nCachedObjects_;for(let u=0,h=arguments.length;u!==h;++u){const m=arguments[u],y=m.uuid;let N=s[y];if(N===void 0){N=c++,s[y]=N,e.push(m);for(let j=0,v=o;j!==v;++j)i[j].push(new Ds(m,r[j],a[j]))}else if(N<d){l=e[N];const j=--d,v=e[j];s[v.uuid]=N,e[N]=v,s[y]=j,e[j]=m;for(let b=0,A=o;b!==A;++b){const S=i[b],w=S[j];let E=S[N];S[N]=w,E===void 0&&(E=new Ds(m,r[b],a[b])),S[j]=E}}else e[N]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=d}remove(){const e=this._objects,s=this._indicesByUUID,r=this._bindings,a=r.length;let i=this.nCachedObjects_;for(let o=0,l=arguments.length;o!==l;++o){const c=arguments[o],d=c.uuid,u=s[d];if(u!==void 0&&u>=i){const h=i++,m=e[h];s[m.uuid]=u,e[u]=m,s[d]=h,e[h]=c;for(let y=0,N=a;y!==N;++y){const j=r[y],v=j[h],b=j[u];j[u]=v,j[h]=b}}}this.nCachedObjects_=i}uncache(){const e=this._objects,s=this._indicesByUUID,r=this._bindings,a=r.length;let i=this.nCachedObjects_,o=e.length;for(let l=0,c=arguments.length;l!==c;++l){const d=arguments[l],u=d.uuid,h=s[u];if(h!==void 0)if(delete s[u],h<i){const m=--i,y=e[m],N=--o,j=e[N];s[y.uuid]=h,e[h]=y,s[j.uuid]=m,e[m]=j,e.pop();for(let v=0,b=a;v!==b;++v){const A=r[v],S=A[m],w=A[N];A[h]=S,A[m]=w,A.pop()}}else{const m=--o,y=e[m];m>0&&(s[y.uuid]=h),e[h]=y,e.pop();for(let N=0,j=a;N!==j;++N){const v=r[N];v[h]=v[m],v.pop()}}}this.nCachedObjects_=i}subscribe_(e,s){const r=this._bindingsIndicesByPath;let a=r[e];const i=this._bindings;if(a!==void 0)return i[a];const o=this._paths,l=this._parsedPaths,c=this._objects,d=c.length,u=this.nCachedObjects_,h=new Array(d);a=i.length,r[e]=a,o.push(e),l.push(s),i.push(h);for(let m=u,y=c.length;m!==y;++m){const N=c[m];h[m]=new Ds(N,e,s)}return h}unsubscribe_(e){const s=this._bindingsIndicesByPath,r=s[e];if(r!==void 0){const a=this._paths,i=this._parsedPaths,o=this._bindings,l=o.length-1,c=o[l],d=e[l];s[d]=r,o[r]=c,o.pop(),i[r]=i[l],i.pop(),a[r]=a[l],a.pop()}}}class Pte{constructor(e,s,r=null,a=s.blendMode){this._mixer=e,this._clip=s,this._localRoot=r,this.blendMode=a;const i=s.tracks,o=i.length,l=new Array(o),c={endingStart:Vp,endingEnd:Vp};for(let d=0;d!==o;++d){const u=i[d].createInterpolant(null);l[d]=u,u.settings=c}this._interpolantSettings=c,this._interpolants=l,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=jee,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,s){return this.loop=e,this.repetitions=s,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,s,r=!1){if(e.fadeOut(s),this.fadeIn(s),r===!0){const a=this._clip.duration,i=e._clip.duration,o=i/a,l=a/i;e.warp(1,o,s),this.warp(l,1,s)}return this}crossFadeTo(e,s,r=!1){return e.crossFadeFrom(this,s,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,s,r){const a=this._mixer,i=a.time,o=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=a._lendControlInterpolant(),this._timeScaleInterpolant=l);const c=l.parameterPositions,d=l.sampleValues;return c[0]=i,c[1]=i+r,d[0]=e/o,d[1]=s/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,s,r,a){if(!this.enabled){this._updateWeight(e);return}const i=this._startTime;if(i!==null){const c=(e-i)*r;c<0||r===0?s=0:(this._startTime=null,s=r*c)}s*=this._updateTimeScale(e);const o=this._updateTime(s),l=this._updateWeight(e);if(l>0){const c=this._interpolants,d=this._propertyBindings;switch(this.blendMode){case wD:for(let u=0,h=c.length;u!==h;++u)c[u].evaluate(o),d[u].accumulateAdditive(l);break;case cT:default:for(let u=0,h=c.length;u!==h;++u)c[u].evaluate(o),d[u].accumulate(a,l)}}}_updateWeight(e){let s=0;if(this.enabled){s=this.weight;const r=this._weightInterpolant;if(r!==null){const a=r.evaluate(e)[0];s*=a,e>r.parameterPositions[1]&&(this.stopFading(),a===0&&(this.enabled=!1))}}return this._effectiveWeight=s,s}_updateTimeScale(e){let s=0;if(!this.paused){s=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const a=r.evaluate(e)[0];s*=a,e>r.parameterPositions[1]&&(this.stopWarping(),s===0?this.paused=!0:this.timeScale=s)}}return this._effectiveTimeScale=s,s}_updateTime(e){const s=this._clip.duration,r=this.loop;let a=this.time+e,i=this._loopCount;const o=r===wee;if(e===0)return i===-1?a:o&&(i&1)===1?s-a:a;if(r===bee){i===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(a>=s)a=s;else if(a<0)a=0;else{this.time=a;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(i===-1&&(e>=0?(i=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),a>=s||a<0){const l=Math.floor(a/s);a-=s*l,i+=Math.abs(l);const c=this.repetitions-i;if(c<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,a=e>0?s:0,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(c===1){const d=e<0;this._setEndings(d,!d,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this.time=a,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=a;if(o&&(i&1)===1)return s-a}return a}_setEndings(e,s,r){const a=this._interpolantSettings;r?(a.endingStart=Hp,a.endingEnd=Hp):(e?a.endingStart=this.zeroSlopeAtStart?Hp:Vp:a.endingStart=R1,s?a.endingEnd=this.zeroSlopeAtEnd?Hp:Vp:a.endingEnd=R1)}_scheduleFading(e,s,r){const a=this._mixer,i=a.time;let o=this._weightInterpolant;o===null&&(o=a._lendControlInterpolant(),this._weightInterpolant=o);const l=o.parameterPositions,c=o.sampleValues;return l[0]=i,c[0]=s,l[1]=i+e,c[1]=r,this}}const dRe=new Float32Array(1);class uRe extends xu{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,s){const r=e._localRoot||this._root,a=e._clip.tracks,i=a.length,o=e._propertyBindings,l=e._interpolants,c=r.uuid,d=this._bindingsByRootAndName;let u=d[c];u===void 0&&(u={},d[c]=u);for(let h=0;h!==i;++h){const m=a[h],y=m.name;let N=u[y];if(N!==void 0)++N.referenceCount,o[h]=N;else{if(N=o[h],N!==void 0){N._cacheIndex===null&&(++N.referenceCount,this._addInactiveBinding(N,c,y));continue}const j=s&&s._propertyBindings[h].binding.parsedPath;N=new Mte(Ds.create(r,y,j),m.ValueTypeName,m.getValueSize()),++N.referenceCount,this._addInactiveBinding(N,c,y),o[h]=N}l[h].resultBuffer=N.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,a=e._clip.uuid,i=this._actionsByClip[a];this._bindAction(e,i&&i.knownActions[0]),this._addInactiveAction(e,a,r)}const s=e._propertyBindings;for(let r=0,a=s.length;r!==a;++r){const i=s[r];i.useCount++===0&&(this._lendBinding(i),i.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const s=e._propertyBindings;for(let r=0,a=s.length;r!==a;++r){const i=s[r];--i.useCount===0&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const s=e._cacheIndex;return s!==null&&s<this._nActiveActions}_addInactiveAction(e,s,r){const a=this._actions,i=this._actionsByClip;let o=i[s];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[s]=o;else{const l=o.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=a.length,a.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const s=this._actions,r=s[s.length-1],a=e._cacheIndex;r._cacheIndex=a,s[a]=r,s.pop(),e._cacheIndex=null;const i=e._clip.uuid,o=this._actionsByClip,l=o[i],c=l.knownActions,d=c[c.length-1],u=e._byClipCacheIndex;d._byClipCacheIndex=u,c[u]=d,c.pop(),e._byClipCacheIndex=null;const h=l.actionByRoot,m=(e._localRoot||this._root).uuid;delete h[m],c.length===0&&delete o[i],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const s=e._propertyBindings;for(let r=0,a=s.length;r!==a;++r){const i=s[r];--i.referenceCount===0&&this._removeInactiveBinding(i)}}_lendAction(e){const s=this._actions,r=e._cacheIndex,a=this._nActiveActions++,i=s[a];e._cacheIndex=a,s[a]=e,i._cacheIndex=r,s[r]=i}_takeBackAction(e){const s=this._actions,r=e._cacheIndex,a=--this._nActiveActions,i=s[a];e._cacheIndex=a,s[a]=e,i._cacheIndex=r,s[r]=i}_addInactiveBinding(e,s,r){const a=this._bindingsByRootAndName,i=this._bindings;let o=a[s];o===void 0&&(o={},a[s]=o),o[r]=e,e._cacheIndex=i.length,i.push(e)}_removeInactiveBinding(e){const s=this._bindings,r=e.binding,a=r.rootNode.uuid,i=r.path,o=this._bindingsByRootAndName,l=o[a],c=s[s.length-1],d=e._cacheIndex;c._cacheIndex=d,s[d]=c,s.pop(),delete l[i],Object.keys(l).length===0&&delete o[a]}_lendBinding(e){const s=this._bindings,r=e._cacheIndex,a=this._nActiveBindings++,i=s[a];e._cacheIndex=a,s[a]=e,i._cacheIndex=r,s[r]=i}_takeBackBinding(e){const s=this._bindings,r=e._cacheIndex,a=--this._nActiveBindings,i=s[a];e._cacheIndex=a,s[a]=e,i._cacheIndex=r,s[r]=i}_lendControlInterpolant(){const e=this._controlInterpolants,s=this._nActiveControlInterpolants++;let r=e[s];return r===void 0&&(r=new WD(new Float32Array(2),new Float32Array(2),1,dRe),r.__cacheIndex=s,e[s]=r),r}_takeBackControlInterpolant(e){const s=this._controlInterpolants,r=e.__cacheIndex,a=--this._nActiveControlInterpolants,i=s[a];e.__cacheIndex=a,s[a]=e,i.__cacheIndex=r,s[r]=i}clipAction(e,s,r){const a=s||this._root,i=a.uuid;let o=typeof e=="string"?V1.findByName(a,e):e;const l=o!==null?o.uuid:e,c=this._actionsByClip[l];let d=null;if(r===void 0&&(o!==null?r=o.blendMode:r=cT),c!==void 0){const h=c.actionByRoot[i];if(h!==void 0&&h.blendMode===r)return h;d=c.knownActions[0],o===null&&(o=d._clip)}if(o===null)return null;const u=new Pte(this,o,s,r);return this._bindAction(u,d),this._addInactiveAction(u,l,i),u}existingAction(e,s){const r=s||this._root,a=r.uuid,i=typeof e=="string"?V1.findByName(r,e):e,o=i?i.uuid:e,l=this._actionsByClip[o];return l!==void 0&&l.actionByRoot[a]||null}stopAllAction(){const e=this._actions,s=this._nActiveActions;for(let r=s-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const s=this._actions,r=this._nActiveActions,a=this.time+=e,i=Math.sign(e),o=this._accuIndex^=1;for(let d=0;d!==r;++d)s[d]._update(a,e,i,o);const l=this._bindings,c=this._nActiveBindings;for(let d=0;d!==c;++d)l[d].apply(o);return this}setTime(e){this.time=0;for(let s=0;s<this._actions.length;s++)this._actions[s].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const s=this._actions,r=e.uuid,a=this._actionsByClip,i=a[r];if(i!==void 0){const o=i.knownActions;for(let l=0,c=o.length;l!==c;++l){const d=o[l];this._deactivateAction(d);const u=d._cacheIndex,h=s[s.length-1];d._cacheIndex=null,d._byClipCacheIndex=null,h._cacheIndex=u,s[u]=h,s.pop(),this._removeInactiveBindingsForAction(d)}delete a[r]}}uncacheRoot(e){const s=e.uuid,r=this._actionsByClip;for(const o in r){const l=r[o].actionByRoot,c=l[s];c!==void 0&&(this._deactivateAction(c),this._removeInactiveAction(c))}const a=this._bindingsByRootAndName,i=a[s];if(i!==void 0)for(const o in i){const l=i[o];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,s){const r=this.existingAction(e,s);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class hRe extends AD{constructor(e=1,s=1,r=1,a={}){super(e,s,a),this.isRenderTarget3D=!0,this.depth=r,this.texture=new uT(null,e,s,r),this._setTextureOptions(a),this.texture.isRenderTargetTexture=!0}}class nL{constructor(e){this.value=e}clone(){return new nL(this.value.clone===void 0?this.value:this.value.clone())}}let fRe=0;class mRe extends xu{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:fRe++}),this.name="",this.usage=k1,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const s=this.uniforms.indexOf(e);return s!==-1&&this.uniforms.splice(s,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const s=e.uniforms;this.uniforms.length=0;for(let r=0,a=s.length;r<a;r++){const i=Array.isArray(s[r])?s[r]:[s[r]];for(let o=0;o<i.length;o++)this.uniforms.push(i[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class PA extends pT{constructor(e,s,r=1){super(e,s),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const s=super.clone(e);return s.meshPerAttribute=this.meshPerAttribute,s}toJSON(e){const s=super.toJSON(e);return s.isInstancedInterleavedBuffer=!0,s.meshPerAttribute=this.meshPerAttribute,s}}class pRe{constructor(e,s,r,a,i,o=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=s,this.itemSize=r,this.elementSize=a,this.count=i,this.normalized=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,s){return this.type=e,this.elementSize=s,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const w7=new Kn;class sL{constructor(e,s,r=0,a=1/0){this.ray=new kx(e,s),this.near=r,this.far=a,this.camera=null,this.layers=new H0,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,s){this.ray.set(e,s)}setFromCamera(e,s){s.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(s.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(s).sub(this.ray.origin).normalize(),this.camera=s):s.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(s.near+s.far)/(s.near-s.far)).unproject(s),this.ray.direction.set(0,0,-1).transformDirection(s.matrixWorld),this.camera=s):console.error("THREE.Raycaster: Unsupported camera type: "+s.type)}setFromXRController(e){return w7.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(w7),this}intersectObject(e,s=!0,r=[]){return Y5(e,this,r,s),r.sort(N7),r}intersectObjects(e,s=!0,r=[]){for(let a=0,i=e.length;a<i;a++)Y5(e[a],this,r,s);return r.sort(N7),r}}function N7(n,e){return n.distance-e.distance}function Y5(n,e,s,r){let a=!0;if(n.layers.test(e.layers)&&n.raycast(e,s)===!1&&(a=!1),a===!0&&r===!0){const i=n.children;for(let o=0,l=i.length;o<l;o++)Y5(i[o],e,s,!0)}}class xRe{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=gRe.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function gRe(){this._document.hidden===!1&&this.reset()}class Q5{constructor(e=1,s=0,r=0){this.radius=e,this.phi=s,this.theta=r}set(e,s,r){return this.radius=e,this.phi=s,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Wn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,s,r){return this.radius=Math.sqrt(e*e+s*s+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Wn(s/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class vRe{constructor(e=1,s=0,r=0){this.radius=e,this.theta=s,this.y=r}set(e,s,r){return this.radius=e,this.theta=s,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,s,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=s,this}clone(){return new this.constructor().copy(this)}}class rL{constructor(e,s,r,a){rL.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,s,r,a)}identity(){return this.set(1,0,0,1),this}fromArray(e,s=0){for(let r=0;r<4;r++)this.elements[r]=e[r+s];return this}set(e,s,r,a){const i=this.elements;return i[0]=e,i[2]=s,i[1]=r,i[3]=a,this}}const S7=new mt;class yRe{constructor(e=new mt(1/0,1/0),s=new mt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=s}set(e,s){return this.min.copy(e),this.max.copy(s),this}setFromPoints(e){this.makeEmpty();for(let s=0,r=e.length;s<r;s++)this.expandByPoint(e[s]);return this}setFromCenterAndSize(e,s){const r=S7.copy(s).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,s){return s.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,s){return s.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,S7).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const _7=new he,FS=new he,gv=new he,vv=new he,r3=new he,bRe=new he,jRe=new he;class Rte{constructor(e=new he,s=new he){this.start=e,this.end=s}set(e,s){return this.start.copy(e),this.end.copy(s),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,s){return this.delta(s).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,s){_7.subVectors(e,this.start),FS.subVectors(this.end,this.start);const r=FS.dot(FS);let i=FS.dot(_7)/r;return s&&(i=Wn(i,0,1)),i}closestPointToPoint(e,s,r){const a=this.closestPointToPointParameter(e,s);return this.delta(r).multiplyScalar(a).add(this.start)}distanceSqToLine3(e,s=bRe,r=jRe){const a=10000000000000001e-32;let i,o;const l=this.start,c=e.start,d=this.end,u=e.end;gv.subVectors(d,l),vv.subVectors(u,c),r3.subVectors(l,c);const h=gv.dot(gv),m=vv.dot(vv),y=vv.dot(r3);if(h<=a&&m<=a)return s.copy(l),r.copy(c),s.sub(r),s.dot(s);if(h<=a)i=0,o=y/m,o=Wn(o,0,1);else{const N=gv.dot(r3);if(m<=a)o=0,i=Wn(-N/h,0,1);else{const j=gv.dot(vv),v=h*m-j*j;v!==0?i=Wn((j*y-N*m)/v,0,1):i=0,o=(j*i+y)/m,o<0?(o=0,i=Wn(-N/h,0,1)):o>1&&(o=1,i=Wn((j-N)/h,0,1))}}return s.copy(l).add(gv.multiplyScalar(i)),r.copy(c).add(vv.multiplyScalar(o)),s.sub(r),s.dot(s)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const A7=new he;class wRe extends Ls{constructor(e,s){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=s,this.type="SpotLightHelper";const r=new us,a=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,l=1,c=32;o<c;o++,l++){const d=o/c*Math.PI*2,u=l/c*Math.PI*2;a.push(Math.cos(d),Math.sin(d),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new un(a,3));const i=new To({fog:!1,toneMapped:!1});this.cone=new gu(r,i),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,s=e*Math.tan(this.light.angle);this.cone.scale.set(s,s,e),A7.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(A7),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _f=new he,US=new Kn,a3=new Kn;class NRe extends gu{constructor(e){const s=Ote(e),r=new us,a=[],i=[];for(let d=0;d<s.length;d++){const u=s[d];u.parent&&u.parent.isBone&&(a.push(0,0,0),a.push(0,0,0),i.push(0,0,0),i.push(0,0,0))}r.setAttribute("position",new un(a,3)),r.setAttribute("color",new un(i,3));const o=new To({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,o),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=s,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const l=new nn(255),c=new nn(65280);this.setColors(l,c)}updateMatrixWorld(e){const s=this.bones,r=this.geometry,a=r.getAttribute("position");a3.copy(this.root.matrixWorld).invert();for(let i=0,o=0;i<s.length;i++){const l=s[i];l.parent&&l.parent.isBone&&(US.multiplyMatrices(a3,l.matrixWorld),_f.setFromMatrixPosition(US),a.setXYZ(o,_f.x,_f.y,_f.z),US.multiplyMatrices(a3,l.parent.matrixWorld),_f.setFromMatrixPosition(US),a.setXYZ(o+1,_f.x,_f.y,_f.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,s){const a=this.geometry.getAttribute("color");for(let i=0;i<a.count;i+=2)a.setXYZ(i,e.r,e.g,e.b),a.setXYZ(i+1,s.r,s.g,s.b);return a.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function Ote(n){const e=[];n.isBone===!0&&e.push(n);for(let s=0;s<n.children.length;s++)e.push(...Ote(n.children[s]));return e}class SRe extends qr{constructor(e,s,r){const a=new ww(s,4,2),i=new Dh({wireframe:!0,fog:!1,toneMapped:!1});super(a,i),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const _Re=new he,C7=new nn,T7=new nn;class ARe extends Ls{constructor(e,s,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const a=new jw(s);a.rotateY(Math.PI*.5),this.material=new Dh({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const i=a.getAttribute("position"),o=new Float32Array(i.count*3);a.setAttribute("color",new mr(o,3)),this.add(new qr(a,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const s=e.geometry.getAttribute("color");C7.copy(this.light.color),T7.copy(this.light.groundColor);for(let r=0,a=s.count;r<a;r++){const i=r<a/2?C7:T7;s.setXYZ(r,i.r,i.g,i.b)}s.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(_Re.setFromMatrixPosition(this.light.matrixWorld).negate())}}class CRe extends gu{constructor(e=10,s=10,r=4473924,a=8947848){r=new nn(r),a=new nn(a);const i=s/2,o=e/s,l=e/2,c=[],d=[];for(let m=0,y=0,N=-l;m<=s;m++,N+=o){c.push(-l,0,N,l,0,N),c.push(N,0,-l,N,0,l);const j=m===i?r:a;j.toArray(d,y),y+=3,j.toArray(d,y),y+=3,j.toArray(d,y),y+=3,j.toArray(d,y),y+=3}const u=new us;u.setAttribute("position",new un(c,3)),u.setAttribute("color",new un(d,3));const h=new To({vertexColors:!0,toneMapped:!1});super(u,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class TRe extends gu{constructor(e=10,s=16,r=8,a=64,i=4473924,o=8947848){i=new nn(i),o=new nn(o);const l=[],c=[];if(s>1)for(let h=0;h<s;h++){const m=h/s*(Math.PI*2),y=Math.sin(m)*e,N=Math.cos(m)*e;l.push(0,0,0),l.push(y,0,N);const j=h&1?i:o;c.push(j.r,j.g,j.b),c.push(j.r,j.g,j.b)}for(let h=0;h<r;h++){const m=h&1?i:o,y=e-e/r*h;for(let N=0;N<a;N++){let j=N/a*(Math.PI*2),v=Math.sin(j)*y,b=Math.cos(j)*y;l.push(v,0,b),c.push(m.r,m.g,m.b),j=(N+1)/a*(Math.PI*2),v=Math.sin(j)*y,b=Math.cos(j)*y,l.push(v,0,b),c.push(m.r,m.g,m.b)}}const d=new us;d.setAttribute("position",new un(l,3)),d.setAttribute("color",new un(c,3));const u=new To({vertexColors:!0,toneMapped:!1});super(d,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const E7=new he,zS=new he,M7=new he;class ERe extends Ls{constructor(e,s,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",s===void 0&&(s=1);let a=new us;a.setAttribute("position",new un([-s,s,0,s,s,0,s,-s,0,-s,-s,0,-s,s,0],3));const i=new To({fog:!1,toneMapped:!1});this.lightPlane=new em(a,i),this.add(this.lightPlane),a=new us,a.setAttribute("position",new un([0,0,0,0,0,1],3)),this.targetLine=new em(a,i),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),E7.setFromMatrixPosition(this.light.matrixWorld),zS.setFromMatrixPosition(this.light.target.matrixWorld),M7.subVectors(zS,E7),this.lightPlane.lookAt(zS),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(zS),this.targetLine.scale.z=M7.length()}}const BS=new he,ra=new hT;class MRe extends gu{constructor(e){const s=new us,r=new To({color:16777215,vertexColors:!0,toneMapped:!1}),a=[],i=[],o={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(N,j){c(N),c(j)}function c(N){a.push(0,0,0),i.push(0,0,0),o[N]===void 0&&(o[N]=[]),o[N].push(a.length/3-1)}s.setAttribute("position",new un(a,3)),s.setAttribute("color",new un(i,3)),super(s,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const d=new nn(16755200),u=new nn(16711680),h=new nn(43775),m=new nn(16777215),y=new nn(3355443);this.setColors(d,u,h,m,y)}setColors(e,s,r,a,i){const l=this.geometry.getAttribute("color");return l.setXYZ(0,e.r,e.g,e.b),l.setXYZ(1,e.r,e.g,e.b),l.setXYZ(2,e.r,e.g,e.b),l.setXYZ(3,e.r,e.g,e.b),l.setXYZ(4,e.r,e.g,e.b),l.setXYZ(5,e.r,e.g,e.b),l.setXYZ(6,e.r,e.g,e.b),l.setXYZ(7,e.r,e.g,e.b),l.setXYZ(8,e.r,e.g,e.b),l.setXYZ(9,e.r,e.g,e.b),l.setXYZ(10,e.r,e.g,e.b),l.setXYZ(11,e.r,e.g,e.b),l.setXYZ(12,e.r,e.g,e.b),l.setXYZ(13,e.r,e.g,e.b),l.setXYZ(14,e.r,e.g,e.b),l.setXYZ(15,e.r,e.g,e.b),l.setXYZ(16,e.r,e.g,e.b),l.setXYZ(17,e.r,e.g,e.b),l.setXYZ(18,e.r,e.g,e.b),l.setXYZ(19,e.r,e.g,e.b),l.setXYZ(20,e.r,e.g,e.b),l.setXYZ(21,e.r,e.g,e.b),l.setXYZ(22,e.r,e.g,e.b),l.setXYZ(23,e.r,e.g,e.b),l.setXYZ(24,s.r,s.g,s.b),l.setXYZ(25,s.r,s.g,s.b),l.setXYZ(26,s.r,s.g,s.b),l.setXYZ(27,s.r,s.g,s.b),l.setXYZ(28,s.r,s.g,s.b),l.setXYZ(29,s.r,s.g,s.b),l.setXYZ(30,s.r,s.g,s.b),l.setXYZ(31,s.r,s.g,s.b),l.setXYZ(32,r.r,r.g,r.b),l.setXYZ(33,r.r,r.g,r.b),l.setXYZ(34,r.r,r.g,r.b),l.setXYZ(35,r.r,r.g,r.b),l.setXYZ(36,r.r,r.g,r.b),l.setXYZ(37,r.r,r.g,r.b),l.setXYZ(38,a.r,a.g,a.b),l.setXYZ(39,a.r,a.g,a.b),l.setXYZ(40,i.r,i.g,i.b),l.setXYZ(41,i.r,i.g,i.b),l.setXYZ(42,i.r,i.g,i.b),l.setXYZ(43,i.r,i.g,i.b),l.setXYZ(44,i.r,i.g,i.b),l.setXYZ(45,i.r,i.g,i.b),l.setXYZ(46,i.r,i.g,i.b),l.setXYZ(47,i.r,i.g,i.b),l.setXYZ(48,i.r,i.g,i.b),l.setXYZ(49,i.r,i.g,i.b),l.needsUpdate=!0,this}update(){const e=this.geometry,s=this.pointMap,r=1,a=1;let i,o;if(ra.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)i=1,o=0;else if(this.camera.coordinateSystem===yl)i=-1,o=1;else if(this.camera.coordinateSystem===B0)i=0,o=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);pa("c",s,e,ra,0,0,i),pa("t",s,e,ra,0,0,o),pa("n1",s,e,ra,-r,-a,i),pa("n2",s,e,ra,r,-a,i),pa("n3",s,e,ra,-r,a,i),pa("n4",s,e,ra,r,a,i),pa("f1",s,e,ra,-r,-a,o),pa("f2",s,e,ra,r,-a,o),pa("f3",s,e,ra,-r,a,o),pa("f4",s,e,ra,r,a,o),pa("u1",s,e,ra,r*.7,a*1.1,i),pa("u2",s,e,ra,-r*.7,a*1.1,i),pa("u3",s,e,ra,0,a*2,i),pa("cf1",s,e,ra,-r,0,o),pa("cf2",s,e,ra,r,0,o),pa("cf3",s,e,ra,0,-a,o),pa("cf4",s,e,ra,0,a,o),pa("cn1",s,e,ra,-r,0,i),pa("cn2",s,e,ra,r,0,i),pa("cn3",s,e,ra,0,-a,i),pa("cn4",s,e,ra,0,a,i),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function pa(n,e,s,r,a,i,o){BS.set(a,i,o).unproject(r);const l=e[n];if(l!==void 0){const c=s.getAttribute("position");for(let d=0,u=l.length;d<u;d++)c.setXYZ(l[d],BS.x,BS.y,BS.z)}}const VS=new Ya;class PRe extends gu{constructor(e,s=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=new Float32Array(24),i=new us;i.setIndex(new mr(r,1)),i.setAttribute("position",new mr(a,3)),super(i,new To({color:s,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&VS.setFromObject(this.object),VS.isEmpty())return;const e=VS.min,s=VS.max,r=this.geometry.attributes.position,a=r.array;a[0]=s.x,a[1]=s.y,a[2]=s.z,a[3]=e.x,a[4]=s.y,a[5]=s.z,a[6]=e.x,a[7]=e.y,a[8]=s.z,a[9]=s.x,a[10]=e.y,a[11]=s.z,a[12]=s.x,a[13]=s.y,a[14]=e.z,a[15]=e.x,a[16]=s.y,a[17]=e.z,a[18]=e.x,a[19]=e.y,a[20]=e.z,a[21]=s.x,a[22]=e.y,a[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,s){return super.copy(e,s),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class RRe extends gu{constructor(e,s=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],i=new us;i.setIndex(new mr(r,1)),i.setAttribute("position",new un(a,3)),super(i,new To({color:s,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const s=this.box;s.isEmpty()||(s.getCenter(this.position),s.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class ORe extends em{constructor(e,s=1,r=16776960){const a=r,i=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new us;o.setAttribute("position",new un(i,3)),o.computeBoundingSphere(),super(o,new To({color:a,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=s;const l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],c=new us;c.setAttribute("position",new un(l,3)),c.computeBoundingSphere(),this.add(new qr(c,new Dh({color:a,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const P7=new he;let HS,i3;class kRe extends Ls{constructor(e=new he(0,0,1),s=new he(0,0,0),r=1,a=16776960,i=r*.2,o=i*.2){super(),this.type="ArrowHelper",HS===void 0&&(HS=new us,HS.setAttribute("position",new un([0,0,0,0,1,0],3)),i3=new yw(.5,1,5,1),i3.translate(0,-.5,0)),this.position.copy(s),this.line=new em(HS,new To({color:a,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new qr(i3,new Dh({color:a,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,i,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{P7.set(e.z,0,-e.x).normalize();const s=Math.acos(e.y);this.quaternion.setFromAxisAngle(P7,s)}}setLength(e,s=e*.2,r=s*.2){this.line.scale.set(1,Math.max(1e-4,e-s),1),this.line.updateMatrix(),this.cone.scale.set(r,s,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class IRe extends gu{constructor(e=1){const s=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],a=new us;a.setAttribute("position",new un(s,3)),a.setAttribute("color",new un(r,3));const i=new To({vertexColors:!0,toneMapped:!1});super(a,i),this.type="AxesHelper"}setColors(e,s,r){const a=new nn,i=this.geometry.attributes.color.array;return a.set(e),a.toArray(i,0),a.toArray(i,3),a.set(s),a.toArray(i,6),a.toArray(i,9),a.set(r),a.toArray(i,12),a.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class DRe{constructor(){this.type="ShapePath",this.color=new nn,this.subPaths=[],this.currentPath=null}moveTo(e,s){return this.currentPath=new MA,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,s),this}lineTo(e,s){return this.currentPath.lineTo(e,s),this}quadraticCurveTo(e,s,r,a){return this.currentPath.quadraticCurveTo(e,s,r,a),this}bezierCurveTo(e,s,r,a,i,o){return this.currentPath.bezierCurveTo(e,s,r,a,i,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function s(b){const A=[];for(let S=0,w=b.length;S<w;S++){const E=b[S],T=new ix;T.curves=E.curves,A.push(T)}return A}function r(b,A){const S=A.length;let w=!1;for(let E=S-1,T=0;T<S;E=T++){let P=A[E],k=A[T],I=k.x-P.x,L=k.y-P.y;if(Math.abs(L)>Number.EPSILON){if(L<0&&(P=A[T],I=-I,k=A[E],L=-L),b.y<P.y||b.y>k.y)continue;if(b.y===P.y){if(b.x===P.x)return!0}else{const U=L*(b.x-P.x)-I*(b.y-P.y);if(U===0)return!0;if(U<0)continue;w=!w}}else{if(b.y!==P.y)continue;if(k.x<=b.x&&b.x<=P.x||P.x<=b.x&&b.x<=k.x)return!0}}return w}const a=nd.isClockWise,i=this.subPaths;if(i.length===0)return[];let o,l,c;const d=[];if(i.length===1)return l=i[0],c=new ix,c.curves=l.curves,d.push(c),d;let u=!a(i[0].getPoints());u=e?!u:u;const h=[],m=[];let y=[],N=0,j;m[N]=void 0,y[N]=[];for(let b=0,A=i.length;b<A;b++)l=i[b],j=l.getPoints(),o=a(j),o=e?!o:o,o?(!u&&m[N]&&N++,m[N]={s:new ix,p:j},m[N].s.curves=l.curves,u&&N++,y[N]=[]):y[N].push({h:l,p:j[0]});if(!m[0])return s(i);if(m.length>1){let b=!1,A=0;for(let S=0,w=m.length;S<w;S++)h[S]=[];for(let S=0,w=m.length;S<w;S++){const E=y[S];for(let T=0;T<E.length;T++){const P=E[T];let k=!0;for(let I=0;I<m.length;I++)r(P.p,m[I].p)&&(S!==I&&A++,k?(k=!1,h[I].push(P)):b=!0);k&&h[S].push(P)}}A>0&&b===!1&&(y=h)}let v;for(let b=0,A=m.length;b<A;b++){c=m[b].s,d.push(c),v=y[b];for(let S=0,w=v.length;S<w;S++)c.holes.push(v[S].h)}return d}}class LRe extends xu{constructor(e,s=null){super(),this.object=e,this.domElement=s,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function FRe(n,e){const s=n.image&&n.image.width?n.image.width/n.image.height:1;return s>e?(n.repeat.x=1,n.repeat.y=s/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/s,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function URe(n,e){const s=n.image&&n.image.width?n.image.width/n.image.height:1;return s>e?(n.repeat.x=e/s,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=s/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function zRe(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function J5(n,e,s,r){const a=BRe(r);switch(s){case yD:return n*e;case mw:return n*e/a.components*a.byteLength;case pw:return n*e/a.components*a.byteLength;case jD:return n*e*2/a.components*a.byteLength;case oT:return n*e*2/a.components*a.byteLength;case bD:return n*e*3/a.components*a.byteLength;case xa:return n*e*4/a.components*a.byteLength;case lT:return n*e*4/a.components*a.byteLength;case Aj:case Cj:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case Tj:case Ej:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Q2:case eA:return Math.max(n,16)*Math.max(e,8)/4;case Y2:case J2:return Math.max(n,8)*Math.max(e,8)/2;case tA:case nA:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case sA:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case rA:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case aA:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case iA:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case oA:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case lA:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case cA:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case dA:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case uA:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case hA:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case fA:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case mA:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case pA:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case xA:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case gA:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case vA:case yA:case bA:return Math.ceil(n/4)*Math.ceil(e/4)*16;case jA:case wA:return Math.ceil(n/4)*Math.ceil(e/4)*8;case NA:case SA:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${s} format.`)}function BRe(n){switch(n){case _o:case sT:return{byteLength:1,components:1};case L0:case rT:case mi:return{byteLength:2,components:1};case aT:case iT:return{byteLength:2,components:4};case du:case fw:case Qr:return{byteLength:4,components:1};case gD:case vD:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class VRe{static contain(e,s){return FRe(e,s)}static cover(e,s){return URe(e,s)}static fill(e){return zRe(e)}static getByteLength(e,s,r,a){return J5(e,s,r,a)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:uw}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=uw);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function kte(){let n=null,e=!1,s=null,r=null;function a(i,o){s(i,o),r=n.requestAnimationFrame(a)}return{start:function(){e!==!0&&s!==null&&(r=n.requestAnimationFrame(a),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(i){s=i},setContext:function(i){n=i}}}function HRe(n){const e=new WeakMap;function s(l,c){const d=l.array,u=l.usage,h=d.byteLength,m=n.createBuffer();n.bindBuffer(c,m),n.bufferData(c,d,u),l.onUploadCallback();let y;if(d instanceof Float32Array)y=n.FLOAT;else if(typeof Float16Array<"u"&&d instanceof Float16Array)y=n.HALF_FLOAT;else if(d instanceof Uint16Array)l.isFloat16BufferAttribute?y=n.HALF_FLOAT:y=n.UNSIGNED_SHORT;else if(d instanceof Int16Array)y=n.SHORT;else if(d instanceof Uint32Array)y=n.UNSIGNED_INT;else if(d instanceof Int32Array)y=n.INT;else if(d instanceof Int8Array)y=n.BYTE;else if(d instanceof Uint8Array)y=n.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)y=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:m,type:y,bytesPerElement:d.BYTES_PER_ELEMENT,version:l.version,size:h}}function r(l,c,d){const u=c.array,h=c.updateRanges;if(n.bindBuffer(d,l),h.length===0)n.bufferSubData(d,0,u);else{h.sort((y,N)=>y.start-N.start);let m=0;for(let y=1;y<h.length;y++){const N=h[m],j=h[y];j.start<=N.start+N.count+1?N.count=Math.max(N.count,j.start+j.count-N.start):(++m,h[m]=j)}h.length=m+1;for(let y=0,N=h.length;y<N;y++){const j=h[y];n.bufferSubData(d,j.start*u.BYTES_PER_ELEMENT,u,j.start,j.count)}c.clearUpdateRanges()}c.onUploadCallback()}function a(l){return l.isInterleavedBufferAttribute&&(l=l.data),e.get(l)}function i(l){l.isInterleavedBufferAttribute&&(l=l.data);const c=e.get(l);c&&(n.deleteBuffer(c.buffer),e.delete(l))}function o(l,c){if(l.isInterleavedBufferAttribute&&(l=l.data),l.isGLBufferAttribute){const u=e.get(l);(!u||u.version<l.version)&&e.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}const d=e.get(l);if(d===void 0)e.set(l,s(l,c));else if(d.version<l.version){if(d.size!==l.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(d.buffer,l,c),d.version=l.version}}return{get:a,remove:i,update:o}}var GRe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,$Re=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,qRe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,WRe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,KRe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,XRe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,ZRe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,YRe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,QRe=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,JRe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,e3e=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,t3e=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,n3e=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,s3e=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,r3e=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,a3e=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,i3e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,o3e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,l3e=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,c3e=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,d3e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,u3e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,h3e=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,f3e=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,m3e=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,p3e=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,x3e=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,g3e=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,v3e=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,y3e=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,b3e="gl_FragColor = linearToOutputTexel( gl_FragColor );",j3e=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,w3e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,N3e=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,S3e=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,_3e=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,A3e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,C3e=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,T3e=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,E3e=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,M3e=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,P3e=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,R3e=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,O3e=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,k3e=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,I3e=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,D3e=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,L3e=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,F3e=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,U3e=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,z3e=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,B3e=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,V3e=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,H3e=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,G3e=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,$3e=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,q3e=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,W3e=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,K3e=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,X3e=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Z3e=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Y3e=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Q3e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,J3e=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,eOe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,tOe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,nOe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,sOe=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,rOe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,aOe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,iOe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,oOe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,lOe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,cOe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,dOe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,uOe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,hOe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,fOe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,mOe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,pOe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,xOe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,gOe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,vOe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,yOe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,bOe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,jOe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,wOe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,NOe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,SOe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,_Oe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,AOe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,COe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,TOe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,EOe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,MOe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,POe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,ROe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,OOe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,kOe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,IOe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,DOe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,LOe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,FOe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,UOe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,zOe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,BOe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,VOe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const HOe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,GOe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,$Oe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,qOe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,WOe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,KOe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,XOe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,ZOe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,YOe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,QOe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,JOe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,e5e=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,t5e=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,n5e=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,s5e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,r5e=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,a5e=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,i5e=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,o5e=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,l5e=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,c5e=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,d5e=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,u5e=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,h5e=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,f5e=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,m5e=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,p5e=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,x5e=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,g5e=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,v5e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,y5e=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,b5e=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,j5e=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,w5e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ms={alphahash_fragment:GRe,alphahash_pars_fragment:$Re,alphamap_fragment:qRe,alphamap_pars_fragment:WRe,alphatest_fragment:KRe,alphatest_pars_fragment:XRe,aomap_fragment:ZRe,aomap_pars_fragment:YRe,batching_pars_vertex:QRe,batching_vertex:JRe,begin_vertex:e3e,beginnormal_vertex:t3e,bsdfs:n3e,iridescence_fragment:s3e,bumpmap_pars_fragment:r3e,clipping_planes_fragment:a3e,clipping_planes_pars_fragment:i3e,clipping_planes_pars_vertex:o3e,clipping_planes_vertex:l3e,color_fragment:c3e,color_pars_fragment:d3e,color_pars_vertex:u3e,color_vertex:h3e,common:f3e,cube_uv_reflection_fragment:m3e,defaultnormal_vertex:p3e,displacementmap_pars_vertex:x3e,displacementmap_vertex:g3e,emissivemap_fragment:v3e,emissivemap_pars_fragment:y3e,colorspace_fragment:b3e,colorspace_pars_fragment:j3e,envmap_fragment:w3e,envmap_common_pars_fragment:N3e,envmap_pars_fragment:S3e,envmap_pars_vertex:_3e,envmap_physical_pars_fragment:D3e,envmap_vertex:A3e,fog_vertex:C3e,fog_pars_vertex:T3e,fog_fragment:E3e,fog_pars_fragment:M3e,gradientmap_pars_fragment:P3e,lightmap_pars_fragment:R3e,lights_lambert_fragment:O3e,lights_lambert_pars_fragment:k3e,lights_pars_begin:I3e,lights_toon_fragment:L3e,lights_toon_pars_fragment:F3e,lights_phong_fragment:U3e,lights_phong_pars_fragment:z3e,lights_physical_fragment:B3e,lights_physical_pars_fragment:V3e,lights_fragment_begin:H3e,lights_fragment_maps:G3e,lights_fragment_end:$3e,logdepthbuf_fragment:q3e,logdepthbuf_pars_fragment:W3e,logdepthbuf_pars_vertex:K3e,logdepthbuf_vertex:X3e,map_fragment:Z3e,map_pars_fragment:Y3e,map_particle_fragment:Q3e,map_particle_pars_fragment:J3e,metalnessmap_fragment:eOe,metalnessmap_pars_fragment:tOe,morphinstance_vertex:nOe,morphcolor_vertex:sOe,morphnormal_vertex:rOe,morphtarget_pars_vertex:aOe,morphtarget_vertex:iOe,normal_fragment_begin:oOe,normal_fragment_maps:lOe,normal_pars_fragment:cOe,normal_pars_vertex:dOe,normal_vertex:uOe,normalmap_pars_fragment:hOe,clearcoat_normal_fragment_begin:fOe,clearcoat_normal_fragment_maps:mOe,clearcoat_pars_fragment:pOe,iridescence_pars_fragment:xOe,opaque_fragment:gOe,packing:vOe,premultiplied_alpha_fragment:yOe,project_vertex:bOe,dithering_fragment:jOe,dithering_pars_fragment:wOe,roughnessmap_fragment:NOe,roughnessmap_pars_fragment:SOe,shadowmap_pars_fragment:_Oe,shadowmap_pars_vertex:AOe,shadowmap_vertex:COe,shadowmask_pars_fragment:TOe,skinbase_vertex:EOe,skinning_pars_vertex:MOe,skinning_vertex:POe,skinnormal_vertex:ROe,specularmap_fragment:OOe,specularmap_pars_fragment:kOe,tonemapping_fragment:IOe,tonemapping_pars_fragment:DOe,transmission_fragment:LOe,transmission_pars_fragment:FOe,uv_pars_fragment:UOe,uv_pars_vertex:zOe,uv_vertex:BOe,worldpos_vertex:VOe,background_vert:HOe,background_frag:GOe,backgroundCube_vert:$Oe,backgroundCube_frag:qOe,cube_vert:WOe,cube_frag:KOe,depth_vert:XOe,depth_frag:ZOe,distanceRGBA_vert:YOe,distanceRGBA_frag:QOe,equirect_vert:JOe,equirect_frag:e5e,linedashed_vert:t5e,linedashed_frag:n5e,meshbasic_vert:s5e,meshbasic_frag:r5e,meshlambert_vert:a5e,meshlambert_frag:i5e,meshmatcap_vert:o5e,meshmatcap_frag:l5e,meshnormal_vert:c5e,meshnormal_frag:d5e,meshphong_vert:u5e,meshphong_frag:h5e,meshphysical_vert:f5e,meshphysical_frag:m5e,meshtoon_vert:p5e,meshtoon_frag:x5e,points_vert:g5e,points_frag:v5e,shadow_vert:y5e,shadow_frag:b5e,sprite_vert:j5e,sprite_frag:w5e},Gt={common:{diffuse:{value:new nn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new is},alphaMap:{value:null},alphaMapTransform:{value:new is},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new is}},envmap:{envMap:{value:null},envMapRotation:{value:new is},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new is}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new is}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new is},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new is},normalScale:{value:new mt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new is},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new is}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new is}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new is}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new nn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new nn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new is},alphaTest:{value:0},uvTransform:{value:new is}},sprite:{diffuse:{value:new nn(16777215)},opacity:{value:1},center:{value:new mt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new is},alphaMap:{value:null},alphaMapTransform:{value:new is},alphaTest:{value:0}}},Yc={basic:{uniforms:po([Gt.common,Gt.specularmap,Gt.envmap,Gt.aomap,Gt.lightmap,Gt.fog]),vertexShader:ms.meshbasic_vert,fragmentShader:ms.meshbasic_frag},lambert:{uniforms:po([Gt.common,Gt.specularmap,Gt.envmap,Gt.aomap,Gt.lightmap,Gt.emissivemap,Gt.bumpmap,Gt.normalmap,Gt.displacementmap,Gt.fog,Gt.lights,{emissive:{value:new nn(0)}}]),vertexShader:ms.meshlambert_vert,fragmentShader:ms.meshlambert_frag},phong:{uniforms:po([Gt.common,Gt.specularmap,Gt.envmap,Gt.aomap,Gt.lightmap,Gt.emissivemap,Gt.bumpmap,Gt.normalmap,Gt.displacementmap,Gt.fog,Gt.lights,{emissive:{value:new nn(0)},specular:{value:new nn(1118481)},shininess:{value:30}}]),vertexShader:ms.meshphong_vert,fragmentShader:ms.meshphong_frag},standard:{uniforms:po([Gt.common,Gt.envmap,Gt.aomap,Gt.lightmap,Gt.emissivemap,Gt.bumpmap,Gt.normalmap,Gt.displacementmap,Gt.roughnessmap,Gt.metalnessmap,Gt.fog,Gt.lights,{emissive:{value:new nn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ms.meshphysical_vert,fragmentShader:ms.meshphysical_frag},toon:{uniforms:po([Gt.common,Gt.aomap,Gt.lightmap,Gt.emissivemap,Gt.bumpmap,Gt.normalmap,Gt.displacementmap,Gt.gradientmap,Gt.fog,Gt.lights,{emissive:{value:new nn(0)}}]),vertexShader:ms.meshtoon_vert,fragmentShader:ms.meshtoon_frag},matcap:{uniforms:po([Gt.common,Gt.bumpmap,Gt.normalmap,Gt.displacementmap,Gt.fog,{matcap:{value:null}}]),vertexShader:ms.meshmatcap_vert,fragmentShader:ms.meshmatcap_frag},points:{uniforms:po([Gt.points,Gt.fog]),vertexShader:ms.points_vert,fragmentShader:ms.points_frag},dashed:{uniforms:po([Gt.common,Gt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ms.linedashed_vert,fragmentShader:ms.linedashed_frag},depth:{uniforms:po([Gt.common,Gt.displacementmap]),vertexShader:ms.depth_vert,fragmentShader:ms.depth_frag},normal:{uniforms:po([Gt.common,Gt.bumpmap,Gt.normalmap,Gt.displacementmap,{opacity:{value:1}}]),vertexShader:ms.meshnormal_vert,fragmentShader:ms.meshnormal_frag},sprite:{uniforms:po([Gt.sprite,Gt.fog]),vertexShader:ms.sprite_vert,fragmentShader:ms.sprite_frag},background:{uniforms:{uvTransform:{value:new is},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ms.background_vert,fragmentShader:ms.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new is}},vertexShader:ms.backgroundCube_vert,fragmentShader:ms.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ms.cube_vert,fragmentShader:ms.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ms.equirect_vert,fragmentShader:ms.equirect_frag},distanceRGBA:{uniforms:po([Gt.common,Gt.displacementmap,{referencePosition:{value:new he},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ms.distanceRGBA_vert,fragmentShader:ms.distanceRGBA_frag},shadow:{uniforms:po([Gt.lights,Gt.fog,{color:{value:new nn(0)},opacity:{value:1}}]),vertexShader:ms.shadow_vert,fragmentShader:ms.shadow_frag}};Yc.physical={uniforms:po([Yc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new is},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new is},clearcoatNormalScale:{value:new mt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new is},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new is},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new is},sheen:{value:0},sheenColor:{value:new nn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new is},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new is},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new is},transmissionSamplerSize:{value:new mt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new is},attenuationDistance:{value:0},attenuationColor:{value:new nn(0)},specularColor:{value:new nn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new is},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new is},anisotropyVector:{value:new mt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new is}}]),vertexShader:ms.meshphysical_vert,fragmentShader:ms.meshphysical_frag};const GS={r:0,b:0,g:0},Sp=new Ml,N5e=new Kn;function S5e(n,e,s,r,a,i,o){const l=new nn(0);let c=i===!0?0:1,d,u,h=null,m=0,y=null;function N(S){let w=S.isScene===!0?S.background:null;return w&&w.isTexture&&(w=(S.backgroundBlurriness>0?s:e).get(w)),w}function j(S){let w=!1;const E=N(S);E===null?b(l,c):E&&E.isColor&&(b(E,1),w=!0);const T=n.xr.getEnvironmentBlendMode();T==="additive"?r.buffers.color.setClear(0,0,0,1,o):T==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(n.autoClear||w)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function v(S,w){const E=N(w);E&&(E.isCubeTexture||E.mapping===fy)?(u===void 0&&(u=new qr(new Ix(1,1,1),new Ao({name:"BackgroundCubeMaterial",uniforms:G0(Yc.backgroundCube.uniforms),vertexShader:Yc.backgroundCube.vertexShader,fragmentShader:Yc.backgroundCube.fragmentShader,side:So,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(T,P,k){this.matrixWorld.copyPosition(k.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),a.update(u)),Sp.copy(w.backgroundRotation),Sp.x*=-1,Sp.y*=-1,Sp.z*=-1,E.isCubeTexture&&E.isRenderTargetTexture===!1&&(Sp.y*=-1,Sp.z*=-1),u.material.uniforms.envMap.value=E,u.material.uniforms.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=w.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(N5e.makeRotationFromEuler(Sp)),u.material.toneMapped=Ps.getTransfer(E.colorSpace)!==rr,(h!==E||m!==E.version||y!==n.toneMapping)&&(u.material.needsUpdate=!0,h=E,m=E.version,y=n.toneMapping),u.layers.enableAll(),S.unshift(u,u.geometry,u.material,0,0,null)):E&&E.isTexture&&(d===void 0&&(d=new qr(new cm(2,2),new Ao({name:"BackgroundMaterial",uniforms:G0(Yc.background.uniforms),vertexShader:Yc.background.vertexShader,fragmentShader:Yc.background.fragmentShader,side:Eh,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),d.geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),a.update(d)),d.material.uniforms.t2D.value=E,d.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,d.material.toneMapped=Ps.getTransfer(E.colorSpace)!==rr,E.matrixAutoUpdate===!0&&E.updateMatrix(),d.material.uniforms.uvTransform.value.copy(E.matrix),(h!==E||m!==E.version||y!==n.toneMapping)&&(d.material.needsUpdate=!0,h=E,m=E.version,y=n.toneMapping),d.layers.enableAll(),S.unshift(d,d.geometry,d.material,0,0,null))}function b(S,w){S.getRGB(GS,Lee(n)),r.buffers.color.setClear(GS.r,GS.g,GS.b,w,o)}function A(){u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0),d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0)}return{getClearColor:function(){return l},setClearColor:function(S,w=1){l.set(S),c=w,b(l,c)},getClearAlpha:function(){return c},setClearAlpha:function(S){c=S,b(l,c)},render:j,addToRenderList:v,dispose:A}}function _5e(n,e){const s=n.getParameter(n.MAX_VERTEX_ATTRIBS),r={},a=m(null);let i=a,o=!1;function l(L,U,H,B,K){let J=!1;const W=h(B,H,U);i!==W&&(i=W,d(i.object)),J=y(L,B,H,K),J&&N(L,B,H,K),K!==null&&e.update(K,n.ELEMENT_ARRAY_BUFFER),(J||o)&&(o=!1,w(L,U,H,B),K!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(K).buffer))}function c(){return n.createVertexArray()}function d(L){return n.bindVertexArray(L)}function u(L){return n.deleteVertexArray(L)}function h(L,U,H){const B=H.wireframe===!0;let K=r[L.id];K===void 0&&(K={},r[L.id]=K);let J=K[U.id];J===void 0&&(J={},K[U.id]=J);let W=J[B];return W===void 0&&(W=m(c()),J[B]=W),W}function m(L){const U=[],H=[],B=[];for(let K=0;K<s;K++)U[K]=0,H[K]=0,B[K]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:U,enabledAttributes:H,attributeDivisors:B,object:L,attributes:{},index:null}}function y(L,U,H,B){const K=i.attributes,J=U.attributes;let W=0;const ee=H.getAttributes();for(const G in ee)if(ee[G].location>=0){const fe=K[G];let se=J[G];if(se===void 0&&(G==="instanceMatrix"&&L.instanceMatrix&&(se=L.instanceMatrix),G==="instanceColor"&&L.instanceColor&&(se=L.instanceColor)),fe===void 0||fe.attribute!==se||se&&fe.data!==se.data)return!0;W++}return i.attributesNum!==W||i.index!==B}function N(L,U,H,B){const K={},J=U.attributes;let W=0;const ee=H.getAttributes();for(const G in ee)if(ee[G].location>=0){let fe=J[G];fe===void 0&&(G==="instanceMatrix"&&L.instanceMatrix&&(fe=L.instanceMatrix),G==="instanceColor"&&L.instanceColor&&(fe=L.instanceColor));const se={};se.attribute=fe,fe&&fe.data&&(se.data=fe.data),K[G]=se,W++}i.attributes=K,i.attributesNum=W,i.index=B}function j(){const L=i.newAttributes;for(let U=0,H=L.length;U<H;U++)L[U]=0}function v(L){b(L,0)}function b(L,U){const H=i.newAttributes,B=i.enabledAttributes,K=i.attributeDivisors;H[L]=1,B[L]===0&&(n.enableVertexAttribArray(L),B[L]=1),K[L]!==U&&(n.vertexAttribDivisor(L,U),K[L]=U)}function A(){const L=i.newAttributes,U=i.enabledAttributes;for(let H=0,B=U.length;H<B;H++)U[H]!==L[H]&&(n.disableVertexAttribArray(H),U[H]=0)}function S(L,U,H,B,K,J,W){W===!0?n.vertexAttribIPointer(L,U,H,K,J):n.vertexAttribPointer(L,U,H,B,K,J)}function w(L,U,H,B){j();const K=B.attributes,J=H.getAttributes(),W=U.defaultAttributeValues;for(const ee in J){const G=J[ee];if(G.location>=0){let ae=K[ee];if(ae===void 0&&(ee==="instanceMatrix"&&L.instanceMatrix&&(ae=L.instanceMatrix),ee==="instanceColor"&&L.instanceColor&&(ae=L.instanceColor)),ae!==void 0){const fe=ae.normalized,se=ae.itemSize,me=e.get(ae);if(me===void 0)continue;const Oe=me.buffer,Ye=me.type,dt=me.bytesPerElement,be=Ye===n.INT||Ye===n.UNSIGNED_INT||ae.gpuType===fw;if(ae.isInterleavedBufferAttribute){const Ce=ae.data,Ue=Ce.stride,De=ae.offset;if(Ce.isInstancedInterleavedBuffer){for(let qe=0;qe<G.locationSize;qe++)b(G.location+qe,Ce.meshPerAttribute);L.isInstancedMesh!==!0&&B._maxInstanceCount===void 0&&(B._maxInstanceCount=Ce.meshPerAttribute*Ce.count)}else for(let qe=0;qe<G.locationSize;qe++)v(G.location+qe);n.bindBuffer(n.ARRAY_BUFFER,Oe);for(let qe=0;qe<G.locationSize;qe++)S(G.location+qe,se/G.locationSize,Ye,fe,Ue*dt,(De+se/G.locationSize*qe)*dt,be)}else{if(ae.isInstancedBufferAttribute){for(let Ce=0;Ce<G.locationSize;Ce++)b(G.location+Ce,ae.meshPerAttribute);L.isInstancedMesh!==!0&&B._maxInstanceCount===void 0&&(B._maxInstanceCount=ae.meshPerAttribute*ae.count)}else for(let Ce=0;Ce<G.locationSize;Ce++)v(G.location+Ce);n.bindBuffer(n.ARRAY_BUFFER,Oe);for(let Ce=0;Ce<G.locationSize;Ce++)S(G.location+Ce,se/G.locationSize,Ye,fe,se*dt,se/G.locationSize*Ce*dt,be)}}else if(W!==void 0){const fe=W[ee];if(fe!==void 0)switch(fe.length){case 2:n.vertexAttrib2fv(G.location,fe);break;case 3:n.vertexAttrib3fv(G.location,fe);break;case 4:n.vertexAttrib4fv(G.location,fe);break;default:n.vertexAttrib1fv(G.location,fe)}}}}A()}function E(){k();for(const L in r){const U=r[L];for(const H in U){const B=U[H];for(const K in B)u(B[K].object),delete B[K];delete U[H]}delete r[L]}}function T(L){if(r[L.id]===void 0)return;const U=r[L.id];for(const H in U){const B=U[H];for(const K in B)u(B[K].object),delete B[K];delete U[H]}delete r[L.id]}function P(L){for(const U in r){const H=r[U];if(H[L.id]===void 0)continue;const B=H[L.id];for(const K in B)u(B[K].object),delete B[K];delete H[L.id]}}function k(){I(),o=!0,i!==a&&(i=a,d(i.object))}function I(){a.geometry=null,a.program=null,a.wireframe=!1}return{setup:l,reset:k,resetDefaultState:I,dispose:E,releaseStatesOfGeometry:T,releaseStatesOfProgram:P,initAttributes:j,enableAttribute:v,disableUnusedAttributes:A}}function A5e(n,e,s){let r;function a(d){r=d}function i(d,u){n.drawArrays(r,d,u),s.update(u,r,1)}function o(d,u,h){h!==0&&(n.drawArraysInstanced(r,d,u,h),s.update(u,r,h))}function l(d,u,h){if(h===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,d,0,u,0,h);let y=0;for(let N=0;N<h;N++)y+=u[N];s.update(y,r,1)}function c(d,u,h,m){if(h===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let N=0;N<d.length;N++)o(d[N],u[N],m[N]);else{y.multiDrawArraysInstancedWEBGL(r,d,0,u,0,m,0,h);let N=0;for(let j=0;j<h;j++)N+=u[j]*m[j];s.update(N,r,1)}}this.setMode=a,this.render=i,this.renderInstances=o,this.renderMultiDraw=l,this.renderMultiDrawInstances=c}function C5e(n,e,s,r){let a;function i(){if(a!==void 0)return a;if(e.has("EXT_texture_filter_anisotropic")===!0){const P=e.get("EXT_texture_filter_anisotropic");a=n.getParameter(P.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else a=0;return a}function o(P){return!(P!==xa&&r.convert(P)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function l(P){const k=P===mi&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(P!==_o&&r.convert(P)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&P!==Qr&&!k)}function c(P){if(P==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";P="mediump"}return P==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let d=s.precision!==void 0?s.precision:"highp";const u=c(d);u!==d&&(console.warn("THREE.WebGLRenderer:",d,"not supported, using",u,"instead."),d=u);const h=s.logarithmicDepthBuffer===!0,m=s.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),y=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),N=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),j=n.getParameter(n.MAX_TEXTURE_SIZE),v=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),b=n.getParameter(n.MAX_VERTEX_ATTRIBS),A=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),S=n.getParameter(n.MAX_VARYING_VECTORS),w=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),E=N>0,T=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:i,getMaxPrecision:c,textureFormatReadable:o,textureTypeReadable:l,precision:d,logarithmicDepthBuffer:h,reversedDepthBuffer:m,maxTextures:y,maxVertexTextures:N,maxTextureSize:j,maxCubemapSize:v,maxAttributes:b,maxVertexUniforms:A,maxVaryings:S,maxFragmentUniforms:w,vertexTextures:E,maxSamples:T}}function T5e(n){const e=this;let s=null,r=0,a=!1,i=!1;const o=new sh,l=new is,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(h,m){const y=h.length!==0||m||r!==0||a;return a=m,r=h.length,y},this.beginShadows=function(){i=!0,u(null)},this.endShadows=function(){i=!1},this.setGlobalState=function(h,m){s=u(h,m,0)},this.setState=function(h,m,y){const N=h.clippingPlanes,j=h.clipIntersection,v=h.clipShadows,b=n.get(h);if(!a||N===null||N.length===0||i&&!v)i?u(null):d();else{const A=i?0:r,S=A*4;let w=b.clippingState||null;c.value=w,w=u(N,m,S,y);for(let E=0;E!==S;++E)w[E]=s[E];b.clippingState=w,this.numIntersection=j?this.numPlanes:0,this.numPlanes+=A}};function d(){c.value!==s&&(c.value=s,c.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(h,m,y,N){const j=h!==null?h.length:0;let v=null;if(j!==0){if(v=c.value,N!==!0||v===null){const b=y+j*4,A=m.matrixWorldInverse;l.getNormalMatrix(A),(v===null||v.length<b)&&(v=new Float32Array(b));for(let S=0,w=y;S!==j;++S,w+=4)o.copy(h[S]).applyMatrix4(A,l),o.normal.toArray(v,w),v[w+3]=o.constant}c.value=v,c.needsUpdate=!0}return e.numPlanes=j,e.numIntersection=0,v}}function E5e(n){let e=new WeakMap;function s(o,l){return l===D0?o.mapping=cu:l===T1&&(o.mapping=Jf),o}function r(o){if(o&&o.isTexture){const l=o.mapping;if(l===D0||l===T1)if(e.has(o)){const c=e.get(o).texture;return s(c,o.mapping)}else{const c=o.image;if(c&&c.height>0){const d=new ED(c.height);return d.fromEquirectangularTexture(n,o),e.set(o,d),o.addEventListener("dispose",a),s(d.texture,o.mapping)}else return null}}return o}function a(o){const l=o.target;l.removeEventListener("dispose",a);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function i(){e=new WeakMap}return{get:r,dispose:i}}const Ov=4,R7=[.125,.215,.35,.446,.526,.582],kp=20,o3=new ad,O7=new nn;let l3=null,c3=0,d3=0,u3=!1;const Rp=(1+Math.sqrt(5))/2,yv=1/Rp,k7=[new he(-Rp,yv,0),new he(Rp,yv,0),new he(-yv,0,Rp),new he(yv,0,Rp),new he(0,Rp,-yv),new he(0,Rp,yv),new he(-1,1,-1),new he(1,1,-1),new he(-1,1,1),new he(1,1,1)],M5e=new he;class ek{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,s=0,r=.1,a=100,i={}){const{size:o=256,position:l=M5e}=i;l3=this._renderer.getRenderTarget(),c3=this._renderer.getActiveCubeFace(),d3=this._renderer.getActiveMipmapLevel(),u3=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const c=this._allocateTargets();return c.depthBuffer=!0,this._sceneToCubeUV(e,r,a,c,l),s>0&&this._blur(c,0,0,s),this._applyPMREM(c),this._cleanup(c),c}fromEquirectangular(e,s=null){return this._fromTexture(e,s)}fromCubemap(e,s=null){return this._fromTexture(e,s)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=L7(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=D7(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(l3,c3,d3),this._renderer.xr.enabled=u3,e.scissorTest=!1,$S(e,0,0,e.width,e.height)}_fromTexture(e,s){e.mapping===cu||e.mapping===Jf?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),l3=this._renderer.getRenderTarget(),c3=this._renderer.getActiveCubeFace(),d3=this._renderer.getActiveMipmapLevel(),u3=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=s||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),s=4*this._cubeSize,r={magFilter:ir,minFilter:ir,generateMipmaps:!1,type:mi,format:xa,colorSpace:ld,depthBuffer:!1},a=I7(e,s,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==s){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=I7(e,s,r);const{_lodMax:i}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=P5e(i)),this._blurMaterial=R5e(i,e,s)}return a}_compileMaterial(e){const s=new qr(this._lodPlanes[0],e);this._renderer.compile(s,o3)}_sceneToCubeUV(e,s,r,a,i){const c=new Zr(90,1,s,r),d=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],h=this._renderer,m=h.autoClear,y=h.toneMapping;h.getClearColor(O7),h.toneMapping=su,h.autoClear=!1,h.state.buffers.depth.getReversed()&&(h.setRenderTarget(a),h.clearDepth(),h.setRenderTarget(null));const j=new Dh({name:"PMREM.Background",side:So,depthWrite:!1,depthTest:!1}),v=new qr(new Ix,j);let b=!1;const A=e.background;A?A.isColor&&(j.color.copy(A),e.background=null,b=!0):(j.color.copy(O7),b=!0);for(let S=0;S<6;S++){const w=S%3;w===0?(c.up.set(0,d[S],0),c.position.set(i.x,i.y,i.z),c.lookAt(i.x+u[S],i.y,i.z)):w===1?(c.up.set(0,0,d[S]),c.position.set(i.x,i.y,i.z),c.lookAt(i.x,i.y+u[S],i.z)):(c.up.set(0,d[S],0),c.position.set(i.x,i.y,i.z),c.lookAt(i.x,i.y,i.z+u[S]));const E=this._cubeSize;$S(a,w*E,S>2?E:0,E,E),h.setRenderTarget(a),b&&h.render(v,c),h.render(e,c)}v.geometry.dispose(),v.material.dispose(),h.toneMapping=y,h.autoClear=m,e.background=A}_textureToCubeUV(e,s){const r=this._renderer,a=e.mapping===cu||e.mapping===Jf;a?(this._cubemapMaterial===null&&(this._cubemapMaterial=L7()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=D7());const i=a?this._cubemapMaterial:this._equirectMaterial,o=new qr(this._lodPlanes[0],i),l=i.uniforms;l.envMap.value=e;const c=this._cubeSize;$S(s,0,0,3*c,2*c),r.setRenderTarget(s),r.render(o,o3)}_applyPMREM(e){const s=this._renderer,r=s.autoClear;s.autoClear=!1;const a=this._lodPlanes.length;for(let i=1;i<a;i++){const o=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),l=k7[(a-i-1)%k7.length];this._blur(e,i-1,i,o,l)}s.autoClear=r}_blur(e,s,r,a,i){const o=this._pingPongRenderTarget;this._halfBlur(e,o,s,r,a,"latitudinal",i),this._halfBlur(o,e,r,r,a,"longitudinal",i)}_halfBlur(e,s,r,a,i,o,l){const c=this._renderer,d=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,h=new qr(this._lodPlanes[a],d),m=d.uniforms,y=this._sizeLods[r]-1,N=isFinite(i)?Math.PI/(2*y):2*Math.PI/(2*kp-1),j=i/N,v=isFinite(i)?1+Math.floor(u*j):kp;v>kp&&console.warn(`sigmaRadians, ${i}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${kp}`);const b=[];let A=0;for(let P=0;P<kp;++P){const k=P/j,I=Math.exp(-k*k/2);b.push(I),P===0?A+=I:P<v&&(A+=2*I)}for(let P=0;P<b.length;P++)b[P]=b[P]/A;m.envMap.value=e.texture,m.samples.value=v,m.weights.value=b,m.latitudinal.value=o==="latitudinal",l&&(m.poleAxis.value=l);const{_lodMax:S}=this;m.dTheta.value=N,m.mipInt.value=S-r;const w=this._sizeLods[a],E=3*w*(a>S-Ov?a-S+Ov:0),T=4*(this._cubeSize-w);$S(s,E,T,3*w,2*w),c.setRenderTarget(s),c.render(h,o3)}}function P5e(n){const e=[],s=[],r=[];let a=n;const i=n-Ov+1+R7.length;for(let o=0;o<i;o++){const l=Math.pow(2,a);s.push(l);let c=1/l;o>n-Ov?c=R7[o-n+Ov-1]:o===0&&(c=0),r.push(c);const d=1/(l-2),u=-d,h=1+d,m=[u,u,h,u,h,h,u,u,h,h,u,h],y=6,N=6,j=3,v=2,b=1,A=new Float32Array(j*N*y),S=new Float32Array(v*N*y),w=new Float32Array(b*N*y);for(let T=0;T<y;T++){const P=T%3*2/3-1,k=T>2?0:-1,I=[P,k,0,P+2/3,k,0,P+2/3,k+1,0,P,k,0,P+2/3,k+1,0,P,k+1,0];A.set(I,j*N*T),S.set(m,v*N*T);const L=[T,T,T,T,T,T];w.set(L,b*N*T)}const E=new us;E.setAttribute("position",new mr(A,j)),E.setAttribute("uv",new mr(S,v)),E.setAttribute("faceIndex",new mr(w,b)),e.push(E),a>Ov&&a--}return{lodPlanes:e,sizeLods:s,sigmas:r}}function I7(n,e,s){const r=new ic(n,e,s);return r.texture.mapping=fy,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function $S(n,e,s,r,a){n.viewport.set(e,s,r,a),n.scissor.set(e,s,r,a)}function R5e(n,e,s){const r=new Float32Array(kp),a=new he(0,1,0);return new Ao({name:"SphericalGaussianBlur",defines:{n:kp,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/s,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:a}},vertexShader:aL(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:nu,depthTest:!1,depthWrite:!1})}function D7(){return new Ao({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:aL(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:nu,depthTest:!1,depthWrite:!1})}function L7(){return new Ao({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:aL(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:nu,depthTest:!1,depthWrite:!1})}function aL(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function O5e(n){let e=new WeakMap,s=null;function r(l){if(l&&l.isTexture){const c=l.mapping,d=c===D0||c===T1,u=c===cu||c===Jf;if(d||u){let h=e.get(l);const m=h!==void 0?h.texture.pmremVersion:0;if(l.isRenderTargetTexture&&l.pmremVersion!==m)return s===null&&(s=new ek(n)),h=d?s.fromEquirectangular(l,h):s.fromCubemap(l,h),h.texture.pmremVersion=l.pmremVersion,e.set(l,h),h.texture;if(h!==void 0)return h.texture;{const y=l.image;return d&&y&&y.height>0||u&&y&&a(y)?(s===null&&(s=new ek(n)),h=d?s.fromEquirectangular(l):s.fromCubemap(l),h.texture.pmremVersion=l.pmremVersion,e.set(l,h),l.addEventListener("dispose",i),h.texture):null}}}return l}function a(l){let c=0;const d=6;for(let u=0;u<d;u++)l[u]!==void 0&&c++;return c===d}function i(l){const c=l.target;c.removeEventListener("dispose",i);const d=e.get(c);d!==void 0&&(e.delete(c),d.dispose())}function o(){e=new WeakMap,s!==null&&(s.dispose(),s=null)}return{get:r,dispose:o}}function k5e(n){const e={};function s(r){if(e[r]!==void 0)return e[r];let a;switch(r){case"WEBGL_depth_texture":a=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":a=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":a=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":a=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:a=n.getExtension(r)}return e[r]=a,a}return{has:function(r){return s(r)!==null},init:function(){s("EXT_color_buffer_float"),s("WEBGL_clip_cull_distance"),s("OES_texture_float_linear"),s("EXT_color_buffer_half_float"),s("WEBGL_multisampled_render_to_texture"),s("WEBGL_render_shared_exponent")},get:function(r){const a=s(r);return a===null&&D1("THREE.WebGLRenderer: "+r+" extension not supported."),a}}}function I5e(n,e,s,r){const a={},i=new WeakMap;function o(h){const m=h.target;m.index!==null&&e.remove(m.index);for(const N in m.attributes)e.remove(m.attributes[N]);m.removeEventListener("dispose",o),delete a[m.id];const y=i.get(m);y&&(e.remove(y),i.delete(m)),r.releaseStatesOfGeometry(m),m.isInstancedBufferGeometry===!0&&delete m._maxInstanceCount,s.memory.geometries--}function l(h,m){return a[m.id]===!0||(m.addEventListener("dispose",o),a[m.id]=!0,s.memory.geometries++),m}function c(h){const m=h.attributes;for(const y in m)e.update(m[y],n.ARRAY_BUFFER)}function d(h){const m=[],y=h.index,N=h.attributes.position;let j=0;if(y!==null){const A=y.array;j=y.version;for(let S=0,w=A.length;S<w;S+=3){const E=A[S+0],T=A[S+1],P=A[S+2];m.push(E,T,T,P,P,E)}}else if(N!==void 0){const A=N.array;j=N.version;for(let S=0,w=A.length/3-1;S<w;S+=3){const E=S+0,T=S+1,P=S+2;m.push(E,T,T,P,P,E)}}else return;const v=new(Oee(m)?TD:CD)(m,1);v.version=j;const b=i.get(h);b&&e.remove(b),i.set(h,v)}function u(h){const m=i.get(h);if(m){const y=h.index;y!==null&&m.version<y.version&&d(h)}else d(h);return i.get(h)}return{get:l,update:c,getWireframeAttribute:u}}function D5e(n,e,s){let r;function a(m){r=m}let i,o;function l(m){i=m.type,o=m.bytesPerElement}function c(m,y){n.drawElements(r,y,i,m*o),s.update(y,r,1)}function d(m,y,N){N!==0&&(n.drawElementsInstanced(r,y,i,m*o,N),s.update(y,r,N))}function u(m,y,N){if(N===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,y,0,i,m,0,N);let v=0;for(let b=0;b<N;b++)v+=y[b];s.update(v,r,1)}function h(m,y,N,j){if(N===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let b=0;b<m.length;b++)d(m[b]/o,y[b],j[b]);else{v.multiDrawElementsInstancedWEBGL(r,y,0,i,m,0,j,0,N);let b=0;for(let A=0;A<N;A++)b+=y[A]*j[A];s.update(b,r,1)}}this.setMode=a,this.setIndex=l,this.render=c,this.renderInstances=d,this.renderMultiDraw=u,this.renderMultiDrawInstances=h}function L5e(n){const e={geometries:0,textures:0},s={frame:0,calls:0,triangles:0,points:0,lines:0};function r(i,o,l){switch(s.calls++,o){case n.TRIANGLES:s.triangles+=l*(i/3);break;case n.LINES:s.lines+=l*(i/2);break;case n.LINE_STRIP:s.lines+=l*(i-1);break;case n.LINE_LOOP:s.lines+=l*i;break;case n.POINTS:s.points+=l*i;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function a(){s.calls=0,s.triangles=0,s.points=0,s.lines=0}return{memory:e,render:s,programs:null,autoReset:!0,reset:a,update:r}}function F5e(n,e,s){const r=new WeakMap,a=new js;function i(o,l,c){const d=o.morphTargetInfluences,u=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,h=u!==void 0?u.length:0;let m=r.get(l);if(m===void 0||m.count!==h){let L=function(){k.dispose(),r.delete(l),l.removeEventListener("dispose",L)};var y=L;m!==void 0&&m.texture.dispose();const N=l.morphAttributes.position!==void 0,j=l.morphAttributes.normal!==void 0,v=l.morphAttributes.color!==void 0,b=l.morphAttributes.position||[],A=l.morphAttributes.normal||[],S=l.morphAttributes.color||[];let w=0;N===!0&&(w=1),j===!0&&(w=2),v===!0&&(w=3);let E=l.attributes.position.count*w,T=1;E>e.maxTextureSize&&(T=Math.ceil(E/e.maxTextureSize),E=e.maxTextureSize);const P=new Float32Array(E*T*4*h),k=new dT(P,E,T,h);k.type=Qr,k.needsUpdate=!0;const I=w*4;for(let U=0;U<h;U++){const H=b[U],B=A[U],K=S[U],J=E*T*4*U;for(let W=0;W<H.count;W++){const ee=W*I;N===!0&&(a.fromBufferAttribute(H,W),P[J+ee+0]=a.x,P[J+ee+1]=a.y,P[J+ee+2]=a.z,P[J+ee+3]=0),j===!0&&(a.fromBufferAttribute(B,W),P[J+ee+4]=a.x,P[J+ee+5]=a.y,P[J+ee+6]=a.z,P[J+ee+7]=0),v===!0&&(a.fromBufferAttribute(K,W),P[J+ee+8]=a.x,P[J+ee+9]=a.y,P[J+ee+10]=a.z,P[J+ee+11]=K.itemSize===4?a.w:1)}}m={count:h,texture:k,size:new mt(E,T)},r.set(l,m),l.addEventListener("dispose",L)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)c.getUniforms().setValue(n,"morphTexture",o.morphTexture,s);else{let N=0;for(let v=0;v<d.length;v++)N+=d[v];const j=l.morphTargetsRelative?1:1-N;c.getUniforms().setValue(n,"morphTargetBaseInfluence",j),c.getUniforms().setValue(n,"morphTargetInfluences",d)}c.getUniforms().setValue(n,"morphTargetsTexture",m.texture,s),c.getUniforms().setValue(n,"morphTargetsTextureSize",m.size)}return{update:i}}function U5e(n,e,s,r){let a=new WeakMap;function i(c){const d=r.render.frame,u=c.geometry,h=e.get(c,u);if(a.get(h)!==d&&(e.update(h),a.set(h,d)),c.isInstancedMesh&&(c.hasEventListener("dispose",l)===!1&&c.addEventListener("dispose",l),a.get(c)!==d&&(s.update(c.instanceMatrix,n.ARRAY_BUFFER),c.instanceColor!==null&&s.update(c.instanceColor,n.ARRAY_BUFFER),a.set(c,d))),c.isSkinnedMesh){const m=c.skeleton;a.get(m)!==d&&(m.update(),a.set(m,d))}return h}function o(){a=new WeakMap}function l(c){const d=c.target;d.removeEventListener("dispose",l),s.remove(d.instanceMatrix),d.instanceColor!==null&&s.remove(d.instanceColor)}return{update:i,dispose:o}}const Ite=new fr,F7=new OD(1,1),Dte=new dT,Lte=new uT,Fte=new xw,U7=[],z7=[],B7=new Float32Array(16),V7=new Float32Array(9),H7=new Float32Array(4);function py(n,e,s){const r=n[0];if(r<=0||r>0)return n;const a=e*s;let i=U7[a];if(i===void 0&&(i=new Float32Array(a),U7[a]=i),e!==0){r.toArray(i,0);for(let o=1,l=0;o!==e;++o)l+=s,n[o].toArray(i,l)}return i}function Ja(n,e){if(n.length!==e.length)return!1;for(let s=0,r=n.length;s<r;s++)if(n[s]!==e[s])return!1;return!0}function ei(n,e){for(let s=0,r=e.length;s<r;s++)n[s]=e[s]}function OT(n,e){let s=z7[e];s===void 0&&(s=new Int32Array(e),z7[e]=s);for(let r=0;r!==e;++r)s[r]=n.allocateTextureUnit();return s}function z5e(n,e){const s=this.cache;s[0]!==e&&(n.uniform1f(this.addr,e),s[0]=e)}function B5e(n,e){const s=this.cache;if(e.x!==void 0)(s[0]!==e.x||s[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),s[0]=e.x,s[1]=e.y);else{if(Ja(s,e))return;n.uniform2fv(this.addr,e),ei(s,e)}}function V5e(n,e){const s=this.cache;if(e.x!==void 0)(s[0]!==e.x||s[1]!==e.y||s[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),s[0]=e.x,s[1]=e.y,s[2]=e.z);else if(e.r!==void 0)(s[0]!==e.r||s[1]!==e.g||s[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),s[0]=e.r,s[1]=e.g,s[2]=e.b);else{if(Ja(s,e))return;n.uniform3fv(this.addr,e),ei(s,e)}}function H5e(n,e){const s=this.cache;if(e.x!==void 0)(s[0]!==e.x||s[1]!==e.y||s[2]!==e.z||s[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),s[0]=e.x,s[1]=e.y,s[2]=e.z,s[3]=e.w);else{if(Ja(s,e))return;n.uniform4fv(this.addr,e),ei(s,e)}}function G5e(n,e){const s=this.cache,r=e.elements;if(r===void 0){if(Ja(s,e))return;n.uniformMatrix2fv(this.addr,!1,e),ei(s,e)}else{if(Ja(s,r))return;H7.set(r),n.uniformMatrix2fv(this.addr,!1,H7),ei(s,r)}}function $5e(n,e){const s=this.cache,r=e.elements;if(r===void 0){if(Ja(s,e))return;n.uniformMatrix3fv(this.addr,!1,e),ei(s,e)}else{if(Ja(s,r))return;V7.set(r),n.uniformMatrix3fv(this.addr,!1,V7),ei(s,r)}}function q5e(n,e){const s=this.cache,r=e.elements;if(r===void 0){if(Ja(s,e))return;n.uniformMatrix4fv(this.addr,!1,e),ei(s,e)}else{if(Ja(s,r))return;B7.set(r),n.uniformMatrix4fv(this.addr,!1,B7),ei(s,r)}}function W5e(n,e){const s=this.cache;s[0]!==e&&(n.uniform1i(this.addr,e),s[0]=e)}function K5e(n,e){const s=this.cache;if(e.x!==void 0)(s[0]!==e.x||s[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),s[0]=e.x,s[1]=e.y);else{if(Ja(s,e))return;n.uniform2iv(this.addr,e),ei(s,e)}}function X5e(n,e){const s=this.cache;if(e.x!==void 0)(s[0]!==e.x||s[1]!==e.y||s[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),s[0]=e.x,s[1]=e.y,s[2]=e.z);else{if(Ja(s,e))return;n.uniform3iv(this.addr,e),ei(s,e)}}function Z5e(n,e){const s=this.cache;if(e.x!==void 0)(s[0]!==e.x||s[1]!==e.y||s[2]!==e.z||s[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),s[0]=e.x,s[1]=e.y,s[2]=e.z,s[3]=e.w);else{if(Ja(s,e))return;n.uniform4iv(this.addr,e),ei(s,e)}}function Y5e(n,e){const s=this.cache;s[0]!==e&&(n.uniform1ui(this.addr,e),s[0]=e)}function Q5e(n,e){const s=this.cache;if(e.x!==void 0)(s[0]!==e.x||s[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),s[0]=e.x,s[1]=e.y);else{if(Ja(s,e))return;n.uniform2uiv(this.addr,e),ei(s,e)}}function J5e(n,e){const s=this.cache;if(e.x!==void 0)(s[0]!==e.x||s[1]!==e.y||s[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),s[0]=e.x,s[1]=e.y,s[2]=e.z);else{if(Ja(s,e))return;n.uniform3uiv(this.addr,e),ei(s,e)}}function eke(n,e){const s=this.cache;if(e.x!==void 0)(s[0]!==e.x||s[1]!==e.y||s[2]!==e.z||s[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),s[0]=e.x,s[1]=e.y,s[2]=e.z,s[3]=e.w);else{if(Ja(s,e))return;n.uniform4uiv(this.addr,e),ei(s,e)}}function tke(n,e,s){const r=this.cache,a=s.allocateTextureUnit();r[0]!==a&&(n.uniform1i(this.addr,a),r[0]=a);let i;this.type===n.SAMPLER_2D_SHADOW?(F7.compareFunction=ND,i=F7):i=Ite,s.setTexture2D(e||i,a)}function nke(n,e,s){const r=this.cache,a=s.allocateTextureUnit();r[0]!==a&&(n.uniform1i(this.addr,a),r[0]=a),s.setTexture3D(e||Lte,a)}function ske(n,e,s){const r=this.cache,a=s.allocateTextureUnit();r[0]!==a&&(n.uniform1i(this.addr,a),r[0]=a),s.setTextureCube(e||Fte,a)}function rke(n,e,s){const r=this.cache,a=s.allocateTextureUnit();r[0]!==a&&(n.uniform1i(this.addr,a),r[0]=a),s.setTexture2DArray(e||Dte,a)}function ake(n){switch(n){case 5126:return z5e;case 35664:return B5e;case 35665:return V5e;case 35666:return H5e;case 35674:return G5e;case 35675:return $5e;case 35676:return q5e;case 5124:case 35670:return W5e;case 35667:case 35671:return K5e;case 35668:case 35672:return X5e;case 35669:case 35673:return Z5e;case 5125:return Y5e;case 36294:return Q5e;case 36295:return J5e;case 36296:return eke;case 35678:case 36198:case 36298:case 36306:case 35682:return tke;case 35679:case 36299:case 36307:return nke;case 35680:case 36300:case 36308:case 36293:return ske;case 36289:case 36303:case 36311:case 36292:return rke}}function ike(n,e){n.uniform1fv(this.addr,e)}function oke(n,e){const s=py(e,this.size,2);n.uniform2fv(this.addr,s)}function lke(n,e){const s=py(e,this.size,3);n.uniform3fv(this.addr,s)}function cke(n,e){const s=py(e,this.size,4);n.uniform4fv(this.addr,s)}function dke(n,e){const s=py(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,s)}function uke(n,e){const s=py(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,s)}function hke(n,e){const s=py(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,s)}function fke(n,e){n.uniform1iv(this.addr,e)}function mke(n,e){n.uniform2iv(this.addr,e)}function pke(n,e){n.uniform3iv(this.addr,e)}function xke(n,e){n.uniform4iv(this.addr,e)}function gke(n,e){n.uniform1uiv(this.addr,e)}function vke(n,e){n.uniform2uiv(this.addr,e)}function yke(n,e){n.uniform3uiv(this.addr,e)}function bke(n,e){n.uniform4uiv(this.addr,e)}function jke(n,e,s){const r=this.cache,a=e.length,i=OT(s,a);Ja(r,i)||(n.uniform1iv(this.addr,i),ei(r,i));for(let o=0;o!==a;++o)s.setTexture2D(e[o]||Ite,i[o])}function wke(n,e,s){const r=this.cache,a=e.length,i=OT(s,a);Ja(r,i)||(n.uniform1iv(this.addr,i),ei(r,i));for(let o=0;o!==a;++o)s.setTexture3D(e[o]||Lte,i[o])}function Nke(n,e,s){const r=this.cache,a=e.length,i=OT(s,a);Ja(r,i)||(n.uniform1iv(this.addr,i),ei(r,i));for(let o=0;o!==a;++o)s.setTextureCube(e[o]||Fte,i[o])}function Ske(n,e,s){const r=this.cache,a=e.length,i=OT(s,a);Ja(r,i)||(n.uniform1iv(this.addr,i),ei(r,i));for(let o=0;o!==a;++o)s.setTexture2DArray(e[o]||Dte,i[o])}function _ke(n){switch(n){case 5126:return ike;case 35664:return oke;case 35665:return lke;case 35666:return cke;case 35674:return dke;case 35675:return uke;case 35676:return hke;case 5124:case 35670:return fke;case 35667:case 35671:return mke;case 35668:case 35672:return pke;case 35669:case 35673:return xke;case 5125:return gke;case 36294:return vke;case 36295:return yke;case 36296:return bke;case 35678:case 36198:case 36298:case 36306:case 35682:return jke;case 35679:case 36299:case 36307:return wke;case 35680:case 36300:case 36308:case 36293:return Nke;case 36289:case 36303:case 36311:case 36292:return Ske}}class Ake{constructor(e,s,r){this.id=e,this.addr=r,this.cache=[],this.type=s.type,this.setValue=ake(s.type)}}class Cke{constructor(e,s,r){this.id=e,this.addr=r,this.cache=[],this.type=s.type,this.size=s.size,this.setValue=_ke(s.type)}}class Tke{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,s,r){const a=this.seq;for(let i=0,o=a.length;i!==o;++i){const l=a[i];l.setValue(e,s[l.id],r)}}}const h3=/(\w+)(\])?(\[|\.)?/g;function G7(n,e){n.seq.push(e),n.map[e.id]=e}function Eke(n,e,s){const r=n.name,a=r.length;for(h3.lastIndex=0;;){const i=h3.exec(r),o=h3.lastIndex;let l=i[1];const c=i[2]==="]",d=i[3];if(c&&(l=l|0),d===void 0||d==="["&&o+2===a){G7(s,d===void 0?new Ake(l,n,e):new Cke(l,n,e));break}else{let h=s.map[l];h===void 0&&(h=new Tke(l),G7(s,h)),s=h}}}class f_{constructor(e,s){this.seq=[],this.map={};const r=e.getProgramParameter(s,e.ACTIVE_UNIFORMS);for(let a=0;a<r;++a){const i=e.getActiveUniform(s,a),o=e.getUniformLocation(s,i.name);Eke(i,o,this)}}setValue(e,s,r,a){const i=this.map[s];i!==void 0&&i.setValue(e,r,a)}setOptional(e,s,r){const a=s[r];a!==void 0&&this.setValue(e,r,a)}static upload(e,s,r,a){for(let i=0,o=s.length;i!==o;++i){const l=s[i],c=r[l.id];c.needsUpdate!==!1&&l.setValue(e,c.value,a)}}static seqWithValue(e,s){const r=[];for(let a=0,i=e.length;a!==i;++a){const o=e[a];o.id in s&&r.push(o)}return r}}function $7(n,e,s){const r=n.createShader(e);return n.shaderSource(r,s),n.compileShader(r),r}const Mke=37297;let Pke=0;function Rke(n,e){const s=n.split(`
`),r=[],a=Math.max(e-6,0),i=Math.min(e+6,s.length);for(let o=a;o<i;o++){const l=o+1;r.push(`${l===e?">":" "} ${l}: ${s[o]}`)}return r.join(`
`)}const q7=new is;function Oke(n){Ps._getMatrix(q7,Ps.workingColorSpace,n);const e=`mat3( ${q7.elements.map(s=>s.toFixed(4))} )`;switch(Ps.getTransfer(n)){case O1:return[e,"LinearTransferOETF"];case rr:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function W7(n,e,s){const r=n.getShaderParameter(e,n.COMPILE_STATUS),i=(n.getShaderInfoLog(e)||"").trim();if(r&&i==="")return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const l=parseInt(o[1]);return s.toUpperCase()+`

`+i+`

`+Rke(n.getShaderSource(e),l)}else return i}function kke(n,e){const s=Oke(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${s[1]}( vec4( value.rgb * ${s[0]}, value.a ) );`,"}"].join(`
`)}function Ike(n,e){let s;switch(e){case fee:s="Linear";break;case mee:s="Reinhard";break;case pee:s="Cineon";break;case pD:s="ACESFilmic";break;case gee:s="AgX";break;case vee:s="Neutral";break;case xee:s="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),s="Linear"}return"vec3 "+n+"( vec3 color ) { return "+s+"ToneMapping( color ); }"}const qS=new he;function Dke(){Ps.getLuminanceCoefficients(qS);const n=qS.x.toFixed(4),e=qS.y.toFixed(4),s=qS.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${s} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Lke(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(cj).join(`
`)}function Fke(n){const e=[];for(const s in n){const r=n[s];r!==!1&&e.push("#define "+s+" "+r)}return e.join(`
`)}function Uke(n,e){const s={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let a=0;a<r;a++){const i=n.getActiveAttrib(e,a),o=i.name;let l=1;i.type===n.FLOAT_MAT2&&(l=2),i.type===n.FLOAT_MAT3&&(l=3),i.type===n.FLOAT_MAT4&&(l=4),s[o]={type:i.type,location:n.getAttribLocation(e,o),locationSize:l}}return s}function cj(n){return n!==""}function K7(n,e){const s=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,s).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function X7(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const zke=/^[ \t]*#include +<([\w\d./]+)>/gm;function tk(n){return n.replace(zke,Vke)}const Bke=new Map;function Vke(n,e){let s=ms[e];if(s===void 0){const r=Bke.get(e);if(r!==void 0)s=ms[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return tk(s)}const Hke=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Z7(n){return n.replace(Hke,Gke)}function Gke(n,e,s,r){let a="";for(let i=parseInt(e);i<parseInt(s);i++)a+=r.replace(/\[\s*i\s*\]/g,"[ "+i+" ]").replace(/UNROLLED_LOOP_INDEX/g,i);return a}function Y7(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function $ke(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===nT?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Sj?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Xc&&(e="SHADOWMAP_TYPE_VSM"),e}function qke(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case cu:case Jf:e="ENVMAP_TYPE_CUBE";break;case fy:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Wke(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Jf:e="ENVMAP_MODE_REFRACTION";break}return e}function Kke(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case hw:e="ENVMAP_BLENDING_MULTIPLY";break;case uee:e="ENVMAP_BLENDING_MIX";break;case hee:e="ENVMAP_BLENDING_ADD";break}return e}function Xke(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const s=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,s),112)),texelHeight:r,maxMip:s}}function Zke(n,e,s,r){const a=n.getContext(),i=s.defines;let o=s.vertexShader,l=s.fragmentShader;const c=$ke(s),d=qke(s),u=Wke(s),h=Kke(s),m=Xke(s),y=Lke(s),N=Fke(i),j=a.createProgram();let v,b,A=s.glslVersion?"#version "+s.glslVersion+`
`:"";s.isRawShaderMaterial?(v=["#define SHADER_TYPE "+s.shaderType,"#define SHADER_NAME "+s.shaderName,N].filter(cj).join(`
`),v.length>0&&(v+=`
`),b=["#define SHADER_TYPE "+s.shaderType,"#define SHADER_NAME "+s.shaderName,N].filter(cj).join(`
`),b.length>0&&(b+=`
`)):(v=[Y7(s),"#define SHADER_TYPE "+s.shaderType,"#define SHADER_NAME "+s.shaderName,N,s.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",s.batching?"#define USE_BATCHING":"",s.batchingColor?"#define USE_BATCHING_COLOR":"",s.instancing?"#define USE_INSTANCING":"",s.instancingColor?"#define USE_INSTANCING_COLOR":"",s.instancingMorph?"#define USE_INSTANCING_MORPH":"",s.useFog&&s.fog?"#define USE_FOG":"",s.useFog&&s.fogExp2?"#define FOG_EXP2":"",s.map?"#define USE_MAP":"",s.envMap?"#define USE_ENVMAP":"",s.envMap?"#define "+u:"",s.lightMap?"#define USE_LIGHTMAP":"",s.aoMap?"#define USE_AOMAP":"",s.bumpMap?"#define USE_BUMPMAP":"",s.normalMap?"#define USE_NORMALMAP":"",s.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",s.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",s.displacementMap?"#define USE_DISPLACEMENTMAP":"",s.emissiveMap?"#define USE_EMISSIVEMAP":"",s.anisotropy?"#define USE_ANISOTROPY":"",s.anisotropyMap?"#define USE_ANISOTROPYMAP":"",s.clearcoatMap?"#define USE_CLEARCOATMAP":"",s.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",s.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",s.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",s.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",s.specularMap?"#define USE_SPECULARMAP":"",s.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",s.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",s.roughnessMap?"#define USE_ROUGHNESSMAP":"",s.metalnessMap?"#define USE_METALNESSMAP":"",s.alphaMap?"#define USE_ALPHAMAP":"",s.alphaHash?"#define USE_ALPHAHASH":"",s.transmission?"#define USE_TRANSMISSION":"",s.transmissionMap?"#define USE_TRANSMISSIONMAP":"",s.thicknessMap?"#define USE_THICKNESSMAP":"",s.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",s.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",s.mapUv?"#define MAP_UV "+s.mapUv:"",s.alphaMapUv?"#define ALPHAMAP_UV "+s.alphaMapUv:"",s.lightMapUv?"#define LIGHTMAP_UV "+s.lightMapUv:"",s.aoMapUv?"#define AOMAP_UV "+s.aoMapUv:"",s.emissiveMapUv?"#define EMISSIVEMAP_UV "+s.emissiveMapUv:"",s.bumpMapUv?"#define BUMPMAP_UV "+s.bumpMapUv:"",s.normalMapUv?"#define NORMALMAP_UV "+s.normalMapUv:"",s.displacementMapUv?"#define DISPLACEMENTMAP_UV "+s.displacementMapUv:"",s.metalnessMapUv?"#define METALNESSMAP_UV "+s.metalnessMapUv:"",s.roughnessMapUv?"#define ROUGHNESSMAP_UV "+s.roughnessMapUv:"",s.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+s.anisotropyMapUv:"",s.clearcoatMapUv?"#define CLEARCOATMAP_UV "+s.clearcoatMapUv:"",s.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+s.clearcoatNormalMapUv:"",s.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+s.clearcoatRoughnessMapUv:"",s.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+s.iridescenceMapUv:"",s.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+s.iridescenceThicknessMapUv:"",s.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+s.sheenColorMapUv:"",s.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+s.sheenRoughnessMapUv:"",s.specularMapUv?"#define SPECULARMAP_UV "+s.specularMapUv:"",s.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+s.specularColorMapUv:"",s.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+s.specularIntensityMapUv:"",s.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+s.transmissionMapUv:"",s.thicknessMapUv?"#define THICKNESSMAP_UV "+s.thicknessMapUv:"",s.vertexTangents&&s.flatShading===!1?"#define USE_TANGENT":"",s.vertexColors?"#define USE_COLOR":"",s.vertexAlphas?"#define USE_COLOR_ALPHA":"",s.vertexUv1s?"#define USE_UV1":"",s.vertexUv2s?"#define USE_UV2":"",s.vertexUv3s?"#define USE_UV3":"",s.pointsUvs?"#define USE_POINTS_UV":"",s.flatShading?"#define FLAT_SHADED":"",s.skinning?"#define USE_SKINNING":"",s.morphTargets?"#define USE_MORPHTARGETS":"",s.morphNormals&&s.flatShading===!1?"#define USE_MORPHNORMALS":"",s.morphColors?"#define USE_MORPHCOLORS":"",s.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+s.morphTextureStride:"",s.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+s.morphTargetsCount:"",s.doubleSided?"#define DOUBLE_SIDED":"",s.flipSided?"#define FLIP_SIDED":"",s.shadowMapEnabled?"#define USE_SHADOWMAP":"",s.shadowMapEnabled?"#define "+c:"",s.sizeAttenuation?"#define USE_SIZEATTENUATION":"",s.numLightProbes>0?"#define USE_LIGHT_PROBES":"",s.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",s.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(cj).join(`
`),b=[Y7(s),"#define SHADER_TYPE "+s.shaderType,"#define SHADER_NAME "+s.shaderName,N,s.useFog&&s.fog?"#define USE_FOG":"",s.useFog&&s.fogExp2?"#define FOG_EXP2":"",s.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",s.map?"#define USE_MAP":"",s.matcap?"#define USE_MATCAP":"",s.envMap?"#define USE_ENVMAP":"",s.envMap?"#define "+d:"",s.envMap?"#define "+u:"",s.envMap?"#define "+h:"",m?"#define CUBEUV_TEXEL_WIDTH "+m.texelWidth:"",m?"#define CUBEUV_TEXEL_HEIGHT "+m.texelHeight:"",m?"#define CUBEUV_MAX_MIP "+m.maxMip+".0":"",s.lightMap?"#define USE_LIGHTMAP":"",s.aoMap?"#define USE_AOMAP":"",s.bumpMap?"#define USE_BUMPMAP":"",s.normalMap?"#define USE_NORMALMAP":"",s.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",s.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",s.emissiveMap?"#define USE_EMISSIVEMAP":"",s.anisotropy?"#define USE_ANISOTROPY":"",s.anisotropyMap?"#define USE_ANISOTROPYMAP":"",s.clearcoat?"#define USE_CLEARCOAT":"",s.clearcoatMap?"#define USE_CLEARCOATMAP":"",s.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",s.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",s.dispersion?"#define USE_DISPERSION":"",s.iridescence?"#define USE_IRIDESCENCE":"",s.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",s.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",s.specularMap?"#define USE_SPECULARMAP":"",s.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",s.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",s.roughnessMap?"#define USE_ROUGHNESSMAP":"",s.metalnessMap?"#define USE_METALNESSMAP":"",s.alphaMap?"#define USE_ALPHAMAP":"",s.alphaTest?"#define USE_ALPHATEST":"",s.alphaHash?"#define USE_ALPHAHASH":"",s.sheen?"#define USE_SHEEN":"",s.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",s.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",s.transmission?"#define USE_TRANSMISSION":"",s.transmissionMap?"#define USE_TRANSMISSIONMAP":"",s.thicknessMap?"#define USE_THICKNESSMAP":"",s.vertexTangents&&s.flatShading===!1?"#define USE_TANGENT":"",s.vertexColors||s.instancingColor||s.batchingColor?"#define USE_COLOR":"",s.vertexAlphas?"#define USE_COLOR_ALPHA":"",s.vertexUv1s?"#define USE_UV1":"",s.vertexUv2s?"#define USE_UV2":"",s.vertexUv3s?"#define USE_UV3":"",s.pointsUvs?"#define USE_POINTS_UV":"",s.gradientMap?"#define USE_GRADIENTMAP":"",s.flatShading?"#define FLAT_SHADED":"",s.doubleSided?"#define DOUBLE_SIDED":"",s.flipSided?"#define FLIP_SIDED":"",s.shadowMapEnabled?"#define USE_SHADOWMAP":"",s.shadowMapEnabled?"#define "+c:"",s.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",s.numLightProbes>0?"#define USE_LIGHT_PROBES":"",s.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",s.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",s.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",s.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",s.toneMapping!==su?"#define TONE_MAPPING":"",s.toneMapping!==su?ms.tonemapping_pars_fragment:"",s.toneMapping!==su?Ike("toneMapping",s.toneMapping):"",s.dithering?"#define DITHERING":"",s.opaque?"#define OPAQUE":"",ms.colorspace_pars_fragment,kke("linearToOutputTexel",s.outputColorSpace),Dke(),s.useDepthPacking?"#define DEPTH_PACKING "+s.depthPacking:"",`
`].filter(cj).join(`
`)),o=tk(o),o=K7(o,s),o=X7(o,s),l=tk(l),l=K7(l,s),l=X7(l,s),o=Z7(o),l=Z7(l),s.isRawShaderMaterial!==!0&&(A=`#version 300 es
`,v=[y,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,b=["#define varying in",s.glslVersion===$5?"":"layout(location = 0) out highp vec4 pc_fragColor;",s.glslVersion===$5?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+b);const S=A+v+o,w=A+b+l,E=$7(a,a.VERTEX_SHADER,S),T=$7(a,a.FRAGMENT_SHADER,w);a.attachShader(j,E),a.attachShader(j,T),s.index0AttributeName!==void 0?a.bindAttribLocation(j,0,s.index0AttributeName):s.morphTargets===!0&&a.bindAttribLocation(j,0,"position"),a.linkProgram(j);function P(U){if(n.debug.checkShaderErrors){const H=a.getProgramInfoLog(j)||"",B=a.getShaderInfoLog(E)||"",K=a.getShaderInfoLog(T)||"",J=H.trim(),W=B.trim(),ee=K.trim();let G=!0,ae=!0;if(a.getProgramParameter(j,a.LINK_STATUS)===!1)if(G=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(a,j,E,T);else{const fe=W7(a,E,"vertex"),se=W7(a,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+a.getError()+" - VALIDATE_STATUS "+a.getProgramParameter(j,a.VALIDATE_STATUS)+`

Material Name: `+U.name+`
Material Type: `+U.type+`

Program Info Log: `+J+`
`+fe+`
`+se)}else J!==""?console.warn("THREE.WebGLProgram: Program Info Log:",J):(W===""||ee==="")&&(ae=!1);ae&&(U.diagnostics={runnable:G,programLog:J,vertexShader:{log:W,prefix:v},fragmentShader:{log:ee,prefix:b}})}a.deleteShader(E),a.deleteShader(T),k=new f_(a,j),I=Uke(a,j)}let k;this.getUniforms=function(){return k===void 0&&P(this),k};let I;this.getAttributes=function(){return I===void 0&&P(this),I};let L=s.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return L===!1&&(L=a.getProgramParameter(j,Mke)),L},this.destroy=function(){r.releaseStatesOfProgram(this),a.deleteProgram(j),this.program=void 0},this.type=s.shaderType,this.name=s.shaderName,this.id=Pke++,this.cacheKey=e,this.usedTimes=1,this.program=j,this.vertexShader=E,this.fragmentShader=T,this}let Yke=0;class Qke{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const s=e.vertexShader,r=e.fragmentShader,a=this._getShaderStage(s),i=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(a)===!1&&(o.add(a),a.usedTimes++),o.has(i)===!1&&(o.add(i),i.usedTimes++),this}remove(e){const s=this.materialCache.get(e);for(const r of s)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const s=this.materialCache;let r=s.get(e);return r===void 0&&(r=new Set,s.set(e,r)),r}_getShaderStage(e){const s=this.shaderCache;let r=s.get(e);return r===void 0&&(r=new Jke(e),s.set(e,r)),r}}class Jke{constructor(e){this.id=Yke++,this.code=e,this.usedTimes=0}}function eIe(n,e,s,r,a,i,o){const l=new H0,c=new Qke,d=new Set,u=[],h=a.logarithmicDepthBuffer,m=a.vertexTextures;let y=a.precision;const N={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function j(I){return d.add(I),I===0?"uv":`uv${I}`}function v(I,L,U,H,B){const K=H.fog,J=B.geometry,W=I.isMeshStandardMaterial?H.environment:null,ee=(I.isMeshStandardMaterial?s:e).get(I.envMap||W),G=ee&&ee.mapping===fy?ee.image.height:null,ae=N[I.type];I.precision!==null&&(y=a.getMaxPrecision(I.precision),y!==I.precision&&console.warn("THREE.WebGLProgram.getParameters:",I.precision,"not supported, using",y,"instead."));const fe=J.morphAttributes.position||J.morphAttributes.normal||J.morphAttributes.color,se=fe!==void 0?fe.length:0;let me=0;J.morphAttributes.position!==void 0&&(me=1),J.morphAttributes.normal!==void 0&&(me=2),J.morphAttributes.color!==void 0&&(me=3);let Oe,Ye,dt,be;if(ae){const Zn=Yc[ae];Oe=Zn.vertexShader,Ye=Zn.fragmentShader}else Oe=I.vertexShader,Ye=I.fragmentShader,c.update(I),dt=c.getVertexShaderID(I),be=c.getFragmentShaderID(I);const Ce=n.getRenderTarget(),Ue=n.state.buffers.depth.getReversed(),De=B.isInstancedMesh===!0,qe=B.isBatchedMesh===!0,rt=!!I.map,$e=!!I.matcap,pe=!!ee,Ke=!!I.aoMap,et=!!I.lightMap,st=!!I.bumpMap,Qe=!!I.normalMap,At=!!I.displacementMap,xt=!!I.emissiveMap,ue=!!I.metalnessMap,Ee=!!I.roughnessMap,Ie=I.anisotropy>0,ne=I.clearcoat>0,X=I.dispersion>0,je=I.iridescence>0,Re=I.sheen>0,nt=I.transmission>0,We=Ie&&!!I.anisotropyMap,Ft=ne&&!!I.clearcoatMap,Et=ne&&!!I.clearcoatNormalMap,Ut=ne&&!!I.clearcoatRoughnessMap,Qt=je&&!!I.iridescenceMap,wt=je&&!!I.iridescenceThicknessMap,_t=Re&&!!I.sheenColorMap,hn=Re&&!!I.sheenRoughnessMap,Se=!!I.specularMap,Be=!!I.specularColorMap,bt=!!I.specularIntensityMap,_e=nt&&!!I.transmissionMap,Le=nt&&!!I.thicknessMap,St=!!I.gradientMap,zt=!!I.alphaMap,Tt=I.alphaTest>0,yt=!!I.alphaHash,Ht=!!I.extensions;let gn=su;I.toneMapped&&(Ce===null||Ce.isXRRenderTarget===!0)&&(gn=n.toneMapping);const as={shaderID:ae,shaderType:I.type,shaderName:I.name,vertexShader:Oe,fragmentShader:Ye,defines:I.defines,customVertexShaderID:dt,customFragmentShaderID:be,isRawShaderMaterial:I.isRawShaderMaterial===!0,glslVersion:I.glslVersion,precision:y,batching:qe,batchingColor:qe&&B._colorsTexture!==null,instancing:De,instancingColor:De&&B.instanceColor!==null,instancingMorph:De&&B.morphTexture!==null,supportsVertexTextures:m,outputColorSpace:Ce===null?n.outputColorSpace:Ce.isXRRenderTarget===!0?Ce.texture.colorSpace:ld,alphaToCoverage:!!I.alphaToCoverage,map:rt,matcap:$e,envMap:pe,envMapMode:pe&&ee.mapping,envMapCubeUVHeight:G,aoMap:Ke,lightMap:et,bumpMap:st,normalMap:Qe,displacementMap:m&&At,emissiveMap:xt,normalMapObjectSpace:Qe&&I.normalMapType===_ee,normalMapTangentSpace:Qe&&I.normalMapType===om,metalnessMap:ue,roughnessMap:Ee,anisotropy:Ie,anisotropyMap:We,clearcoat:ne,clearcoatMap:Ft,clearcoatNormalMap:Et,clearcoatRoughnessMap:Ut,dispersion:X,iridescence:je,iridescenceMap:Qt,iridescenceThicknessMap:wt,sheen:Re,sheenColorMap:_t,sheenRoughnessMap:hn,specularMap:Se,specularColorMap:Be,specularIntensityMap:bt,transmission:nt,transmissionMap:_e,thicknessMap:Le,gradientMap:St,opaque:I.transparent===!1&&I.blending===rx&&I.alphaToCoverage===!1,alphaMap:zt,alphaTest:Tt,alphaHash:yt,combine:I.combine,mapUv:rt&&j(I.map.channel),aoMapUv:Ke&&j(I.aoMap.channel),lightMapUv:et&&j(I.lightMap.channel),bumpMapUv:st&&j(I.bumpMap.channel),normalMapUv:Qe&&j(I.normalMap.channel),displacementMapUv:At&&j(I.displacementMap.channel),emissiveMapUv:xt&&j(I.emissiveMap.channel),metalnessMapUv:ue&&j(I.metalnessMap.channel),roughnessMapUv:Ee&&j(I.roughnessMap.channel),anisotropyMapUv:We&&j(I.anisotropyMap.channel),clearcoatMapUv:Ft&&j(I.clearcoatMap.channel),clearcoatNormalMapUv:Et&&j(I.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ut&&j(I.clearcoatRoughnessMap.channel),iridescenceMapUv:Qt&&j(I.iridescenceMap.channel),iridescenceThicknessMapUv:wt&&j(I.iridescenceThicknessMap.channel),sheenColorMapUv:_t&&j(I.sheenColorMap.channel),sheenRoughnessMapUv:hn&&j(I.sheenRoughnessMap.channel),specularMapUv:Se&&j(I.specularMap.channel),specularColorMapUv:Be&&j(I.specularColorMap.channel),specularIntensityMapUv:bt&&j(I.specularIntensityMap.channel),transmissionMapUv:_e&&j(I.transmissionMap.channel),thicknessMapUv:Le&&j(I.thicknessMap.channel),alphaMapUv:zt&&j(I.alphaMap.channel),vertexTangents:!!J.attributes.tangent&&(Qe||Ie),vertexColors:I.vertexColors,vertexAlphas:I.vertexColors===!0&&!!J.attributes.color&&J.attributes.color.itemSize===4,pointsUvs:B.isPoints===!0&&!!J.attributes.uv&&(rt||zt),fog:!!K,useFog:I.fog===!0,fogExp2:!!K&&K.isFogExp2,flatShading:I.flatShading===!0&&I.wireframe===!1,sizeAttenuation:I.sizeAttenuation===!0,logarithmicDepthBuffer:h,reversedDepthBuffer:Ue,skinning:B.isSkinnedMesh===!0,morphTargets:J.morphAttributes.position!==void 0,morphNormals:J.morphAttributes.normal!==void 0,morphColors:J.morphAttributes.color!==void 0,morphTargetsCount:se,morphTextureStride:me,numDirLights:L.directional.length,numPointLights:L.point.length,numSpotLights:L.spot.length,numSpotLightMaps:L.spotLightMap.length,numRectAreaLights:L.rectArea.length,numHemiLights:L.hemi.length,numDirLightShadows:L.directionalShadowMap.length,numPointLightShadows:L.pointShadowMap.length,numSpotLightShadows:L.spotShadowMap.length,numSpotLightShadowsWithMaps:L.numSpotLightShadowsWithMaps,numLightProbes:L.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:I.dithering,shadowMapEnabled:n.shadowMap.enabled&&U.length>0,shadowMapType:n.shadowMap.type,toneMapping:gn,decodeVideoTexture:rt&&I.map.isVideoTexture===!0&&Ps.getTransfer(I.map.colorSpace)===rr,decodeVideoTextureEmissive:xt&&I.emissiveMap.isVideoTexture===!0&&Ps.getTransfer(I.emissiveMap.colorSpace)===rr,premultipliedAlpha:I.premultipliedAlpha,doubleSided:I.side===tc,flipSided:I.side===So,useDepthPacking:I.depthPacking>=0,depthPacking:I.depthPacking||0,index0AttributeName:I.index0AttributeName,extensionClipCullDistance:Ht&&I.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Ht&&I.extensions.multiDraw===!0||qe)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:I.customProgramCacheKey()};return as.vertexUv1s=d.has(1),as.vertexUv2s=d.has(2),as.vertexUv3s=d.has(3),d.clear(),as}function b(I){const L=[];if(I.shaderID?L.push(I.shaderID):(L.push(I.customVertexShaderID),L.push(I.customFragmentShaderID)),I.defines!==void 0)for(const U in I.defines)L.push(U),L.push(I.defines[U]);return I.isRawShaderMaterial===!1&&(A(L,I),S(L,I),L.push(n.outputColorSpace)),L.push(I.customProgramCacheKey),L.join()}function A(I,L){I.push(L.precision),I.push(L.outputColorSpace),I.push(L.envMapMode),I.push(L.envMapCubeUVHeight),I.push(L.mapUv),I.push(L.alphaMapUv),I.push(L.lightMapUv),I.push(L.aoMapUv),I.push(L.bumpMapUv),I.push(L.normalMapUv),I.push(L.displacementMapUv),I.push(L.emissiveMapUv),I.push(L.metalnessMapUv),I.push(L.roughnessMapUv),I.push(L.anisotropyMapUv),I.push(L.clearcoatMapUv),I.push(L.clearcoatNormalMapUv),I.push(L.clearcoatRoughnessMapUv),I.push(L.iridescenceMapUv),I.push(L.iridescenceThicknessMapUv),I.push(L.sheenColorMapUv),I.push(L.sheenRoughnessMapUv),I.push(L.specularMapUv),I.push(L.specularColorMapUv),I.push(L.specularIntensityMapUv),I.push(L.transmissionMapUv),I.push(L.thicknessMapUv),I.push(L.combine),I.push(L.fogExp2),I.push(L.sizeAttenuation),I.push(L.morphTargetsCount),I.push(L.morphAttributeCount),I.push(L.numDirLights),I.push(L.numPointLights),I.push(L.numSpotLights),I.push(L.numSpotLightMaps),I.push(L.numHemiLights),I.push(L.numRectAreaLights),I.push(L.numDirLightShadows),I.push(L.numPointLightShadows),I.push(L.numSpotLightShadows),I.push(L.numSpotLightShadowsWithMaps),I.push(L.numLightProbes),I.push(L.shadowMapType),I.push(L.toneMapping),I.push(L.numClippingPlanes),I.push(L.numClipIntersection),I.push(L.depthPacking)}function S(I,L){l.disableAll(),L.supportsVertexTextures&&l.enable(0),L.instancing&&l.enable(1),L.instancingColor&&l.enable(2),L.instancingMorph&&l.enable(3),L.matcap&&l.enable(4),L.envMap&&l.enable(5),L.normalMapObjectSpace&&l.enable(6),L.normalMapTangentSpace&&l.enable(7),L.clearcoat&&l.enable(8),L.iridescence&&l.enable(9),L.alphaTest&&l.enable(10),L.vertexColors&&l.enable(11),L.vertexAlphas&&l.enable(12),L.vertexUv1s&&l.enable(13),L.vertexUv2s&&l.enable(14),L.vertexUv3s&&l.enable(15),L.vertexTangents&&l.enable(16),L.anisotropy&&l.enable(17),L.alphaHash&&l.enable(18),L.batching&&l.enable(19),L.dispersion&&l.enable(20),L.batchingColor&&l.enable(21),L.gradientMap&&l.enable(22),I.push(l.mask),l.disableAll(),L.fog&&l.enable(0),L.useFog&&l.enable(1),L.flatShading&&l.enable(2),L.logarithmicDepthBuffer&&l.enable(3),L.reversedDepthBuffer&&l.enable(4),L.skinning&&l.enable(5),L.morphTargets&&l.enable(6),L.morphNormals&&l.enable(7),L.morphColors&&l.enable(8),L.premultipliedAlpha&&l.enable(9),L.shadowMapEnabled&&l.enable(10),L.doubleSided&&l.enable(11),L.flipSided&&l.enable(12),L.useDepthPacking&&l.enable(13),L.dithering&&l.enable(14),L.transmission&&l.enable(15),L.sheen&&l.enable(16),L.opaque&&l.enable(17),L.pointsUvs&&l.enable(18),L.decodeVideoTexture&&l.enable(19),L.decodeVideoTextureEmissive&&l.enable(20),L.alphaToCoverage&&l.enable(21),I.push(l.mask)}function w(I){const L=N[I.type];let U;if(L){const H=Yc[L];U=AA.clone(H.uniforms)}else U=I.uniforms;return U}function E(I,L){let U;for(let H=0,B=u.length;H<B;H++){const K=u[H];if(K.cacheKey===L){U=K,++U.usedTimes;break}}return U===void 0&&(U=new Zke(n,L,I,i),u.push(U)),U}function T(I){if(--I.usedTimes===0){const L=u.indexOf(I);u[L]=u[u.length-1],u.pop(),I.destroy()}}function P(I){c.remove(I)}function k(){c.dispose()}return{getParameters:v,getProgramCacheKey:b,getUniforms:w,acquireProgram:E,releaseProgram:T,releaseShaderCache:P,programs:u,dispose:k}}function tIe(){let n=new WeakMap;function e(o){return n.has(o)}function s(o){let l=n.get(o);return l===void 0&&(l={},n.set(o,l)),l}function r(o){n.delete(o)}function a(o,l,c){n.get(o)[l]=c}function i(){n=new WeakMap}return{has:e,get:s,remove:r,update:a,dispose:i}}function nIe(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function Q7(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function J7(){const n=[];let e=0;const s=[],r=[],a=[];function i(){e=0,s.length=0,r.length=0,a.length=0}function o(h,m,y,N,j,v){let b=n[e];return b===void 0?(b={id:h.id,object:h,geometry:m,material:y,groupOrder:N,renderOrder:h.renderOrder,z:j,group:v},n[e]=b):(b.id=h.id,b.object=h,b.geometry=m,b.material=y,b.groupOrder=N,b.renderOrder=h.renderOrder,b.z=j,b.group=v),e++,b}function l(h,m,y,N,j,v){const b=o(h,m,y,N,j,v);y.transmission>0?r.push(b):y.transparent===!0?a.push(b):s.push(b)}function c(h,m,y,N,j,v){const b=o(h,m,y,N,j,v);y.transmission>0?r.unshift(b):y.transparent===!0?a.unshift(b):s.unshift(b)}function d(h,m){s.length>1&&s.sort(h||nIe),r.length>1&&r.sort(m||Q7),a.length>1&&a.sort(m||Q7)}function u(){for(let h=e,m=n.length;h<m;h++){const y=n[h];if(y.id===null)break;y.id=null,y.object=null,y.geometry=null,y.material=null,y.group=null}}return{opaque:s,transmissive:r,transparent:a,init:i,push:l,unshift:c,finish:u,sort:d}}function sIe(){let n=new WeakMap;function e(r,a){const i=n.get(r);let o;return i===void 0?(o=new J7,n.set(r,[o])):a>=i.length?(o=new J7,i.push(o)):o=i[a],o}function s(){n=new WeakMap}return{get:e,dispose:s}}function rIe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let s;switch(e.type){case"DirectionalLight":s={direction:new he,color:new nn};break;case"SpotLight":s={position:new he,direction:new he,color:new nn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":s={position:new he,color:new nn,distance:0,decay:0};break;case"HemisphereLight":s={direction:new he,skyColor:new nn,groundColor:new nn};break;case"RectAreaLight":s={color:new nn,position:new he,halfWidth:new he,halfHeight:new he};break}return n[e.id]=s,s}}}function aIe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let s;switch(e.type){case"DirectionalLight":s={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new mt};break;case"SpotLight":s={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new mt};break;case"PointLight":s={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new mt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=s,s}}}let iIe=0;function oIe(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function lIe(n){const e=new rIe,s=aIe(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let d=0;d<9;d++)r.probe.push(new he);const a=new he,i=new Kn,o=new Kn;function l(d){let u=0,h=0,m=0;for(let I=0;I<9;I++)r.probe[I].set(0,0,0);let y=0,N=0,j=0,v=0,b=0,A=0,S=0,w=0,E=0,T=0,P=0;d.sort(oIe);for(let I=0,L=d.length;I<L;I++){const U=d[I],H=U.color,B=U.intensity,K=U.distance,J=U.shadow&&U.shadow.map?U.shadow.map.texture:null;if(U.isAmbientLight)u+=H.r*B,h+=H.g*B,m+=H.b*B;else if(U.isLightProbe){for(let W=0;W<9;W++)r.probe[W].addScaledVector(U.sh.coefficients[W],B);P++}else if(U.isDirectionalLight){const W=e.get(U);if(W.color.copy(U.color).multiplyScalar(U.intensity),U.castShadow){const ee=U.shadow,G=s.get(U);G.shadowIntensity=ee.intensity,G.shadowBias=ee.bias,G.shadowNormalBias=ee.normalBias,G.shadowRadius=ee.radius,G.shadowMapSize=ee.mapSize,r.directionalShadow[y]=G,r.directionalShadowMap[y]=J,r.directionalShadowMatrix[y]=U.shadow.matrix,A++}r.directional[y]=W,y++}else if(U.isSpotLight){const W=e.get(U);W.position.setFromMatrixPosition(U.matrixWorld),W.color.copy(H).multiplyScalar(B),W.distance=K,W.coneCos=Math.cos(U.angle),W.penumbraCos=Math.cos(U.angle*(1-U.penumbra)),W.decay=U.decay,r.spot[j]=W;const ee=U.shadow;if(U.map&&(r.spotLightMap[E]=U.map,E++,ee.updateMatrices(U),U.castShadow&&T++),r.spotLightMatrix[j]=ee.matrix,U.castShadow){const G=s.get(U);G.shadowIntensity=ee.intensity,G.shadowBias=ee.bias,G.shadowNormalBias=ee.normalBias,G.shadowRadius=ee.radius,G.shadowMapSize=ee.mapSize,r.spotShadow[j]=G,r.spotShadowMap[j]=J,w++}j++}else if(U.isRectAreaLight){const W=e.get(U);W.color.copy(H).multiplyScalar(B),W.halfWidth.set(U.width*.5,0,0),W.halfHeight.set(0,U.height*.5,0),r.rectArea[v]=W,v++}else if(U.isPointLight){const W=e.get(U);if(W.color.copy(U.color).multiplyScalar(U.intensity),W.distance=U.distance,W.decay=U.decay,U.castShadow){const ee=U.shadow,G=s.get(U);G.shadowIntensity=ee.intensity,G.shadowBias=ee.bias,G.shadowNormalBias=ee.normalBias,G.shadowRadius=ee.radius,G.shadowMapSize=ee.mapSize,G.shadowCameraNear=ee.camera.near,G.shadowCameraFar=ee.camera.far,r.pointShadow[N]=G,r.pointShadowMap[N]=J,r.pointShadowMatrix[N]=U.shadow.matrix,S++}r.point[N]=W,N++}else if(U.isHemisphereLight){const W=e.get(U);W.skyColor.copy(U.color).multiplyScalar(B),W.groundColor.copy(U.groundColor).multiplyScalar(B),r.hemi[b]=W,b++}}v>0&&(n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Gt.LTC_FLOAT_1,r.rectAreaLTC2=Gt.LTC_FLOAT_2):(r.rectAreaLTC1=Gt.LTC_HALF_1,r.rectAreaLTC2=Gt.LTC_HALF_2)),r.ambient[0]=u,r.ambient[1]=h,r.ambient[2]=m;const k=r.hash;(k.directionalLength!==y||k.pointLength!==N||k.spotLength!==j||k.rectAreaLength!==v||k.hemiLength!==b||k.numDirectionalShadows!==A||k.numPointShadows!==S||k.numSpotShadows!==w||k.numSpotMaps!==E||k.numLightProbes!==P)&&(r.directional.length=y,r.spot.length=j,r.rectArea.length=v,r.point.length=N,r.hemi.length=b,r.directionalShadow.length=A,r.directionalShadowMap.length=A,r.pointShadow.length=S,r.pointShadowMap.length=S,r.spotShadow.length=w,r.spotShadowMap.length=w,r.directionalShadowMatrix.length=A,r.pointShadowMatrix.length=S,r.spotLightMatrix.length=w+E-T,r.spotLightMap.length=E,r.numSpotLightShadowsWithMaps=T,r.numLightProbes=P,k.directionalLength=y,k.pointLength=N,k.spotLength=j,k.rectAreaLength=v,k.hemiLength=b,k.numDirectionalShadows=A,k.numPointShadows=S,k.numSpotShadows=w,k.numSpotMaps=E,k.numLightProbes=P,r.version=iIe++)}function c(d,u){let h=0,m=0,y=0,N=0,j=0;const v=u.matrixWorldInverse;for(let b=0,A=d.length;b<A;b++){const S=d[b];if(S.isDirectionalLight){const w=r.directional[h];w.direction.setFromMatrixPosition(S.matrixWorld),a.setFromMatrixPosition(S.target.matrixWorld),w.direction.sub(a),w.direction.transformDirection(v),h++}else if(S.isSpotLight){const w=r.spot[y];w.position.setFromMatrixPosition(S.matrixWorld),w.position.applyMatrix4(v),w.direction.setFromMatrixPosition(S.matrixWorld),a.setFromMatrixPosition(S.target.matrixWorld),w.direction.sub(a),w.direction.transformDirection(v),y++}else if(S.isRectAreaLight){const w=r.rectArea[N];w.position.setFromMatrixPosition(S.matrixWorld),w.position.applyMatrix4(v),o.identity(),i.copy(S.matrixWorld),i.premultiply(v),o.extractRotation(i),w.halfWidth.set(S.width*.5,0,0),w.halfHeight.set(0,S.height*.5,0),w.halfWidth.applyMatrix4(o),w.halfHeight.applyMatrix4(o),N++}else if(S.isPointLight){const w=r.point[m];w.position.setFromMatrixPosition(S.matrixWorld),w.position.applyMatrix4(v),m++}else if(S.isHemisphereLight){const w=r.hemi[j];w.direction.setFromMatrixPosition(S.matrixWorld),w.direction.transformDirection(v),j++}}}return{setup:l,setupView:c,state:r}}function eG(n){const e=new lIe(n),s=[],r=[];function a(u){d.camera=u,s.length=0,r.length=0}function i(u){s.push(u)}function o(u){r.push(u)}function l(){e.setup(s)}function c(u){e.setupView(s,u)}const d={lightsArray:s,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:a,state:d,setupLights:l,setupLightsView:c,pushLight:i,pushShadow:o}}function cIe(n){let e=new WeakMap;function s(a,i=0){const o=e.get(a);let l;return o===void 0?(l=new eG(n),e.set(a,[l])):i>=o.length?(l=new eG(n),o.push(l)):l=o[i],l}function r(){e=new WeakMap}return{get:s,dispose:r}}const dIe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,uIe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function hIe(n,e,s){let r=new my;const a=new mt,i=new mt,o=new js,l=new GD({depthPacking:See}),c=new $D,d={},u=s.maxTextureSize,h={[Eh]:So,[So]:Eh,[tc]:tc},m=new Ao({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new mt},radius:{value:4}},vertexShader:dIe,fragmentShader:uIe}),y=m.clone();y.defines.HORIZONTAL_PASS=1;const N=new us;N.setAttribute("position",new mr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const j=new qr(N,m),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=nT;let b=this.type;this.render=function(T,P,k){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||T.length===0)return;const I=n.getRenderTarget(),L=n.getActiveCubeFace(),U=n.getActiveMipmapLevel(),H=n.state;H.setBlending(nu),H.buffers.depth.getReversed()===!0?H.buffers.color.setClear(0,0,0,0):H.buffers.color.setClear(1,1,1,1),H.buffers.depth.setTest(!0),H.setScissorTest(!1);const B=b!==Xc&&this.type===Xc,K=b===Xc&&this.type!==Xc;for(let J=0,W=T.length;J<W;J++){const ee=T[J],G=ee.shadow;if(G===void 0){console.warn("THREE.WebGLShadowMap:",ee,"has no shadow.");continue}if(G.autoUpdate===!1&&G.needsUpdate===!1)continue;a.copy(G.mapSize);const ae=G.getFrameExtents();if(a.multiply(ae),i.copy(G.mapSize),(a.x>u||a.y>u)&&(a.x>u&&(i.x=Math.floor(u/ae.x),a.x=i.x*ae.x,G.mapSize.x=i.x),a.y>u&&(i.y=Math.floor(u/ae.y),a.y=i.y*ae.y,G.mapSize.y=i.y)),G.map===null||B===!0||K===!0){const se=this.type!==Xc?{minFilter:ki,magFilter:ki}:{};G.map!==null&&G.map.dispose(),G.map=new ic(a.x,a.y,se),G.map.texture.name=ee.name+".shadowMap",G.camera.updateProjectionMatrix()}n.setRenderTarget(G.map),n.clear();const fe=G.getViewportCount();for(let se=0;se<fe;se++){const me=G.getViewport(se);o.set(i.x*me.x,i.y*me.y,i.x*me.z,i.y*me.w),H.viewport(o),G.updateMatrices(ee,se),r=G.getFrustum(),w(P,k,G.camera,ee,this.type)}G.isPointLightShadow!==!0&&this.type===Xc&&A(G,k),G.needsUpdate=!1}b=this.type,v.needsUpdate=!1,n.setRenderTarget(I,L,U)};function A(T,P){const k=e.update(j);m.defines.VSM_SAMPLES!==T.blurSamples&&(m.defines.VSM_SAMPLES=T.blurSamples,y.defines.VSM_SAMPLES=T.blurSamples,m.needsUpdate=!0,y.needsUpdate=!0),T.mapPass===null&&(T.mapPass=new ic(a.x,a.y)),m.uniforms.shadow_pass.value=T.map.texture,m.uniforms.resolution.value=T.mapSize,m.uniforms.radius.value=T.radius,n.setRenderTarget(T.mapPass),n.clear(),n.renderBufferDirect(P,null,k,m,j,null),y.uniforms.shadow_pass.value=T.mapPass.texture,y.uniforms.resolution.value=T.mapSize,y.uniforms.radius.value=T.radius,n.setRenderTarget(T.map),n.clear(),n.renderBufferDirect(P,null,k,y,j,null)}function S(T,P,k,I){let L=null;const U=k.isPointLight===!0?T.customDistanceMaterial:T.customDepthMaterial;if(U!==void 0)L=U;else if(L=k.isPointLight===!0?c:l,n.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0||P.alphaToCoverage===!0){const H=L.uuid,B=P.uuid;let K=d[H];K===void 0&&(K={},d[H]=K);let J=K[B];J===void 0&&(J=L.clone(),K[B]=J,P.addEventListener("dispose",E)),L=J}if(L.visible=P.visible,L.wireframe=P.wireframe,I===Xc?L.side=P.shadowSide!==null?P.shadowSide:P.side:L.side=P.shadowSide!==null?P.shadowSide:h[P.side],L.alphaMap=P.alphaMap,L.alphaTest=P.alphaToCoverage===!0?.5:P.alphaTest,L.map=P.map,L.clipShadows=P.clipShadows,L.clippingPlanes=P.clippingPlanes,L.clipIntersection=P.clipIntersection,L.displacementMap=P.displacementMap,L.displacementScale=P.displacementScale,L.displacementBias=P.displacementBias,L.wireframeLinewidth=P.wireframeLinewidth,L.linewidth=P.linewidth,k.isPointLight===!0&&L.isMeshDistanceMaterial===!0){const H=n.properties.get(L);H.light=k}return L}function w(T,P,k,I,L){if(T.visible===!1)return;if(T.layers.test(P.layers)&&(T.isMesh||T.isLine||T.isPoints)&&(T.castShadow||T.receiveShadow&&L===Xc)&&(!T.frustumCulled||r.intersectsObject(T))){T.modelViewMatrix.multiplyMatrices(k.matrixWorldInverse,T.matrixWorld);const B=e.update(T),K=T.material;if(Array.isArray(K)){const J=B.groups;for(let W=0,ee=J.length;W<ee;W++){const G=J[W],ae=K[G.materialIndex];if(ae&&ae.visible){const fe=S(T,ae,I,L);T.onBeforeShadow(n,T,P,k,B,fe,G),n.renderBufferDirect(k,null,B,fe,T,G),T.onAfterShadow(n,T,P,k,B,fe,G)}}}else if(K.visible){const J=S(T,K,I,L);T.onBeforeShadow(n,T,P,k,B,J,null),n.renderBufferDirect(k,null,B,J,T,null),T.onAfterShadow(n,T,P,k,B,J,null)}}const H=T.children;for(let B=0,K=H.length;B<K;B++)w(H[B],P,k,I,L)}function E(T){T.target.removeEventListener("dispose",E);for(const k in d){const I=d[k],L=T.target.uuid;L in I&&(I[L].dispose(),delete I[L])}}}const fIe={[G2]:$2,[q2]:X2,[W2]:Z2,[_x]:K2,[$2]:G2,[X2]:q2,[Z2]:W2,[K2]:_x};function mIe(n,e){function s(){let _e=!1;const Le=new js;let St=null;const zt=new js(0,0,0,0);return{setMask:function(Tt){St!==Tt&&!_e&&(n.colorMask(Tt,Tt,Tt,Tt),St=Tt)},setLocked:function(Tt){_e=Tt},setClear:function(Tt,yt,Ht,gn,as){as===!0&&(Tt*=gn,yt*=gn,Ht*=gn),Le.set(Tt,yt,Ht,gn),zt.equals(Le)===!1&&(n.clearColor(Tt,yt,Ht,gn),zt.copy(Le))},reset:function(){_e=!1,St=null,zt.set(-1,0,0,0)}}}function r(){let _e=!1,Le=!1,St=null,zt=null,Tt=null;return{setReversed:function(yt){if(Le!==yt){const Ht=e.get("EXT_clip_control");yt?Ht.clipControlEXT(Ht.LOWER_LEFT_EXT,Ht.ZERO_TO_ONE_EXT):Ht.clipControlEXT(Ht.LOWER_LEFT_EXT,Ht.NEGATIVE_ONE_TO_ONE_EXT),Le=yt;const gn=Tt;Tt=null,this.setClear(gn)}},getReversed:function(){return Le},setTest:function(yt){yt?Ce(n.DEPTH_TEST):Ue(n.DEPTH_TEST)},setMask:function(yt){St!==yt&&!_e&&(n.depthMask(yt),St=yt)},setFunc:function(yt){if(Le&&(yt=fIe[yt]),zt!==yt){switch(yt){case G2:n.depthFunc(n.NEVER);break;case $2:n.depthFunc(n.ALWAYS);break;case q2:n.depthFunc(n.LESS);break;case _x:n.depthFunc(n.LEQUAL);break;case W2:n.depthFunc(n.EQUAL);break;case K2:n.depthFunc(n.GEQUAL);break;case X2:n.depthFunc(n.GREATER);break;case Z2:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}zt=yt}},setLocked:function(yt){_e=yt},setClear:function(yt){Tt!==yt&&(Le&&(yt=1-yt),n.clearDepth(yt),Tt=yt)},reset:function(){_e=!1,St=null,zt=null,Tt=null,Le=!1}}}function a(){let _e=!1,Le=null,St=null,zt=null,Tt=null,yt=null,Ht=null,gn=null,as=null;return{setTest:function(Zn){_e||(Zn?Ce(n.STENCIL_TEST):Ue(n.STENCIL_TEST))},setMask:function(Zn){Le!==Zn&&!_e&&(n.stencilMask(Zn),Le=Zn)},setFunc:function(Zn,Wr,wr){(St!==Zn||zt!==Wr||Tt!==wr)&&(n.stencilFunc(Zn,Wr,wr),St=Zn,zt=Wr,Tt=wr)},setOp:function(Zn,Wr,wr){(yt!==Zn||Ht!==Wr||gn!==wr)&&(n.stencilOp(Zn,Wr,wr),yt=Zn,Ht=Wr,gn=wr)},setLocked:function(Zn){_e=Zn},setClear:function(Zn){as!==Zn&&(n.clearStencil(Zn),as=Zn)},reset:function(){_e=!1,Le=null,St=null,zt=null,Tt=null,yt=null,Ht=null,gn=null,as=null}}}const i=new s,o=new r,l=new a,c=new WeakMap,d=new WeakMap;let u={},h={},m=new WeakMap,y=[],N=null,j=!1,v=null,b=null,A=null,S=null,w=null,E=null,T=null,P=new nn(0,0,0),k=0,I=!1,L=null,U=null,H=null,B=null,K=null;const J=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let W=!1,ee=0;const G=n.getParameter(n.VERSION);G.indexOf("WebGL")!==-1?(ee=parseFloat(/^WebGL (\d)/.exec(G)[1]),W=ee>=1):G.indexOf("OpenGL ES")!==-1&&(ee=parseFloat(/^OpenGL ES (\d)/.exec(G)[1]),W=ee>=2);let ae=null,fe={};const se=n.getParameter(n.SCISSOR_BOX),me=n.getParameter(n.VIEWPORT),Oe=new js().fromArray(se),Ye=new js().fromArray(me);function dt(_e,Le,St,zt){const Tt=new Uint8Array(4),yt=n.createTexture();n.bindTexture(_e,yt),n.texParameteri(_e,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(_e,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Ht=0;Ht<St;Ht++)_e===n.TEXTURE_3D||_e===n.TEXTURE_2D_ARRAY?n.texImage3D(Le,0,n.RGBA,1,1,zt,0,n.RGBA,n.UNSIGNED_BYTE,Tt):n.texImage2D(Le+Ht,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Tt);return yt}const be={};be[n.TEXTURE_2D]=dt(n.TEXTURE_2D,n.TEXTURE_2D,1),be[n.TEXTURE_CUBE_MAP]=dt(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),be[n.TEXTURE_2D_ARRAY]=dt(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),be[n.TEXTURE_3D]=dt(n.TEXTURE_3D,n.TEXTURE_3D,1,1),i.setClear(0,0,0,1),o.setClear(1),l.setClear(0),Ce(n.DEPTH_TEST),o.setFunc(_x),st(!1),Qe(F5),Ce(n.CULL_FACE),Ke(nu);function Ce(_e){u[_e]!==!0&&(n.enable(_e),u[_e]=!0)}function Ue(_e){u[_e]!==!1&&(n.disable(_e),u[_e]=!1)}function De(_e,Le){return h[_e]!==Le?(n.bindFramebuffer(_e,Le),h[_e]=Le,_e===n.DRAW_FRAMEBUFFER&&(h[n.FRAMEBUFFER]=Le),_e===n.FRAMEBUFFER&&(h[n.DRAW_FRAMEBUFFER]=Le),!0):!1}function qe(_e,Le){let St=y,zt=!1;if(_e){St=m.get(Le),St===void 0&&(St=[],m.set(Le,St));const Tt=_e.textures;if(St.length!==Tt.length||St[0]!==n.COLOR_ATTACHMENT0){for(let yt=0,Ht=Tt.length;yt<Ht;yt++)St[yt]=n.COLOR_ATTACHMENT0+yt;St.length=Tt.length,zt=!0}}else St[0]!==n.BACK&&(St[0]=n.BACK,zt=!0);zt&&n.drawBuffers(St)}function rt(_e){return N!==_e?(n.useProgram(_e),N=_e,!0):!1}const $e={[Rf]:n.FUNC_ADD,[KJ]:n.FUNC_SUBTRACT,[XJ]:n.FUNC_REVERSE_SUBTRACT};$e[ZJ]=n.MIN,$e[YJ]=n.MAX;const pe={[QJ]:n.ZERO,[JJ]:n.ONE,[eee]:n.SRC_COLOR,[V2]:n.SRC_ALPHA,[iee]:n.SRC_ALPHA_SATURATE,[ree]:n.DST_COLOR,[nee]:n.DST_ALPHA,[tee]:n.ONE_MINUS_SRC_COLOR,[H2]:n.ONE_MINUS_SRC_ALPHA,[aee]:n.ONE_MINUS_DST_COLOR,[see]:n.ONE_MINUS_DST_ALPHA,[oee]:n.CONSTANT_COLOR,[lee]:n.ONE_MINUS_CONSTANT_COLOR,[cee]:n.CONSTANT_ALPHA,[dee]:n.ONE_MINUS_CONSTANT_ALPHA};function Ke(_e,Le,St,zt,Tt,yt,Ht,gn,as,Zn){if(_e===nu){j===!0&&(Ue(n.BLEND),j=!1);return}if(j===!1&&(Ce(n.BLEND),j=!0),_e!==WJ){if(_e!==v||Zn!==I){if((b!==Rf||w!==Rf)&&(n.blendEquation(n.FUNC_ADD),b=Rf,w=Rf),Zn)switch(_e){case rx:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case U5:n.blendFunc(n.ONE,n.ONE);break;case z5:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case B5:n.blendFuncSeparate(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",_e);break}else switch(_e){case rx:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case U5:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case z5:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case B5:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",_e);break}A=null,S=null,E=null,T=null,P.set(0,0,0),k=0,v=_e,I=Zn}return}Tt=Tt||Le,yt=yt||St,Ht=Ht||zt,(Le!==b||Tt!==w)&&(n.blendEquationSeparate($e[Le],$e[Tt]),b=Le,w=Tt),(St!==A||zt!==S||yt!==E||Ht!==T)&&(n.blendFuncSeparate(pe[St],pe[zt],pe[yt],pe[Ht]),A=St,S=zt,E=yt,T=Ht),(gn.equals(P)===!1||as!==k)&&(n.blendColor(gn.r,gn.g,gn.b,as),P.copy(gn),k=as),v=_e,I=!1}function et(_e,Le){_e.side===tc?Ue(n.CULL_FACE):Ce(n.CULL_FACE);let St=_e.side===So;Le&&(St=!St),st(St),_e.blending===rx&&_e.transparent===!1?Ke(nu):Ke(_e.blending,_e.blendEquation,_e.blendSrc,_e.blendDst,_e.blendEquationAlpha,_e.blendSrcAlpha,_e.blendDstAlpha,_e.blendColor,_e.blendAlpha,_e.premultipliedAlpha),o.setFunc(_e.depthFunc),o.setTest(_e.depthTest),o.setMask(_e.depthWrite),i.setMask(_e.colorWrite);const zt=_e.stencilWrite;l.setTest(zt),zt&&(l.setMask(_e.stencilWriteMask),l.setFunc(_e.stencilFunc,_e.stencilRef,_e.stencilFuncMask),l.setOp(_e.stencilFail,_e.stencilZFail,_e.stencilZPass)),xt(_e.polygonOffset,_e.polygonOffsetFactor,_e.polygonOffsetUnits),_e.alphaToCoverage===!0?Ce(n.SAMPLE_ALPHA_TO_COVERAGE):Ue(n.SAMPLE_ALPHA_TO_COVERAGE)}function st(_e){L!==_e&&(_e?n.frontFace(n.CW):n.frontFace(n.CCW),L=_e)}function Qe(_e){_e!==GJ?(Ce(n.CULL_FACE),_e!==U&&(_e===F5?n.cullFace(n.BACK):_e===$J?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Ue(n.CULL_FACE),U=_e}function At(_e){_e!==H&&(W&&n.lineWidth(_e),H=_e)}function xt(_e,Le,St){_e?(Ce(n.POLYGON_OFFSET_FILL),(B!==Le||K!==St)&&(n.polygonOffset(Le,St),B=Le,K=St)):Ue(n.POLYGON_OFFSET_FILL)}function ue(_e){_e?Ce(n.SCISSOR_TEST):Ue(n.SCISSOR_TEST)}function Ee(_e){_e===void 0&&(_e=n.TEXTURE0+J-1),ae!==_e&&(n.activeTexture(_e),ae=_e)}function Ie(_e,Le,St){St===void 0&&(ae===null?St=n.TEXTURE0+J-1:St=ae);let zt=fe[St];zt===void 0&&(zt={type:void 0,texture:void 0},fe[St]=zt),(zt.type!==_e||zt.texture!==Le)&&(ae!==St&&(n.activeTexture(St),ae=St),n.bindTexture(_e,Le||be[_e]),zt.type=_e,zt.texture=Le)}function ne(){const _e=fe[ae];_e!==void 0&&_e.type!==void 0&&(n.bindTexture(_e.type,null),_e.type=void 0,_e.texture=void 0)}function X(){try{n.compressedTexImage2D(...arguments)}catch(_e){console.error("THREE.WebGLState:",_e)}}function je(){try{n.compressedTexImage3D(...arguments)}catch(_e){console.error("THREE.WebGLState:",_e)}}function Re(){try{n.texSubImage2D(...arguments)}catch(_e){console.error("THREE.WebGLState:",_e)}}function nt(){try{n.texSubImage3D(...arguments)}catch(_e){console.error("THREE.WebGLState:",_e)}}function We(){try{n.compressedTexSubImage2D(...arguments)}catch(_e){console.error("THREE.WebGLState:",_e)}}function Ft(){try{n.compressedTexSubImage3D(...arguments)}catch(_e){console.error("THREE.WebGLState:",_e)}}function Et(){try{n.texStorage2D(...arguments)}catch(_e){console.error("THREE.WebGLState:",_e)}}function Ut(){try{n.texStorage3D(...arguments)}catch(_e){console.error("THREE.WebGLState:",_e)}}function Qt(){try{n.texImage2D(...arguments)}catch(_e){console.error("THREE.WebGLState:",_e)}}function wt(){try{n.texImage3D(...arguments)}catch(_e){console.error("THREE.WebGLState:",_e)}}function _t(_e){Oe.equals(_e)===!1&&(n.scissor(_e.x,_e.y,_e.z,_e.w),Oe.copy(_e))}function hn(_e){Ye.equals(_e)===!1&&(n.viewport(_e.x,_e.y,_e.z,_e.w),Ye.copy(_e))}function Se(_e,Le){let St=d.get(Le);St===void 0&&(St=new WeakMap,d.set(Le,St));let zt=St.get(_e);zt===void 0&&(zt=n.getUniformBlockIndex(Le,_e.name),St.set(_e,zt))}function Be(_e,Le){const zt=d.get(Le).get(_e);c.get(Le)!==zt&&(n.uniformBlockBinding(Le,zt,_e.__bindingPointIndex),c.set(Le,zt))}function bt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),o.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),u={},ae=null,fe={},h={},m=new WeakMap,y=[],N=null,j=!1,v=null,b=null,A=null,S=null,w=null,E=null,T=null,P=new nn(0,0,0),k=0,I=!1,L=null,U=null,H=null,B=null,K=null,Oe.set(0,0,n.canvas.width,n.canvas.height),Ye.set(0,0,n.canvas.width,n.canvas.height),i.reset(),o.reset(),l.reset()}return{buffers:{color:i,depth:o,stencil:l},enable:Ce,disable:Ue,bindFramebuffer:De,drawBuffers:qe,useProgram:rt,setBlending:Ke,setMaterial:et,setFlipSided:st,setCullFace:Qe,setLineWidth:At,setPolygonOffset:xt,setScissorTest:ue,activeTexture:Ee,bindTexture:Ie,unbindTexture:ne,compressedTexImage2D:X,compressedTexImage3D:je,texImage2D:Qt,texImage3D:wt,updateUBOMapping:Se,uniformBlockBinding:Be,texStorage2D:Et,texStorage3D:Ut,texSubImage2D:Re,texSubImage3D:nt,compressedTexSubImage2D:We,compressedTexSubImage3D:Ft,scissor:_t,viewport:hn,reset:bt}}function pIe(n,e,s,r,a,i,o){const l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),d=new mt,u=new WeakMap;let h;const m=new WeakMap;let y=!1;try{y=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function N(ne,X){return y?new OffscreenCanvas(ne,X):I1("canvas")}function j(ne,X,je){let Re=1;const nt=Ie(ne);if((nt.width>je||nt.height>je)&&(Re=je/Math.max(nt.width,nt.height)),Re<1)if(typeof HTMLImageElement<"u"&&ne instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ne instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ne instanceof ImageBitmap||typeof VideoFrame<"u"&&ne instanceof VideoFrame){const We=Math.floor(Re*nt.width),Ft=Math.floor(Re*nt.height);h===void 0&&(h=N(We,Ft));const Et=X?N(We,Ft):h;return Et.width=We,Et.height=Ft,Et.getContext("2d").drawImage(ne,0,0,We,Ft),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+nt.width+"x"+nt.height+") to ("+We+"x"+Ft+")."),Et}else return"data"in ne&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+nt.width+"x"+nt.height+")."),ne;return ne}function v(ne){return ne.generateMipmaps}function b(ne){n.generateMipmap(ne)}function A(ne){return ne.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:ne.isWebGL3DRenderTarget?n.TEXTURE_3D:ne.isWebGLArrayRenderTarget||ne.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function S(ne,X,je,Re,nt=!1){if(ne!==null){if(n[ne]!==void 0)return n[ne];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ne+"'")}let We=X;if(X===n.RED&&(je===n.FLOAT&&(We=n.R32F),je===n.HALF_FLOAT&&(We=n.R16F),je===n.UNSIGNED_BYTE&&(We=n.R8)),X===n.RED_INTEGER&&(je===n.UNSIGNED_BYTE&&(We=n.R8UI),je===n.UNSIGNED_SHORT&&(We=n.R16UI),je===n.UNSIGNED_INT&&(We=n.R32UI),je===n.BYTE&&(We=n.R8I),je===n.SHORT&&(We=n.R16I),je===n.INT&&(We=n.R32I)),X===n.RG&&(je===n.FLOAT&&(We=n.RG32F),je===n.HALF_FLOAT&&(We=n.RG16F),je===n.UNSIGNED_BYTE&&(We=n.RG8)),X===n.RG_INTEGER&&(je===n.UNSIGNED_BYTE&&(We=n.RG8UI),je===n.UNSIGNED_SHORT&&(We=n.RG16UI),je===n.UNSIGNED_INT&&(We=n.RG32UI),je===n.BYTE&&(We=n.RG8I),je===n.SHORT&&(We=n.RG16I),je===n.INT&&(We=n.RG32I)),X===n.RGB_INTEGER&&(je===n.UNSIGNED_BYTE&&(We=n.RGB8UI),je===n.UNSIGNED_SHORT&&(We=n.RGB16UI),je===n.UNSIGNED_INT&&(We=n.RGB32UI),je===n.BYTE&&(We=n.RGB8I),je===n.SHORT&&(We=n.RGB16I),je===n.INT&&(We=n.RGB32I)),X===n.RGBA_INTEGER&&(je===n.UNSIGNED_BYTE&&(We=n.RGBA8UI),je===n.UNSIGNED_SHORT&&(We=n.RGBA16UI),je===n.UNSIGNED_INT&&(We=n.RGBA32UI),je===n.BYTE&&(We=n.RGBA8I),je===n.SHORT&&(We=n.RGBA16I),je===n.INT&&(We=n.RGBA32I)),X===n.RGB&&(je===n.UNSIGNED_INT_5_9_9_9_REV&&(We=n.RGB9_E5),je===n.UNSIGNED_INT_10F_11F_11F_REV&&(We=n.R11F_G11F_B10F)),X===n.RGBA){const Ft=nt?O1:Ps.getTransfer(Re);je===n.FLOAT&&(We=n.RGBA32F),je===n.HALF_FLOAT&&(We=n.RGBA16F),je===n.UNSIGNED_BYTE&&(We=Ft===rr?n.SRGB8_ALPHA8:n.RGBA8),je===n.UNSIGNED_SHORT_4_4_4_4&&(We=n.RGBA4),je===n.UNSIGNED_SHORT_5_5_5_1&&(We=n.RGB5_A1)}return(We===n.R16F||We===n.R32F||We===n.RG16F||We===n.RG32F||We===n.RGBA16F||We===n.RGBA32F)&&e.get("EXT_color_buffer_float"),We}function w(ne,X){let je;return ne?X===null||X===du||X===F0?je=n.DEPTH24_STENCIL8:X===Qr?je=n.DEPTH32F_STENCIL8:X===L0&&(je=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):X===null||X===du||X===F0?je=n.DEPTH_COMPONENT24:X===Qr?je=n.DEPTH_COMPONENT32F:X===L0&&(je=n.DEPTH_COMPONENT16),je}function E(ne,X){return v(ne)===!0||ne.isFramebufferTexture&&ne.minFilter!==ki&&ne.minFilter!==ir?Math.log2(Math.max(X.width,X.height))+1:ne.mipmaps!==void 0&&ne.mipmaps.length>0?ne.mipmaps.length:ne.isCompressedTexture&&Array.isArray(ne.image)?X.mipmaps.length:1}function T(ne){const X=ne.target;X.removeEventListener("dispose",T),k(X),X.isVideoTexture&&u.delete(X)}function P(ne){const X=ne.target;X.removeEventListener("dispose",P),L(X)}function k(ne){const X=r.get(ne);if(X.__webglInit===void 0)return;const je=ne.source,Re=m.get(je);if(Re){const nt=Re[X.__cacheKey];nt.usedTimes--,nt.usedTimes===0&&I(ne),Object.keys(Re).length===0&&m.delete(je)}r.remove(ne)}function I(ne){const X=r.get(ne);n.deleteTexture(X.__webglTexture);const je=ne.source,Re=m.get(je);delete Re[X.__cacheKey],o.memory.textures--}function L(ne){const X=r.get(ne);if(ne.depthTexture&&(ne.depthTexture.dispose(),r.remove(ne.depthTexture)),ne.isWebGLCubeRenderTarget)for(let Re=0;Re<6;Re++){if(Array.isArray(X.__webglFramebuffer[Re]))for(let nt=0;nt<X.__webglFramebuffer[Re].length;nt++)n.deleteFramebuffer(X.__webglFramebuffer[Re][nt]);else n.deleteFramebuffer(X.__webglFramebuffer[Re]);X.__webglDepthbuffer&&n.deleteRenderbuffer(X.__webglDepthbuffer[Re])}else{if(Array.isArray(X.__webglFramebuffer))for(let Re=0;Re<X.__webglFramebuffer.length;Re++)n.deleteFramebuffer(X.__webglFramebuffer[Re]);else n.deleteFramebuffer(X.__webglFramebuffer);if(X.__webglDepthbuffer&&n.deleteRenderbuffer(X.__webglDepthbuffer),X.__webglMultisampledFramebuffer&&n.deleteFramebuffer(X.__webglMultisampledFramebuffer),X.__webglColorRenderbuffer)for(let Re=0;Re<X.__webglColorRenderbuffer.length;Re++)X.__webglColorRenderbuffer[Re]&&n.deleteRenderbuffer(X.__webglColorRenderbuffer[Re]);X.__webglDepthRenderbuffer&&n.deleteRenderbuffer(X.__webglDepthRenderbuffer)}const je=ne.textures;for(let Re=0,nt=je.length;Re<nt;Re++){const We=r.get(je[Re]);We.__webglTexture&&(n.deleteTexture(We.__webglTexture),o.memory.textures--),r.remove(je[Re])}r.remove(ne)}let U=0;function H(){U=0}function B(){const ne=U;return ne>=a.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ne+" texture units while this GPU supports only "+a.maxTextures),U+=1,ne}function K(ne){const X=[];return X.push(ne.wrapS),X.push(ne.wrapT),X.push(ne.wrapR||0),X.push(ne.magFilter),X.push(ne.minFilter),X.push(ne.anisotropy),X.push(ne.internalFormat),X.push(ne.format),X.push(ne.type),X.push(ne.generateMipmaps),X.push(ne.premultiplyAlpha),X.push(ne.flipY),X.push(ne.unpackAlignment),X.push(ne.colorSpace),X.join()}function J(ne,X){const je=r.get(ne);if(ne.isVideoTexture&&ue(ne),ne.isRenderTargetTexture===!1&&ne.isExternalTexture!==!0&&ne.version>0&&je.__version!==ne.version){const Re=ne.image;if(Re===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Re.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{be(je,ne,X);return}}else ne.isExternalTexture&&(je.__webglTexture=ne.sourceTexture?ne.sourceTexture:null);s.bindTexture(n.TEXTURE_2D,je.__webglTexture,n.TEXTURE0+X)}function W(ne,X){const je=r.get(ne);if(ne.isRenderTargetTexture===!1&&ne.version>0&&je.__version!==ne.version){be(je,ne,X);return}s.bindTexture(n.TEXTURE_2D_ARRAY,je.__webglTexture,n.TEXTURE0+X)}function ee(ne,X){const je=r.get(ne);if(ne.isRenderTargetTexture===!1&&ne.version>0&&je.__version!==ne.version){be(je,ne,X);return}s.bindTexture(n.TEXTURE_3D,je.__webglTexture,n.TEXTURE0+X)}function G(ne,X){const je=r.get(ne);if(ne.version>0&&je.__version!==ne.version){Ce(je,ne,X);return}s.bindTexture(n.TEXTURE_CUBE_MAP,je.__webglTexture,n.TEXTURE0+X)}const ae={[E1]:n.REPEAT,[Ma]:n.CLAMP_TO_EDGE,[M1]:n.MIRRORED_REPEAT},fe={[ki]:n.NEAREST,[xD]:n.NEAREST_MIPMAP_NEAREST,[Mv]:n.NEAREST_MIPMAP_LINEAR,[ir]:n.LINEAR,[_j]:n.LINEAR_MIPMAP_NEAREST,[$d]:n.LINEAR_MIPMAP_LINEAR},se={[Aee]:n.NEVER,[Ree]:n.ALWAYS,[Cee]:n.LESS,[ND]:n.LEQUAL,[Tee]:n.EQUAL,[Pee]:n.GEQUAL,[Eee]:n.GREATER,[Mee]:n.NOTEQUAL};function me(ne,X){if(X.type===Qr&&e.has("OES_texture_float_linear")===!1&&(X.magFilter===ir||X.magFilter===_j||X.magFilter===Mv||X.magFilter===$d||X.minFilter===ir||X.minFilter===_j||X.minFilter===Mv||X.minFilter===$d)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(ne,n.TEXTURE_WRAP_S,ae[X.wrapS]),n.texParameteri(ne,n.TEXTURE_WRAP_T,ae[X.wrapT]),(ne===n.TEXTURE_3D||ne===n.TEXTURE_2D_ARRAY)&&n.texParameteri(ne,n.TEXTURE_WRAP_R,ae[X.wrapR]),n.texParameteri(ne,n.TEXTURE_MAG_FILTER,fe[X.magFilter]),n.texParameteri(ne,n.TEXTURE_MIN_FILTER,fe[X.minFilter]),X.compareFunction&&(n.texParameteri(ne,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(ne,n.TEXTURE_COMPARE_FUNC,se[X.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(X.magFilter===ki||X.minFilter!==Mv&&X.minFilter!==$d||X.type===Qr&&e.has("OES_texture_float_linear")===!1)return;if(X.anisotropy>1||r.get(X).__currentAnisotropy){const je=e.get("EXT_texture_filter_anisotropic");n.texParameterf(ne,je.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(X.anisotropy,a.getMaxAnisotropy())),r.get(X).__currentAnisotropy=X.anisotropy}}}function Oe(ne,X){let je=!1;ne.__webglInit===void 0&&(ne.__webglInit=!0,X.addEventListener("dispose",T));const Re=X.source;let nt=m.get(Re);nt===void 0&&(nt={},m.set(Re,nt));const We=K(X);if(We!==ne.__cacheKey){nt[We]===void 0&&(nt[We]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,je=!0),nt[We].usedTimes++;const Ft=nt[ne.__cacheKey];Ft!==void 0&&(nt[ne.__cacheKey].usedTimes--,Ft.usedTimes===0&&I(X)),ne.__cacheKey=We,ne.__webglTexture=nt[We].texture}return je}function Ye(ne,X,je){return Math.floor(Math.floor(ne/je)/X)}function dt(ne,X,je,Re){const We=ne.updateRanges;if(We.length===0)s.texSubImage2D(n.TEXTURE_2D,0,0,0,X.width,X.height,je,Re,X.data);else{We.sort((wt,_t)=>wt.start-_t.start);let Ft=0;for(let wt=1;wt<We.length;wt++){const _t=We[Ft],hn=We[wt],Se=_t.start+_t.count,Be=Ye(hn.start,X.width,4),bt=Ye(_t.start,X.width,4);hn.start<=Se+1&&Be===bt&&Ye(hn.start+hn.count-1,X.width,4)===Be?_t.count=Math.max(_t.count,hn.start+hn.count-_t.start):(++Ft,We[Ft]=hn)}We.length=Ft+1;const Et=n.getParameter(n.UNPACK_ROW_LENGTH),Ut=n.getParameter(n.UNPACK_SKIP_PIXELS),Qt=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,X.width);for(let wt=0,_t=We.length;wt<_t;wt++){const hn=We[wt],Se=Math.floor(hn.start/4),Be=Math.ceil(hn.count/4),bt=Se%X.width,_e=Math.floor(Se/X.width),Le=Be,St=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,bt),n.pixelStorei(n.UNPACK_SKIP_ROWS,_e),s.texSubImage2D(n.TEXTURE_2D,0,bt,_e,Le,St,je,Re,X.data)}ne.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,Et),n.pixelStorei(n.UNPACK_SKIP_PIXELS,Ut),n.pixelStorei(n.UNPACK_SKIP_ROWS,Qt)}}function be(ne,X,je){let Re=n.TEXTURE_2D;(X.isDataArrayTexture||X.isCompressedArrayTexture)&&(Re=n.TEXTURE_2D_ARRAY),X.isData3DTexture&&(Re=n.TEXTURE_3D);const nt=Oe(ne,X),We=X.source;s.bindTexture(Re,ne.__webglTexture,n.TEXTURE0+je);const Ft=r.get(We);if(We.version!==Ft.__version||nt===!0){s.activeTexture(n.TEXTURE0+je);const Et=Ps.getPrimaries(Ps.workingColorSpace),Ut=X.colorSpace===ah?null:Ps.getPrimaries(X.colorSpace),Qt=X.colorSpace===ah||Et===Ut?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,X.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,X.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,X.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Qt);let wt=j(X.image,!1,a.maxTextureSize);wt=Ee(X,wt);const _t=i.convert(X.format,X.colorSpace),hn=i.convert(X.type);let Se=S(X.internalFormat,_t,hn,X.colorSpace,X.isVideoTexture);me(Re,X);let Be;const bt=X.mipmaps,_e=X.isVideoTexture!==!0,Le=Ft.__version===void 0||nt===!0,St=We.dataReady,zt=E(X,wt);if(X.isDepthTexture)Se=w(X.format===z0,X.type),Le&&(_e?s.texStorage2D(n.TEXTURE_2D,1,Se,wt.width,wt.height):s.texImage2D(n.TEXTURE_2D,0,Se,wt.width,wt.height,0,_t,hn,null));else if(X.isDataTexture)if(bt.length>0){_e&&Le&&s.texStorage2D(n.TEXTURE_2D,zt,Se,bt[0].width,bt[0].height);for(let Tt=0,yt=bt.length;Tt<yt;Tt++)Be=bt[Tt],_e?St&&s.texSubImage2D(n.TEXTURE_2D,Tt,0,0,Be.width,Be.height,_t,hn,Be.data):s.texImage2D(n.TEXTURE_2D,Tt,Se,Be.width,Be.height,0,_t,hn,Be.data);X.generateMipmaps=!1}else _e?(Le&&s.texStorage2D(n.TEXTURE_2D,zt,Se,wt.width,wt.height),St&&dt(X,wt,_t,hn)):s.texImage2D(n.TEXTURE_2D,0,Se,wt.width,wt.height,0,_t,hn,wt.data);else if(X.isCompressedTexture)if(X.isCompressedArrayTexture){_e&&Le&&s.texStorage3D(n.TEXTURE_2D_ARRAY,zt,Se,bt[0].width,bt[0].height,wt.depth);for(let Tt=0,yt=bt.length;Tt<yt;Tt++)if(Be=bt[Tt],X.format!==xa)if(_t!==null)if(_e){if(St)if(X.layerUpdates.size>0){const Ht=J5(Be.width,Be.height,X.format,X.type);for(const gn of X.layerUpdates){const as=Be.data.subarray(gn*Ht/Be.data.BYTES_PER_ELEMENT,(gn+1)*Ht/Be.data.BYTES_PER_ELEMENT);s.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Tt,0,0,gn,Be.width,Be.height,1,_t,as)}X.clearLayerUpdates()}else s.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Tt,0,0,0,Be.width,Be.height,wt.depth,_t,Be.data)}else s.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Tt,Se,Be.width,Be.height,wt.depth,0,Be.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else _e?St&&s.texSubImage3D(n.TEXTURE_2D_ARRAY,Tt,0,0,0,Be.width,Be.height,wt.depth,_t,hn,Be.data):s.texImage3D(n.TEXTURE_2D_ARRAY,Tt,Se,Be.width,Be.height,wt.depth,0,_t,hn,Be.data)}else{_e&&Le&&s.texStorage2D(n.TEXTURE_2D,zt,Se,bt[0].width,bt[0].height);for(let Tt=0,yt=bt.length;Tt<yt;Tt++)Be=bt[Tt],X.format!==xa?_t!==null?_e?St&&s.compressedTexSubImage2D(n.TEXTURE_2D,Tt,0,0,Be.width,Be.height,_t,Be.data):s.compressedTexImage2D(n.TEXTURE_2D,Tt,Se,Be.width,Be.height,0,Be.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):_e?St&&s.texSubImage2D(n.TEXTURE_2D,Tt,0,0,Be.width,Be.height,_t,hn,Be.data):s.texImage2D(n.TEXTURE_2D,Tt,Se,Be.width,Be.height,0,_t,hn,Be.data)}else if(X.isDataArrayTexture)if(_e){if(Le&&s.texStorage3D(n.TEXTURE_2D_ARRAY,zt,Se,wt.width,wt.height,wt.depth),St)if(X.layerUpdates.size>0){const Tt=J5(wt.width,wt.height,X.format,X.type);for(const yt of X.layerUpdates){const Ht=wt.data.subarray(yt*Tt/wt.data.BYTES_PER_ELEMENT,(yt+1)*Tt/wt.data.BYTES_PER_ELEMENT);s.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,yt,wt.width,wt.height,1,_t,hn,Ht)}X.clearLayerUpdates()}else s.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,wt.width,wt.height,wt.depth,_t,hn,wt.data)}else s.texImage3D(n.TEXTURE_2D_ARRAY,0,Se,wt.width,wt.height,wt.depth,0,_t,hn,wt.data);else if(X.isData3DTexture)_e?(Le&&s.texStorage3D(n.TEXTURE_3D,zt,Se,wt.width,wt.height,wt.depth),St&&s.texSubImage3D(n.TEXTURE_3D,0,0,0,0,wt.width,wt.height,wt.depth,_t,hn,wt.data)):s.texImage3D(n.TEXTURE_3D,0,Se,wt.width,wt.height,wt.depth,0,_t,hn,wt.data);else if(X.isFramebufferTexture){if(Le)if(_e)s.texStorage2D(n.TEXTURE_2D,zt,Se,wt.width,wt.height);else{let Tt=wt.width,yt=wt.height;for(let Ht=0;Ht<zt;Ht++)s.texImage2D(n.TEXTURE_2D,Ht,Se,Tt,yt,0,_t,hn,null),Tt>>=1,yt>>=1}}else if(bt.length>0){if(_e&&Le){const Tt=Ie(bt[0]);s.texStorage2D(n.TEXTURE_2D,zt,Se,Tt.width,Tt.height)}for(let Tt=0,yt=bt.length;Tt<yt;Tt++)Be=bt[Tt],_e?St&&s.texSubImage2D(n.TEXTURE_2D,Tt,0,0,_t,hn,Be):s.texImage2D(n.TEXTURE_2D,Tt,Se,_t,hn,Be);X.generateMipmaps=!1}else if(_e){if(Le){const Tt=Ie(wt);s.texStorage2D(n.TEXTURE_2D,zt,Se,Tt.width,Tt.height)}St&&s.texSubImage2D(n.TEXTURE_2D,0,0,0,_t,hn,wt)}else s.texImage2D(n.TEXTURE_2D,0,Se,_t,hn,wt);v(X)&&b(Re),Ft.__version=We.version,X.onUpdate&&X.onUpdate(X)}ne.__version=X.version}function Ce(ne,X,je){if(X.image.length!==6)return;const Re=Oe(ne,X),nt=X.source;s.bindTexture(n.TEXTURE_CUBE_MAP,ne.__webglTexture,n.TEXTURE0+je);const We=r.get(nt);if(nt.version!==We.__version||Re===!0){s.activeTexture(n.TEXTURE0+je);const Ft=Ps.getPrimaries(Ps.workingColorSpace),Et=X.colorSpace===ah?null:Ps.getPrimaries(X.colorSpace),Ut=X.colorSpace===ah||Ft===Et?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,X.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,X.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,X.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ut);const Qt=X.isCompressedTexture||X.image[0].isCompressedTexture,wt=X.image[0]&&X.image[0].isDataTexture,_t=[];for(let yt=0;yt<6;yt++)!Qt&&!wt?_t[yt]=j(X.image[yt],!0,a.maxCubemapSize):_t[yt]=wt?X.image[yt].image:X.image[yt],_t[yt]=Ee(X,_t[yt]);const hn=_t[0],Se=i.convert(X.format,X.colorSpace),Be=i.convert(X.type),bt=S(X.internalFormat,Se,Be,X.colorSpace),_e=X.isVideoTexture!==!0,Le=We.__version===void 0||Re===!0,St=nt.dataReady;let zt=E(X,hn);me(n.TEXTURE_CUBE_MAP,X);let Tt;if(Qt){_e&&Le&&s.texStorage2D(n.TEXTURE_CUBE_MAP,zt,bt,hn.width,hn.height);for(let yt=0;yt<6;yt++){Tt=_t[yt].mipmaps;for(let Ht=0;Ht<Tt.length;Ht++){const gn=Tt[Ht];X.format!==xa?Se!==null?_e?St&&s.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+yt,Ht,0,0,gn.width,gn.height,Se,gn.data):s.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+yt,Ht,bt,gn.width,gn.height,0,gn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):_e?St&&s.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+yt,Ht,0,0,gn.width,gn.height,Se,Be,gn.data):s.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+yt,Ht,bt,gn.width,gn.height,0,Se,Be,gn.data)}}}else{if(Tt=X.mipmaps,_e&&Le){Tt.length>0&&zt++;const yt=Ie(_t[0]);s.texStorage2D(n.TEXTURE_CUBE_MAP,zt,bt,yt.width,yt.height)}for(let yt=0;yt<6;yt++)if(wt){_e?St&&s.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+yt,0,0,0,_t[yt].width,_t[yt].height,Se,Be,_t[yt].data):s.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+yt,0,bt,_t[yt].width,_t[yt].height,0,Se,Be,_t[yt].data);for(let Ht=0;Ht<Tt.length;Ht++){const as=Tt[Ht].image[yt].image;_e?St&&s.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+yt,Ht+1,0,0,as.width,as.height,Se,Be,as.data):s.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+yt,Ht+1,bt,as.width,as.height,0,Se,Be,as.data)}}else{_e?St&&s.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+yt,0,0,0,Se,Be,_t[yt]):s.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+yt,0,bt,Se,Be,_t[yt]);for(let Ht=0;Ht<Tt.length;Ht++){const gn=Tt[Ht];_e?St&&s.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+yt,Ht+1,0,0,Se,Be,gn.image[yt]):s.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+yt,Ht+1,bt,Se,Be,gn.image[yt])}}}v(X)&&b(n.TEXTURE_CUBE_MAP),We.__version=nt.version,X.onUpdate&&X.onUpdate(X)}ne.__version=X.version}function Ue(ne,X,je,Re,nt,We){const Ft=i.convert(je.format,je.colorSpace),Et=i.convert(je.type),Ut=S(je.internalFormat,Ft,Et,je.colorSpace),Qt=r.get(X),wt=r.get(je);if(wt.__renderTarget=X,!Qt.__hasExternalTextures){const _t=Math.max(1,X.width>>We),hn=Math.max(1,X.height>>We);nt===n.TEXTURE_3D||nt===n.TEXTURE_2D_ARRAY?s.texImage3D(nt,We,Ut,_t,hn,X.depth,0,Ft,Et,null):s.texImage2D(nt,We,Ut,_t,hn,0,Ft,Et,null)}s.bindFramebuffer(n.FRAMEBUFFER,ne),xt(X)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Re,nt,wt.__webglTexture,0,At(X)):(nt===n.TEXTURE_2D||nt>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&nt<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Re,nt,wt.__webglTexture,We),s.bindFramebuffer(n.FRAMEBUFFER,null)}function De(ne,X,je){if(n.bindRenderbuffer(n.RENDERBUFFER,ne),X.depthBuffer){const Re=X.depthTexture,nt=Re&&Re.isDepthTexture?Re.type:null,We=w(X.stencilBuffer,nt),Ft=X.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Et=At(X);xt(X)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Et,We,X.width,X.height):je?n.renderbufferStorageMultisample(n.RENDERBUFFER,Et,We,X.width,X.height):n.renderbufferStorage(n.RENDERBUFFER,We,X.width,X.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ft,n.RENDERBUFFER,ne)}else{const Re=X.textures;for(let nt=0;nt<Re.length;nt++){const We=Re[nt],Ft=i.convert(We.format,We.colorSpace),Et=i.convert(We.type),Ut=S(We.internalFormat,Ft,Et,We.colorSpace),Qt=At(X);je&&xt(X)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Qt,Ut,X.width,X.height):xt(X)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Qt,Ut,X.width,X.height):n.renderbufferStorage(n.RENDERBUFFER,Ut,X.width,X.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function qe(ne,X){if(X&&X.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(s.bindFramebuffer(n.FRAMEBUFFER,ne),!(X.depthTexture&&X.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Re=r.get(X.depthTexture);Re.__renderTarget=X,(!Re.__webglTexture||X.depthTexture.image.width!==X.width||X.depthTexture.image.height!==X.height)&&(X.depthTexture.image.width=X.width,X.depthTexture.image.height=X.height,X.depthTexture.needsUpdate=!0),J(X.depthTexture,0);const nt=Re.__webglTexture,We=At(X);if(X.depthTexture.format===U0)xt(X)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,nt,0,We):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,nt,0);else if(X.depthTexture.format===z0)xt(X)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,nt,0,We):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,nt,0);else throw new Error("Unknown depthTexture format")}function rt(ne){const X=r.get(ne),je=ne.isWebGLCubeRenderTarget===!0;if(X.__boundDepthTexture!==ne.depthTexture){const Re=ne.depthTexture;if(X.__depthDisposeCallback&&X.__depthDisposeCallback(),Re){const nt=()=>{delete X.__boundDepthTexture,delete X.__depthDisposeCallback,Re.removeEventListener("dispose",nt)};Re.addEventListener("dispose",nt),X.__depthDisposeCallback=nt}X.__boundDepthTexture=Re}if(ne.depthTexture&&!X.__autoAllocateDepthBuffer){if(je)throw new Error("target.depthTexture not supported in Cube render targets");const Re=ne.texture.mipmaps;Re&&Re.length>0?qe(X.__webglFramebuffer[0],ne):qe(X.__webglFramebuffer,ne)}else if(je){X.__webglDepthbuffer=[];for(let Re=0;Re<6;Re++)if(s.bindFramebuffer(n.FRAMEBUFFER,X.__webglFramebuffer[Re]),X.__webglDepthbuffer[Re]===void 0)X.__webglDepthbuffer[Re]=n.createRenderbuffer(),De(X.__webglDepthbuffer[Re],ne,!1);else{const nt=ne.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,We=X.__webglDepthbuffer[Re];n.bindRenderbuffer(n.RENDERBUFFER,We),n.framebufferRenderbuffer(n.FRAMEBUFFER,nt,n.RENDERBUFFER,We)}}else{const Re=ne.texture.mipmaps;if(Re&&Re.length>0?s.bindFramebuffer(n.FRAMEBUFFER,X.__webglFramebuffer[0]):s.bindFramebuffer(n.FRAMEBUFFER,X.__webglFramebuffer),X.__webglDepthbuffer===void 0)X.__webglDepthbuffer=n.createRenderbuffer(),De(X.__webglDepthbuffer,ne,!1);else{const nt=ne.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,We=X.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,We),n.framebufferRenderbuffer(n.FRAMEBUFFER,nt,n.RENDERBUFFER,We)}}s.bindFramebuffer(n.FRAMEBUFFER,null)}function $e(ne,X,je){const Re=r.get(ne);X!==void 0&&Ue(Re.__webglFramebuffer,ne,ne.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),je!==void 0&&rt(ne)}function pe(ne){const X=ne.texture,je=r.get(ne),Re=r.get(X);ne.addEventListener("dispose",P);const nt=ne.textures,We=ne.isWebGLCubeRenderTarget===!0,Ft=nt.length>1;if(Ft||(Re.__webglTexture===void 0&&(Re.__webglTexture=n.createTexture()),Re.__version=X.version,o.memory.textures++),We){je.__webglFramebuffer=[];for(let Et=0;Et<6;Et++)if(X.mipmaps&&X.mipmaps.length>0){je.__webglFramebuffer[Et]=[];for(let Ut=0;Ut<X.mipmaps.length;Ut++)je.__webglFramebuffer[Et][Ut]=n.createFramebuffer()}else je.__webglFramebuffer[Et]=n.createFramebuffer()}else{if(X.mipmaps&&X.mipmaps.length>0){je.__webglFramebuffer=[];for(let Et=0;Et<X.mipmaps.length;Et++)je.__webglFramebuffer[Et]=n.createFramebuffer()}else je.__webglFramebuffer=n.createFramebuffer();if(Ft)for(let Et=0,Ut=nt.length;Et<Ut;Et++){const Qt=r.get(nt[Et]);Qt.__webglTexture===void 0&&(Qt.__webglTexture=n.createTexture(),o.memory.textures++)}if(ne.samples>0&&xt(ne)===!1){je.__webglMultisampledFramebuffer=n.createFramebuffer(),je.__webglColorRenderbuffer=[],s.bindFramebuffer(n.FRAMEBUFFER,je.__webglMultisampledFramebuffer);for(let Et=0;Et<nt.length;Et++){const Ut=nt[Et];je.__webglColorRenderbuffer[Et]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,je.__webglColorRenderbuffer[Et]);const Qt=i.convert(Ut.format,Ut.colorSpace),wt=i.convert(Ut.type),_t=S(Ut.internalFormat,Qt,wt,Ut.colorSpace,ne.isXRRenderTarget===!0),hn=At(ne);n.renderbufferStorageMultisample(n.RENDERBUFFER,hn,_t,ne.width,ne.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Et,n.RENDERBUFFER,je.__webglColorRenderbuffer[Et])}n.bindRenderbuffer(n.RENDERBUFFER,null),ne.depthBuffer&&(je.__webglDepthRenderbuffer=n.createRenderbuffer(),De(je.__webglDepthRenderbuffer,ne,!0)),s.bindFramebuffer(n.FRAMEBUFFER,null)}}if(We){s.bindTexture(n.TEXTURE_CUBE_MAP,Re.__webglTexture),me(n.TEXTURE_CUBE_MAP,X);for(let Et=0;Et<6;Et++)if(X.mipmaps&&X.mipmaps.length>0)for(let Ut=0;Ut<X.mipmaps.length;Ut++)Ue(je.__webglFramebuffer[Et][Ut],ne,X,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Et,Ut);else Ue(je.__webglFramebuffer[Et],ne,X,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Et,0);v(X)&&b(n.TEXTURE_CUBE_MAP),s.unbindTexture()}else if(Ft){for(let Et=0,Ut=nt.length;Et<Ut;Et++){const Qt=nt[Et],wt=r.get(Qt);let _t=n.TEXTURE_2D;(ne.isWebGL3DRenderTarget||ne.isWebGLArrayRenderTarget)&&(_t=ne.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),s.bindTexture(_t,wt.__webglTexture),me(_t,Qt),Ue(je.__webglFramebuffer,ne,Qt,n.COLOR_ATTACHMENT0+Et,_t,0),v(Qt)&&b(_t)}s.unbindTexture()}else{let Et=n.TEXTURE_2D;if((ne.isWebGL3DRenderTarget||ne.isWebGLArrayRenderTarget)&&(Et=ne.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),s.bindTexture(Et,Re.__webglTexture),me(Et,X),X.mipmaps&&X.mipmaps.length>0)for(let Ut=0;Ut<X.mipmaps.length;Ut++)Ue(je.__webglFramebuffer[Ut],ne,X,n.COLOR_ATTACHMENT0,Et,Ut);else Ue(je.__webglFramebuffer,ne,X,n.COLOR_ATTACHMENT0,Et,0);v(X)&&b(Et),s.unbindTexture()}ne.depthBuffer&&rt(ne)}function Ke(ne){const X=ne.textures;for(let je=0,Re=X.length;je<Re;je++){const nt=X[je];if(v(nt)){const We=A(ne),Ft=r.get(nt).__webglTexture;s.bindTexture(We,Ft),b(We),s.unbindTexture()}}}const et=[],st=[];function Qe(ne){if(ne.samples>0){if(xt(ne)===!1){const X=ne.textures,je=ne.width,Re=ne.height;let nt=n.COLOR_BUFFER_BIT;const We=ne.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ft=r.get(ne),Et=X.length>1;if(Et)for(let Qt=0;Qt<X.length;Qt++)s.bindFramebuffer(n.FRAMEBUFFER,Ft.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Qt,n.RENDERBUFFER,null),s.bindFramebuffer(n.FRAMEBUFFER,Ft.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Qt,n.TEXTURE_2D,null,0);s.bindFramebuffer(n.READ_FRAMEBUFFER,Ft.__webglMultisampledFramebuffer);const Ut=ne.texture.mipmaps;Ut&&Ut.length>0?s.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ft.__webglFramebuffer[0]):s.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ft.__webglFramebuffer);for(let Qt=0;Qt<X.length;Qt++){if(ne.resolveDepthBuffer&&(ne.depthBuffer&&(nt|=n.DEPTH_BUFFER_BIT),ne.stencilBuffer&&ne.resolveStencilBuffer&&(nt|=n.STENCIL_BUFFER_BIT)),Et){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Ft.__webglColorRenderbuffer[Qt]);const wt=r.get(X[Qt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,wt,0)}n.blitFramebuffer(0,0,je,Re,0,0,je,Re,nt,n.NEAREST),c===!0&&(et.length=0,st.length=0,et.push(n.COLOR_ATTACHMENT0+Qt),ne.depthBuffer&&ne.resolveDepthBuffer===!1&&(et.push(We),st.push(We),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,st)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,et))}if(s.bindFramebuffer(n.READ_FRAMEBUFFER,null),s.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Et)for(let Qt=0;Qt<X.length;Qt++){s.bindFramebuffer(n.FRAMEBUFFER,Ft.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Qt,n.RENDERBUFFER,Ft.__webglColorRenderbuffer[Qt]);const wt=r.get(X[Qt]).__webglTexture;s.bindFramebuffer(n.FRAMEBUFFER,Ft.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Qt,n.TEXTURE_2D,wt,0)}s.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ft.__webglMultisampledFramebuffer)}else if(ne.depthBuffer&&ne.resolveDepthBuffer===!1&&c){const X=ne.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[X])}}}function At(ne){return Math.min(a.maxSamples,ne.samples)}function xt(ne){const X=r.get(ne);return ne.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&X.__useRenderToTexture!==!1}function ue(ne){const X=o.render.frame;u.get(ne)!==X&&(u.set(ne,X),ne.update())}function Ee(ne,X){const je=ne.colorSpace,Re=ne.format,nt=ne.type;return ne.isCompressedTexture===!0||ne.isVideoTexture===!0||je!==ld&&je!==ah&&(Ps.getTransfer(je)===rr?(Re!==xa||nt!==_o)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",je)),X}function Ie(ne){return typeof HTMLImageElement<"u"&&ne instanceof HTMLImageElement?(d.width=ne.naturalWidth||ne.width,d.height=ne.naturalHeight||ne.height):typeof VideoFrame<"u"&&ne instanceof VideoFrame?(d.width=ne.displayWidth,d.height=ne.displayHeight):(d.width=ne.width,d.height=ne.height),d}this.allocateTextureUnit=B,this.resetTextureUnits=H,this.setTexture2D=J,this.setTexture2DArray=W,this.setTexture3D=ee,this.setTextureCube=G,this.rebindTextures=$e,this.setupRenderTarget=pe,this.updateRenderTargetMipmap=Ke,this.updateMultisampleRenderTarget=Qe,this.setupDepthRenderbuffer=rt,this.setupFrameBufferTexture=Ue,this.useMultisampledRTT=xt}function Ute(n,e){function s(r,a=ah){let i;const o=Ps.getTransfer(a);if(r===_o)return n.UNSIGNED_BYTE;if(r===aT)return n.UNSIGNED_SHORT_4_4_4_4;if(r===iT)return n.UNSIGNED_SHORT_5_5_5_1;if(r===gD)return n.UNSIGNED_INT_5_9_9_9_REV;if(r===vD)return n.UNSIGNED_INT_10F_11F_11F_REV;if(r===sT)return n.BYTE;if(r===rT)return n.SHORT;if(r===L0)return n.UNSIGNED_SHORT;if(r===fw)return n.INT;if(r===du)return n.UNSIGNED_INT;if(r===Qr)return n.FLOAT;if(r===mi)return n.HALF_FLOAT;if(r===yD)return n.ALPHA;if(r===bD)return n.RGB;if(r===xa)return n.RGBA;if(r===U0)return n.DEPTH_COMPONENT;if(r===z0)return n.DEPTH_STENCIL;if(r===mw)return n.RED;if(r===pw)return n.RED_INTEGER;if(r===jD)return n.RG;if(r===oT)return n.RG_INTEGER;if(r===lT)return n.RGBA_INTEGER;if(r===Aj||r===Cj||r===Tj||r===Ej)if(o===rr)if(i=e.get("WEBGL_compressed_texture_s3tc_srgb"),i!==null){if(r===Aj)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===Cj)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===Tj)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===Ej)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(i=e.get("WEBGL_compressed_texture_s3tc"),i!==null){if(r===Aj)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===Cj)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===Tj)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===Ej)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===Y2||r===Q2||r===J2||r===eA)if(i=e.get("WEBGL_compressed_texture_pvrtc"),i!==null){if(r===Y2)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===Q2)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===J2)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===eA)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===tA||r===nA||r===sA)if(i=e.get("WEBGL_compressed_texture_etc"),i!==null){if(r===tA||r===nA)return o===rr?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(r===sA)return o===rr?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===rA||r===aA||r===iA||r===oA||r===lA||r===cA||r===dA||r===uA||r===hA||r===fA||r===mA||r===pA||r===xA||r===gA)if(i=e.get("WEBGL_compressed_texture_astc"),i!==null){if(r===rA)return o===rr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===aA)return o===rr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===iA)return o===rr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===oA)return o===rr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===lA)return o===rr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===cA)return o===rr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===dA)return o===rr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===uA)return o===rr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===hA)return o===rr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===fA)return o===rr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===mA)return o===rr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===pA)return o===rr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===xA)return o===rr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===gA)return o===rr?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===vA||r===yA||r===bA)if(i=e.get("EXT_texture_compression_bptc"),i!==null){if(r===vA)return o===rr?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===yA)return i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===bA)return i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===jA||r===wA||r===NA||r===SA)if(i=e.get("EXT_texture_compression_rgtc"),i!==null){if(r===jA)return i.COMPRESSED_RED_RGTC1_EXT;if(r===wA)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===NA)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===SA)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===F0?n.UNSIGNED_INT_24_8:n[r]!==void 0?n[r]:null}return{convert:s}}const xIe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,gIe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class vIe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,s){if(this.texture===null){const r=new kD(e.texture);(e.depthNear!==s.depthNear||e.depthFar!==s.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const s=e.cameras[0].viewport,r=new Ao({vertexShader:xIe,fragmentShader:gIe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:s.z},depthHeight:{value:s.w}}});this.mesh=new qr(new cm(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class yIe extends xu{constructor(e,s){super();const r=this;let a=null,i=1,o=null,l="local-floor",c=1,d=null,u=null,h=null,m=null,y=null,N=null;const j=typeof XRWebGLBinding<"u",v=new vIe,b={},A=s.getContextAttributes();let S=null,w=null;const E=[],T=[],P=new mt;let k=null;const I=new Zr;I.viewport=new js;const L=new Zr;L.viewport=new js;const U=[I,L],H=new Tte;let B=null,K=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(be){let Ce=E[be];return Ce===void 0&&(Ce=new h_,E[be]=Ce),Ce.getTargetRaySpace()},this.getControllerGrip=function(be){let Ce=E[be];return Ce===void 0&&(Ce=new h_,E[be]=Ce),Ce.getGripSpace()},this.getHand=function(be){let Ce=E[be];return Ce===void 0&&(Ce=new h_,E[be]=Ce),Ce.getHandSpace()};function J(be){const Ce=T.indexOf(be.inputSource);if(Ce===-1)return;const Ue=E[Ce];Ue!==void 0&&(Ue.update(be.inputSource,be.frame,d||o),Ue.dispatchEvent({type:be.type,data:be.inputSource}))}function W(){a.removeEventListener("select",J),a.removeEventListener("selectstart",J),a.removeEventListener("selectend",J),a.removeEventListener("squeeze",J),a.removeEventListener("squeezestart",J),a.removeEventListener("squeezeend",J),a.removeEventListener("end",W),a.removeEventListener("inputsourceschange",ee);for(let be=0;be<E.length;be++){const Ce=T[be];Ce!==null&&(T[be]=null,E[be].disconnect(Ce))}B=null,K=null,v.reset();for(const be in b)delete b[be];e.setRenderTarget(S),y=null,m=null,h=null,a=null,w=null,dt.stop(),r.isPresenting=!1,e.setPixelRatio(k),e.setSize(P.width,P.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(be){i=be,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(be){l=be,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return d||o},this.setReferenceSpace=function(be){d=be},this.getBaseLayer=function(){return m!==null?m:y},this.getBinding=function(){return h===null&&j&&(h=new XRWebGLBinding(a,s)),h},this.getFrame=function(){return N},this.getSession=function(){return a},this.setSession=async function(be){if(a=be,a!==null){if(S=e.getRenderTarget(),a.addEventListener("select",J),a.addEventListener("selectstart",J),a.addEventListener("selectend",J),a.addEventListener("squeeze",J),a.addEventListener("squeezestart",J),a.addEventListener("squeezeend",J),a.addEventListener("end",W),a.addEventListener("inputsourceschange",ee),A.xrCompatible!==!0&&await s.makeXRCompatible(),k=e.getPixelRatio(),e.getSize(P),j&&"createProjectionLayer"in XRWebGLBinding.prototype){let Ue=null,De=null,qe=null;A.depth&&(qe=A.stencil?s.DEPTH24_STENCIL8:s.DEPTH_COMPONENT24,Ue=A.stencil?z0:U0,De=A.stencil?F0:du);const rt={colorFormat:s.RGBA8,depthFormat:qe,scaleFactor:i};h=this.getBinding(),m=h.createProjectionLayer(rt),a.updateRenderState({layers:[m]}),e.setPixelRatio(1),e.setSize(m.textureWidth,m.textureHeight,!1),w=new ic(m.textureWidth,m.textureHeight,{format:xa,type:_o,depthTexture:new OD(m.textureWidth,m.textureHeight,De,void 0,void 0,void 0,void 0,void 0,void 0,Ue),stencilBuffer:A.stencil,colorSpace:e.outputColorSpace,samples:A.antialias?4:0,resolveDepthBuffer:m.ignoreDepthValues===!1,resolveStencilBuffer:m.ignoreDepthValues===!1})}else{const Ue={antialias:A.antialias,alpha:!0,depth:A.depth,stencil:A.stencil,framebufferScaleFactor:i};y=new XRWebGLLayer(a,s,Ue),a.updateRenderState({baseLayer:y}),e.setPixelRatio(1),e.setSize(y.framebufferWidth,y.framebufferHeight,!1),w=new ic(y.framebufferWidth,y.framebufferHeight,{format:xa,type:_o,colorSpace:e.outputColorSpace,stencilBuffer:A.stencil,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1})}w.isXRRenderTarget=!0,this.setFoveation(c),d=null,o=await a.requestReferenceSpace(l),dt.setContext(a),dt.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(a!==null)return a.environmentBlendMode},this.getDepthTexture=function(){return v.getDepthTexture()};function ee(be){for(let Ce=0;Ce<be.removed.length;Ce++){const Ue=be.removed[Ce],De=T.indexOf(Ue);De>=0&&(T[De]=null,E[De].disconnect(Ue))}for(let Ce=0;Ce<be.added.length;Ce++){const Ue=be.added[Ce];let De=T.indexOf(Ue);if(De===-1){for(let rt=0;rt<E.length;rt++)if(rt>=T.length){T.push(Ue),De=rt;break}else if(T[rt]===null){T[rt]=Ue,De=rt;break}if(De===-1)break}const qe=E[De];qe&&qe.connect(Ue)}}const G=new he,ae=new he;function fe(be,Ce,Ue){G.setFromMatrixPosition(Ce.matrixWorld),ae.setFromMatrixPosition(Ue.matrixWorld);const De=G.distanceTo(ae),qe=Ce.projectionMatrix.elements,rt=Ue.projectionMatrix.elements,$e=qe[14]/(qe[10]-1),pe=qe[14]/(qe[10]+1),Ke=(qe[9]+1)/qe[5],et=(qe[9]-1)/qe[5],st=(qe[8]-1)/qe[0],Qe=(rt[8]+1)/rt[0],At=$e*st,xt=$e*Qe,ue=De/(-st+Qe),Ee=ue*-st;if(Ce.matrixWorld.decompose(be.position,be.quaternion,be.scale),be.translateX(Ee),be.translateZ(ue),be.matrixWorld.compose(be.position,be.quaternion,be.scale),be.matrixWorldInverse.copy(be.matrixWorld).invert(),qe[10]===-1)be.projectionMatrix.copy(Ce.projectionMatrix),be.projectionMatrixInverse.copy(Ce.projectionMatrixInverse);else{const Ie=$e+ue,ne=pe+ue,X=At-Ee,je=xt+(De-Ee),Re=Ke*pe/ne*Ie,nt=et*pe/ne*Ie;be.projectionMatrix.makePerspective(X,je,Re,nt,Ie,ne),be.projectionMatrixInverse.copy(be.projectionMatrix).invert()}}function se(be,Ce){Ce===null?be.matrixWorld.copy(be.matrix):be.matrixWorld.multiplyMatrices(Ce.matrixWorld,be.matrix),be.matrixWorldInverse.copy(be.matrixWorld).invert()}this.updateCamera=function(be){if(a===null)return;let Ce=be.near,Ue=be.far;v.texture!==null&&(v.depthNear>0&&(Ce=v.depthNear),v.depthFar>0&&(Ue=v.depthFar)),H.near=L.near=I.near=Ce,H.far=L.far=I.far=Ue,(B!==H.near||K!==H.far)&&(a.updateRenderState({depthNear:H.near,depthFar:H.far}),B=H.near,K=H.far),H.layers.mask=be.layers.mask|6,I.layers.mask=H.layers.mask&3,L.layers.mask=H.layers.mask&5;const De=be.parent,qe=H.cameras;se(H,De);for(let rt=0;rt<qe.length;rt++)se(qe[rt],De);qe.length===2?fe(H,I,L):H.projectionMatrix.copy(I.projectionMatrix),me(be,H,De)};function me(be,Ce,Ue){Ue===null?be.matrix.copy(Ce.matrixWorld):(be.matrix.copy(Ue.matrixWorld),be.matrix.invert(),be.matrix.multiply(Ce.matrixWorld)),be.matrix.decompose(be.position,be.quaternion,be.scale),be.updateMatrixWorld(!0),be.projectionMatrix.copy(Ce.projectionMatrix),be.projectionMatrixInverse.copy(Ce.projectionMatrixInverse),be.isPerspectiveCamera&&(be.fov=V0*2*Math.atan(1/be.projectionMatrix.elements[5]),be.zoom=1)}this.getCamera=function(){return H},this.getFoveation=function(){if(!(m===null&&y===null))return c},this.setFoveation=function(be){c=be,m!==null&&(m.fixedFoveation=be),y!==null&&y.fixedFoveation!==void 0&&(y.fixedFoveation=be)},this.hasDepthSensing=function(){return v.texture!==null},this.getDepthSensingMesh=function(){return v.getMesh(H)},this.getCameraTexture=function(be){return b[be]};let Oe=null;function Ye(be,Ce){if(u=Ce.getViewerPose(d||o),N=Ce,u!==null){const Ue=u.views;y!==null&&(e.setRenderTargetFramebuffer(w,y.framebuffer),e.setRenderTarget(w));let De=!1;Ue.length!==H.cameras.length&&(H.cameras.length=0,De=!0);for(let pe=0;pe<Ue.length;pe++){const Ke=Ue[pe];let et=null;if(y!==null)et=y.getViewport(Ke);else{const Qe=h.getViewSubImage(m,Ke);et=Qe.viewport,pe===0&&(e.setRenderTargetTextures(w,Qe.colorTexture,Qe.depthStencilTexture),e.setRenderTarget(w))}let st=U[pe];st===void 0&&(st=new Zr,st.layers.enable(pe),st.viewport=new js,U[pe]=st),st.matrix.fromArray(Ke.transform.matrix),st.matrix.decompose(st.position,st.quaternion,st.scale),st.projectionMatrix.fromArray(Ke.projectionMatrix),st.projectionMatrixInverse.copy(st.projectionMatrix).invert(),st.viewport.set(et.x,et.y,et.width,et.height),pe===0&&(H.matrix.copy(st.matrix),H.matrix.decompose(H.position,H.quaternion,H.scale)),De===!0&&H.cameras.push(st)}const qe=a.enabledFeatures;if(qe&&qe.includes("depth-sensing")&&a.depthUsage=="gpu-optimized"&&j){h=r.getBinding();const pe=h.getDepthInformation(Ue[0]);pe&&pe.isValid&&pe.texture&&v.init(pe,a.renderState)}if(qe&&qe.includes("camera-access")&&j){e.state.unbindTexture(),h=r.getBinding();for(let pe=0;pe<Ue.length;pe++){const Ke=Ue[pe].camera;if(Ke){let et=b[Ke];et||(et=new kD,b[Ke]=et);const st=h.getCameraImage(Ke);et.sourceTexture=st}}}}for(let Ue=0;Ue<E.length;Ue++){const De=T[Ue],qe=E[Ue];De!==null&&qe!==void 0&&qe.update(De,Ce,d||o)}Oe&&Oe(be,Ce),Ce.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:Ce}),N=null}const dt=new kte;dt.setAnimationLoop(Ye),this.setAnimationLoop=function(be){Oe=be},this.dispose=function(){}}}const _p=new Ml,bIe=new Kn;function jIe(n,e){function s(v,b){v.matrixAutoUpdate===!0&&v.updateMatrix(),b.value.copy(v.matrix)}function r(v,b){b.color.getRGB(v.fogColor.value,Lee(n)),b.isFog?(v.fogNear.value=b.near,v.fogFar.value=b.far):b.isFogExp2&&(v.fogDensity.value=b.density)}function a(v,b,A,S,w){b.isMeshBasicMaterial||b.isMeshLambertMaterial?i(v,b):b.isMeshToonMaterial?(i(v,b),h(v,b)):b.isMeshPhongMaterial?(i(v,b),u(v,b)):b.isMeshStandardMaterial?(i(v,b),m(v,b),b.isMeshPhysicalMaterial&&y(v,b,w)):b.isMeshMatcapMaterial?(i(v,b),N(v,b)):b.isMeshDepthMaterial?i(v,b):b.isMeshDistanceMaterial?(i(v,b),j(v,b)):b.isMeshNormalMaterial?i(v,b):b.isLineBasicMaterial?(o(v,b),b.isLineDashedMaterial&&l(v,b)):b.isPointsMaterial?c(v,b,A,S):b.isSpriteMaterial?d(v,b):b.isShadowMaterial?(v.color.value.copy(b.color),v.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}function i(v,b){v.opacity.value=b.opacity,b.color&&v.diffuse.value.copy(b.color),b.emissive&&v.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(v.map.value=b.map,s(b.map,v.mapTransform)),b.alphaMap&&(v.alphaMap.value=b.alphaMap,s(b.alphaMap,v.alphaMapTransform)),b.bumpMap&&(v.bumpMap.value=b.bumpMap,s(b.bumpMap,v.bumpMapTransform),v.bumpScale.value=b.bumpScale,b.side===So&&(v.bumpScale.value*=-1)),b.normalMap&&(v.normalMap.value=b.normalMap,s(b.normalMap,v.normalMapTransform),v.normalScale.value.copy(b.normalScale),b.side===So&&v.normalScale.value.negate()),b.displacementMap&&(v.displacementMap.value=b.displacementMap,s(b.displacementMap,v.displacementMapTransform),v.displacementScale.value=b.displacementScale,v.displacementBias.value=b.displacementBias),b.emissiveMap&&(v.emissiveMap.value=b.emissiveMap,s(b.emissiveMap,v.emissiveMapTransform)),b.specularMap&&(v.specularMap.value=b.specularMap,s(b.specularMap,v.specularMapTransform)),b.alphaTest>0&&(v.alphaTest.value=b.alphaTest);const A=e.get(b),S=A.envMap,w=A.envMapRotation;S&&(v.envMap.value=S,_p.copy(w),_p.x*=-1,_p.y*=-1,_p.z*=-1,S.isCubeTexture&&S.isRenderTargetTexture===!1&&(_p.y*=-1,_p.z*=-1),v.envMapRotation.value.setFromMatrix4(bIe.makeRotationFromEuler(_p)),v.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=b.reflectivity,v.ior.value=b.ior,v.refractionRatio.value=b.refractionRatio),b.lightMap&&(v.lightMap.value=b.lightMap,v.lightMapIntensity.value=b.lightMapIntensity,s(b.lightMap,v.lightMapTransform)),b.aoMap&&(v.aoMap.value=b.aoMap,v.aoMapIntensity.value=b.aoMapIntensity,s(b.aoMap,v.aoMapTransform))}function o(v,b){v.diffuse.value.copy(b.color),v.opacity.value=b.opacity,b.map&&(v.map.value=b.map,s(b.map,v.mapTransform))}function l(v,b){v.dashSize.value=b.dashSize,v.totalSize.value=b.dashSize+b.gapSize,v.scale.value=b.scale}function c(v,b,A,S){v.diffuse.value.copy(b.color),v.opacity.value=b.opacity,v.size.value=b.size*A,v.scale.value=S*.5,b.map&&(v.map.value=b.map,s(b.map,v.uvTransform)),b.alphaMap&&(v.alphaMap.value=b.alphaMap,s(b.alphaMap,v.alphaMapTransform)),b.alphaTest>0&&(v.alphaTest.value=b.alphaTest)}function d(v,b){v.diffuse.value.copy(b.color),v.opacity.value=b.opacity,v.rotation.value=b.rotation,b.map&&(v.map.value=b.map,s(b.map,v.mapTransform)),b.alphaMap&&(v.alphaMap.value=b.alphaMap,s(b.alphaMap,v.alphaMapTransform)),b.alphaTest>0&&(v.alphaTest.value=b.alphaTest)}function u(v,b){v.specular.value.copy(b.specular),v.shininess.value=Math.max(b.shininess,1e-4)}function h(v,b){b.gradientMap&&(v.gradientMap.value=b.gradientMap)}function m(v,b){v.metalness.value=b.metalness,b.metalnessMap&&(v.metalnessMap.value=b.metalnessMap,s(b.metalnessMap,v.metalnessMapTransform)),v.roughness.value=b.roughness,b.roughnessMap&&(v.roughnessMap.value=b.roughnessMap,s(b.roughnessMap,v.roughnessMapTransform)),b.envMap&&(v.envMapIntensity.value=b.envMapIntensity)}function y(v,b,A){v.ior.value=b.ior,b.sheen>0&&(v.sheenColor.value.copy(b.sheenColor).multiplyScalar(b.sheen),v.sheenRoughness.value=b.sheenRoughness,b.sheenColorMap&&(v.sheenColorMap.value=b.sheenColorMap,s(b.sheenColorMap,v.sheenColorMapTransform)),b.sheenRoughnessMap&&(v.sheenRoughnessMap.value=b.sheenRoughnessMap,s(b.sheenRoughnessMap,v.sheenRoughnessMapTransform))),b.clearcoat>0&&(v.clearcoat.value=b.clearcoat,v.clearcoatRoughness.value=b.clearcoatRoughness,b.clearcoatMap&&(v.clearcoatMap.value=b.clearcoatMap,s(b.clearcoatMap,v.clearcoatMapTransform)),b.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap,s(b.clearcoatRoughnessMap,v.clearcoatRoughnessMapTransform)),b.clearcoatNormalMap&&(v.clearcoatNormalMap.value=b.clearcoatNormalMap,s(b.clearcoatNormalMap,v.clearcoatNormalMapTransform),v.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),b.side===So&&v.clearcoatNormalScale.value.negate())),b.dispersion>0&&(v.dispersion.value=b.dispersion),b.iridescence>0&&(v.iridescence.value=b.iridescence,v.iridescenceIOR.value=b.iridescenceIOR,v.iridescenceThicknessMinimum.value=b.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=b.iridescenceThicknessRange[1],b.iridescenceMap&&(v.iridescenceMap.value=b.iridescenceMap,s(b.iridescenceMap,v.iridescenceMapTransform)),b.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=b.iridescenceThicknessMap,s(b.iridescenceThicknessMap,v.iridescenceThicknessMapTransform))),b.transmission>0&&(v.transmission.value=b.transmission,v.transmissionSamplerMap.value=A.texture,v.transmissionSamplerSize.value.set(A.width,A.height),b.transmissionMap&&(v.transmissionMap.value=b.transmissionMap,s(b.transmissionMap,v.transmissionMapTransform)),v.thickness.value=b.thickness,b.thicknessMap&&(v.thicknessMap.value=b.thicknessMap,s(b.thicknessMap,v.thicknessMapTransform)),v.attenuationDistance.value=b.attenuationDistance,v.attenuationColor.value.copy(b.attenuationColor)),b.anisotropy>0&&(v.anisotropyVector.value.set(b.anisotropy*Math.cos(b.anisotropyRotation),b.anisotropy*Math.sin(b.anisotropyRotation)),b.anisotropyMap&&(v.anisotropyMap.value=b.anisotropyMap,s(b.anisotropyMap,v.anisotropyMapTransform))),v.specularIntensity.value=b.specularIntensity,v.specularColor.value.copy(b.specularColor),b.specularColorMap&&(v.specularColorMap.value=b.specularColorMap,s(b.specularColorMap,v.specularColorMapTransform)),b.specularIntensityMap&&(v.specularIntensityMap.value=b.specularIntensityMap,s(b.specularIntensityMap,v.specularIntensityMapTransform))}function N(v,b){b.matcap&&(v.matcap.value=b.matcap)}function j(v,b){const A=e.get(b).light;v.referencePosition.value.setFromMatrixPosition(A.matrixWorld),v.nearDistance.value=A.shadow.camera.near,v.farDistance.value=A.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:a}}function wIe(n,e,s,r){let a={},i={},o=[];const l=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function c(A,S){const w=S.program;r.uniformBlockBinding(A,w)}function d(A,S){let w=a[A.id];w===void 0&&(N(A),w=u(A),a[A.id]=w,A.addEventListener("dispose",v));const E=S.program;r.updateUBOMapping(A,E);const T=e.render.frame;i[A.id]!==T&&(m(A),i[A.id]=T)}function u(A){const S=h();A.__bindingPointIndex=S;const w=n.createBuffer(),E=A.__size,T=A.usage;return n.bindBuffer(n.UNIFORM_BUFFER,w),n.bufferData(n.UNIFORM_BUFFER,E,T),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,S,w),w}function h(){for(let A=0;A<l;A++)if(o.indexOf(A)===-1)return o.push(A),A;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function m(A){const S=a[A.id],w=A.uniforms,E=A.__cache;n.bindBuffer(n.UNIFORM_BUFFER,S);for(let T=0,P=w.length;T<P;T++){const k=Array.isArray(w[T])?w[T]:[w[T]];for(let I=0,L=k.length;I<L;I++){const U=k[I];if(y(U,T,I,E)===!0){const H=U.__offset,B=Array.isArray(U.value)?U.value:[U.value];let K=0;for(let J=0;J<B.length;J++){const W=B[J],ee=j(W);typeof W=="number"||typeof W=="boolean"?(U.__data[0]=W,n.bufferSubData(n.UNIFORM_BUFFER,H+K,U.__data)):W.isMatrix3?(U.__data[0]=W.elements[0],U.__data[1]=W.elements[1],U.__data[2]=W.elements[2],U.__data[3]=0,U.__data[4]=W.elements[3],U.__data[5]=W.elements[4],U.__data[6]=W.elements[5],U.__data[7]=0,U.__data[8]=W.elements[6],U.__data[9]=W.elements[7],U.__data[10]=W.elements[8],U.__data[11]=0):(W.toArray(U.__data,K),K+=ee.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,H,U.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function y(A,S,w,E){const T=A.value,P=S+"_"+w;if(E[P]===void 0)return typeof T=="number"||typeof T=="boolean"?E[P]=T:E[P]=T.clone(),!0;{const k=E[P];if(typeof T=="number"||typeof T=="boolean"){if(k!==T)return E[P]=T,!0}else if(k.equals(T)===!1)return k.copy(T),!0}return!1}function N(A){const S=A.uniforms;let w=0;const E=16;for(let P=0,k=S.length;P<k;P++){const I=Array.isArray(S[P])?S[P]:[S[P]];for(let L=0,U=I.length;L<U;L++){const H=I[L],B=Array.isArray(H.value)?H.value:[H.value];for(let K=0,J=B.length;K<J;K++){const W=B[K],ee=j(W),G=w%E,ae=G%ee.boundary,fe=G+ae;w+=ae,fe!==0&&E-fe<ee.storage&&(w+=E-fe),H.__data=new Float32Array(ee.storage/Float32Array.BYTES_PER_ELEMENT),H.__offset=w,w+=ee.storage}}}const T=w%E;return T>0&&(w+=E-T),A.__size=w,A.__cache={},this}function j(A){const S={boundary:0,storage:0};return typeof A=="number"||typeof A=="boolean"?(S.boundary=4,S.storage=4):A.isVector2?(S.boundary=8,S.storage=8):A.isVector3||A.isColor?(S.boundary=16,S.storage=12):A.isVector4?(S.boundary=16,S.storage=16):A.isMatrix3?(S.boundary=48,S.storage=48):A.isMatrix4?(S.boundary=64,S.storage=64):A.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",A),S}function v(A){const S=A.target;S.removeEventListener("dispose",v);const w=o.indexOf(S.__bindingPointIndex);o.splice(w,1),n.deleteBuffer(a[S.id]),delete a[S.id],delete i[S.id]}function b(){for(const A in a)n.deleteBuffer(a[A]);o=[],a={},i={}}return{bind:c,update:d,dispose:b}}class iL{constructor(e={}){const{canvas:s=kee(),context:r=null,depth:a=!0,stencil:i=!1,alpha:o=!1,antialias:l=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:d=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:h=!1,reversedDepthBuffer:m=!1}=e;this.isWebGLRenderer=!0;let y;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");y=r.getContextAttributes().alpha}else y=o;const N=new Uint32Array(4),j=new Int32Array(4);let v=null,b=null;const A=[],S=[];this.domElement=s,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=su,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const w=this;let E=!1;this._outputColorSpace=Mi;let T=0,P=0,k=null,I=-1,L=null;const U=new js,H=new js;let B=null;const K=new nn(0);let J=0,W=s.width,ee=s.height,G=1,ae=null,fe=null;const se=new js(0,0,W,ee),me=new js(0,0,W,ee);let Oe=!1;const Ye=new my;let dt=!1,be=!1;const Ce=new Kn,Ue=new he,De=new js,qe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let rt=!1;function $e(){return k===null?G:1}let pe=r;function Ke(Y,ye){return s.getContext(Y,ye)}try{const Y={alpha:!0,depth:a,stencil:i,antialias:l,premultipliedAlpha:c,preserveDrawingBuffer:d,powerPreference:u,failIfMajorPerformanceCaveat:h};if("setAttribute"in s&&s.setAttribute("data-engine",`three.js r${uw}`),s.addEventListener("webglcontextlost",St,!1),s.addEventListener("webglcontextrestored",zt,!1),s.addEventListener("webglcontextcreationerror",Tt,!1),pe===null){const ye="webgl2";if(pe=Ke(ye,Y),pe===null)throw Ke(ye)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Y){throw console.error("THREE.WebGLRenderer: "+Y.message),Y}let et,st,Qe,At,xt,ue,Ee,Ie,ne,X,je,Re,nt,We,Ft,Et,Ut,Qt,wt,_t,hn,Se,Be,bt;function _e(){et=new k5e(pe),et.init(),Se=new Ute(pe,et),st=new C5e(pe,et,e,Se),Qe=new mIe(pe,et),st.reversedDepthBuffer&&m&&Qe.buffers.depth.setReversed(!0),At=new L5e(pe),xt=new tIe,ue=new pIe(pe,et,Qe,xt,st,Se,At),Ee=new E5e(w),Ie=new O5e(w),ne=new HRe(pe),Be=new _5e(pe,ne),X=new I5e(pe,ne,At,Be),je=new U5e(pe,X,ne,At),wt=new F5e(pe,st,ue),Et=new T5e(xt),Re=new eIe(w,Ee,Ie,et,st,Be,Et),nt=new jIe(w,xt),We=new sIe,Ft=new cIe(et),Qt=new S5e(w,Ee,Ie,Qe,je,y,c),Ut=new hIe(w,je,st),bt=new wIe(pe,At,st,Qe),_t=new A5e(pe,et,At),hn=new D5e(pe,et,At),At.programs=Re.programs,w.capabilities=st,w.extensions=et,w.properties=xt,w.renderLists=We,w.shadowMap=Ut,w.state=Qe,w.info=At}_e();const Le=new yIe(w,pe);this.xr=Le,this.getContext=function(){return pe},this.getContextAttributes=function(){return pe.getContextAttributes()},this.forceContextLoss=function(){const Y=et.get("WEBGL_lose_context");Y&&Y.loseContext()},this.forceContextRestore=function(){const Y=et.get("WEBGL_lose_context");Y&&Y.restoreContext()},this.getPixelRatio=function(){return G},this.setPixelRatio=function(Y){Y!==void 0&&(G=Y,this.setSize(W,ee,!1))},this.getSize=function(Y){return Y.set(W,ee)},this.setSize=function(Y,ye,Ne=!0){if(Le.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}W=Y,ee=ye,s.width=Math.floor(Y*G),s.height=Math.floor(ye*G),Ne===!0&&(s.style.width=Y+"px",s.style.height=ye+"px"),this.setViewport(0,0,Y,ye)},this.getDrawingBufferSize=function(Y){return Y.set(W*G,ee*G).floor()},this.setDrawingBufferSize=function(Y,ye,Ne){W=Y,ee=ye,G=Ne,s.width=Math.floor(Y*Ne),s.height=Math.floor(ye*Ne),this.setViewport(0,0,Y,ye)},this.getCurrentViewport=function(Y){return Y.copy(U)},this.getViewport=function(Y){return Y.copy(se)},this.setViewport=function(Y,ye,Ne,Te){Y.isVector4?se.set(Y.x,Y.y,Y.z,Y.w):se.set(Y,ye,Ne,Te),Qe.viewport(U.copy(se).multiplyScalar(G).round())},this.getScissor=function(Y){return Y.copy(me)},this.setScissor=function(Y,ye,Ne,Te){Y.isVector4?me.set(Y.x,Y.y,Y.z,Y.w):me.set(Y,ye,Ne,Te),Qe.scissor(H.copy(me).multiplyScalar(G).round())},this.getScissorTest=function(){return Oe},this.setScissorTest=function(Y){Qe.setScissorTest(Oe=Y)},this.setOpaqueSort=function(Y){ae=Y},this.setTransparentSort=function(Y){fe=Y},this.getClearColor=function(Y){return Y.copy(Qt.getClearColor())},this.setClearColor=function(){Qt.setClearColor(...arguments)},this.getClearAlpha=function(){return Qt.getClearAlpha()},this.setClearAlpha=function(){Qt.setClearAlpha(...arguments)},this.clear=function(Y=!0,ye=!0,Ne=!0){let Te=0;if(Y){let xe=!1;if(k!==null){const gt=k.texture.format;xe=gt===lT||gt===oT||gt===pw}if(xe){const gt=k.texture.type,at=gt===_o||gt===du||gt===L0||gt===F0||gt===aT||gt===iT,ft=Qt.getClearColor(),jt=Qt.getClearAlpha(),Pt=ft.r,Vt=ft.g,Dt=ft.b;at?(N[0]=Pt,N[1]=Vt,N[2]=Dt,N[3]=jt,pe.clearBufferuiv(pe.COLOR,0,N)):(j[0]=Pt,j[1]=Vt,j[2]=Dt,j[3]=jt,pe.clearBufferiv(pe.COLOR,0,j))}else Te|=pe.COLOR_BUFFER_BIT}ye&&(Te|=pe.DEPTH_BUFFER_BIT),Ne&&(Te|=pe.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),pe.clear(Te)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){s.removeEventListener("webglcontextlost",St,!1),s.removeEventListener("webglcontextrestored",zt,!1),s.removeEventListener("webglcontextcreationerror",Tt,!1),Qt.dispose(),We.dispose(),Ft.dispose(),xt.dispose(),Ee.dispose(),Ie.dispose(),je.dispose(),Be.dispose(),bt.dispose(),Re.dispose(),Le.dispose(),Le.removeEventListener("sessionstart",wr),Le.removeEventListener("sessionend",hc),Oa.stop()};function St(Y){Y.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),E=!0}function zt(){console.log("THREE.WebGLRenderer: Context Restored."),E=!1;const Y=At.autoReset,ye=Ut.enabled,Ne=Ut.autoUpdate,Te=Ut.needsUpdate,xe=Ut.type;_e(),At.autoReset=Y,Ut.enabled=ye,Ut.autoUpdate=Ne,Ut.needsUpdate=Te,Ut.type=xe}function Tt(Y){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Y.statusMessage)}function yt(Y){const ye=Y.target;ye.removeEventListener("dispose",yt),Ht(ye)}function Ht(Y){gn(Y),xt.remove(Y)}function gn(Y){const ye=xt.get(Y).programs;ye!==void 0&&(ye.forEach(function(Ne){Re.releaseProgram(Ne)}),Y.isShaderMaterial&&Re.releaseShaderCache(Y))}this.renderBufferDirect=function(Y,ye,Ne,Te,xe,gt){ye===null&&(ye=qe);const at=xe.isMesh&&xe.matrixWorld.determinant()<0,ft=ce(Y,ye,Ne,Te,xe);Qe.setMaterial(Te,at);let jt=Ne.index,Pt=1;if(Te.wireframe===!0){if(jt=X.getWireframeAttribute(Ne),jt===void 0)return;Pt=2}const Vt=Ne.drawRange,Dt=Ne.attributes.position;let an=Vt.start*Pt,$n=(Vt.start+Vt.count)*Pt;gt!==null&&(an=Math.max(an,gt.start*Pt),$n=Math.min($n,(gt.start+gt.count)*Pt)),jt!==null?(an=Math.max(an,0),$n=Math.min($n,jt.count)):Dt!=null&&(an=Math.max(an,0),$n=Math.min($n,Dt.count));const mn=$n-an;if(mn<0||mn===1/0)return;Be.setup(xe,Te,ft,Ne,jt);let hs,Cn=_t;if(jt!==null&&(hs=ne.get(jt),Cn=hn,Cn.setIndex(hs)),xe.isMesh)Te.wireframe===!0?(Qe.setLineWidth(Te.wireframeLinewidth*$e()),Cn.setMode(pe.LINES)):Cn.setMode(pe.TRIANGLES);else if(xe.isLine){let Xt=Te.linewidth;Xt===void 0&&(Xt=1),Qe.setLineWidth(Xt*$e()),xe.isLineSegments?Cn.setMode(pe.LINES):xe.isLineLoop?Cn.setMode(pe.LINE_LOOP):Cn.setMode(pe.LINE_STRIP)}else xe.isPoints?Cn.setMode(pe.POINTS):xe.isSprite&&Cn.setMode(pe.TRIANGLES);if(xe.isBatchedMesh)if(xe._multiDrawInstances!==null)D1("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Cn.renderMultiDrawInstances(xe._multiDrawStarts,xe._multiDrawCounts,xe._multiDrawCount,xe._multiDrawInstances);else if(et.get("WEBGL_multi_draw"))Cn.renderMultiDraw(xe._multiDrawStarts,xe._multiDrawCounts,xe._multiDrawCount);else{const Xt=xe._multiDrawStarts,xs=xe._multiDrawCounts,Qn=xe._multiDrawCount,Es=jt?ne.get(jt).bytesPerElement:1,cs=xt.get(Te).currentProgram.getUniforms();for(let Cs=0;Cs<Qn;Cs++)cs.setValue(pe,"_gl_DrawID",Cs),Cn.render(Xt[Cs]/Es,xs[Cs])}else if(xe.isInstancedMesh)Cn.renderInstances(an,mn,xe.count);else if(Ne.isInstancedBufferGeometry){const Xt=Ne._maxInstanceCount!==void 0?Ne._maxInstanceCount:1/0,xs=Math.min(Ne.instanceCount,Xt);Cn.renderInstances(an,mn,xs)}else Cn.render(an,mn)};function as(Y,ye,Ne){Y.transparent===!0&&Y.side===tc&&Y.forceSinglePass===!1?(Y.side=So,Y.needsUpdate=!0,Po(Y,ye,Ne),Y.side=Eh,Y.needsUpdate=!0,Po(Y,ye,Ne),Y.side=tc):Po(Y,ye,Ne)}this.compile=function(Y,ye,Ne=null){Ne===null&&(Ne=Y),b=Ft.get(Ne),b.init(ye),S.push(b),Ne.traverseVisible(function(xe){xe.isLight&&xe.layers.test(ye.layers)&&(b.pushLight(xe),xe.castShadow&&b.pushShadow(xe))}),Y!==Ne&&Y.traverseVisible(function(xe){xe.isLight&&xe.layers.test(ye.layers)&&(b.pushLight(xe),xe.castShadow&&b.pushShadow(xe))}),b.setupLights();const Te=new Set;return Y.traverse(function(xe){if(!(xe.isMesh||xe.isPoints||xe.isLine||xe.isSprite))return;const gt=xe.material;if(gt)if(Array.isArray(gt))for(let at=0;at<gt.length;at++){const ft=gt[at];as(ft,Ne,xe),Te.add(ft)}else as(gt,Ne,xe),Te.add(gt)}),b=S.pop(),Te},this.compileAsync=function(Y,ye,Ne=null){const Te=this.compile(Y,ye,Ne);return new Promise(xe=>{function gt(){if(Te.forEach(function(at){xt.get(at).currentProgram.isReady()&&Te.delete(at)}),Te.size===0){xe(Y);return}setTimeout(gt,10)}et.get("KHR_parallel_shader_compile")!==null?gt():setTimeout(gt,10)})};let Zn=null;function Wr(Y){Zn&&Zn(Y)}function wr(){Oa.stop()}function hc(){Oa.start()}const Oa=new kte;Oa.setAnimationLoop(Wr),typeof self<"u"&&Oa.setContext(self),this.setAnimationLoop=function(Y){Zn=Y,Le.setAnimationLoop(Y),Y===null?Oa.stop():Oa.start()},Le.addEventListener("sessionstart",wr),Le.addEventListener("sessionend",hc),this.render=function(Y,ye){if(ye!==void 0&&ye.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(E===!0)return;if(Y.matrixWorldAutoUpdate===!0&&Y.updateMatrixWorld(),ye.parent===null&&ye.matrixWorldAutoUpdate===!0&&ye.updateMatrixWorld(),Le.enabled===!0&&Le.isPresenting===!0&&(Le.cameraAutoUpdate===!0&&Le.updateCamera(ye),ye=Le.getCamera()),Y.isScene===!0&&Y.onBeforeRender(w,Y,ye,k),b=Ft.get(Y,S.length),b.init(ye),S.push(b),Ce.multiplyMatrices(ye.projectionMatrix,ye.matrixWorldInverse),Ye.setFromProjectionMatrix(Ce,yl,ye.reversedDepth),be=this.localClippingEnabled,dt=Et.init(this.clippingPlanes,be),v=We.get(Y,A.length),v.init(),A.push(v),Le.enabled===!0&&Le.isPresenting===!0){const gt=w.xr.getDepthSensingMesh();gt!==null&&Mo(gt,ye,-1/0,w.sortObjects)}Mo(Y,ye,0,w.sortObjects),v.finish(),w.sortObjects===!0&&v.sort(ae,fe),rt=Le.enabled===!1||Le.isPresenting===!1||Le.hasDepthSensing()===!1,rt&&Qt.addToRenderList(v,Y),this.info.render.frame++,dt===!0&&Et.beginShadows();const Ne=b.state.shadowsArray;Ut.render(Ne,Y,ye),dt===!0&&Et.endShadows(),this.info.autoReset===!0&&this.info.reset();const Te=v.opaque,xe=v.transmissive;if(b.setupLights(),ye.isArrayCamera){const gt=ye.cameras;if(xe.length>0)for(let at=0,ft=gt.length;at<ft;at++){const jt=gt[at];Di(Te,xe,Y,jt)}rt&&Qt.render(Y);for(let at=0,ft=gt.length;at<ft;at++){const jt=gt[at];ka(v,Y,jt,jt.viewport)}}else xe.length>0&&Di(Te,xe,Y,ye),rt&&Qt.render(Y),ka(v,Y,ye);k!==null&&P===0&&(ue.updateMultisampleRenderTarget(k),ue.updateRenderTargetMipmap(k)),Y.isScene===!0&&Y.onAfterRender(w,Y,ye),Be.resetDefaultState(),I=-1,L=null,S.pop(),S.length>0?(b=S[S.length-1],dt===!0&&Et.setGlobalState(w.clippingPlanes,b.state.camera)):b=null,A.pop(),A.length>0?v=A[A.length-1]:v=null};function Mo(Y,ye,Ne,Te){if(Y.visible===!1)return;if(Y.layers.test(ye.layers)){if(Y.isGroup)Ne=Y.renderOrder;else if(Y.isLOD)Y.autoUpdate===!0&&Y.update(ye);else if(Y.isLight)b.pushLight(Y),Y.castShadow&&b.pushShadow(Y);else if(Y.isSprite){if(!Y.frustumCulled||Ye.intersectsSprite(Y)){Te&&De.setFromMatrixPosition(Y.matrixWorld).applyMatrix4(Ce);const at=je.update(Y),ft=Y.material;ft.visible&&v.push(Y,at,ft,Ne,De.z,null)}}else if((Y.isMesh||Y.isLine||Y.isPoints)&&(!Y.frustumCulled||Ye.intersectsObject(Y))){const at=je.update(Y),ft=Y.material;if(Te&&(Y.boundingSphere!==void 0?(Y.boundingSphere===null&&Y.computeBoundingSphere(),De.copy(Y.boundingSphere.center)):(at.boundingSphere===null&&at.computeBoundingSphere(),De.copy(at.boundingSphere.center)),De.applyMatrix4(Y.matrixWorld).applyMatrix4(Ce)),Array.isArray(ft)){const jt=at.groups;for(let Pt=0,Vt=jt.length;Pt<Vt;Pt++){const Dt=jt[Pt],an=ft[Dt.materialIndex];an&&an.visible&&v.push(Y,at,an,Ne,De.z,Dt)}}else ft.visible&&v.push(Y,at,ft,Ne,De.z,null)}}const gt=Y.children;for(let at=0,ft=gt.length;at<ft;at++)Mo(gt[at],ye,Ne,Te)}function ka(Y,ye,Ne,Te){const xe=Y.opaque,gt=Y.transmissive,at=Y.transparent;b.setupLightsView(Ne),dt===!0&&Et.setGlobalState(w.clippingPlanes,Ne),Te&&Qe.viewport(U.copy(Te)),xe.length>0&&Ur(xe,ye,Ne),gt.length>0&&Ur(gt,ye,Ne),at.length>0&&Ur(at,ye,Ne),Qe.buffers.depth.setTest(!0),Qe.buffers.depth.setMask(!0),Qe.buffers.color.setMask(!0),Qe.setPolygonOffset(!1)}function Di(Y,ye,Ne,Te){if((Ne.isScene===!0?Ne.overrideMaterial:null)!==null)return;b.state.transmissionRenderTarget[Te.id]===void 0&&(b.state.transmissionRenderTarget[Te.id]=new ic(1,1,{generateMipmaps:!0,type:et.has("EXT_color_buffer_half_float")||et.has("EXT_color_buffer_float")?mi:_o,minFilter:$d,samples:4,stencilBuffer:i,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Ps.workingColorSpace}));const gt=b.state.transmissionRenderTarget[Te.id],at=Te.viewport||U;gt.setSize(at.z*w.transmissionResolutionScale,at.w*w.transmissionResolutionScale);const ft=w.getRenderTarget(),jt=w.getActiveCubeFace(),Pt=w.getActiveMipmapLevel();w.setRenderTarget(gt),w.getClearColor(K),J=w.getClearAlpha(),J<1&&w.setClearColor(16777215,.5),w.clear(),rt&&Qt.render(Ne);const Vt=w.toneMapping;w.toneMapping=su;const Dt=Te.viewport;if(Te.viewport!==void 0&&(Te.viewport=void 0),b.setupLightsView(Te),dt===!0&&Et.setGlobalState(w.clippingPlanes,Te),Ur(Y,Ne,Te),ue.updateMultisampleRenderTarget(gt),ue.updateRenderTargetMipmap(gt),et.has("WEBGL_multisampled_render_to_texture")===!1){let an=!1;for(let $n=0,mn=ye.length;$n<mn;$n++){const hs=ye[$n],Cn=hs.object,Xt=hs.geometry,xs=hs.material,Qn=hs.group;if(xs.side===tc&&Cn.layers.test(Te.layers)){const Es=xs.side;xs.side=So,xs.needsUpdate=!0,Ln(Cn,Ne,Te,Xt,xs,Qn),xs.side=Es,xs.needsUpdate=!0,an=!0}}an===!0&&(ue.updateMultisampleRenderTarget(gt),ue.updateRenderTargetMipmap(gt))}w.setRenderTarget(ft,jt,Pt),w.setClearColor(K,J),Dt!==void 0&&(Te.viewport=Dt),w.toneMapping=Vt}function Ur(Y,ye,Ne){const Te=ye.isScene===!0?ye.overrideMaterial:null;for(let xe=0,gt=Y.length;xe<gt;xe++){const at=Y[xe],ft=at.object,jt=at.geometry,Pt=at.group;let Vt=at.material;Vt.allowOverride===!0&&Te!==null&&(Vt=Te),ft.layers.test(Ne.layers)&&Ln(ft,ye,Ne,jt,Vt,Pt)}}function Ln(Y,ye,Ne,Te,xe,gt){Y.onBeforeRender(w,ye,Ne,Te,xe,gt),Y.modelViewMatrix.multiplyMatrices(Ne.matrixWorldInverse,Y.matrixWorld),Y.normalMatrix.getNormalMatrix(Y.modelViewMatrix),xe.onBeforeRender(w,ye,Ne,Te,Y,gt),xe.transparent===!0&&xe.side===tc&&xe.forceSinglePass===!1?(xe.side=So,xe.needsUpdate=!0,w.renderBufferDirect(Ne,ye,Te,xe,Y,gt),xe.side=Eh,xe.needsUpdate=!0,w.renderBufferDirect(Ne,ye,Te,xe,Y,gt),xe.side=tc):w.renderBufferDirect(Ne,ye,Te,xe,Y,gt),Y.onAfterRender(w,ye,Ne,Te,xe,gt)}function Po(Y,ye,Ne){ye.isScene!==!0&&(ye=qe);const Te=xt.get(Y),xe=b.state.lights,gt=b.state.shadowsArray,at=xe.state.version,ft=Re.getParameters(Y,xe.state,gt,ye,Ne),jt=Re.getProgramCacheKey(ft);let Pt=Te.programs;Te.environment=Y.isMeshStandardMaterial?ye.environment:null,Te.fog=ye.fog,Te.envMap=(Y.isMeshStandardMaterial?Ie:Ee).get(Y.envMap||Te.environment),Te.envMapRotation=Te.environment!==null&&Y.envMap===null?ye.environmentRotation:Y.envMapRotation,Pt===void 0&&(Y.addEventListener("dispose",yt),Pt=new Map,Te.programs=Pt);let Vt=Pt.get(jt);if(Vt!==void 0){if(Te.currentProgram===Vt&&Te.lightsStateVersion===at)return Q(Y,ft),Vt}else ft.uniforms=Re.getUniforms(Y),Y.onBeforeCompile(ft,w),Vt=Re.acquireProgram(ft,jt),Pt.set(jt,Vt),Te.uniforms=ft.uniforms;const Dt=Te.uniforms;return(!Y.isShaderMaterial&&!Y.isRawShaderMaterial||Y.clipping===!0)&&(Dt.clippingPlanes=Et.uniform),Q(Y,ft),Te.needsLights=tt(Y),Te.lightsStateVersion=at,Te.needsLights&&(Dt.ambientLightColor.value=xe.state.ambient,Dt.lightProbe.value=xe.state.probe,Dt.directionalLights.value=xe.state.directional,Dt.directionalLightShadows.value=xe.state.directionalShadow,Dt.spotLights.value=xe.state.spot,Dt.spotLightShadows.value=xe.state.spotShadow,Dt.rectAreaLights.value=xe.state.rectArea,Dt.ltc_1.value=xe.state.rectAreaLTC1,Dt.ltc_2.value=xe.state.rectAreaLTC2,Dt.pointLights.value=xe.state.point,Dt.pointLightShadows.value=xe.state.pointShadow,Dt.hemisphereLights.value=xe.state.hemi,Dt.directionalShadowMap.value=xe.state.directionalShadowMap,Dt.directionalShadowMatrix.value=xe.state.directionalShadowMatrix,Dt.spotShadowMap.value=xe.state.spotShadowMap,Dt.spotLightMatrix.value=xe.state.spotLightMatrix,Dt.spotLightMap.value=xe.state.spotLightMap,Dt.pointShadowMap.value=xe.state.pointShadowMap,Dt.pointShadowMatrix.value=xe.state.pointShadowMatrix),Te.currentProgram=Vt,Te.uniformsList=null,Vt}function cr(Y){if(Y.uniformsList===null){const ye=Y.currentProgram.getUniforms();Y.uniformsList=f_.seqWithValue(ye.seq,Y.uniforms)}return Y.uniformsList}function Q(Y,ye){const Ne=xt.get(Y);Ne.outputColorSpace=ye.outputColorSpace,Ne.batching=ye.batching,Ne.batchingColor=ye.batchingColor,Ne.instancing=ye.instancing,Ne.instancingColor=ye.instancingColor,Ne.instancingMorph=ye.instancingMorph,Ne.skinning=ye.skinning,Ne.morphTargets=ye.morphTargets,Ne.morphNormals=ye.morphNormals,Ne.morphColors=ye.morphColors,Ne.morphTargetsCount=ye.morphTargetsCount,Ne.numClippingPlanes=ye.numClippingPlanes,Ne.numIntersection=ye.numClipIntersection,Ne.vertexAlphas=ye.vertexAlphas,Ne.vertexTangents=ye.vertexTangents,Ne.toneMapping=ye.toneMapping}function ce(Y,ye,Ne,Te,xe){ye.isScene!==!0&&(ye=qe),ue.resetTextureUnits();const gt=ye.fog,at=Te.isMeshStandardMaterial?ye.environment:null,ft=k===null?w.outputColorSpace:k.isXRRenderTarget===!0?k.texture.colorSpace:ld,jt=(Te.isMeshStandardMaterial?Ie:Ee).get(Te.envMap||at),Pt=Te.vertexColors===!0&&!!Ne.attributes.color&&Ne.attributes.color.itemSize===4,Vt=!!Ne.attributes.tangent&&(!!Te.normalMap||Te.anisotropy>0),Dt=!!Ne.morphAttributes.position,an=!!Ne.morphAttributes.normal,$n=!!Ne.morphAttributes.color;let mn=su;Te.toneMapped&&(k===null||k.isXRRenderTarget===!0)&&(mn=w.toneMapping);const hs=Ne.morphAttributes.position||Ne.morphAttributes.normal||Ne.morphAttributes.color,Cn=hs!==void 0?hs.length:0,Xt=xt.get(Te),xs=b.state.lights;if(dt===!0&&(be===!0||Y!==L)){const ws=Y===L&&Te.id===I;Et.setState(Te,Y,ws)}let Qn=!1;Te.version===Xt.__version?(Xt.needsLights&&Xt.lightsStateVersion!==xs.state.version||Xt.outputColorSpace!==ft||xe.isBatchedMesh&&Xt.batching===!1||!xe.isBatchedMesh&&Xt.batching===!0||xe.isBatchedMesh&&Xt.batchingColor===!0&&xe.colorTexture===null||xe.isBatchedMesh&&Xt.batchingColor===!1&&xe.colorTexture!==null||xe.isInstancedMesh&&Xt.instancing===!1||!xe.isInstancedMesh&&Xt.instancing===!0||xe.isSkinnedMesh&&Xt.skinning===!1||!xe.isSkinnedMesh&&Xt.skinning===!0||xe.isInstancedMesh&&Xt.instancingColor===!0&&xe.instanceColor===null||xe.isInstancedMesh&&Xt.instancingColor===!1&&xe.instanceColor!==null||xe.isInstancedMesh&&Xt.instancingMorph===!0&&xe.morphTexture===null||xe.isInstancedMesh&&Xt.instancingMorph===!1&&xe.morphTexture!==null||Xt.envMap!==jt||Te.fog===!0&&Xt.fog!==gt||Xt.numClippingPlanes!==void 0&&(Xt.numClippingPlanes!==Et.numPlanes||Xt.numIntersection!==Et.numIntersection)||Xt.vertexAlphas!==Pt||Xt.vertexTangents!==Vt||Xt.morphTargets!==Dt||Xt.morphNormals!==an||Xt.morphColors!==$n||Xt.toneMapping!==mn||Xt.morphTargetsCount!==Cn)&&(Qn=!0):(Qn=!0,Xt.__version=Te.version);let Es=Xt.currentProgram;Qn===!0&&(Es=Po(Te,ye,xe));let cs=!1,Cs=!1,Ms=!1;const Sn=Es.getUniforms(),qs=Xt.uniforms;if(Qe.useProgram(Es.program)&&(cs=!0,Cs=!0,Ms=!0),Te.id!==I&&(I=Te.id,Cs=!0),cs||L!==Y){Qe.buffers.depth.getReversed()&&Y.reversedDepth!==!0&&(Y._reversedDepth=!0,Y.updateProjectionMatrix()),Sn.setValue(pe,"projectionMatrix",Y.projectionMatrix),Sn.setValue(pe,"viewMatrix",Y.matrixWorldInverse);const xr=Sn.map.cameraPosition;xr!==void 0&&xr.setValue(pe,Ue.setFromMatrixPosition(Y.matrixWorld)),st.logarithmicDepthBuffer&&Sn.setValue(pe,"logDepthBufFC",2/(Math.log(Y.far+1)/Math.LN2)),(Te.isMeshPhongMaterial||Te.isMeshToonMaterial||Te.isMeshLambertMaterial||Te.isMeshBasicMaterial||Te.isMeshStandardMaterial||Te.isShaderMaterial)&&Sn.setValue(pe,"isOrthographic",Y.isOrthographicCamera===!0),L!==Y&&(L=Y,Cs=!0,Ms=!0)}if(xe.isSkinnedMesh){Sn.setOptional(pe,xe,"bindMatrix"),Sn.setOptional(pe,xe,"bindMatrixInverse");const ws=xe.skeleton;ws&&(ws.boneTexture===null&&ws.computeBoneTexture(),Sn.setValue(pe,"boneTexture",ws.boneTexture,ue))}xe.isBatchedMesh&&(Sn.setOptional(pe,xe,"batchingTexture"),Sn.setValue(pe,"batchingTexture",xe._matricesTexture,ue),Sn.setOptional(pe,xe,"batchingIdTexture"),Sn.setValue(pe,"batchingIdTexture",xe._indirectTexture,ue),Sn.setOptional(pe,xe,"batchingColorTexture"),xe._colorsTexture!==null&&Sn.setValue(pe,"batchingColorTexture",xe._colorsTexture,ue));const pr=Ne.morphAttributes;if((pr.position!==void 0||pr.normal!==void 0||pr.color!==void 0)&&wt.update(xe,Ne,Es),(Cs||Xt.receiveShadow!==xe.receiveShadow)&&(Xt.receiveShadow=xe.receiveShadow,Sn.setValue(pe,"receiveShadow",xe.receiveShadow)),Te.isMeshGouraudMaterial&&Te.envMap!==null&&(qs.envMap.value=jt,qs.flipEnvMap.value=jt.isCubeTexture&&jt.isRenderTargetTexture===!1?-1:1),Te.isMeshStandardMaterial&&Te.envMap===null&&ye.environment!==null&&(qs.envMapIntensity.value=ye.environmentIntensity),Cs&&(Sn.setValue(pe,"toneMappingExposure",w.toneMappingExposure),Xt.needsLights&&Me(qs,Ms),gt&&Te.fog===!0&&nt.refreshFogUniforms(qs,gt),nt.refreshMaterialUniforms(qs,Te,G,ee,b.state.transmissionRenderTarget[Y.id]),f_.upload(pe,cr(Xt),qs,ue)),Te.isShaderMaterial&&Te.uniformsNeedUpdate===!0&&(f_.upload(pe,cr(Xt),qs,ue),Te.uniformsNeedUpdate=!1),Te.isSpriteMaterial&&Sn.setValue(pe,"center",xe.center),Sn.setValue(pe,"modelViewMatrix",xe.modelViewMatrix),Sn.setValue(pe,"normalMatrix",xe.normalMatrix),Sn.setValue(pe,"modelMatrix",xe.matrixWorld),Te.isShaderMaterial||Te.isRawShaderMaterial){const ws=Te.uniformsGroups;for(let xr=0,fd=ws.length;xr<fd;xr++){const es=ws[xr];bt.update(es,Es),bt.bind(es,Es)}}return Es}function Me(Y,ye){Y.ambientLightColor.needsUpdate=ye,Y.lightProbe.needsUpdate=ye,Y.directionalLights.needsUpdate=ye,Y.directionalLightShadows.needsUpdate=ye,Y.pointLights.needsUpdate=ye,Y.pointLightShadows.needsUpdate=ye,Y.spotLights.needsUpdate=ye,Y.spotLightShadows.needsUpdate=ye,Y.rectAreaLights.needsUpdate=ye,Y.hemisphereLights.needsUpdate=ye}function tt(Y){return Y.isMeshLambertMaterial||Y.isMeshToonMaterial||Y.isMeshPhongMaterial||Y.isMeshStandardMaterial||Y.isShadowMaterial||Y.isShaderMaterial&&Y.lights===!0}this.getActiveCubeFace=function(){return T},this.getActiveMipmapLevel=function(){return P},this.getRenderTarget=function(){return k},this.setRenderTargetTextures=function(Y,ye,Ne){const Te=xt.get(Y);Te.__autoAllocateDepthBuffer=Y.resolveDepthBuffer===!1,Te.__autoAllocateDepthBuffer===!1&&(Te.__useRenderToTexture=!1),xt.get(Y.texture).__webglTexture=ye,xt.get(Y.depthTexture).__webglTexture=Te.__autoAllocateDepthBuffer?void 0:Ne,Te.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(Y,ye){const Ne=xt.get(Y);Ne.__webglFramebuffer=ye,Ne.__useDefaultFramebuffer=ye===void 0};const ot=pe.createFramebuffer();this.setRenderTarget=function(Y,ye=0,Ne=0){k=Y,T=ye,P=Ne;let Te=!0,xe=null,gt=!1,at=!1;if(Y){const jt=xt.get(Y);if(jt.__useDefaultFramebuffer!==void 0)Qe.bindFramebuffer(pe.FRAMEBUFFER,null),Te=!1;else if(jt.__webglFramebuffer===void 0)ue.setupRenderTarget(Y);else if(jt.__hasExternalTextures)ue.rebindTextures(Y,xt.get(Y.texture).__webglTexture,xt.get(Y.depthTexture).__webglTexture);else if(Y.depthBuffer){const Dt=Y.depthTexture;if(jt.__boundDepthTexture!==Dt){if(Dt!==null&&xt.has(Dt)&&(Y.width!==Dt.image.width||Y.height!==Dt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ue.setupDepthRenderbuffer(Y)}}const Pt=Y.texture;(Pt.isData3DTexture||Pt.isDataArrayTexture||Pt.isCompressedArrayTexture)&&(at=!0);const Vt=xt.get(Y).__webglFramebuffer;Y.isWebGLCubeRenderTarget?(Array.isArray(Vt[ye])?xe=Vt[ye][Ne]:xe=Vt[ye],gt=!0):Y.samples>0&&ue.useMultisampledRTT(Y)===!1?xe=xt.get(Y).__webglMultisampledFramebuffer:Array.isArray(Vt)?xe=Vt[Ne]:xe=Vt,U.copy(Y.viewport),H.copy(Y.scissor),B=Y.scissorTest}else U.copy(se).multiplyScalar(G).floor(),H.copy(me).multiplyScalar(G).floor(),B=Oe;if(Ne!==0&&(xe=ot),Qe.bindFramebuffer(pe.FRAMEBUFFER,xe)&&Te&&Qe.drawBuffers(Y,xe),Qe.viewport(U),Qe.scissor(H),Qe.setScissorTest(B),gt){const jt=xt.get(Y.texture);pe.framebufferTexture2D(pe.FRAMEBUFFER,pe.COLOR_ATTACHMENT0,pe.TEXTURE_CUBE_MAP_POSITIVE_X+ye,jt.__webglTexture,Ne)}else if(at){const jt=ye;for(let Pt=0;Pt<Y.textures.length;Pt++){const Vt=xt.get(Y.textures[Pt]);pe.framebufferTextureLayer(pe.FRAMEBUFFER,pe.COLOR_ATTACHMENT0+Pt,Vt.__webglTexture,Ne,jt)}}else if(Y!==null&&Ne!==0){const jt=xt.get(Y.texture);pe.framebufferTexture2D(pe.FRAMEBUFFER,pe.COLOR_ATTACHMENT0,pe.TEXTURE_2D,jt.__webglTexture,Ne)}I=-1},this.readRenderTargetPixels=function(Y,ye,Ne,Te,xe,gt,at,ft=0){if(!(Y&&Y.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let jt=xt.get(Y).__webglFramebuffer;if(Y.isWebGLCubeRenderTarget&&at!==void 0&&(jt=jt[at]),jt){Qe.bindFramebuffer(pe.FRAMEBUFFER,jt);try{const Pt=Y.textures[ft],Vt=Pt.format,Dt=Pt.type;if(!st.textureFormatReadable(Vt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!st.textureTypeReadable(Dt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ye>=0&&ye<=Y.width-Te&&Ne>=0&&Ne<=Y.height-xe&&(Y.textures.length>1&&pe.readBuffer(pe.COLOR_ATTACHMENT0+ft),pe.readPixels(ye,Ne,Te,xe,Se.convert(Vt),Se.convert(Dt),gt))}finally{const Pt=k!==null?xt.get(k).__webglFramebuffer:null;Qe.bindFramebuffer(pe.FRAMEBUFFER,Pt)}}},this.readRenderTargetPixelsAsync=async function(Y,ye,Ne,Te,xe,gt,at,ft=0){if(!(Y&&Y.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let jt=xt.get(Y).__webglFramebuffer;if(Y.isWebGLCubeRenderTarget&&at!==void 0&&(jt=jt[at]),jt)if(ye>=0&&ye<=Y.width-Te&&Ne>=0&&Ne<=Y.height-xe){Qe.bindFramebuffer(pe.FRAMEBUFFER,jt);const Pt=Y.textures[ft],Vt=Pt.format,Dt=Pt.type;if(!st.textureFormatReadable(Vt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!st.textureTypeReadable(Dt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const an=pe.createBuffer();pe.bindBuffer(pe.PIXEL_PACK_BUFFER,an),pe.bufferData(pe.PIXEL_PACK_BUFFER,gt.byteLength,pe.STREAM_READ),Y.textures.length>1&&pe.readBuffer(pe.COLOR_ATTACHMENT0+ft),pe.readPixels(ye,Ne,Te,xe,Se.convert(Vt),Se.convert(Dt),0);const $n=k!==null?xt.get(k).__webglFramebuffer:null;Qe.bindFramebuffer(pe.FRAMEBUFFER,$n);const mn=pe.fenceSync(pe.SYNC_GPU_COMMANDS_COMPLETE,0);return pe.flush(),await h4e(pe,mn,4),pe.bindBuffer(pe.PIXEL_PACK_BUFFER,an),pe.getBufferSubData(pe.PIXEL_PACK_BUFFER,0,gt),pe.deleteBuffer(an),pe.deleteSync(mn),gt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(Y,ye=null,Ne=0){const Te=Math.pow(2,-Ne),xe=Math.floor(Y.image.width*Te),gt=Math.floor(Y.image.height*Te),at=ye!==null?ye.x:0,ft=ye!==null?ye.y:0;ue.setTexture2D(Y,0),pe.copyTexSubImage2D(pe.TEXTURE_2D,Ne,0,0,at,ft,xe,gt),Qe.unbindTexture()};const it=pe.createFramebuffer(),Mt=pe.createFramebuffer();this.copyTextureToTexture=function(Y,ye,Ne=null,Te=null,xe=0,gt=null){gt===null&&(xe!==0?(D1("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),gt=xe,xe=0):gt=0);let at,ft,jt,Pt,Vt,Dt,an,$n,mn;const hs=Y.isCompressedTexture?Y.mipmaps[gt]:Y.image;if(Ne!==null)at=Ne.max.x-Ne.min.x,ft=Ne.max.y-Ne.min.y,jt=Ne.isBox3?Ne.max.z-Ne.min.z:1,Pt=Ne.min.x,Vt=Ne.min.y,Dt=Ne.isBox3?Ne.min.z:0;else{const pr=Math.pow(2,-xe);at=Math.floor(hs.width*pr),ft=Math.floor(hs.height*pr),Y.isDataArrayTexture?jt=hs.depth:Y.isData3DTexture?jt=Math.floor(hs.depth*pr):jt=1,Pt=0,Vt=0,Dt=0}Te!==null?(an=Te.x,$n=Te.y,mn=Te.z):(an=0,$n=0,mn=0);const Cn=Se.convert(ye.format),Xt=Se.convert(ye.type);let xs;ye.isData3DTexture?(ue.setTexture3D(ye,0),xs=pe.TEXTURE_3D):ye.isDataArrayTexture||ye.isCompressedArrayTexture?(ue.setTexture2DArray(ye,0),xs=pe.TEXTURE_2D_ARRAY):(ue.setTexture2D(ye,0),xs=pe.TEXTURE_2D),pe.pixelStorei(pe.UNPACK_FLIP_Y_WEBGL,ye.flipY),pe.pixelStorei(pe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ye.premultiplyAlpha),pe.pixelStorei(pe.UNPACK_ALIGNMENT,ye.unpackAlignment);const Qn=pe.getParameter(pe.UNPACK_ROW_LENGTH),Es=pe.getParameter(pe.UNPACK_IMAGE_HEIGHT),cs=pe.getParameter(pe.UNPACK_SKIP_PIXELS),Cs=pe.getParameter(pe.UNPACK_SKIP_ROWS),Ms=pe.getParameter(pe.UNPACK_SKIP_IMAGES);pe.pixelStorei(pe.UNPACK_ROW_LENGTH,hs.width),pe.pixelStorei(pe.UNPACK_IMAGE_HEIGHT,hs.height),pe.pixelStorei(pe.UNPACK_SKIP_PIXELS,Pt),pe.pixelStorei(pe.UNPACK_SKIP_ROWS,Vt),pe.pixelStorei(pe.UNPACK_SKIP_IMAGES,Dt);const Sn=Y.isDataArrayTexture||Y.isData3DTexture,qs=ye.isDataArrayTexture||ye.isData3DTexture;if(Y.isDepthTexture){const pr=xt.get(Y),ws=xt.get(ye),xr=xt.get(pr.__renderTarget),fd=xt.get(ws.__renderTarget);Qe.bindFramebuffer(pe.READ_FRAMEBUFFER,xr.__webglFramebuffer),Qe.bindFramebuffer(pe.DRAW_FRAMEBUFFER,fd.__webglFramebuffer);for(let es=0;es<jt;es++)Sn&&(pe.framebufferTextureLayer(pe.READ_FRAMEBUFFER,pe.COLOR_ATTACHMENT0,xt.get(Y).__webglTexture,xe,Dt+es),pe.framebufferTextureLayer(pe.DRAW_FRAMEBUFFER,pe.COLOR_ATTACHMENT0,xt.get(ye).__webglTexture,gt,mn+es)),pe.blitFramebuffer(Pt,Vt,at,ft,an,$n,at,ft,pe.DEPTH_BUFFER_BIT,pe.NEAREST);Qe.bindFramebuffer(pe.READ_FRAMEBUFFER,null),Qe.bindFramebuffer(pe.DRAW_FRAMEBUFFER,null)}else if(xe!==0||Y.isRenderTargetTexture||xt.has(Y)){const pr=xt.get(Y),ws=xt.get(ye);Qe.bindFramebuffer(pe.READ_FRAMEBUFFER,it),Qe.bindFramebuffer(pe.DRAW_FRAMEBUFFER,Mt);for(let xr=0;xr<jt;xr++)Sn?pe.framebufferTextureLayer(pe.READ_FRAMEBUFFER,pe.COLOR_ATTACHMENT0,pr.__webglTexture,xe,Dt+xr):pe.framebufferTexture2D(pe.READ_FRAMEBUFFER,pe.COLOR_ATTACHMENT0,pe.TEXTURE_2D,pr.__webglTexture,xe),qs?pe.framebufferTextureLayer(pe.DRAW_FRAMEBUFFER,pe.COLOR_ATTACHMENT0,ws.__webglTexture,gt,mn+xr):pe.framebufferTexture2D(pe.DRAW_FRAMEBUFFER,pe.COLOR_ATTACHMENT0,pe.TEXTURE_2D,ws.__webglTexture,gt),xe!==0?pe.blitFramebuffer(Pt,Vt,at,ft,an,$n,at,ft,pe.COLOR_BUFFER_BIT,pe.NEAREST):qs?pe.copyTexSubImage3D(xs,gt,an,$n,mn+xr,Pt,Vt,at,ft):pe.copyTexSubImage2D(xs,gt,an,$n,Pt,Vt,at,ft);Qe.bindFramebuffer(pe.READ_FRAMEBUFFER,null),Qe.bindFramebuffer(pe.DRAW_FRAMEBUFFER,null)}else qs?Y.isDataTexture||Y.isData3DTexture?pe.texSubImage3D(xs,gt,an,$n,mn,at,ft,jt,Cn,Xt,hs.data):ye.isCompressedArrayTexture?pe.compressedTexSubImage3D(xs,gt,an,$n,mn,at,ft,jt,Cn,hs.data):pe.texSubImage3D(xs,gt,an,$n,mn,at,ft,jt,Cn,Xt,hs):Y.isDataTexture?pe.texSubImage2D(pe.TEXTURE_2D,gt,an,$n,at,ft,Cn,Xt,hs.data):Y.isCompressedTexture?pe.compressedTexSubImage2D(pe.TEXTURE_2D,gt,an,$n,hs.width,hs.height,Cn,hs.data):pe.texSubImage2D(pe.TEXTURE_2D,gt,an,$n,at,ft,Cn,Xt,hs);pe.pixelStorei(pe.UNPACK_ROW_LENGTH,Qn),pe.pixelStorei(pe.UNPACK_IMAGE_HEIGHT,Es),pe.pixelStorei(pe.UNPACK_SKIP_PIXELS,cs),pe.pixelStorei(pe.UNPACK_SKIP_ROWS,Cs),pe.pixelStorei(pe.UNPACK_SKIP_IMAGES,Ms),gt===0&&ye.generateMipmaps&&pe.generateMipmap(xs),Qe.unbindTexture()},this.initRenderTarget=function(Y){xt.get(Y).__webglFramebuffer===void 0&&ue.setupRenderTarget(Y)},this.initTexture=function(Y){Y.isCubeTexture?ue.setTextureCube(Y,0):Y.isData3DTexture?ue.setTexture3D(Y,0):Y.isDataArrayTexture||Y.isCompressedArrayTexture?ue.setTexture2DArray(Y,0):ue.setTexture2D(Y,0),Qe.unbindTexture()},this.resetState=function(){T=0,P=0,k=null,Qe.reset(),Be.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return yl}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const s=this.getContext();s.drawingBufferColorSpace=Ps._getDrawingBufferColorSpace(e),s.unpackColorSpace=Ps._getUnpackColorSpace()}}const NIe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:pD,AddEquation:Rf,AddOperation:hee,AdditiveAnimationBlendMode:wD,AdditiveBlending:U5,AgXToneMapping:gee,AlphaFormat:yD,AlwaysCompare:Ree,AlwaysDepth:$2,AlwaysStencilFunc:G5,AmbientLight:Nte,AnimationAction:Pte,AnimationClip:V1,AnimationLoader:FPe,AnimationMixer:uRe,AnimationObjectGroup:cRe,AnimationUtils:kPe,ArcCurve:Xee,ArrayCamera:Tte,ArrowHelper:kRe,AttachedBindMode:V5,Audio:Ete,AudioAnalyser:JPe,AudioContext:QD,AudioListener:ZPe,AudioLoader:WPe,AxesHelper:IRe,BackSide:So,BasicDepthPacking:Nee,BasicShadowMap:qJ,BatchedMesh:Gee,Bone:PD,BooleanKeyframeTrack:Dx,Box2:yRe,Box3:Ya,Box3Helper:RRe,BoxGeometry:Ix,BoxHelper:PRe,BufferAttribute:mr,BufferGeometry:us,BufferGeometryLoader:Cte,ByteType:sT,Cache:qd,Camera:hT,CameraHelper:MRe,CanvasTexture:sPe,CapsuleGeometry:yT,CatmullRomCurve3:Zee,CineonToneMapping:pee,CircleGeometry:bT,ClampToEdgeWrapping:Ma,Clock:JD,Color:nn,ColorKeyframeTrack:KD,ColorManagement:Ps,CompressedArrayTexture:tPe,CompressedCubeTexture:nPe,CompressedTexture:vT,CompressedTextureLoader:UPe,ConeGeometry:yw,ConstantAlphaFactor:cee,ConstantColorFactor:oee,Controls:LRe,CubeCamera:Fee,CubeReflectionMapping:cu,CubeRefractionMapping:Jf,CubeTexture:xw,CubeTextureLoader:vte,CubeUVReflectionMapping:fy,CubicBezierCurve:DD,CubicBezierCurve3:Yee,CubicInterpolant:mte,CullFaceBack:F5,CullFaceFront:$J,CullFaceFrontBack:fMe,CullFaceNone:GJ,Curve:hd,CurvePath:Jee,CustomBlending:WJ,CustomToneMapping:xee,CylinderGeometry:vw,Cylindrical:vRe,Data3DTexture:uT,DataArrayTexture:dT,DataTexture:rd,DataTextureLoader:XD,DataUtils:Gp,DecrementStencilOp:AMe,DecrementWrapStencilOp:TMe,DefaultLoadingManager:gte,DepthFormat:U0,DepthStencilFormat:z0,DepthTexture:OD,DetachedBindMode:yee,DirectionalLight:wte,DirectionalLightHelper:ERe,DiscreteInterpolant:pte,DodecahedronGeometry:jT,DoubleSide:tc,DstAlphaFactor:nee,DstColorFactor:ree,DynamicCopyUsage:HMe,DynamicDrawUsage:LMe,DynamicReadUsage:zMe,EdgesGeometry:Kee,EllipseCurve:wT,EqualCompare:Tee,EqualDepth:W2,EqualStencilFunc:RMe,EquirectangularReflectionMapping:D0,EquirectangularRefractionMapping:T1,Euler:Ml,EventDispatcher:xu,ExternalTexture:kD,ExtrudeGeometry:NT,FileLoader:Tl,Float16BufferAttribute:O4e,Float32BufferAttribute:un,FloatType:Qr,Fog:mT,FogExp2:fT,FramebufferTexture:ePe,FrontSide:Eh,Frustum:my,FrustumArray:gT,GLBufferAttribute:pRe,GLSL1:$Me,GLSL3:$5,GreaterCompare:Eee,GreaterDepth:X2,GreaterEqualCompare:Pee,GreaterEqualDepth:K2,GreaterEqualStencilFunc:DMe,GreaterStencilFunc:kMe,GridHelper:CRe,Group:Rv,HalfFloatType:mi,HemisphereLight:yte,HemisphereLightHelper:ARe,IcosahedronGeometry:bw,ImageBitmapLoader:qPe,ImageLoader:H1,ImageUtils:Iee,IncrementStencilOp:_Me,IncrementWrapStencilOp:CMe,InstancedBufferAttribute:$0,InstancedBufferGeometry:YD,InstancedInterleavedBuffer:PA,InstancedMesh:Hee,Int16BufferAttribute:P4e,Int32BufferAttribute:R4e,Int8BufferAttribute:T4e,IntType:fw,InterleavedBuffer:pT,InterleavedBufferAttribute:bl,Interpolant:Nw,InterpolateDiscrete:P1,InterpolateLinear:_A,InterpolateSmooth:u_,InterpolationSamplingMode:KMe,InterpolationSamplingType:WMe,InvertStencilOp:EMe,KeepStencilOp:Pp,KeyframeTrack:uc,LOD:Bee,LatheGeometry:ST,Layers:H0,LessCompare:Cee,LessDepth:q2,LessEqualCompare:ND,LessEqualDepth:_x,LessEqualStencilFunc:OMe,LessStencilFunc:PMe,Light:dm,LightProbe:Ate,Line:em,Line3:Rte,LineBasicMaterial:To,LineCurve:LD,LineCurve3:Qee,LineDashedMaterial:ute,LineLoop:$ee,LineSegments:gu,LinearFilter:ir,LinearInterpolant:WD,LinearMipMapLinearFilter:H5,LinearMipMapNearestFilter:xMe,LinearMipmapLinearFilter:$d,LinearMipmapNearestFilter:_j,LinearSRGBColorSpace:ld,LinearToneMapping:fee,LinearTransfer:O1,Loader:Eo,LoaderUtils:Z5,LoadingManager:PT,LoopOnce:bee,LoopPingPong:wee,LoopRepeat:jee,MOUSE:Ep,Material:no,MaterialLoader:RT,MathUtils:_D,Matrix2:rL,Matrix3:is,Matrix4:Kn,MaxEquation:YJ,Mesh:qr,MeshBasicMaterial:Dh,MeshDepthMaterial:GD,MeshDistanceMaterial:$D,MeshLambertMaterial:cte,MeshMatcapMaterial:dte,MeshNormalMaterial:lte,MeshPhongMaterial:ite,MeshPhysicalMaterial:HD,MeshStandardMaterial:VD,MeshToonMaterial:ote,MinEquation:ZJ,MirroredRepeatWrapping:M1,MixOperation:uee,MultiplyBlending:B5,MultiplyOperation:hw,NearestFilter:ki,NearestMipMapLinearFilter:pMe,NearestMipMapNearestFilter:mMe,NearestMipmapLinearFilter:Mv,NearestMipmapNearestFilter:xD,NeutralToneMapping:vee,NeverCompare:Aee,NeverDepth:G2,NeverStencilFunc:MMe,NoBlending:nu,NoColorSpace:ah,NoToneMapping:su,NormalAnimationBlendMode:cT,NormalBlending:rx,NotEqualCompare:Mee,NotEqualDepth:Z2,NotEqualStencilFunc:IMe,NumberKeyframeTrack:z1,Object3D:Ls,ObjectLoader:GPe,ObjectSpaceNormalMap:_ee,OctahedronGeometry:jw,OneFactor:JJ,OneMinusConstantAlphaFactor:dee,OneMinusConstantColorFactor:lee,OneMinusDstAlphaFactor:see,OneMinusDstColorFactor:aee,OneMinusSrcAlphaFactor:H2,OneMinusSrcColorFactor:tee,OrthographicCamera:ad,PCFShadowMap:nT,PCFSoftShadowMap:Sj,PMREMGenerator:ek,Path:MA,PerspectiveCamera:Zr,Plane:sh,PlaneGeometry:cm,PlaneHelper:ORe,PointLight:jte,PointLightHelper:SRe,Points:qee,PointsMaterial:RD,PolarGridHelper:TRe,PolyhedronGeometry:lm,PositionalAudio:QPe,PropertyBinding:Ds,PropertyMixer:Mte,QuadraticBezierCurve:FD,QuadraticBezierCurve3:UD,Quaternion:to,QuaternionKeyframeTrack:Sw,QuaternionLinearInterpolant:xte,RED_GREEN_RGTC2_Format:NA,RED_RGTC1_Format:jA,REVISION:uw,RGBADepthPacking:See,RGBAFormat:xa,RGBAIntegerFormat:lT,RGBA_ASTC_10x10_Format:pA,RGBA_ASTC_10x5_Format:hA,RGBA_ASTC_10x6_Format:fA,RGBA_ASTC_10x8_Format:mA,RGBA_ASTC_12x10_Format:xA,RGBA_ASTC_12x12_Format:gA,RGBA_ASTC_4x4_Format:rA,RGBA_ASTC_5x4_Format:aA,RGBA_ASTC_5x5_Format:iA,RGBA_ASTC_6x5_Format:oA,RGBA_ASTC_6x6_Format:lA,RGBA_ASTC_8x5_Format:cA,RGBA_ASTC_8x6_Format:dA,RGBA_ASTC_8x8_Format:uA,RGBA_BPTC_Format:vA,RGBA_ETC2_EAC_Format:sA,RGBA_PVRTC_2BPPV1_Format:eA,RGBA_PVRTC_4BPPV1_Format:J2,RGBA_S3TC_DXT1_Format:Cj,RGBA_S3TC_DXT3_Format:Tj,RGBA_S3TC_DXT5_Format:Ej,RGBDepthPacking:jMe,RGBFormat:bD,RGBIntegerFormat:gMe,RGB_BPTC_SIGNED_Format:yA,RGB_BPTC_UNSIGNED_Format:bA,RGB_ETC1_Format:tA,RGB_ETC2_Format:nA,RGB_PVRTC_2BPPV1_Format:Q2,RGB_PVRTC_4BPPV1_Format:Y2,RGB_S3TC_DXT1_Format:Aj,RGDepthPacking:wMe,RGFormat:jD,RGIntegerFormat:oT,RawShaderMaterial:ate,Ray:kx,Raycaster:sL,RectAreaLight:Ste,RedFormat:mw,RedIntegerFormat:pw,ReinhardToneMapping:mee,RenderTarget:AD,RenderTarget3D:hRe,RepeatWrapping:E1,ReplaceStencilOp:SMe,ReverseSubtractEquation:XJ,RingGeometry:_T,SIGNED_RED_GREEN_RGTC2_Format:SA,SIGNED_RED_RGTC1_Format:wA,SRGBColorSpace:Mi,SRGBTransfer:rr,Scene:gw,ShaderChunk:ms,ShaderLib:Yc,ShaderMaterial:Ao,ShadowMaterial:rte,Shape:ix,ShapeGeometry:AT,ShapePath:DRe,ShapeUtils:nd,ShortType:rT,Skeleton:xT,SkeletonHelper:NRe,SkinnedMesh:Vee,Source:If,Sphere:Qa,SphereGeometry:ww,Spherical:Q5,SphericalHarmonics3:_te,SplineCurve:zD,SpotLight:bte,SpotLightHelper:wRe,Sprite:zee,SpriteMaterial:MD,SrcAlphaFactor:V2,SrcAlphaSaturateFactor:iee,SrcColorFactor:eee,StaticCopyUsage:VMe,StaticDrawUsage:k1,StaticReadUsage:UMe,StereoCamera:KPe,StreamCopyUsage:GMe,StreamDrawUsage:FMe,StreamReadUsage:BMe,StringKeyframeTrack:Lx,SubtractEquation:KJ,SubtractiveBlending:z5,TOUCH:Mp,TangentSpaceNormalMap:om,TetrahedronGeometry:CT,Texture:fr,TextureLoader:zPe,TextureUtils:VRe,Timer:xRe,TimestampQuery:qMe,TorusGeometry:TT,TorusKnotGeometry:ET,Triangle:Wo,TriangleFanDrawMode:bMe,TriangleStripDrawMode:yMe,TrianglesDrawMode:vMe,TubeGeometry:MT,UVMapping:Qf,Uint16BufferAttribute:CD,Uint32BufferAttribute:TD,Uint8BufferAttribute:E4e,Uint8ClampedBufferAttribute:M4e,Uniform:nL,UniformsGroup:mRe,UniformsLib:Gt,UniformsUtils:AA,UnsignedByteType:_o,UnsignedInt101111Type:vD,UnsignedInt248Type:F0,UnsignedInt5999Type:gD,UnsignedIntType:du,UnsignedShort4444Type:aT,UnsignedShort5551Type:iT,UnsignedShortType:L0,VSMShadowMap:Xc,Vector2:mt,Vector3:he,Vector4:js,VectorKeyframeTrack:B1,VideoFrameTexture:J4e,VideoTexture:Wee,WebGL3DRenderTarget:g4e,WebGLArrayRenderTarget:x4e,WebGLCoordinateSystem:yl,WebGLCubeRenderTarget:ED,WebGLRenderTarget:ic,WebGLRenderer:iL,WebGLUtils:Ute,WebGPUCoordinateSystem:B0,WebXRController:h_,WireframeGeometry:BD,WrapAroundEnding:R1,ZeroCurvatureEnding:Vp,ZeroFactor:QJ,ZeroSlopeEnding:Hp,ZeroStencilOp:NMe,createCanvasElement:kee},Symbol.toStringTag,{value:"Module"}));var f3={exports:{}},m3={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tG;function SIe(){if(tG)return m3;tG=1;var n=X0(),e=MG();function s(d,u){return d===u&&(d!==0||1/d===1/u)||d!==d&&u!==u}var r=typeof Object.is=="function"?Object.is:s,a=e.useSyncExternalStore,i=n.useRef,o=n.useEffect,l=n.useMemo,c=n.useDebugValue;return m3.useSyncExternalStoreWithSelector=function(d,u,h,m,y){var N=i(null);if(N.current===null){var j={hasValue:!1,value:null};N.current=j}else j=N.current;N=l(function(){function b(T){if(!A){if(A=!0,S=T,T=m(T),y!==void 0&&j.hasValue){var P=j.value;if(y(P,T))return w=P}return w=T}if(P=w,r(S,T))return P;var k=m(T);return y!==void 0&&y(P,k)?(S=T,P):(S=T,w=k)}var A=!1,S,w,E=h===void 0?null:h;return[function(){return b(u())},E===null?void 0:function(){return b(E())}]},[u,h,m,y]);var v=a(d,N[0],N[1]);return o(function(){j.hasValue=!0,j.value=v},[v]),c(v),v},m3}var nG;function _Ie(){return nG||(nG=1,f3.exports=SIe()),f3.exports}var AIe=_Ie();const CIe=Gs(AIe),sG=n=>{let e;const s=new Set,r=(d,u)=>{const h=typeof d=="function"?d(e):d;if(!Object.is(h,e)){const m=e;e=u??(typeof h!="object"||h===null)?h:Object.assign({},e,h),s.forEach(y=>y(e,m))}},a=()=>e,l={setState:r,getState:a,getInitialState:()=>c,subscribe:d=>(s.add(d),()=>s.delete(d))},c=e=n(r,a,l);return l},TIe=(n=>n?sG(n):sG),{useSyncExternalStoreWithSelector:EIe}=CIe,MIe=n=>n;function PIe(n,e=MIe,s){const r=EIe(n.subscribe,n.getState,n.getInitialState,e,s);return ge.useDebugValue(r),r}const rG=(n,e)=>{const s=TIe(n),r=(a,i=e)=>PIe(s,a,i);return Object.assign(r,s),r},zte=((n,e)=>n?rG(n,e):rG),RIe=n=>typeof n=="object"&&typeof n.then=="function",qp=[];function Bte(n,e,s=(r,a)=>r===a){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let a=0;a<r;a++)if(!s(n[a],e[a]))return!1;return!0}function Vte(n,e=null,s=!1,r={}){e===null&&(e=[n]);for(const i of qp)if(Bte(e,i.keys,i.equal)){if(s)return;if(Object.prototype.hasOwnProperty.call(i,"error"))throw i.error;if(Object.prototype.hasOwnProperty.call(i,"response"))return r.lifespan&&r.lifespan>0&&(i.timeout&&clearTimeout(i.timeout),i.timeout=setTimeout(i.remove,r.lifespan)),i.response;if(!s)throw i.promise}const a={keys:e,equal:r.equal,remove:()=>{const i=qp.indexOf(a);i!==-1&&qp.splice(i,1)},promise:(RIe(n)?n:n(...e)).then(i=>{a.response=i,r.lifespan&&r.lifespan>0&&(a.timeout=setTimeout(a.remove,r.lifespan))}).catch(i=>a.error=i)};if(qp.push(a),!s)throw a.promise}const OIe=(n,e,s)=>Vte(n,e,!1,s),kIe=(n,e,s)=>void Vte(n,e,!0,s),IIe=n=>{if(n===void 0||n.length===0)qp.splice(0,qp.length);else{const e=qp.find(s=>Bte(n,s.keys,s.equal));e&&e.remove()}};var p3={exports:{}},x3={exports:{}},g3={exports:{}},v3={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aG;function DIe(){return aG||(aG=1,(function(n){function e(W,ee){var G=W.length;W.push(ee);e:for(;0<G;){var ae=G-1>>>1,fe=W[ae];if(0<a(fe,ee))W[ae]=ee,W[G]=fe,G=ae;else break e}}function s(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var ee=W[0],G=W.pop();if(G!==ee){W[0]=G;e:for(var ae=0,fe=W.length,se=fe>>>1;ae<se;){var me=2*(ae+1)-1,Oe=W[me],Ye=me+1,dt=W[Ye];if(0>a(Oe,G))Ye<fe&&0>a(dt,Oe)?(W[ae]=dt,W[Ye]=G,ae=Ye):(W[ae]=Oe,W[me]=G,ae=me);else if(Ye<fe&&0>a(dt,G))W[ae]=dt,W[Ye]=G,ae=Ye;else break e}}return ee}function a(W,ee){var G=W.sortIndex-ee.sortIndex;return G!==0?G:W.id-ee.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,y=!1,N=!1,j=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function S(W){for(var ee=s(d);ee!==null;){if(ee.callback===null)r(d);else if(ee.startTime<=W)r(d),ee.sortIndex=ee.expirationTime,e(c,ee);else break;ee=s(d)}}function w(W){if(j=!1,S(W),!N)if(s(c)!==null)N=!0,K();else{var ee=s(d);ee!==null&&J(w,ee.startTime-W)}}var E=!1,T=-1,P=5,k=-1;function I(){return!(n.unstable_now()-k<P)}function L(){if(E){var W=n.unstable_now();k=W;var ee=!0;try{e:{N=!1,j&&(j=!1,b(T),T=-1),y=!0;var G=m;try{t:{for(S(W),h=s(c);h!==null&&!(h.expirationTime>W&&I());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,m=h.priorityLevel;var fe=ae(h.expirationTime<=W);if(W=n.unstable_now(),typeof fe=="function"){h.callback=fe,S(W),ee=!0;break t}h===s(c)&&r(c),S(W)}else r(c);h=s(c)}if(h!==null)ee=!0;else{var se=s(d);se!==null&&J(w,se.startTime-W),ee=!1}}break e}finally{h=null,m=G,y=!1}ee=void 0}}finally{ee?U():E=!1}}}var U;if(typeof A=="function")U=function(){A(L)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,B=H.port2;H.port1.onmessage=L,U=function(){B.postMessage(null)}}else U=function(){v(L,0)};function K(){E||(E=!0,U())}function J(W,ee){T=v(function(){W(n.unstable_now())},ee)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_continueExecution=function(){N||y||(N=!0,K())},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return s(c)},n.unstable_next=function(W){switch(m){case 1:case 2:case 3:var ee=3;break;default:ee=m}var G=m;m=ee;try{return W()}finally{m=G}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(W,ee){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var G=m;m=W;try{return ee()}finally{m=G}},n.unstable_scheduleCallback=function(W,ee,G){var ae=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ae+G:ae):G=ae,W){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=G+fe,W={id:u++,callback:ee,priorityLevel:W,startTime:G,expirationTime:fe,sortIndex:-1},G>ae?(W.sortIndex=G,e(d,W),s(c)===null&&W===s(d)&&(j?(b(T),T=-1):j=!0,J(w,G-ae))):(W.sortIndex=fe,e(c,W),N||y||(N=!0,K())),W},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(W){var ee=m;return function(){var G=m;m=ee;try{return W.apply(this,arguments)}finally{m=G}}}})(v3)),v3}var iG;function Hte(){return iG||(iG=1,g3.exports=DIe()),g3.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oG;function LIe(){return oG||(oG=1,(function(n){n.exports=function(e){function s(p,g,C,O){return new km(p,g,C,O)}function r(){}function a(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var C=2;C<arguments.length;C++)g+="&args[]="+encodeURIComponent(arguments[C])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(p){return p===null||typeof p!="object"?null:(p=yg&&p[yg]||p["@@iterator"],typeof p=="function"?p:null)}function o(p){if(p==null)return null;if(typeof p=="function")return p.$$typeof===Wy?null:p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case Wh:return"Fragment";case Ru:return"Portal";case Nd:return"Profiler";case Tc:return"StrictMode";case Bi:return"Suspense";case Ec:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case nl:return(p.displayName||"Context")+".Provider";case Dm:return(p._context.displayName||"Context")+".Consumer";case zi:var g=p.render;return p=p.displayName,p||(p=g.displayName||g.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case sl:return g=p.displayName||null,g!==null?g:o(p.type)||"Memo";case ii:g=p._payload,p=p._init;try{return o(p(g))}catch{}}return null}function l(p){if(wi===void 0)try{throw Error()}catch(C){var g=C.stack.trim().match(/\n( *(at )?)/);wi=g&&g[1]||"",gr=-1<C.stack.indexOf(`
    at`)?" (<anonymous>)":-1<C.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wi+p+gr}function c(p,g){if(!p||io)return"";io=!0;var C=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var O={DetermineComponentFrameRoot:function(){try{if(g){var Zt=function(){throw Error()};if(Object.defineProperty(Zt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Zt,[])}catch(ts){var qt=ts}Reflect.construct(p,[],Zt)}else{try{Zt.call()}catch(ts){qt=ts}p.call(Zt.prototype)}}else{try{throw Error()}catch(ts){qt=ts}(Zt=p())&&typeof Zt.catch=="function"&&Zt.catch(function(){})}}catch(ts){if(ts&&qt&&typeof ts.stack=="string")return[ts.stack,qt.stack]}return[null,null]}};O.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var F=Object.getOwnPropertyDescriptor(O.DetermineComponentFrameRoot,"name");F&&F.configurable&&Object.defineProperty(O.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var V=O.DetermineComponentFrameRoot(),ie=V[0],Ae=V[1];if(ie&&Ae){var Ge=ie.split(`
`),pt=Ae.split(`
`);for(F=O=0;O<Ge.length&&!Ge[O].includes("DetermineComponentFrameRoot");)O++;for(;F<pt.length&&!pt[F].includes("DetermineComponentFrameRoot");)F++;if(O===Ge.length||F===pt.length)for(O=Ge.length-1,F=pt.length-1;1<=O&&0<=F&&Ge[O]!==pt[F];)F--;for(;1<=O&&0<=F;O--,F--)if(Ge[O]!==pt[F]){if(O!==1||F!==1)do if(O--,F--,0>F||Ge[O]!==pt[F]){var Rt=`
`+Ge[O].replace(" at new "," at ");return p.displayName&&Rt.includes("<anonymous>")&&(Rt=Rt.replace("<anonymous>",p.displayName)),Rt}while(1<=O&&0<=F);break}}}finally{io=!1,Error.prepareStackTrace=C}return(C=p?p.displayName||p.name:"")?l(C):""}function d(p){switch(p.tag){case 26:case 27:case 5:return l(p.type);case 16:return l("Lazy");case 13:return l("Suspense");case 19:return l("SuspenseList");case 0:case 15:return p=c(p.type,!1),p;case 11:return p=c(p.type.render,!1),p;case 1:return p=c(p.type,!0),p;default:return""}}function u(p){try{var g="";do g+=d(p),p=p.return;while(p);return g}catch(C){return`
Error generating stack: `+C.message+`
`+C.stack}}function h(p){var g=p,C=p;if(p.alternate)for(;g.return;)g=g.return;else{p=g;do g=p,(g.flags&4098)!==0&&(C=g.return),p=g.return;while(p)}return g.tag===3?C:null}function m(p){if(h(p)!==p)throw Error(a(188))}function y(p){var g=p.alternate;if(!g){if(g=h(p),g===null)throw Error(a(188));return g!==p?null:p}for(var C=p,O=g;;){var F=C.return;if(F===null)break;var V=F.alternate;if(V===null){if(O=F.return,O!==null){C=O;continue}break}if(F.child===V.child){for(V=F.child;V;){if(V===C)return m(F),p;if(V===O)return m(F),g;V=V.sibling}throw Error(a(188))}if(C.return!==O.return)C=F,O=V;else{for(var ie=!1,Ae=F.child;Ae;){if(Ae===C){ie=!0,C=F,O=V;break}if(Ae===O){ie=!0,O=F,C=V;break}Ae=Ae.sibling}if(!ie){for(Ae=V.child;Ae;){if(Ae===C){ie=!0,C=V,O=F;break}if(Ae===O){ie=!0,O=V,C=F;break}Ae=Ae.sibling}if(!ie)throw Error(a(189))}}if(C.alternate!==O)throw Error(a(190))}if(C.tag!==3)throw Error(a(188));return C.stateNode.current===C?p:g}function N(p){var g=p.tag;if(g===5||g===26||g===27||g===6)return p;for(p=p.child;p!==null;){if(g=N(p),g!==null)return g;p=p.sibling}return null}function j(p){var g=p.tag;if(g===5||g===26||g===27||g===6)return p;for(p=p.child;p!==null;){if(p.tag!==4&&(g=j(p),g!==null))return g;p=p.sibling}return null}function v(p){return{current:p}}function b(p){0>nf||(p.current=Km[nf],Km[nf]=null,nf--)}function A(p,g){nf++,Km[nf]=p.current,p.current=g}function S(p){return p>>>=0,p===0?32:31-(NN(p)/SN|0)|0}function w(p){var g=p&42;if(g!==0)return g;switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return p&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return p}}function E(p,g){var C=p.pendingLanes;if(C===0)return 0;var O=0,F=p.suspendedLanes,V=p.pingedLanes,ie=p.warmLanes;p=p.finishedLanes!==0;var Ae=C&134217727;return Ae!==0?(C=Ae&~F,C!==0?O=w(C):(V&=Ae,V!==0?O=w(V):p||(ie=Ae&~ie,ie!==0&&(O=w(ie))))):(Ae=C&~F,Ae!==0?O=w(Ae):V!==0?O=w(V):p||(ie=C&~ie,ie!==0&&(O=w(ie)))),O===0?0:g!==0&&g!==O&&(g&F)===0&&(F=O&-O,ie=g&-g,F>=ie||F===32&&(ie&4194176)!==0)?g:O}function T(p,g){return(p.pendingLanes&~(p.suspendedLanes&~p.pingedLanes)&g)===0}function P(p,g){switch(p){case 1:case 2:case 4:case 8:return g+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function k(){var p=Xm;return Xm<<=1,(Xm&4194176)===0&&(Xm=128),p}function I(){var p=kg;return kg<<=1,(kg&62914560)===0&&(kg=4194304),p}function L(p){for(var g=[],C=0;31>C;C++)g.push(p);return g}function U(p,g){p.pendingLanes|=g,g!==268435456&&(p.suspendedLanes=0,p.pingedLanes=0,p.warmLanes=0)}function H(p,g,C,O,F,V){var ie=p.pendingLanes;p.pendingLanes=C,p.suspendedLanes=0,p.pingedLanes=0,p.warmLanes=0,p.expiredLanes&=C,p.entangledLanes&=C,p.errorRecoveryDisabledLanes&=C,p.shellSuspendCounter=0;var Ae=p.entanglements,Ge=p.expirationTimes,pt=p.hiddenUpdates;for(C=ie&~C;0<C;){var Rt=31-Hi(C),Zt=1<<Rt;Ae[Rt]=0,Ge[Rt]=-1;var qt=pt[Rt];if(qt!==null)for(pt[Rt]=null,Rt=0;Rt<qt.length;Rt++){var ts=qt[Rt];ts!==null&&(ts.lane&=-536870913)}C&=~Zt}O!==0&&B(p,O,0),V!==0&&F===0&&p.tag!==0&&(p.suspendedLanes|=V&~(ie&~g))}function B(p,g,C){p.pendingLanes|=g,p.suspendedLanes&=~g;var O=31-Hi(g);p.entangledLanes|=g,p.entanglements[O]=p.entanglements[O]|1073741824|C&4194218}function K(p,g){var C=p.entangledLanes|=g;for(p=p.entanglements;C;){var O=31-Hi(C),F=1<<O;F&g|p[O]&g&&(p[O]|=g),C&=~F}}function J(p){return p&=-p,2<p?8<p?(p&134217727)!==0?32:268435456:8:2}function W(p){if(Ni&&typeof Ni.onCommitFiberRoot=="function")try{Ni.onCommitFiberRoot(sf,p,void 0,(p.current.flags&128)===128)}catch{}}function ee(p){if(typeof yb=="function"&&EN(p),Ni&&typeof Ni.setStrictMode=="function")try{Ni.setStrictMode(sf,p)}catch{}}function G(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}function ae(p,g){if(typeof p=="object"&&p!==null){var C=bb.get(p);return C!==void 0?C:(g={value:p,source:g,stack:u(g)},bb.set(p,g),g)}return{value:p,source:g,stack:u(g)}}function fe(p,g){_d[kc++]=Ym,_d[kc++]=Ig,Ig=p,Ym=g}function se(p,g,C){Gi[co++]=Ua,Gi[co++]=Ic,Gi[co++]=Ul,Ul=p;var O=Ua;p=Ic;var F=32-Hi(O)-1;O&=~(1<<F),C+=1;var V=32-Hi(g)+F;if(30<V){var ie=F-F%5;V=(O&(1<<ie)-1).toString(32),O>>=ie,F-=ie,Ua=1<<32-Hi(g)+F|C<<F|O,Ic=V+p}else Ua=1<<V|C<<F|O,Ic=p}function me(p){p.return!==null&&(fe(p,1),se(p,1,0))}function Oe(p){for(;p===Ig;)Ig=_d[--kc],_d[kc]=null,Ym=_d[--kc],_d[kc]=null;for(;p===Ul;)Ul=Gi[--co],Gi[co]=null,Ic=Gi[--co],Gi[co]=null,Ua=Gi[--co],Gi[co]=null}function Ye(p,g){A(Dc,g),A(Lu,p),A(ja,null),p=jg(g),b(ja),A(ja,p)}function dt(){b(ja),b(Lu),b(Dc)}function be(p){p.memoizedState!==null&&A(Qm,p);var g=ja.current,C=Jw(g,p.type);g!==C&&(A(Lu,p),A(ja,C))}function Ce(p){Lu.current===p&&(b(ja),b(Lu)),Qm.current===p&&(b(Qm),Oo?Ll._currentValue=oo:Ll._currentValue2=oo)}function Ue(p){var g=Error(a(418,""));throw pe(ae(g,p)),wa}function De(p,g){if(!Vi)throw Error(a(175));Mg(p.stateNode,p.type,p.memoizedProps,g,p)||Ue(p)}function qe(p){for(da=p.return;da;)switch(da.tag){case 3:case 27:uo=!0;return;case 5:case 13:uo=!1;return;default:da=da.return}}function rt(p){if(!Vi||p!==da)return!1;if(!Rs)return qe(p),Rs=!0,!1;var g=!1;if(Da?p.tag!==3&&p.tag!==27&&(p.tag!==5||ub(p.type)&&!Um(p.type,p.memoizedProps))&&(g=!0):p.tag!==3&&(p.tag!==5||ub(p.type)&&!Um(p.type,p.memoizedProps))&&(g=!0),g&&ks&&Ue(p),qe(p),p.tag===13){if(!Vi)throw Error(a(316));if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));ks=fN(p)}else ks=da?ob(p.stateNode):null;return!0}function $e(){Vi&&(ks=da=null,Rs=!1)}function pe(p){ol===null?ol=[p]:ol.push(p)}function Ke(){for(var p=Yt,g=Ad=Yt=0;g<p;){var C=Do[g];Do[g++]=null;var O=Do[g];Do[g++]=null;var F=Do[g];Do[g++]=null;var V=Do[g];if(Do[g++]=null,O!==null&&F!==null){var ie=O.pending;ie===null?F.next=F:(F.next=ie.next,ie.next=F),O.pending=F}V!==0&&At(C,F,V)}}function et(p,g,C,O){Do[Yt++]=p,Do[Yt++]=g,Do[Yt++]=C,Do[Yt++]=O,Ad|=O,p.lanes|=O,p=p.alternate,p!==null&&(p.lanes|=O)}function st(p,g,C,O){return et(p,g,C,O),xt(p)}function Qe(p,g){return et(p,null,null,g),xt(p)}function At(p,g,C){p.lanes|=C;var O=p.alternate;O!==null&&(O.lanes|=C);for(var F=!1,V=p.return;V!==null;)V.childLanes|=C,O=V.alternate,O!==null&&(O.childLanes|=C),V.tag===22&&(p=V.stateNode,p===null||p._visibility&1||(F=!0)),p=V,V=V.return;F&&g!==null&&p.tag===3&&(V=p.stateNode,F=31-Hi(C),V=V.hiddenUpdates,p=V[F],p===null?V[F]=[g]:p.push(g),g.lane=C|536870912)}function xt(p){if(50<kd)throw kd=0,ff=null,Error(a(185));for(var g=p.return;g!==null;)p=g,g=p.return;return p.tag===3?p.stateNode:null}function ue(p){p!==Fu&&p.next===null&&(Fu===null?rf=Fu=p:Fu=Fu.next=p),Cd=!0,jb||(jb=!0,Re(Ie))}function Ee(p,g){if(!af&&Cd){af=!0;do for(var C=!1,O=rf;O!==null;){if(p!==0){var F=O.pendingLanes;if(F===0)var V=0;else{var ie=O.suspendedLanes,Ae=O.pingedLanes;V=(1<<31-Hi(42|p)+1)-1,V&=F&~(ie&~Ae),V=V&201326677?V&201326677|1:V?V|2:0}V!==0&&(C=!0,je(O,V))}else V=Ts,V=E(O,O===nr?V:0),(V&3)===0||T(O,V)||(C=!0,je(O,V));O=O.next}while(C);af=!1}}function Ie(){Cd=jb=!1;var p=0;Td!==0&&(Qy()&&(p=Td),Td=0);for(var g=Io(),C=null,O=rf;O!==null;){var F=O.next,V=ne(O,g);V===0?(O.next=null,C===null?rf=F:C.next=F,F===null&&(Fu=C)):(C=O,(p!==0||(V&3)!==0)&&(Cd=!0)),O=F}Ee(p)}function ne(p,g){for(var C=p.suspendedLanes,O=p.pingedLanes,F=p.expirationTimes,V=p.pendingLanes&-62914561;0<V;){var ie=31-Hi(V),Ae=1<<ie,Ge=F[ie];Ge===-1?((Ae&C)===0||(Ae&O)!==0)&&(F[ie]=P(Ae,g)):Ge<=g&&(p.expiredLanes|=Ae),V&=~Ae}if(g=nr,C=Ts,C=E(p,p===g?C:0),O=p.callbackNode,C===0||p===g&&Is===2||p.cancelPendingCommit!==null)return O!==null&&O!==null&&Fa(O),p.callbackNode=null,p.callbackPriority=0;if((C&3)===0||T(p,C)){if(g=C&-C,g===p.callbackPriority)return g;switch(O!==null&&Fa(O),J(C)){case 2:case 8:C=CN;break;case 32:C=Zm;break;case 268435456:C=TN;break;default:C=Zm}return O=X.bind(null,p),C=La(C,O),p.callbackPriority=g,p.callbackNode=C,g}return O!==null&&O!==null&&Fa(O),p.callbackPriority=2,p.callbackNode=null,2}function X(p,g){var C=p.callbackNode;if(bd()&&p.callbackNode!==C)return null;var O=Ts;return O=E(p,p===nr?O:0),O===0?null:(dr(p,O,g),ne(p,Io()),p.callbackNode!=null&&p.callbackNode===C?X.bind(null,p):null)}function je(p,g){if(bd())return null;dr(p,g,!0)}function Re(p){Ng?sN(function(){(Ws&6)!==0?La(vb,p):p()}):La(vb,p)}function nt(){return Td===0&&(Td=k()),Td}function We(p,g){if(of===null){var C=of=[];Dg=0,Uu=nt(),Ed={status:"pending",value:void 0,then:function(O){C.push(O)}}}return Dg++,g.then(Ft,Ft),g}function Ft(){if(--Dg===0&&of!==null){Ed!==null&&(Ed.status="fulfilled");var p=of;of=null,Uu=0,Ed=null;for(var g=0;g<p.length;g++)(0,p[g])()}}function Et(p,g){var C=[],O={status:"pending",value:null,reason:null,then:function(F){C.push(F)}};return p.then(function(){O.status="fulfilled",O.value=g;for(var F=0;F<C.length;F++)(0,C[F])(g)},function(F){for(O.status="rejected",O.reason=F,F=0;F<C.length;F++)(0,C[F])(void 0)}),O}function Ut(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qt(p,g){p=p.updateQueue,g.updateQueue===p&&(g.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,callbacks:null})}function wt(p){return{lane:p,tag:0,payload:null,callback:null,next:null}}function _t(p,g,C){var O=p.updateQueue;if(O===null)return null;if(O=O.shared,(Ws&2)!==0){var F=O.pending;return F===null?g.next=g:(g.next=F.next,F.next=g),O.pending=g,g=xt(p),At(p,null,C),g}return et(p,O,g,C),xt(p)}function hn(p,g,C){if(g=g.updateQueue,g!==null&&(g=g.shared,(C&4194176)!==0)){var O=g.lanes;O&=p.pendingLanes,C|=O,g.lanes=C,K(p,C)}}function Se(p,g){var C=p.updateQueue,O=p.alternate;if(O!==null&&(O=O.updateQueue,C===O)){var F=null,V=null;if(C=C.firstBaseUpdate,C!==null){do{var ie={lane:C.lane,tag:C.tag,payload:C.payload,callback:null,next:null};V===null?F=V=ie:V=V.next=ie,C=C.next}while(C!==null);V===null?F=V=g:V=V.next=g}else F=V=g;C={baseState:O.baseState,firstBaseUpdate:F,lastBaseUpdate:V,shared:O.shared,callbacks:O.callbacks},p.updateQueue=C;return}p=C.lastBaseUpdate,p===null?C.firstBaseUpdate=g:p.next=g,C.lastBaseUpdate=g}function Be(){if(ua){var p=Ed;if(p!==null)throw p}}function bt(p,g,C,O){ua=!1;var F=p.updateQueue;zl=!1;var V=F.firstBaseUpdate,ie=F.lastBaseUpdate,Ae=F.shared.pending;if(Ae!==null){F.shared.pending=null;var Ge=Ae,pt=Ge.next;Ge.next=null,ie===null?V=pt:ie.next=pt,ie=Ge;var Rt=p.alternate;Rt!==null&&(Rt=Rt.updateQueue,Ae=Rt.lastBaseUpdate,Ae!==ie&&(Ae===null?Rt.firstBaseUpdate=pt:Ae.next=pt,Rt.lastBaseUpdate=Ge))}if(V!==null){var Zt=F.baseState;ie=0,Rt=pt=Ge=null,Ae=V;do{var qt=Ae.lane&-536870913,ts=qt!==Ae.lane;if(ts?(Ts&qt)===qt:(O&qt)===qt){qt!==0&&qt===Uu&&(ua=!0),Rt!==null&&(Rt=Rt.next={lane:0,tag:Ae.tag,payload:Ae.payload,callback:null,next:null});e:{var _i=p,f=Ae;qt=g;var x=C;switch(f.tag){case 1:if(_i=f.payload,typeof _i=="function"){Zt=_i.call(x,Zt,qt);break e}Zt=_i;break e;case 3:_i.flags=_i.flags&-65537|128;case 0:if(_i=f.payload,qt=typeof _i=="function"?_i.call(x,Zt,qt):_i,qt==null)break e;Zt=tl({},Zt,qt);break e;case 2:zl=!0}}qt=Ae.callback,qt!==null&&(p.flags|=64,ts&&(p.flags|=8192),ts=F.callbacks,ts===null?F.callbacks=[qt]:ts.push(qt))}else ts={lane:qt,tag:Ae.tag,payload:Ae.payload,callback:Ae.callback,next:null},Rt===null?(pt=Rt=ts,Ge=Zt):Rt=Rt.next=ts,ie|=qt;if(Ae=Ae.next,Ae===null){if(Ae=F.shared.pending,Ae===null)break;ts=Ae,Ae=ts.next,ts.next=null,F.lastBaseUpdate=ts,F.shared.pending=null}}while(!0);Rt===null&&(Ge=Zt),F.baseState=Ge,F.firstBaseUpdate=pt,F.lastBaseUpdate=Rt,V===null&&(F.shared.lanes=0),zc|=ie,p.lanes=ie,p.memoizedState=Zt}}function _e(p,g){if(typeof p!="function")throw Error(a(191,p));p.call(g)}function Le(p,g){var C=p.callbacks;if(C!==null)for(p.callbacks=null,p=0;p<C.length;p++)_e(C[p],g)}function St(p,g){if(Si(p,g))return!0;if(typeof p!="object"||p===null||typeof g!="object"||g===null)return!1;var C=Object.keys(p),O=Object.keys(g);if(C.length!==O.length)return!1;for(O=0;O<C.length;O++){var F=C[O];if(!ll.call(g,F)||!Si(p[F],g[F]))return!1}return!0}function zt(p){return p=p.status,p==="fulfilled"||p==="rejected"}function Tt(){}function yt(p,g,C){switch(C=p[C],C===void 0?p.push(g):C!==g&&(g.then(Tt,Tt),g=C),g.status){case"fulfilled":return g.value;case"rejected":throw p=g.reason,p===Lo?Error(a(483)):p;default:if(typeof g.status=="string")g.then(Tt,Tt);else{if(p=nr,p!==null&&100<p.shellSuspendCounter)throw Error(a(482));p=g,p.status="pending",p.then(function(O){if(g.status==="pending"){var F=g;F.status="fulfilled",F.value=O}},function(O){if(g.status==="pending"){var F=g;F.status="rejected",F.reason=O}})}switch(g.status){case"fulfilled":return g.value;case"rejected":throw p=g.reason,p===Lo?Error(a(483)):p}throw li=g,Lo}}function Ht(){if(li===null)throw Error(a(459));var p=li;return li=null,p}function gn(p){var g=$i;return $i+=1,zu===null&&(zu=[]),yt(zu,p,g)}function as(p,g){g=g.props.ref,p.ref=g!==void 0?g:null}function Zn(p,g){throw g.$$typeof===vg?Error(a(525)):(p=Object.prototype.toString.call(g),Error(a(31,p==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":p)))}function Wr(p){var g=p._init;return g(p._payload)}function wr(p){function g(_,M){if(p){var D=_.deletions;D===null?(_.deletions=[M],_.flags|=16):D.push(M)}}function C(_,M){if(!p)return null;for(;M!==null;)g(_,M),M=M.sibling;return null}function O(_){for(var M=new Map;_!==null;)_.key!==null?M.set(_.key,_):M.set(_.index,_),_=_.sibling;return M}function F(_,M){return _=el(_,M),_.index=0,_.sibling=null,_}function V(_,M,D){return _.index=D,p?(D=_.alternate,D!==null?(D=D.index,D<M?(_.flags|=33554434,M):D):(_.flags|=33554434,M)):(_.flags|=1048576,M)}function ie(_){return p&&_.alternate===null&&(_.flags|=33554434),_}function Ae(_,M,D,z){return M===null||M.tag!==6?(M=Zs(D,_.mode,z),M.return=_,M):(M=F(M,D),M.return=_,M)}function Ge(_,M,D,z){var Z=D.type;return Z===Wh?Rt(_,M,D.props.children,z,D.key):M!==null&&(M.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===ii&&Wr(Z)===M.type)?(M=F(M,D.props),as(M,D),M.return=_,M):(M=Cc(D.type,D.key,D.props,null,_.mode,z),as(M,D),M.return=_,M)}function pt(_,M,D,z){return M===null||M.tag!==4||M.stateNode.containerInfo!==D.containerInfo||M.stateNode.implementation!==D.implementation?(M=Il(D,_.mode,z),M.return=_,M):(M=F(M,D.children||[]),M.return=_,M)}function Rt(_,M,D,z,Z){return M===null||M.tag!==7?(M=Fi(D,_.mode,z,Z),M.return=_,M):(M=F(M,D),M.return=_,M)}function Zt(_,M,D){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Zs(""+M,_.mode,D),M.return=_,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case qh:return D=Cc(M.type,M.key,M.props,null,_.mode,D),as(D,M),D.return=_,D;case Ru:return M=Il(M,_.mode,D),M.return=_,M;case ii:var z=M._init;return M=z(M._payload),Zt(_,M,D)}if(Lm(M)||i(M))return M=Fi(M,_.mode,D,null),M.return=_,M;if(typeof M.then=="function")return Zt(_,gn(M),D);if(M.$$typeof===nl)return Zt(_,Xx(_,M),D);Zn(_,M)}return null}function qt(_,M,D,z){var Z=M!==null?M.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return Z!==null?null:Ae(_,M,""+D,z);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case qh:return D.key===Z?Ge(_,M,D,z):null;case Ru:return D.key===Z?pt(_,M,D,z):null;case ii:return Z=D._init,D=Z(D._payload),qt(_,M,D,z)}if(Lm(D)||i(D))return Z!==null?null:Rt(_,M,D,z,null);if(typeof D.then=="function")return qt(_,M,gn(D),z);if(D.$$typeof===nl)return qt(_,M,Xx(_,D),z);Zn(_,D)}return null}function ts(_,M,D,z,Z){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return _=_.get(D)||null,Ae(M,_,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case qh:return _=_.get(z.key===null?D:z.key)||null,Ge(M,_,z,Z);case Ru:return _=_.get(z.key===null?D:z.key)||null,pt(M,_,z,Z);case ii:var ve=z._init;return z=ve(z._payload),ts(_,M,D,z,Z)}if(Lm(z)||i(z))return _=_.get(D)||null,Rt(M,_,z,Z,null);if(typeof z.then=="function")return ts(_,M,D,gn(z),Z);if(z.$$typeof===nl)return ts(_,M,D,Xx(M,z),Z);Zn(M,z)}return null}function _i(_,M,D,z){for(var Z=null,ve=null,we=M,ze=M=0,vt=null;we!==null&&ze<D.length;ze++){we.index>ze?(vt=we,we=null):vt=we.sibling;var ut=qt(_,we,D[ze],z);if(ut===null){we===null&&(we=vt);break}p&&we&&ut.alternate===null&&g(_,we),M=V(ut,M,ze),ve===null?Z=ut:ve.sibling=ut,ve=ut,we=vt}if(ze===D.length)return C(_,we),Rs&&fe(_,ze),Z;if(we===null){for(;ze<D.length;ze++)we=Zt(_,D[ze],z),we!==null&&(M=V(we,M,ze),ve===null?Z=we:ve.sibling=we,ve=we);return Rs&&fe(_,ze),Z}for(we=O(we);ze<D.length;ze++)vt=ts(we,_,ze,D[ze],z),vt!==null&&(p&&vt.alternate!==null&&we.delete(vt.key===null?ze:vt.key),M=V(vt,M,ze),ve===null?Z=vt:ve.sibling=vt,ve=vt);return p&&we.forEach(function(Nt){return g(_,Nt)}),Rs&&fe(_,ze),Z}function f(_,M,D,z){if(D==null)throw Error(a(151));for(var Z=null,ve=null,we=M,ze=M=0,vt=null,ut=D.next();we!==null&&!ut.done;ze++,ut=D.next()){we.index>ze?(vt=we,we=null):vt=we.sibling;var Nt=qt(_,we,ut.value,z);if(Nt===null){we===null&&(we=vt);break}p&&we&&Nt.alternate===null&&g(_,we),M=V(Nt,M,ze),ve===null?Z=Nt:ve.sibling=Nt,ve=Nt,we=vt}if(ut.done)return C(_,we),Rs&&fe(_,ze),Z;if(we===null){for(;!ut.done;ze++,ut=D.next())ut=Zt(_,ut.value,z),ut!==null&&(M=V(ut,M,ze),ve===null?Z=ut:ve.sibling=ut,ve=ut);return Rs&&fe(_,ze),Z}for(we=O(we);!ut.done;ze++,ut=D.next())ut=ts(we,_,ze,ut.value,z),ut!==null&&(p&&ut.alternate!==null&&we.delete(ut.key===null?ze:ut.key),M=V(ut,M,ze),ve===null?Z=ut:ve.sibling=ut,ve=ut);return p&&we.forEach(function(Jt){return g(_,Jt)}),Rs&&fe(_,ze),Z}function x(_,M,D,z){if(typeof D=="object"&&D!==null&&D.type===Wh&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case qh:e:{for(var Z=D.key;M!==null;){if(M.key===Z){if(Z=D.type,Z===Wh){if(M.tag===7){C(_,M.sibling),z=F(M,D.props.children),z.return=_,_=z;break e}}else if(M.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===ii&&Wr(Z)===M.type){C(_,M.sibling),z=F(M,D.props),as(z,D),z.return=_,_=z;break e}C(_,M);break}else g(_,M);M=M.sibling}D.type===Wh?(z=Fi(D.props.children,_.mode,z,D.key),z.return=_,_=z):(z=Cc(D.type,D.key,D.props,null,_.mode,z),as(z,D),z.return=_,_=z)}return ie(_);case Ru:e:{for(Z=D.key;M!==null;){if(M.key===Z)if(M.tag===4&&M.stateNode.containerInfo===D.containerInfo&&M.stateNode.implementation===D.implementation){C(_,M.sibling),z=F(M,D.children||[]),z.return=_,_=z;break e}else{C(_,M);break}else g(_,M);M=M.sibling}z=Il(D,_.mode,z),z.return=_,_=z}return ie(_);case ii:return Z=D._init,D=Z(D._payload),x(_,M,D,z)}if(Lm(D))return _i(_,M,D,z);if(i(D)){if(Z=i(D),typeof Z!="function")throw Error(a(150));return D=Z.call(D),f(_,M,D,z)}if(typeof D.then=="function")return x(_,M,gn(D),z);if(D.$$typeof===nl)return x(_,M,Xx(_,D),z);Zn(_,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,M!==null&&M.tag===6?(C(_,M.sibling),z=F(M,D),z.return=_,_=z):(C(_,M),z=Zs(D,_.mode,z),z.return=_,_=z),ie(_)):C(_,M)}return function(_,M,D,z){try{$i=0;var Z=x(_,M,D,z);return zu=null,Z}catch(we){if(we===Lo)throw we;var ve=s(29,we,null,_.mode);return ve.lanes=z,ve.return=_,ve}finally{}}}function hc(p,g){p=Uc,A(ep,p),A(Vu,g),Uc=p|g.baseLanes}function Oa(){A(ep,Uc),A(Vu,Vu.current)}function Mo(){Uc=ep.current,b(Vu),b(ep)}function ka(p){var g=p.alternate;A(zr,zr.current&1),A(ho,p),Bl===null&&(g===null||Vu.current!==null||g.memoizedState!==null)&&(Bl=p)}function Di(p){if(p.tag===22){if(A(zr,zr.current),A(ho,p),Bl===null){var g=p.alternate;g!==null&&g.memoizedState!==null&&(Bl=p)}}else Ur()}function Ur(){A(zr,zr.current),A(ho,ho.current)}function Ln(p){b(ho),Bl===p&&(Bl=null),b(zr)}function Po(p){for(var g=p;g!==null;){if(g.tag===13){var C=g.memoizedState;if(C!==null&&(C=C.dehydrated,C===null||Gm(C)||$m(C)))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===p)break;for(;g.sibling===null;){if(g.return===null||g.return===p)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}function cr(){throw Error(a(321))}function Q(p,g){if(g===null)return!1;for(var C=0;C<g.length&&C<p.length;C++)if(!Si(p[C],g[C]))return!1;return!0}function ce(p,g,C,O,F,V){return Vl=V,Fn=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,Tn.H=p===null||p.memoizedState===null?cl:Xr,ha=!1,V=C(O,F),ha=!1,Br&&(V=tt(g,C,O,F)),Me(p),V}function Me(p){Tn.H=Fo;var g=yn!==null&&yn.next!==null;if(Vl=0,bs=yn=Fn=null,Or=!1,kr=0,Hl=null,g)throw Error(a(300));p===null||na||(p=p.dependencies,p!==null&&Kx(p)&&(na=!0))}function tt(p,g,C,O){Fn=p;var F=0;do{if(Br&&(Hl=null),kr=0,Br=!1,25<=F)throw Error(a(301));if(F+=1,bs=yn=null,p.updateQueue!=null){var V=p.updateQueue;V.lastEffect=null,V.events=null,V.stores=null,V.memoCache!=null&&(V.memoCache.index=0)}Tn.H=Fc,V=g(C,O)}while(Br);return V}function ot(){var p=Tn.H,g=p.useState()[0];return g=typeof g.then=="function"?Te(g):g,p=p.useState()[0],(yn!==null?yn.memoizedState:null)!==p&&(Fn.flags|=1024),g}function it(){var p=Lc!==0;return Lc=0,p}function Mt(p,g,C){g.updateQueue=p.updateQueue,g.flags&=-2053,p.lanes&=~C}function Y(p){if(Or){for(p=p.memoizedState;p!==null;){var g=p.queue;g!==null&&(g.pending=null),p=p.next}Or=!1}Vl=0,bs=yn=Fn=null,Br=!1,kr=Lc=0,Hl=null}function ye(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bs===null?Fn.memoizedState=bs=p:bs=bs.next=p,bs}function Ne(){if(yn===null){var p=Fn.alternate;p=p!==null?p.memoizedState:null}else p=yn.next;var g=bs===null?Fn.memoizedState:bs.next;if(g!==null)bs=g,yn=p;else{if(p===null)throw Fn.alternate===null?Error(a(467)):Error(a(310));yn=p,p={memoizedState:yn.memoizedState,baseState:yn.baseState,baseQueue:yn.baseQueue,queue:yn.queue,next:null},bs===null?Fn.memoizedState=bs=p:bs=bs.next=p}return bs}function Te(p){var g=kr;return kr+=1,Hl===null&&(Hl=[]),p=yt(Hl,p,g),g=Fn,(bs===null?g.memoizedState:bs.next)===null&&(g=g.alternate,Tn.H=g===null||g.memoizedState===null?cl:Xr),p}function xe(p){if(p!==null&&typeof p=="object"){if(typeof p.then=="function")return Te(p);if(p.$$typeof===nl)return ni(p)}throw Error(a(438,String(p)))}function gt(p){var g=null,C=Fn.updateQueue;if(C!==null&&(g=C.memoCache),g==null){var O=Fn.alternate;O!==null&&(O=O.updateQueue,O!==null&&(O=O.memoCache,O!=null&&(g={data:O.data.map(function(F){return F.slice()}),index:0})))}if(g==null&&(g={data:[],index:0}),C===null&&(C=lf(),Fn.updateQueue=C),C.memoCache=g,C=g.data[g.index],C===void 0)for(C=g.data[g.index]=Array(p),O=0;O<p;O++)C[O]=Yw;return g.index++,C}function at(p,g){return typeof g=="function"?g(p):g}function ft(p){var g=Ne();return jt(g,yn,p)}function jt(p,g,C){var O=p.queue;if(O===null)throw Error(a(311));O.lastRenderedReducer=C;var F=p.baseQueue,V=O.pending;if(V!==null){if(F!==null){var ie=F.next;F.next=V.next,V.next=ie}g.baseQueue=F=V,O.pending=null}if(V=p.baseState,F===null)p.memoizedState=V;else{g=F.next;var Ae=ie=null,Ge=null,pt=g,Rt=!1;do{var Zt=pt.lane&-536870913;if(Zt!==pt.lane?(Ts&Zt)===Zt:(Vl&Zt)===Zt){var qt=pt.revertLane;if(qt===0)Ge!==null&&(Ge=Ge.next={lane:0,revertLane:0,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null}),Zt===Uu&&(Rt=!0);else if((Vl&qt)===qt){pt=pt.next,qt===Uu&&(Rt=!0);continue}else Zt={lane:0,revertLane:pt.revertLane,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null},Ge===null?(Ae=Ge=Zt,ie=V):Ge=Ge.next=Zt,Fn.lanes|=qt,zc|=qt;Zt=pt.action,ha&&C(V,Zt),V=pt.hasEagerState?pt.eagerState:C(V,Zt)}else qt={lane:Zt,revertLane:pt.revertLane,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null},Ge===null?(Ae=Ge=qt,ie=V):Ge=Ge.next=qt,Fn.lanes|=Zt,zc|=Zt;pt=pt.next}while(pt!==null&&pt!==g);if(Ge===null?ie=V:Ge.next=Ae,!Si(V,p.memoizedState)&&(na=!0,Rt&&(C=Ed,C!==null)))throw C;p.memoizedState=V,p.baseState=ie,p.baseQueue=Ge,O.lastRenderedState=V}return F===null&&(O.lanes=0),[p.memoizedState,O.dispatch]}function Pt(p){var g=Ne(),C=g.queue;if(C===null)throw Error(a(311));C.lastRenderedReducer=p;var O=C.dispatch,F=C.pending,V=g.memoizedState;if(F!==null){C.pending=null;var ie=F=F.next;do V=p(V,ie.action),ie=ie.next;while(ie!==F);Si(V,g.memoizedState)||(na=!0),g.memoizedState=V,g.baseQueue===null&&(g.baseState=V),C.lastRenderedState=V}return[V,O]}function Vt(p,g,C){var O=Fn,F=Ne(),V=Rs;if(V){if(C===void 0)throw Error(a(407));C=C()}else C=g();var ie=!Si((yn||F).memoizedState,C);if(ie&&(F.memoizedState=C,na=!0),F=F.queue,Ux($n.bind(null,O,F,p),[p]),F.getSnapshot!==g||ie||bs!==null&&bs.memoizedState.tag&1){if(O.flags|=2048,es(9,an.bind(null,O,F,C,g),{destroy:void 0},null),nr===null)throw Error(a(349));V||(Vl&60)!==0||Dt(O,g,C)}return C}function Dt(p,g,C){p.flags|=16384,p={getSnapshot:g,value:C},g=Fn.updateQueue,g===null?(g=lf(),Fn.updateQueue=g,g.stores=[p]):(C=g.stores,C===null?g.stores=[p]:C.push(p))}function an(p,g,C,O){g.value=C,g.getSnapshot=O,mn(g)&&hs(p)}function $n(p,g,C){return C(function(){mn(g)&&hs(p)})}function mn(p){var g=p.getSnapshot;p=p.value;try{var C=g();return!Si(p,C)}catch{return!0}}function hs(p){var g=Qe(p,2);g!==null&&ri(g,p,2)}function Cn(p){var g=ye();if(typeof p=="function"){var C=p;if(p=C(),ha){ee(!0);try{C()}finally{ee(!1)}}}return g.memoizedState=g.baseState=p,g.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:at,lastRenderedState:p},g}function Xt(p,g,C,O){return p.baseState=C,jt(p,yn,typeof O=="function"?O:at)}function xs(p,g,C,O,F){if(gc(p))throw Error(a(485));if(p=g.action,p!==null){var V={payload:F,action:p,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ie){V.listeners.push(ie)}};Tn.T!==null?C(!0):V.isTransition=!1,O(V),C=g.pending,C===null?(V.next=g.pending=V,Qn(g,V)):(V.next=C.next,g.pending=C.next=V)}}function Qn(p,g){var C=g.action,O=g.payload,F=p.state;if(g.isTransition){var V=Tn.T,ie={};Tn.T=ie;try{var Ae=C(F,O),Ge=Tn.S;Ge!==null&&Ge(ie,Ae),Es(p,g,Ae)}catch(pt){Cs(p,g,pt)}finally{Tn.T=V}}else try{V=C(F,O),Es(p,g,V)}catch(pt){Cs(p,g,pt)}}function Es(p,g,C){C!==null&&typeof C=="object"&&typeof C.then=="function"?C.then(function(O){cs(p,g,O)},function(O){return Cs(p,g,O)}):cs(p,g,C)}function cs(p,g,C){g.status="fulfilled",g.value=C,Ms(g),p.state=C,g=p.pending,g!==null&&(C=g.next,C===g?p.pending=null:(C=C.next,g.next=C,Qn(p,C)))}function Cs(p,g,C){var O=p.pending;if(p.pending=null,O!==null){O=O.next;do g.status="rejected",g.reason=C,Ms(g),g=g.next;while(g!==O)}p.action=null}function Ms(p){p=p.listeners;for(var g=0;g<p.length;g++)(0,p[g])()}function Sn(p,g){return g}function qs(p,g){if(Rs){var C=nr.formState;if(C!==null){e:{var O=Fn;if(Rs){if(ks){var F=oN(ks,uo);if(F){ks=ob(F),O=lN(F);break e}}Ue(O)}O=!1}O&&(g=C[0])}}C=ye(),C.memoizedState=C.baseState=g,O={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:g},C.queue=O,C=Pw.bind(null,Fn,O),O.dispatch=C,O=Cn(!1);var V=bu.bind(null,Fn,!1,O.queue);return O=ye(),F={state:g,dispatch:null,action:p,pending:null},O.queue=F,C=xs.bind(null,Fn,F,V,C),F.dispatch=C,O.memoizedState=p,[g,C,!1]}function pr(p){var g=Ne();return ws(g,yn,p)}function ws(p,g,C){g=jt(p,g,Sn)[0],p=ft(at)[0],g=typeof g=="object"&&g!==null&&typeof g.then=="function"?Te(g):g;var O=Ne(),F=O.queue,V=F.dispatch;return C!==O.memoizedState&&(Fn.flags|=2048,es(9,xr.bind(null,F,C),{destroy:void 0},null)),[g,V,p]}function xr(p,g){p.action=g}function fd(p){var g=Ne(),C=yn;if(C!==null)return ws(g,C,p);Ne(),g=g.memoizedState,C=Ne();var O=C.queue.dispatch;return C.memoizedState=p,[g,O,!1]}function es(p,g,C,O){return p={tag:p,create:g,inst:C,deps:O,next:null},g=Fn.updateQueue,g===null&&(g=lf(),Fn.updateQueue=g),C=g.lastEffect,C===null?g.lastEffect=p.next=p:(O=C.next,C.next=p,p.next=O,g.lastEffect=p),p}function gy(){return Ne().memoizedState}function um(p,g,C,O){var F=ye();Fn.flags|=p,F.memoizedState=es(1|g,C,{destroy:void 0},O===void 0?null:O)}function Lh(p,g,C,O){var F=Ne();O=O===void 0?null:O;var V=F.memoizedState.inst;yn!==null&&O!==null&&Q(O,yn.memoizedState.deps)?F.memoizedState=es(g,C,V,O):(Fn.flags|=p,F.memoizedState=es(1|g,C,V,O))}function vy(p,g){um(8390656,8,p,g)}function Ux(p,g){Lh(2048,8,p,g)}function yy(p,g){return Lh(4,2,p,g)}function zx(p,g){return Lh(4,4,p,g)}function hm(p,g){if(typeof g=="function"){p=p();var C=g(p);return function(){typeof C=="function"?C():g(null)}}if(g!=null)return p=p(),g.current=p,function(){g.current=null}}function fc(p,g,C){C=C!=null?C.concat([p]):null,Lh(4,4,hm.bind(null,g,p),C)}function Pl(){}function mc(p,g){var C=Ne();g=g===void 0?null:g;var O=C.memoizedState;return g!==null&&Q(g,O[1])?O[0]:(C.memoizedState=[p,g],p)}function Fh(p,g){var C=Ne();g=g===void 0?null:g;var O=C.memoizedState;if(g!==null&&Q(g,O[1]))return O[0];if(O=p(),ha){ee(!0);try{p()}finally{ee(!1)}}return C.memoizedState=[O,g],O}function vu(p,g,C){return C===void 0||(Vl&1073741824)!==0?p.memoizedState=g:(p.memoizedState=C,p=Vy(),Fn.lanes|=p,zc|=p,C)}function pc(p,g,C,O){return Si(C,g)?C:Vu.current!==null?(p=vu(p,C,O),Si(p,g)||(na=!0),p):(Vl&42)===0?(na=!0,p.memoizedState=C):(p=Vy(),Fn.lanes|=p,zc|=p,g)}function Tw(p,g,C,O,F){var V=ya();ca(V!==0&&8>V?V:8);var ie=Tn.T,Ae={};Tn.T=Ae,bu(p,!1,g,C);try{var Ge=F(),pt=Tn.S;if(pt!==null&&pt(Ae,Ge),Ge!==null&&typeof Ge=="object"&&typeof Ge.then=="function"){var Rt=Et(Ge,O);xc(p,g,Rt,ao(p))}else xc(p,g,O,ao(p))}catch(Zt){xc(p,g,{then:function(){},status:"rejected",reason:Zt},ao())}finally{ca(V),Tn.T=ie}}function by(p){var g=p.memoizedState;if(g!==null)return g;g={memoizedState:oo,baseState:oo,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:at,lastRenderedState:oo},next:null};var C={};return g.next={memoizedState:C,baseState:C,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:at,lastRenderedState:C},next:null},p.memoizedState=g,p=p.alternate,p!==null&&(p.memoizedState=g),g}function yu(){return ni(Ll)}function Ew(){return Ne().memoizedState}function jy(){return Ne().memoizedState}function Bx(p){for(var g=p.return;g!==null;){switch(g.tag){case 24:case 3:var C=ao();p=wt(C);var O=_t(g,p,C);O!==null&&(ri(O,g,C),hn(O,g,C)),g={cache:My()},p.payload=g;return}g=g.return}}function Mw(p,g,C){var O=ao();C={lane:O,revertLane:0,action:C,hasEagerState:!1,eagerState:null,next:null},gc(p)?fm(g,C):(C=st(p,g,C,O),C!==null&&(ri(C,p,O),Rw(C,g,O)))}function Pw(p,g,C){var O=ao();xc(p,g,C,O)}function xc(p,g,C,O){var F={lane:O,revertLane:0,action:C,hasEagerState:!1,eagerState:null,next:null};if(gc(p))fm(g,F);else{var V=p.alternate;if(p.lanes===0&&(V===null||V.lanes===0)&&(V=g.lastRenderedReducer,V!==null))try{var ie=g.lastRenderedState,Ae=V(ie,C);if(F.hasEagerState=!0,F.eagerState=Ae,Si(Ae,ie))return et(p,g,F,0),nr===null&&Ke(),!1}catch{}finally{}if(C=st(p,g,F,O),C!==null)return ri(C,p,O),Rw(C,g,O),!0}return!1}function bu(p,g,C,O){if(O={lane:2,revertLane:nt(),action:O,hasEagerState:!1,eagerState:null,next:null},gc(p)){if(g)throw Error(a(479))}else g=st(p,C,O,2),g!==null&&ri(g,p,2)}function gc(p){var g=p.alternate;return p===Fn||g!==null&&g===Fn}function fm(p,g){Br=Or=!0;var C=p.pending;C===null?g.next=g:(g.next=C.next,C.next=g),p.pending=g}function Rw(p,g,C){if((C&4194176)!==0){var O=g.lanes;O&=p.pendingLanes,C|=O,g.lanes=C,K(p,C)}}function wy(p,g,C,O){g=p.memoizedState,C=C(O,g),C=C==null?g:tl({},g,C),p.memoizedState=C,p.lanes===0&&(p.updateQueue.baseState=C)}function Vx(p,g,C,O,F,V,ie){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(O,V,ie):g.prototype&&g.prototype.isPureReactComponent?!St(C,O)||!St(F,V):!0}function mm(p,g,C,O){p=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(C,O),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(C,O),g.state!==p&&Md.enqueueReplaceState(g,g.state,null)}function vc(p,g){var C=g;if("ref"in g){C={};for(var O in g)O!=="ref"&&(C[O]=g[O])}if(p=p.defaultProps){C===g&&(C=tl({},C));for(var F in p)C[F]===void 0&&(C[F]=p[F])}return C}function pm(p,g){try{var C=p.onUncaughtError;C(g.value,{componentStack:g.stack})}catch(O){setTimeout(function(){throw O})}}function yc(p,g,C){try{var O=p.onCaughtError;O(C.value,{componentStack:C.stack,errorBoundary:g.tag===1?g.stateNode:null})}catch(F){setTimeout(function(){throw F})}}function xm(p,g,C){return C=wt(C),C.tag=3,C.payload={element:null},C.callback=function(){pm(p,g)},C}function gm(p){return p=wt(p),p.tag=3,p}function Ny(p,g,C,O){var F=C.type.getDerivedStateFromError;if(typeof F=="function"){var V=O.value;p.payload=function(){return F(V)},p.callback=function(){yc(g,C,O)}}var ie=C.stateNode;ie!==null&&typeof ie.componentDidCatch=="function"&&(p.callback=function(){yc(g,C,O),typeof F!="function"&&(Wl===null?Wl=new Set([this]):Wl.add(this));var Ae=O.stack;this.componentDidCatch(O.value,{componentStack:Ae!==null?Ae:""})})}function Hx(p,g,C,O,F){if(C.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){if(g=C.alternate,g!==null&&Nm(g,C,F,!0),C=ho.current,C!==null){switch(C.tag){case 13:return Bl===null?dg():C.alternate===null&&Vr===0&&(Vr=3),C.flags&=-257,C.flags|=65536,C.lanes=F,O===Jm?C.flags|=16384:(g=C.updateQueue,g===null?C.updateQueue=new Set([O]):g.add(O),Eu(p,O,F)),!1;case 22:return C.flags|=65536,O===Jm?C.flags|=16384:(g=C.updateQueue,g===null?(g={transitions:null,markerInstances:null,retryQueue:new Set([O])},C.updateQueue=g):(C=g.retryQueue,C===null?g.retryQueue=new Set([O]):C.add(O)),Eu(p,O,F)),!1}throw Error(a(435,C.tag))}return Eu(p,O,F),dg(),!1}if(Rs)return g=ho.current,g!==null?((g.flags&65536)===0&&(g.flags|=256),g.flags|=65536,g.lanes=F,O!==wa&&(p=Error(a(422),{cause:O}),pe(ae(p,C)))):(O!==wa&&(g=Error(a(423),{cause:O}),pe(ae(g,C))),p=p.current.alternate,p.flags|=65536,F&=-F,p.lanes|=F,O=ae(O,C),F=xm(p.stateNode,O,F),Se(p,F),Vr!==4&&(Vr=2)),!1;var V=Error(a(520),{cause:O});if(V=ae(V,C),ip===null?ip=[V]:ip.push(V),Vr!==4&&(Vr=2),g===null)return!0;O=ae(O,C),C=g;do{switch(C.tag){case 3:return C.flags|=65536,p=F&-F,C.lanes|=p,p=xm(C.stateNode,O,p),Se(C,p),!1;case 1:if(g=C.type,V=C.stateNode,(C.flags&128)===0&&(typeof g.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(Wl===null||!Wl.has(V))))return C.flags|=65536,F&=-F,C.lanes|=F,F=gm(F),Ny(F,p,C,O),Se(C,F),!1}C=C.return}while(C!==null);return!1}function ea(p,g,C,O){g.child=p===null?wb(g,null,C,O):Bu(g,p.child,C,O)}function Sy(p,g,C,O,F){C=C.render;var V=g.ref;if("ref"in O){var ie={};for(var Ae in O)Ae!=="ref"&&(ie[Ae]=O[Ae])}else ie=O;return pd(g),O=ce(p,g,C,ie,V,F),Ae=it(),p!==null&&!na?(Mt(p,g,F),bc(p,g,F)):(Rs&&Ae&&me(g),g.flags|=1,ea(p,g,O,F),g.child)}function Li(p,g,C,O,F){if(p===null){var V=C.type;return typeof V=="function"&&!jd(V)&&V.defaultProps===void 0&&C.compare===null?(g.tag=15,g.type=V,ju(p,g,V,O,F)):(p=Cc(C.type,null,O,g,g.mode,F),p.ref=g.ref,p.return=g,g.child=p)}if(V=p.child,!Wx(p,F)){var ie=V.memoizedProps;if(C=C.compare,C=C!==null?C:St,C(ie,O)&&p.ref===g.ref)return bc(p,g,F)}return g.flags|=1,p=el(V,O),p.ref=g.ref,p.return=g,g.child=p}function ju(p,g,C,O,F){if(p!==null){var V=p.memoizedProps;if(St(V,O)&&p.ref===g.ref)if(na=!1,g.pendingProps=O=V,Wx(p,F))(p.flags&131072)!==0&&(na=!0);else return g.lanes=p.lanes,bc(p,g,F)}return ym(p,g,C,O,F)}function Gx(p,g,C){var O=g.pendingProps,F=O.children,V=(g.stateNode._pendingVisibility&2)!==0,ie=p!==null?p.memoizedState:null;if(vm(p,g),O.mode==="hidden"||V){if((g.flags&128)!==0){if(O=ie!==null?ie.baseLanes|C:C,p!==null){for(F=g.child=p.child,V=0;F!==null;)V=V|F.lanes|F.childLanes,F=F.sibling;g.childLanes=V&~O}else g.childLanes=0,g.child=null;return Uh(p,g,O,C)}if((C&536870912)!==0)g.memoizedState={baseLanes:0,cachePool:null},p!==null&&Zx(g,ie!==null?ie.cachePool:null),ie!==null?hc(g,ie):Oa(),Di(g);else return g.lanes=g.childLanes=536870912,Uh(p,g,ie!==null?ie.baseLanes|C:C,C)}else ie!==null?(Zx(g,ie.cachePool),hc(g,ie),Ur(),g.memoizedState=null):(p!==null&&Zx(g,null),Oa(),Ur());return ea(p,g,F,C),g.child}function Uh(p,g,C,O){var F=Py();return F=F===null?null:{parent:Oo?vr._currentValue:vr._currentValue2,pool:F},g.memoizedState={baseLanes:C,cachePool:F},p!==null&&Zx(g,null),Oa(),Di(g),p!==null&&Nm(p,g,O,!0),null}function vm(p,g){var C=g.ref;if(C===null)p!==null&&p.ref!==null&&(g.flags|=2097664);else{if(typeof C!="function"&&typeof C!="object")throw Error(a(284));(p===null||p.ref!==C)&&(g.flags|=2097664)}}function ym(p,g,C,O,F){return pd(g),C=ce(p,g,C,O,void 0,F),O=it(),p!==null&&!na?(Mt(p,g,F),bc(p,g,F)):(Rs&&O&&me(g),g.flags|=1,ea(p,g,C,F),g.child)}function $x(p,g,C,O,F,V){return pd(g),g.updateQueue=null,C=tt(g,O,C,F),Me(p),O=it(),p!==null&&!na?(Mt(p,g,V),bc(p,g,V)):(Rs&&O&&me(g),g.flags|=1,ea(p,g,C,V),g.child)}function zh(p,g,C,O,F){if(pd(g),g.stateNode===null){var V=Du,ie=C.contextType;typeof ie=="object"&&ie!==null&&(V=ni(ie)),V=new C(O,V),g.memoizedState=V.state!==null&&V.state!==void 0?V.state:null,V.updater=Md,g.stateNode=V,V._reactInternals=g,V=g.stateNode,V.props=O,V.state=g.memoizedState,V.refs={},Ut(g),ie=C.contextType,V.context=typeof ie=="object"&&ie!==null?ni(ie):Du,V.state=g.memoizedState,ie=C.getDerivedStateFromProps,typeof ie=="function"&&(wy(g,C,ie,O),V.state=g.memoizedState),typeof C.getDerivedStateFromProps=="function"||typeof V.getSnapshotBeforeUpdate=="function"||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(ie=V.state,typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount(),ie!==V.state&&Md.enqueueReplaceState(V,V.state,null),bt(g,O,V,F),Be(),V.state=g.memoizedState),typeof V.componentDidMount=="function"&&(g.flags|=4194308),O=!0}else if(p===null){V=g.stateNode;var Ae=g.memoizedProps,Ge=vc(C,Ae);V.props=Ge;var pt=V.context,Rt=C.contextType;ie=Du,typeof Rt=="object"&&Rt!==null&&(ie=ni(Rt));var Zt=C.getDerivedStateFromProps;Rt=typeof Zt=="function"||typeof V.getSnapshotBeforeUpdate=="function",Ae=g.pendingProps!==Ae,Rt||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(Ae||pt!==ie)&&mm(g,V,O,ie),zl=!1;var qt=g.memoizedState;V.state=qt,bt(g,O,V,F),Be(),pt=g.memoizedState,Ae||qt!==pt||zl?(typeof Zt=="function"&&(wy(g,C,Zt,O),pt=g.memoizedState),(Ge=zl||Vx(g,C,Ge,O,qt,pt,ie))?(Rt||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(g.flags|=4194308)):(typeof V.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=O,g.memoizedState=pt),V.props=O,V.state=pt,V.context=ie,O=Ge):(typeof V.componentDidMount=="function"&&(g.flags|=4194308),O=!1)}else{V=g.stateNode,Qt(p,g),ie=g.memoizedProps,Rt=vc(C,ie),V.props=Rt,Zt=g.pendingProps,qt=V.context,pt=C.contextType,Ge=Du,typeof pt=="object"&&pt!==null&&(Ge=ni(pt)),Ae=C.getDerivedStateFromProps,(pt=typeof Ae=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(ie!==Zt||qt!==Ge)&&mm(g,V,O,Ge),zl=!1,qt=g.memoizedState,V.state=qt,bt(g,O,V,F),Be();var ts=g.memoizedState;ie!==Zt||qt!==ts||zl||p!==null&&p.dependencies!==null&&Kx(p.dependencies)?(typeof Ae=="function"&&(wy(g,C,Ae,O),ts=g.memoizedState),(Rt=zl||Vx(g,C,Rt,O,qt,ts,Ge)||p!==null&&p.dependencies!==null&&Kx(p.dependencies))?(pt||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(O,ts,Ge),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(O,ts,Ge)),typeof V.componentDidUpdate=="function"&&(g.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof V.componentDidUpdate!="function"||ie===p.memoizedProps&&qt===p.memoizedState||(g.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||ie===p.memoizedProps&&qt===p.memoizedState||(g.flags|=1024),g.memoizedProps=O,g.memoizedState=ts),V.props=O,V.state=ts,V.context=Ge,O=Rt):(typeof V.componentDidUpdate!="function"||ie===p.memoizedProps&&qt===p.memoizedState||(g.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||ie===p.memoizedProps&&qt===p.memoizedState||(g.flags|=1024),O=!1)}return V=O,vm(p,g),O=(g.flags&128)!==0,V||O?(V=g.stateNode,C=O&&typeof C.getDerivedStateFromError!="function"?null:V.render(),g.flags|=1,p!==null&&O?(g.child=Bu(g,p.child,null,F),g.child=Bu(g,null,C,F)):ea(p,g,C,F),g.memoizedState=V.state,p=g.child):p=bc(p,g,F),p}function bm(p,g,C,O){return $e(),g.flags|=256,ea(p,g,C,O),g.child}function qx(p){return{baseLanes:p,cachePool:Yx()}}function _y(p,g,C){return p=p!==null?p.childLanes&~C:0,g&&(p|=Ir),p}function Ow(p,g,C){var O=g.pendingProps,F=!1,V=(g.flags&128)!==0,ie;if((ie=V)||(ie=p!==null&&p.memoizedState===null?!1:(zr.current&2)!==0),ie&&(F=!0,g.flags&=-129),ie=(g.flags&32)!==0,g.flags&=-33,p===null){if(Rs){if(F?ka(g):Ur(),Rs){var Ae=ks,Ge;(Ge=Ae)&&(Ae=Eg(Ae,uo),Ae!==null?(g.memoizedState={dehydrated:Ae,treeContext:Ul!==null?{id:Ua,overflow:Ic}:null,retryLane:536870912},Ge=s(18,null,null,0),Ge.stateNode=Ae,Ge.return=g,g.child=Ge,da=g,ks=null,Ge=!0):Ge=!1),Ge||Ue(g)}if(Ae=g.memoizedState,Ae!==null&&(Ae=Ae.dehydrated,Ae!==null))return $m(Ae)?g.lanes=16:g.lanes=536870912,null;Ln(g)}return Ae=O.children,O=O.fallback,F?(Ur(),F=g.mode,Ae=jm({mode:"hidden",children:Ae},F),O=Fi(O,F,C,null),Ae.return=g,O.return=g,Ae.sibling=O,g.child=Ae,F=g.child,F.memoizedState=qx(C),F.childLanes=_y(p,ie,C),g.memoizedState=$l,O):(ka(g),Ay(g,Ae))}if(Ge=p.memoizedState,Ge!==null&&(Ae=Ge.dehydrated,Ae!==null)){if(V)g.flags&256?(ka(g),g.flags&=-257,g=Cy(p,g,C)):g.memoizedState!==null?(Ur(),g.child=p.child,g.flags|=128,g=null):(Ur(),F=O.fallback,Ae=g.mode,O=jm({mode:"visible",children:O.children},Ae),F=Fi(F,Ae,C,null),F.flags|=2,O.return=g,F.return=g,O.sibling=F,g.child=O,Bu(g,p.child,null,C),O=g.child,O.memoizedState=qx(C),O.childLanes=_y(p,ie,C),g.memoizedState=$l,g=F);else if(ka(g),$m(Ae))ie=aN(Ae).digest,O=Error(a(419)),O.stack="",O.digest=ie,pe({value:O,source:null,stack:null}),g=Cy(p,g,C);else if(na||Nm(p,g,C,!1),ie=(C&p.childLanes)!==0,na||ie){if(ie=nr,ie!==null){if(O=C&-C,(O&42)!==0)O=1;else switch(O){case 2:O=1;break;case 8:O=4;break;case 32:O=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:O=64;break;case 268435456:O=134217728;break;default:O=0}if(O=(O&(ie.suspendedLanes|C))!==0?0:O,O!==0&&O!==Ge.retryLane)throw Ge.retryLane=O,Qe(p,O),ri(ie,p,O),tp}Gm(Ae)||dg(),g=Cy(p,g,C)}else Gm(Ae)?(g.flags|=128,g.child=p.child,g=UT.bind(null,p),iN(Ae,g),g=null):(p=Ge.treeContext,Vi&&(ks=dN(Ae),da=g,Rs=!0,ol=null,uo=!1,p!==null&&(Gi[co++]=Ua,Gi[co++]=Ic,Gi[co++]=Ul,Ua=p.id,Ic=p.overflow,Ul=g)),g=Ay(g,O.children),g.flags|=4096);return g}return F?(Ur(),F=O.fallback,Ae=g.mode,Ge=p.child,V=Ge.sibling,O=el(Ge,{mode:"hidden",children:O.children}),O.subtreeFlags=Ge.subtreeFlags&31457280,V!==null?F=el(V,F):(F=Fi(F,Ae,C,null),F.flags|=2),F.return=g,O.return=g,O.sibling=F,g.child=O,O=F,F=g.child,Ae=p.child.memoizedState,Ae===null?Ae=qx(C):(Ge=Ae.cachePool,Ge!==null?(V=Oo?vr._currentValue:vr._currentValue2,Ge=Ge.parent!==V?{parent:V,pool:V}:Ge):Ge=Yx(),Ae={baseLanes:Ae.baseLanes|C,cachePool:Ge}),F.memoizedState=Ae,F.childLanes=_y(p,ie,C),g.memoizedState=$l,O):(ka(g),C=p.child,p=C.sibling,C=el(C,{mode:"visible",children:O.children}),C.return=g,C.sibling=null,p!==null&&(ie=g.deletions,ie===null?(g.deletions=[p],g.flags|=16):ie.push(p)),g.child=C,g.memoizedState=null,C)}function Ay(p,g){return g=jm({mode:"visible",children:g},p.mode),g.return=p,p.child=g}function jm(p,g){return ur(p,g,0,null)}function Cy(p,g,C){return Bu(g,p.child,null,C),p=Ay(g,g.pendingProps.children),p.flags|=2,g.memoizedState=null,p}function kw(p,g,C){p.lanes|=g;var O=p.alternate;O!==null&&(O.lanes|=g),wm(p.return,g,C)}function Ty(p,g,C,O,F){var V=p.memoizedState;V===null?p.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:O,tail:C,tailMode:F}:(V.isBackwards=g,V.rendering=null,V.renderingStartTime=0,V.last=O,V.tail=C,V.tailMode=F)}function Iw(p,g,C){var O=g.pendingProps,F=O.revealOrder,V=O.tail;if(ea(p,g,O.children,C),O=zr.current,(O&2)!==0)O=O&1|2,g.flags|=128;else{if(p!==null&&(p.flags&128)!==0)e:for(p=g.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&kw(p,C,g);else if(p.tag===19)kw(p,C,g);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===g)break e;for(;p.sibling===null;){if(p.return===null||p.return===g)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}O&=1}switch(A(zr,O),F){case"forwards":for(C=g.child,F=null;C!==null;)p=C.alternate,p!==null&&Po(p)===null&&(F=C),C=C.sibling;C=F,C===null?(F=g.child,g.child=null):(F=C.sibling,C.sibling=null),Ty(g,!1,F,C,V);break;case"backwards":for(C=null,F=g.child,g.child=null;F!==null;){if(p=F.alternate,p!==null&&Po(p)===null){g.child=F;break}p=F.sibling,F.sibling=C,C=F,F=p}Ty(g,!0,C,null,V);break;case"together":Ty(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function bc(p,g,C){if(p!==null&&(g.dependencies=p.dependencies),zc|=g.lanes,(C&g.childLanes)===0)if(p!==null){if(Nm(p,g,C,!1),(C&g.childLanes)===0)return null}else return null;if(p!==null&&g.child!==p.child)throw Error(a(153));if(g.child!==null){for(p=g.child,C=el(p,p.pendingProps),g.child=C,C.return=g;p.sibling!==null;)p=p.sibling,C=C.sibling=el(p,p.pendingProps),C.return=g;C.sibling=null}return g.child}function Wx(p,g){return(p.lanes&g)!==0?!0:(p=p.dependencies,!!(p!==null&&Kx(p)))}function LT(p,g,C){switch(g.tag){case 3:Ye(g,g.stateNode.containerInfo),md(g,vr,p.memoizedState.cache),$e();break;case 27:case 5:be(g);break;case 4:Ye(g,g.stateNode.containerInfo);break;case 10:md(g,g.type,g.memoizedProps.value);break;case 13:var O=g.memoizedState;if(O!==null)return O.dehydrated!==null?(ka(g),g.flags|=128,null):(C&g.child.childLanes)!==0?Ow(p,g,C):(ka(g),p=bc(p,g,C),p!==null?p.sibling:null);ka(g);break;case 19:var F=(p.flags&128)!==0;if(O=(C&g.childLanes)!==0,O||(Nm(p,g,C,!1),O=(C&g.childLanes)!==0),F){if(O)return Iw(p,g,C);g.flags|=128}if(F=g.memoizedState,F!==null&&(F.rendering=null,F.tail=null,F.lastEffect=null),A(zr,zr.current),O)break;return null;case 22:case 23:return g.lanes=0,Gx(p,g,C);case 24:md(g,vr,p.memoizedState.cache)}return bc(p,g,C)}function Dw(p,g,C){if(p!==null)if(p.memoizedProps!==g.pendingProps)na=!0;else{if(!Wx(p,C)&&(g.flags&128)===0)return na=!1,LT(p,g,C);na=(p.flags&131072)!==0}else na=!1,Rs&&(g.flags&1048576)!==0&&se(g,Ym,g.index);switch(g.lanes=0,g.tag){case 16:e:{p=g.pendingProps;var O=g.elementType,F=O._init;if(O=F(O._payload),g.type=O,typeof O=="function")jd(O)?(p=vc(O,p),g.tag=1,g=zh(null,g,O,p,C)):(g.tag=0,g=ym(null,g,O,p,C));else{if(O!=null){if(F=O.$$typeof,F===zi){g.tag=11,g=Sy(null,g,O,p,C);break e}else if(F===sl){g.tag=14,g=Li(null,g,O,p,C);break e}}throw g=o(O)||O,Error(a(306,g,""))}}return g;case 0:return ym(p,g,g.type,g.pendingProps,C);case 1:return O=g.type,F=vc(O,g.pendingProps),zh(p,g,O,F,C);case 3:e:{if(Ye(g,g.stateNode.containerInfo),p===null)throw Error(a(387));var V=g.pendingProps;F=g.memoizedState,O=F.element,Qt(p,g),bt(g,V,null,C);var ie=g.memoizedState;if(V=ie.cache,md(g,vr,V),V!==F.cache&&Ey(g,[vr],C,!0),Be(),V=ie.element,Vi&&F.isDehydrated)if(F={element:V,isDehydrated:!1,cache:ie.cache},g.updateQueue.baseState=F,g.memoizedState=F,g.flags&256){g=bm(p,g,V,C);break e}else if(V!==O){O=ae(Error(a(424)),g),pe(O),g=bm(p,g,V,C);break e}else for(Vi&&(ks=cN(g.stateNode.containerInfo),da=g,Rs=!0,ol=null,uo=!0),C=wb(g,null,V,C),g.child=C;C;)C.flags=C.flags&-3|4096,C=C.sibling;else{if($e(),V===O){g=bc(p,g,C);break e}ea(p,g,V,C)}g=g.child}return g;case 26:if(ko)return vm(p,g),p===null?(C=yN(g.type,null,g.pendingProps,null))?g.memoizedState=C:Rs||(g.stateNode=HT(g.type,g.pendingProps,Dc.current,g)):g.memoizedState=yN(g.type,p.memoizedProps,g.pendingProps,p.memoizedState),null;case 27:if(Da)return be(g),p===null&&Da&&Rs&&(O=g.stateNode=xb(g.type,g.pendingProps,Dc.current,ja.current,!1),da=g,uo=!0,ks=lb(O)),O=g.pendingProps.children,p!==null||Rs?ea(p,g,O,C):g.child=Bu(g,null,O,C),vm(p,g),g.child;case 5:return p===null&&Rs&&(gN(g.type,g.pendingProps,ja.current),(F=O=ks)&&(O=qm(O,g.type,g.pendingProps,uo),O!==null?(g.stateNode=O,da=g,ks=lb(O),uo=!1,F=!0):F=!1),F||Ue(g)),be(g),F=g.type,V=g.pendingProps,ie=p!==null?p.memoizedProps:null,O=V.children,Um(F,V)?O=null:ie!==null&&Um(F,ie)&&(g.flags|=32),g.memoizedState!==null&&(F=ce(p,g,ot,null,null,C),Oo?Ll._currentValue=F:Ll._currentValue2=F),vm(p,g),ea(p,g,O,C),g.child;case 6:return p===null&&Rs&&(vN(g.pendingProps,ja.current),(p=C=ks)&&(C=uN(C,g.pendingProps,uo),C!==null?(g.stateNode=C,da=g,ks=null,p=!0):p=!1),p||Ue(g)),null;case 13:return Ow(p,g,C);case 4:return Ye(g,g.stateNode.containerInfo),O=g.pendingProps,p===null?g.child=Bu(g,null,O,C):ea(p,g,O,C),g.child;case 11:return Sy(p,g,g.type,g.pendingProps,C);case 7:return ea(p,g,g.pendingProps,C),g.child;case 8:return ea(p,g,g.pendingProps.children,C),g.child;case 12:return ea(p,g,g.pendingProps.children,C),g.child;case 10:return O=g.pendingProps,md(g,g.type,O.value),ea(p,g,O.children,C),g.child;case 9:return F=g.type._context,O=g.pendingProps.children,pd(g),F=ni(F),O=O(F),g.flags|=1,ea(p,g,O,C),g.child;case 14:return Li(p,g,g.type,g.pendingProps,C);case 15:return ju(p,g,g.type,g.pendingProps,C);case 19:return Iw(p,g,C);case 22:return Gx(p,g,C);case 24:return pd(g),O=ni(vr),p===null?(F=Py(),F===null&&(F=nr,V=My(),F.pooledCache=V,V.refCount++,V!==null&&(F.pooledCacheLanes|=C),F=V),g.memoizedState={parent:O,cache:F},Ut(g),md(g,vr,F)):((p.lanes&C)!==0&&(Qt(p,g),bt(g,null,null,C),Be()),F=p.memoizedState,V=g.memoizedState,F.parent!==O?(F={parent:O,cache:O},g.memoizedState=F,g.lanes===0&&(g.memoizedState=g.updateQueue.baseState=F),md(g,vr,O)):(O=V.cache,md(g,vr,O),O!==F.cache&&Ey(g,[vr],C,!0))),ea(p,g,g.pendingProps.children,C),g.child;case 29:throw g.pendingProps}throw Error(a(156,g.tag))}function md(p,g,C){Oo?(A(Gu,g._currentValue),g._currentValue=C):(A(Gu,g._currentValue2),g._currentValue2=C)}function jc(p){var g=Gu.current;Oo?p._currentValue=g:p._currentValue2=g,b(Gu)}function wm(p,g,C){for(;p!==null;){var O=p.alternate;if((p.childLanes&g)!==g?(p.childLanes|=g,O!==null&&(O.childLanes|=g)):O!==null&&(O.childLanes&g)!==g&&(O.childLanes|=g),p===C)break;p=p.return}}function Ey(p,g,C,O){var F=p.child;for(F!==null&&(F.return=p);F!==null;){var V=F.dependencies;if(V!==null){var ie=F.child;V=V.firstContext;e:for(;V!==null;){var Ae=V;V=F;for(var Ge=0;Ge<g.length;Ge++)if(Ae.context===g[Ge]){V.lanes|=C,Ae=V.alternate,Ae!==null&&(Ae.lanes|=C),wm(V.return,C,p),O||(ie=null);break e}V=Ae.next}}else if(F.tag===18){if(ie=F.return,ie===null)throw Error(a(341));ie.lanes|=C,V=ie.alternate,V!==null&&(V.lanes|=C),wm(ie,C,p),ie=null}else ie=F.child;if(ie!==null)ie.return=F;else for(ie=F;ie!==null;){if(ie===p){ie=null;break}if(F=ie.sibling,F!==null){F.return=ie.return,ie=F;break}ie=ie.return}F=ie}}function Nm(p,g,C,O){p=null;for(var F=g,V=!1;F!==null;){if(!V){if((F.flags&524288)!==0)V=!0;else if((F.flags&262144)!==0)break}if(F.tag===10){var ie=F.alternate;if(ie===null)throw Error(a(387));if(ie=ie.memoizedProps,ie!==null){var Ae=F.type;Si(F.pendingProps.value,ie.value)||(p!==null?p.push(Ae):p=[Ae])}}else if(F===Qm.current){if(ie=F.alternate,ie===null)throw Error(a(387));ie.memoizedState.memoizedState!==F.memoizedState.memoizedState&&(p!==null?p.push(Ll):p=[Ll])}F=F.return}p!==null&&Ey(g,p,C,O),g.flags|=262144}function Kx(p){for(p=p.firstContext;p!==null;){var g=p.context;if(!Si(Oo?g._currentValue:g._currentValue2,p.memoizedValue))return!0;p=p.next}return!1}function pd(p){qi=p,Uo=null,p=p.dependencies,p!==null&&(p.firstContext=null)}function ni(p){return Lw(qi,p)}function Xx(p,g){return qi===null&&pd(p),Lw(p,g)}function Lw(p,g){var C=Oo?g._currentValue:g._currentValue2;if(g={context:g,memoizedValue:C,next:null},Uo===null){if(p===null)throw Error(a(308));Uo=g,p.dependencies={lanes:0,firstContext:g},p.flags|=524288}else Uo=Uo.next=g;return C}function My(){return{controller:new np,data:new Map,refCount:0}}function Sm(p){p.refCount--,p.refCount===0&&Nb(Fg,function(){p.controller.abort()})}function Py(){var p=Wi.current;return p!==null?p:nr.pooledCache}function Zx(p,g){g===null?A(Wi,Wi.current):A(Wi,g.pool)}function Yx(){var p=Py();return p===null?null:{parent:Oo?vr._currentValue:vr._currentValue2,pool:p}}function Ia(p){p.flags|=4}function Fw(p,g){if(p!==null&&p.child===g.child)return!1;if((g.flags&16)!==0)return!0;for(p=g.child;p!==null;){if((p.flags&13878)!==0||(p.subtreeFlags&13878)!==0)return!0;p=p.sibling}return!1}function Qx(p,g,C,O){if(Kr)for(C=g.child;C!==null;){if(C.tag===5||C.tag===6)Ou(p,C.stateNode);else if(!(C.tag===4||Da&&C.tag===27)&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===g)break;for(;C.sibling===null;){if(C.return===null||C.return===g)return;C=C.return}C.sibling.return=C.return,C=C.sibling}else if(Dl)for(var F=g.child;F!==null;){if(F.tag===5){var V=F.stateNode;C&&O&&(V=lo(V,F.type,F.memoizedProps)),Ou(p,V)}else if(F.tag===6)V=F.stateNode,C&&O&&(V=ef(V,F.memoizedProps)),Ou(p,V);else if(F.tag!==4){if(F.tag===22&&F.memoizedState!==null)V=F.child,V!==null&&(V.return=F),Qx(p,F,!0,!0);else if(F.child!==null){F.child.return=F,F=F.child;continue}}if(F===g)break;for(;F.sibling===null;){if(F.return===null||F.return===g)return;F=F.return}F.sibling.return=F.return,F=F.sibling}}function Ry(p,g,C,O){if(Dl)for(var F=g.child;F!==null;){if(F.tag===5){var V=F.stateNode;C&&O&&(V=lo(V,F.type,F.memoizedProps)),Tg(p,V)}else if(F.tag===6)V=F.stateNode,C&&O&&(V=ef(V,F.memoizedProps)),Tg(p,V);else if(F.tag!==4){if(F.tag===22&&F.memoizedState!==null)V=F.child,V!==null&&(V.return=F),Ry(p,F,!(F.memoizedProps!==null&&F.memoizedProps.mode==="manual"),!0);else if(F.child!==null){F.child.return=F,F=F.child;continue}}if(F===g)break;for(;F.sibling===null;){if(F.return===null||F.return===g)return;F=F.return}F.sibling.return=F.return,F=F.sibling}}function Oy(p,g){if(Dl&&Fw(p,g)){p=g.stateNode;var C=p.containerInfo,O=Cg();Ry(O,g,!1,!1),p.pendingChildren=O,Ia(g),ib(C,O)}}function Jx(p,g,C,O){if(Kr)p.memoizedProps!==O&&Ia(g);else if(Dl){var F=p.stateNode,V=p.memoizedProps;if((p=Fw(p,g))||V!==O){var ie=ja.current;V=oi(F,C,V,O,!p,null),V===F?g.stateNode=F:(Fm(V,C,O,ie)&&Ia(g),g.stateNode=V,p?Qx(V,g,!1,!1):Ia(g))}else g.stateNode=F}}function eg(p,g,C){if(Mc(g,C)){if(p.flags|=16777216,!Pc(g,C))if(Hy())p.flags|=8192;else throw li=Jm,Lg}else p.flags&=-16777217}function wu(p,g){if(il(g)){if(p.flags|=16777216,!Pg(g))if(Hy())p.flags|=8192;else throw li=Jm,Lg}else p.flags&=-16777217}function tg(p,g){g!==null&&(p.flags|=4),p.flags&16384&&(g=p.tag!==22?I():536870912,p.lanes|=g,Rd|=g)}function _m(p,g){if(!Rs)switch(p.tailMode){case"hidden":g=p.tail;for(var C=null;g!==null;)g.alternate!==null&&(C=g),g=g.sibling;C===null?p.tail=null:C.sibling=null;break;case"collapsed":C=p.tail;for(var O=null;C!==null;)C.alternate!==null&&(O=C),C=C.sibling;O===null?g||p.tail===null?p.tail=null:p.tail.sibling=null:O.sibling=null}}function Mr(p){var g=p.alternate!==null&&p.alternate.child===p.child,C=0,O=0;if(g)for(var F=p.child;F!==null;)C|=F.lanes|F.childLanes,O|=F.subtreeFlags&31457280,O|=F.flags&31457280,F.return=p,F=F.sibling;else for(F=p.child;F!==null;)C|=F.lanes|F.childLanes,O|=F.subtreeFlags,O|=F.flags,F.return=p,F=F.sibling;return p.subtreeFlags|=O,p.childLanes=C,g}function Uw(p,g,C){var O=g.pendingProps;switch(Oe(g),g.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mr(g),null;case 1:return Mr(g),null;case 3:return C=g.stateNode,O=null,p!==null&&(O=p.memoizedState.cache),g.memoizedState.cache!==O&&(g.flags|=2048),jc(vr),dt(),C.pendingContext&&(C.context=C.pendingContext,C.pendingContext=null),(p===null||p.child===null)&&(rt(g)?Ia(g):p===null||p.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,ol!==null&&(Mm(ol),ol=null))),Oy(p,g),Mr(g),null;case 26:if(ko){C=g.type;var F=g.memoizedState;return p===null?(Ia(g),F!==null?(Mr(g),wu(g,F)):(Mr(g),eg(g,C,O))):F?F!==p.memoizedState?(Ia(g),Mr(g),wu(g,F)):(Mr(g),g.flags&=-16777217):(Kr?p.memoizedProps!==O&&Ia(g):Jx(p,g,C,O),Mr(g),eg(g,C,O)),null}case 27:if(Da){if(Ce(g),C=Dc.current,F=g.type,p!==null&&g.stateNode!=null)Kr?p.memoizedProps!==O&&Ia(g):Jx(p,g,F,O);else{if(!O){if(g.stateNode===null)throw Error(a(166));return Mr(g),null}p=ja.current,rt(g)?De(g,p):(p=xb(F,O,C,p,!0),g.stateNode=p,Ia(g))}return Mr(g),null}case 5:if(Ce(g),C=g.type,p!==null&&g.stateNode!=null)Jx(p,g,C,O);else{if(!O){if(g.stateNode===null)throw Error(a(166));return Mr(g),null}p=ja.current,rt(g)?De(g,p):(F=BT(C,O,Dc.current,p,g),Qx(F,g,!1,!1),g.stateNode=F,Fm(F,C,O,p)&&Ia(g))}return Mr(g),eg(g,g.type,g.pendingProps),null;case 6:if(p&&g.stateNode!=null)C=p.memoizedProps,Kr?C!==O&&Ia(g):Dl&&(C!==O?(g.stateNode=Zy(O,Dc.current,ja.current,g),Ia(g)):g.stateNode=p.stateNode);else{if(typeof O!="string"&&g.stateNode===null)throw Error(a(166));if(p=Dc.current,C=ja.current,rt(g)){if(!Vi)throw Error(a(176));if(p=g.stateNode,C=g.memoizedProps,O=null,F=da,F!==null)switch(F.tag){case 27:case 5:O=F.memoizedProps}hN(p,C,g,O)||Ue(g)}else g.stateNode=Zy(O,p,C,g)}return Mr(g),null;case 13:if(O=g.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(F=rt(g),O!==null&&O.dehydrated!==null){if(p===null){if(!F)throw Error(a(318));if(!Vi)throw Error(a(344));if(F=g.memoizedState,F=F!==null?F.dehydrated:null,!F)throw Error(a(317));cb(F,g)}else $e(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;Mr(g),F=!1}else ol!==null&&(Mm(ol),ol=null),F=!0;if(!F)return g.flags&256?(Ln(g),g):(Ln(g),null)}if(Ln(g),(g.flags&128)!==0)return g.lanes=C,g;if(C=O!==null,p=p!==null&&p.memoizedState!==null,C){O=g.child,F=null,O.alternate!==null&&O.alternate.memoizedState!==null&&O.alternate.memoizedState.cachePool!==null&&(F=O.alternate.memoizedState.cachePool.pool);var V=null;O.memoizedState!==null&&O.memoizedState.cachePool!==null&&(V=O.memoizedState.cachePool.pool),V!==F&&(O.flags|=2048)}return C!==p&&C&&(g.child.flags|=8192),tg(g,g.updateQueue),Mr(g),null;case 4:return dt(),Oy(p,g),p===null&&Yy(g.stateNode.containerInfo),Mr(g),null;case 10:return jc(g.type),Mr(g),null;case 19:if(b(zr),F=g.memoizedState,F===null)return Mr(g),null;if(O=(g.flags&128)!==0,V=F.rendering,V===null)if(O)_m(F,!1);else{if(Vr!==0||p!==null&&(p.flags&128)!==0)for(p=g.child;p!==null;){if(V=Po(p),V!==null){for(g.flags|=128,_m(F,!1),p=V.updateQueue,g.updateQueue=p,tg(g,p),g.subtreeFlags=0,p=C,C=g.child;C!==null;)pg(C,p),C=C.sibling;return A(zr,zr.current&1|2),g.child}p=p.sibling}F.tail!==null&&Io()>Od&&(g.flags|=128,O=!0,_m(F,!1),g.lanes=4194304)}else{if(!O)if(p=Po(V),p!==null){if(g.flags|=128,O=!0,p=p.updateQueue,g.updateQueue=p,tg(g,p),_m(F,!0),F.tail===null&&F.tailMode==="hidden"&&!V.alternate&&!Rs)return Mr(g),null}else 2*Io()-F.renderingStartTime>Od&&C!==536870912&&(g.flags|=128,O=!0,_m(F,!1),g.lanes=4194304);F.isBackwards?(V.sibling=g.child,g.child=V):(p=F.last,p!==null?p.sibling=V:g.child=V,F.last=V)}return F.tail!==null?(g=F.tail,F.rendering=g,F.tail=g.sibling,F.renderingStartTime=Io(),g.sibling=null,p=zr.current,A(zr,O?p&1|2:p&1),g):(Mr(g),null);case 22:case 23:return Ln(g),Mo(),O=g.memoizedState!==null,p!==null?p.memoizedState!==null!==O&&(g.flags|=8192):O&&(g.flags|=8192),O?(C&536870912)!==0&&(g.flags&128)===0&&(Mr(g),g.subtreeFlags&6&&(g.flags|=8192)):Mr(g),C=g.updateQueue,C!==null&&tg(g,C.retryQueue),C=null,p!==null&&p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(C=p.memoizedState.cachePool.pool),O=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(O=g.memoizedState.cachePool.pool),O!==C&&(g.flags|=2048),p!==null&&b(Wi),null;case 24:return C=null,p!==null&&(C=p.memoizedState.cache),g.memoizedState.cache!==C&&(g.flags|=2048),jc(vr),Mr(g),null;case 25:return null}throw Error(a(156,g.tag))}function zw(p,g){switch(Oe(g),g.tag){case 1:return p=g.flags,p&65536?(g.flags=p&-65537|128,g):null;case 3:return jc(vr),dt(),p=g.flags,(p&65536)!==0&&(p&128)===0?(g.flags=p&-65537|128,g):null;case 26:case 27:case 5:return Ce(g),null;case 13:if(Ln(g),p=g.memoizedState,p!==null&&p.dehydrated!==null){if(g.alternate===null)throw Error(a(340));$e()}return p=g.flags,p&65536?(g.flags=p&-65537|128,g):null;case 19:return b(zr),null;case 4:return dt(),null;case 10:return jc(g.type),null;case 22:case 23:return Ln(g),Mo(),p!==null&&b(Wi),p=g.flags,p&65536?(g.flags=p&-65537|128,g):null;case 24:return jc(vr),null;case 25:return null;default:return null}}function Bh(p,g){switch(Oe(g),g.tag){case 3:jc(vr),dt();break;case 26:case 27:case 5:Ce(g);break;case 4:dt();break;case 13:Ln(g);break;case 19:b(zr);break;case 10:jc(g.type);break;case 22:case 23:Ln(g),Mo(),p!==null&&b(Wi);break;case 24:jc(vr)}}function wc(p,g){try{var C=g.updateQueue,O=C!==null?C.lastEffect:null;if(O!==null){var F=O.next;C=F;do{if((C.tag&p)===p){O=void 0;var V=C.create,ie=C.inst;O=V(),ie.destroy=O}C=C.next}while(C!==F)}}catch(Ae){gs(g,g.return,Ae)}}function xd(p,g,C){try{var O=g.updateQueue,F=O!==null?O.lastEffect:null;if(F!==null){var V=F.next;O=V;do{if((O.tag&p)===p){var ie=O.inst,Ae=ie.destroy;if(Ae!==void 0){ie.destroy=void 0,F=g;var Ge=C;try{Ae()}catch(pt){gs(F,Ge,pt)}}}O=O.next}while(O!==V)}}catch(pt){gs(g,g.return,pt)}}function Am(p){var g=p.updateQueue;if(g!==null){var C=p.stateNode;try{Le(g,C)}catch(O){gs(p,p.return,O)}}}function Bw(p,g,C){C.props=vc(p.type,p.memoizedProps),C.state=p.memoizedState;try{C.componentWillUnmount()}catch(O){gs(p,g,O)}}function gd(p,g){try{var C=p.ref;if(C!==null){var O=p.stateNode;switch(p.tag){case 26:case 27:case 5:var F=Xh(O);break;default:F=O}typeof C=="function"?p.refCleanup=C(F):C.current=F}}catch(V){gs(p,g,V)}}function vi(p,g){var C=p.ref,O=p.refCleanup;if(C!==null)if(typeof O=="function")try{O()}catch(F){gs(p,g,F)}finally{p.refCleanup=null,p=p.alternate,p!=null&&(p.refCleanup=null)}else if(typeof C=="function")try{C(null)}catch(F){gs(p,g,F)}else C.current=null}function ng(p){var g=p.type,C=p.memoizedProps,O=p.stateNode;try{sb(O,g,C,p)}catch(F){gs(p,p.return,F)}}function ky(p,g,C){try{rb(p.stateNode,p.type,C,g,p)}catch(O){gs(p,p.return,O)}}function Iy(p){return p.tag===5||p.tag===3||(ko?p.tag===26:!1)||(Da?p.tag===27:!1)||p.tag===4}function sg(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||Iy(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&(!Da||p.tag!==27)&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function Dy(p,g,C){var O=p.tag;if(O===5||O===6)p=p.stateNode,g?ab(C,p,g):Pr(C,p);else if(!(O===4||Da&&O===27)&&(p=p.child,p!==null))for(Dy(p,g,C),p=p.sibling;p!==null;)Dy(p,g,C),p=p.sibling}function rg(p,g,C){var O=p.tag;if(O===5||O===6)p=p.stateNode,g?_g(C,p,g):nb(C,p);else if(!(O===4||Da&&O===27)&&(p=p.child,p!==null))for(rg(p,g,C),p=p.sibling;p!==null;)rg(p,g,C),p=p.sibling}function Vw(p,g,C){p=p.containerInfo;try{al(p,C)}catch(O){gs(g,g.return,O)}}function FT(p,g){for(Zh(p.containerInfo),sa=g;sa!==null;)if(p=sa,g=p.child,(p.subtreeFlags&1028)!==0&&g!==null)g.return=p,sa=g;else for(;sa!==null;){p=sa;var C=p.alternate;switch(g=p.flags,p.tag){case 0:break;case 11:case 15:break;case 1:if((g&1024)!==0&&C!==null){g=void 0;var O=p,F=C.memoizedProps;C=C.memoizedState;var V=O.stateNode;try{var ie=vc(O.type,F,O.elementType===O.type);g=V.getSnapshotBeforeUpdate(ie,C),V.__reactInternalSnapshotBeforeUpdate=g}catch(Ae){gs(O,O.return,Ae)}}break;case 3:(g&1024)!==0&&Kr&&VT(p.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((g&1024)!==0)throw Error(a(163))}if(g=p.sibling,g!==null){g.return=p.return,sa=g;break}sa=p.return}return ie=MN,MN=!1,ie}function Hw(p,g,C){var O=C.flags;switch(C.tag){case 0:case 11:case 15:Jo(p,C),O&4&&wc(5,C);break;case 1:if(Jo(p,C),O&4)if(p=C.stateNode,g===null)try{p.componentDidMount()}catch(Ae){gs(C,C.return,Ae)}else{var F=vc(C.type,g.memoizedProps);g=g.memoizedState;try{p.componentDidUpdate(F,g,p.__reactInternalSnapshotBeforeUpdate)}catch(Ae){gs(C,C.return,Ae)}}O&64&&Am(C),O&512&&gd(C,C.return);break;case 3:if(Jo(p,C),O&64&&(O=C.updateQueue,O!==null)){if(p=null,C.child!==null)switch(C.child.tag){case 27:case 5:p=Xh(C.child.stateNode);break;case 1:p=C.child.stateNode}try{Le(O,p)}catch(Ae){gs(C,C.return,Ae)}}break;case 26:if(ko){Jo(p,C),O&512&&gd(C,C.return);break}case 27:case 5:Jo(p,C),g===null&&O&4&&ng(C),O&512&&gd(C,C.return);break;case 12:Jo(p,C);break;case 13:Jo(p,C),O&4&&Ly(p,C);break;case 22:if(F=C.memoizedState!==null||fa,!F){g=g!==null&&g.memoizedState!==null||_s;var V=fa,ie=_s;fa=F,(_s=g)&&!ie?Ol(p,C,(C.subtreeFlags&8772)!==0):Jo(p,C),fa=V,_s=ie}O&512&&(C.memoizedProps.mode==="manual"?gd(C,C.return):vi(C,C.return));break;default:Jo(p,C)}}function Ro(p){var g=p.alternate;g!==null&&(p.alternate=null,Ro(g)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(g=p.stateNode,g!==null&&tN(g)),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function yi(p,g,C){for(C=C.child;C!==null;)ag(p,g,C),C=C.sibling}function ag(p,g,C){if(Ni&&typeof Ni.onCommitFiberUnmount=="function")try{Ni.onCommitFiberUnmount(sf,C)}catch{}switch(C.tag){case 26:if(ko){_s||vi(C,g),yi(p,g,C),C.memoizedState?pb(C.memoizedState):C.stateNode&&jN(C.stateNode);break}case 27:if(Da){_s||vi(C,g);var O=tr,F=Ki;tr=C.stateNode,yi(p,g,C),tf(C.stateNode),tr=O,Ki=F;break}case 5:_s||vi(C,g);case 6:if(Kr){if(O=tr,F=Ki,tr=null,yi(p,g,C),tr=O,Ki=F,tr!==null)if(Ki)try{Rr(tr,C.stateNode)}catch(V){gs(C,g,V)}else try{Iu(tr,C.stateNode)}catch(V){gs(C,g,V)}}else yi(p,g,C);break;case 18:Kr&&tr!==null&&(Ki?db(tr,C.stateNode):xN(tr,C.stateNode));break;case 4:Kr?(O=tr,F=Ki,tr=C.stateNode.containerInfo,Ki=!0,yi(p,g,C),tr=O,Ki=F):(Dl&&Vw(C.stateNode,C,Cg()),yi(p,g,C));break;case 0:case 11:case 14:case 15:_s||xd(2,C,g),_s||xd(4,C,g),yi(p,g,C);break;case 1:_s||(vi(C,g),O=C.stateNode,typeof O.componentWillUnmount=="function"&&Bw(C,g,O)),yi(p,g,C);break;case 21:yi(p,g,C);break;case 22:_s||vi(C,g),_s=(O=_s)||C.memoizedState!==null,yi(p,g,C),_s=O;break;default:yi(p,g,C)}}function Ly(p,g){if(Vi&&g.memoizedState===null&&(p=g.alternate,p!==null&&(p=p.memoizedState,p!==null&&(p=p.dehydrated,p!==null))))try{pN(p)}catch(C){gs(g,g.return,C)}}function Gw(p){switch(p.tag){case 13:case 19:var g=p.stateNode;return g===null&&(g=p.stateNode=new zg),g;case 22:return p=p.stateNode,g=p._retryCache,g===null&&(g=p._retryCache=new zg),g;default:throw Error(a(435,p.tag))}}function ig(p,g){var C=Gw(p);g.forEach(function(O){var F=zT.bind(null,p,O);C.has(O)||(C.add(O),O.then(F,F))})}function si(p,g){var C=g.deletions;if(C!==null)for(var O=0;O<C.length;O++){var F=C[O],V=p,ie=g;if(Kr){var Ae=ie;e:for(;Ae!==null;){switch(Ae.tag){case 27:case 5:tr=Ae.stateNode,Ki=!1;break e;case 3:tr=Ae.stateNode.containerInfo,Ki=!0;break e;case 4:tr=Ae.stateNode.containerInfo,Ki=!0;break e}Ae=Ae.return}if(tr===null)throw Error(a(160));ag(V,ie,F),tr=null,Ki=!1}else ag(V,ie,F);V=F.alternate,V!==null&&(V.return=null),F.return=null}if(g.subtreeFlags&13878)for(g=g.child;g!==null;)$w(g,p),g=g.sibling}function $w(p,g){var C=p.alternate,O=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:si(g,p),so(p),O&4&&(xd(3,p,p.return),wc(3,p),xd(5,p,p.return));break;case 1:si(g,p),so(p),O&512&&(_s||C===null||vi(C,C.return)),O&64&&fa&&(p=p.updateQueue,p!==null&&(O=p.callbacks,O!==null&&(C=p.shared.hiddenCallbacks,p.shared.hiddenCallbacks=C===null?O:C.concat(O))));break;case 26:if(ko){var F=fo;si(g,p),so(p),O&512&&(_s||C===null||vi(C,C.return)),O&4&&(O=C!==null?C.memoizedState:null,g=p.memoizedState,C===null?g===null?p.stateNode===null?p.stateNode=bN(F,p.type,p.memoizedProps,p):Wm(F,p.type,p.stateNode):p.stateNode=mb(F,g,p.memoizedProps):O!==g?(O===null?C.stateNode!==null&&jN(C.stateNode):pb(O),g===null?Wm(F,p.type,p.stateNode):mb(F,g,p.memoizedProps)):g===null&&p.stateNode!==null&&ky(p,p.memoizedProps,C.memoizedProps));break}case 27:if(Da&&O&4&&p.alternate===null){F=p.stateNode;var V=p.memoizedProps;try{wN(F),gb(p.type,V,F,p)}catch(Rt){gs(p,p.return,Rt)}}case 5:if(si(g,p),so(p),O&512&&(_s||C===null||vi(C,C.return)),Kr){if(p.flags&32){g=p.stateNode;try{ta(g)}catch(Rt){gs(p,p.return,Rt)}}O&4&&p.stateNode!=null&&(g=p.memoizedProps,ky(p,g,C!==null?C.memoizedProps:g)),O&1024&&(Ug=!0)}break;case 6:if(si(g,p),so(p),O&4&&Kr){if(p.stateNode===null)throw Error(a(162));O=p.memoizedProps,C=C!==null?C.memoizedProps:O,g=p.stateNode;try{Sg(g,C,O)}catch(Rt){gs(p,p.return,Rt)}}break;case 3:if(ko?(GT(),F=fo,fo=fb(g.containerInfo),si(g,p),fo=F):si(g,p),so(p),O&4){if(Kr&&Vi&&C!==null&&C.memoizedState.isDehydrated)try{mN(g.containerInfo)}catch(Rt){gs(p,p.return,Rt)}if(Dl){O=g.containerInfo,C=g.pendingChildren;try{al(O,C)}catch(Rt){gs(p,p.return,Rt)}}}Ug&&(Ug=!1,Nu(p));break;case 4:ko?(C=fo,fo=fb(p.stateNode.containerInfo),si(g,p),so(p),fo=C):(si(g,p),so(p)),O&4&&Dl&&Vw(p.stateNode,p,p.stateNode.pendingChildren);break;case 12:si(g,p),so(p);break;case 13:si(g,p),so(p),p.child.flags&8192&&p.memoizedState!==null!=(C!==null&&C.memoizedState!==null)&&(Bc=Io()),O&4&&(O=p.updateQueue,O!==null&&(p.updateQueue=null,ig(p,O)));break;case 22:O&512&&(_s||C===null||vi(C,C.return)),F=p.memoizedState!==null;var ie=C!==null&&C.memoizedState!==null,Ae=fa,Ge=_s;if(fa=Ae||F,_s=Ge||ie,si(g,p),_s=Ge,fa=Ae,so(p),g=p.stateNode,g._current=p,g._visibility&=-3,g._visibility|=g._pendingVisibility&2,O&8192&&(g._visibility=F?g._visibility&-2:g._visibility|1,F&&(g=fa||_s,C===null||ie||g||Rl(p)),Kr&&(p.memoizedProps===null||p.memoizedProps.mode!=="manual"))){e:if(C=null,Kr)for(g=p;;){if(g.tag===5||ko&&g.tag===26||Da&&g.tag===27){if(C===null){ie=C=g;try{V=ie.stateNode,F?ba(V):Vm(ie.stateNode,ie.memoizedProps)}catch(Rt){gs(ie,ie.return,Rt)}}}else if(g.tag===6){if(C===null){ie=g;try{var pt=ie.stateNode;F?Ag(pt):Hm(pt,ie.memoizedProps)}catch(Rt){gs(ie,ie.return,Rt)}}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===p)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===p)break e;for(;g.sibling===null;){if(g.return===null||g.return===p)break e;C===g&&(C=null),g=g.return}C===g&&(C=null),g.sibling.return=g.return,g=g.sibling}}O&4&&(O=p.updateQueue,O!==null&&(C=O.retryQueue,C!==null&&(O.retryQueue=null,ig(p,C))));break;case 19:si(g,p),so(p),O&4&&(O=p.updateQueue,O!==null&&(p.updateQueue=null,ig(p,O)));break;case 21:break;default:si(g,p),so(p)}}function so(p){var g=p.flags;if(g&2){try{if(Kr&&(!Da||p.tag!==27)){e:{for(var C=p.return;C!==null;){if(Iy(C)){var O=C;break e}C=C.return}throw Error(a(160))}switch(O.tag){case 27:if(Da){var F=O.stateNode,V=sg(p);rg(p,V,F);break}case 5:var ie=O.stateNode;O.flags&32&&(ta(ie),O.flags&=-33);var Ae=sg(p);rg(p,Ae,ie);break;case 3:case 4:var Ge=O.stateNode.containerInfo,pt=sg(p);Dy(p,pt,Ge);break;default:throw Error(a(161))}}}catch(Rt){gs(p,p.return,Rt)}p.flags&=-3}g&4096&&(p.flags&=-4097)}function Nu(p){if(p.subtreeFlags&1024)for(p=p.child;p!==null;){var g=p;Nu(g),g.tag===5&&g.flags&1024&&nN(g.stateNode),p=p.sibling}}function Jo(p,g){if(g.subtreeFlags&8772)for(g=g.child;g!==null;)Hw(p,g.alternate,g),g=g.sibling}function Rl(p){for(p=p.child;p!==null;){var g=p;switch(g.tag){case 0:case 11:case 14:case 15:xd(4,g,g.return),Rl(g);break;case 1:vi(g,g.return);var C=g.stateNode;typeof C.componentWillUnmount=="function"&&Bw(g,g.return,C),Rl(g);break;case 26:case 27:case 5:vi(g,g.return),Rl(g);break;case 22:vi(g,g.return),g.memoizedState===null&&Rl(g);break;default:Rl(g)}p=p.sibling}}function Ol(p,g,C){for(C=C&&(g.subtreeFlags&8772)!==0,g=g.child;g!==null;){var O=g.alternate,F=p,V=g,ie=V.flags;switch(V.tag){case 0:case 11:case 15:Ol(F,V,C),wc(4,V);break;case 1:if(Ol(F,V,C),O=V,F=O.stateNode,typeof F.componentDidMount=="function")try{F.componentDidMount()}catch(pt){gs(O,O.return,pt)}if(O=V,F=O.updateQueue,F!==null){var Ae=O.stateNode;try{var Ge=F.shared.hiddenCallbacks;if(Ge!==null)for(F.shared.hiddenCallbacks=null,F=0;F<Ge.length;F++)_e(Ge[F],Ae)}catch(pt){gs(O,O.return,pt)}}C&&ie&64&&Am(V),gd(V,V.return);break;case 26:case 27:case 5:Ol(F,V,C),C&&O===null&&ie&4&&ng(V),gd(V,V.return);break;case 12:Ol(F,V,C);break;case 13:Ol(F,V,C),C&&ie&4&&Ly(F,V);break;case 22:V.memoizedState===null&&Ol(F,V,C),gd(V,V.return);break;default:Ol(F,V,C)}g=g.sibling}}function og(p,g){var C=null;p!==null&&p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(C=p.memoizedState.cachePool.pool),p=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(p=g.memoizedState.cachePool.pool),p!==C&&(p!=null&&p.refCount++,C!=null&&Sm(C))}function Vh(p,g){p=null,g.alternate!==null&&(p=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==p&&(g.refCount++,p!=null&&Sm(p))}function ro(p,g,C,O){if(g.subtreeFlags&10256)for(g=g.child;g!==null;)lg(p,g,C,O),g=g.sibling}function lg(p,g,C,O){var F=g.flags;switch(g.tag){case 0:case 11:case 15:ro(p,g,C,O),F&2048&&wc(9,g);break;case 3:ro(p,g,C,O),F&2048&&(p=null,g.alternate!==null&&(p=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==p&&(g.refCount++,p!=null&&Sm(p)));break;case 12:if(F&2048){ro(p,g,C,O),p=g.stateNode;try{var V=g.memoizedProps,ie=V.id,Ae=V.onPostCommit;typeof Ae=="function"&&Ae(ie,g.alternate===null?"mount":"update",p.passiveEffectDuration,-0)}catch(Ge){gs(g,g.return,Ge)}}else ro(p,g,C,O);break;case 23:break;case 22:V=g.stateNode,g.memoizedState!==null?V._visibility&4?ro(p,g,C,O):vd(p,g):V._visibility&4?ro(p,g,C,O):(V._visibility|=4,Su(p,g,C,O,(g.subtreeFlags&10256)!==0)),F&2048&&og(g.alternate,g);break;case 24:ro(p,g,C,O),F&2048&&Vh(g.alternate,g);break;default:ro(p,g,C,O)}}function Su(p,g,C,O,F){for(F=F&&(g.subtreeFlags&10256)!==0,g=g.child;g!==null;){var V=p,ie=g,Ae=C,Ge=O,pt=ie.flags;switch(ie.tag){case 0:case 11:case 15:Su(V,ie,Ae,Ge,F),wc(8,ie);break;case 23:break;case 22:var Rt=ie.stateNode;ie.memoizedState!==null?Rt._visibility&4?Su(V,ie,Ae,Ge,F):vd(V,ie):(Rt._visibility|=4,Su(V,ie,Ae,Ge,F)),F&&pt&2048&&og(ie.alternate,ie);break;case 24:Su(V,ie,Ae,Ge,F),F&&pt&2048&&Vh(ie.alternate,ie);break;default:Su(V,ie,Ae,Ge,F)}g=g.sibling}}function vd(p,g){if(g.subtreeFlags&10256)for(g=g.child;g!==null;){var C=p,O=g,F=O.flags;switch(O.tag){case 22:vd(C,O),F&2048&&og(O.alternate,O);break;case 24:vd(C,O),F&2048&&Vh(O.alternate,O);break;default:vd(C,O)}g=g.sibling}}function yd(p){if(p.subtreeFlags&zo)for(p=p.child;p!==null;)Fy(p),p=p.sibling}function Fy(p){switch(p.tag){case 26:yd(p),p.flags&zo&&(p.memoizedState!==null?Rg(fo,p.memoizedState,p.memoizedProps):eb(p.type,p.memoizedProps));break;case 5:yd(p),p.flags&zo&&eb(p.type,p.memoizedProps);break;case 3:case 4:if(ko){var g=fo;fo=fb(p.stateNode.containerInfo),yd(p),fo=g}else yd(p);break;case 22:p.memoizedState===null&&(g=p.alternate,g!==null&&g.memoizedState!==null?(g=zo,zo=16777216,yd(p),zo=g):yd(p));break;default:yd(p)}}function Uy(p){var g=p.alternate;if(g!==null&&(p=g.child,p!==null)){g.child=null;do g=p.sibling,p.sibling=null,p=g;while(p!==null)}}function Hh(p){var g=p.deletions;if((p.flags&16)!==0){if(g!==null)for(var C=0;C<g.length;C++){var O=g[C];sa=O,Nc(O,p)}Uy(p)}if(p.subtreeFlags&10256)for(p=p.child;p!==null;)zy(p),p=p.sibling}function zy(p){switch(p.tag){case 0:case 11:case 15:Hh(p),p.flags&2048&&xd(9,p,p.return);break;case 3:Hh(p);break;case 12:Hh(p);break;case 22:var g=p.stateNode;p.memoizedState!==null&&g._visibility&4&&(p.return===null||p.return.tag!==13)?(g._visibility&=-5,Cm(p)):Hh(p);break;default:Hh(p)}}function Cm(p){var g=p.deletions;if((p.flags&16)!==0){if(g!==null)for(var C=0;C<g.length;C++){var O=g[C];sa=O,Nc(O,p)}Uy(p)}for(p=p.child;p!==null;){switch(g=p,g.tag){case 0:case 11:case 15:xd(8,g,g.return),Cm(g);break;case 22:C=g.stateNode,C._visibility&4&&(C._visibility&=-5,Cm(g));break;default:Cm(g)}p=p.sibling}}function Nc(p,g){for(;sa!==null;){var C=sa;switch(C.tag){case 0:case 11:case 15:xd(8,C,g);break;case 23:case 22:if(C.memoizedState!==null&&C.memoizedState.cachePool!==null){var O=C.memoizedState.cachePool.pool;O!=null&&O.refCount++}break;case 24:Sm(C.memoizedState.cache)}if(O=C.child,O!==null)O.return=C,sa=O;else e:for(C=p;sa!==null;){O=sa;var F=O.sibling,V=O.return;if(Ro(O),O===C){sa=null;break e}if(F!==null){F.return=V,sa=F;break e}sa=V}}}function Tm(p){var g=wg(p);if(g!=null){if(typeof g.memoizedProps["data-testname"]!="string")throw Error(a(364));return g}if(p=Fl(p),p===null)throw Error(a(362));return p.stateNode.current}function Em(p,g){var C=p.tag;switch(g.$$typeof){case ql:if(p.type===g.value)return!0;break;case sp:e:{for(g=g.value,p=[p,0],C=0;C<p.length;){var O=p[C++],F=O.tag,V=p[C++],ie=g[V];if(F!==5&&F!==26&&F!==27||!rl(O)){for(;ie!=null&&Em(O,ie);)V++,ie=g[V];if(V===g.length){g=!0;break e}else for(O=O.child;O!==null;)p.push(O,V),O=O.sibling}}g=!1}return g;case rp:if((C===5||C===26||C===27)&&tb(p.stateNode,g.value))return!0;break;case $u:if((C===5||C===6||C===26||C===27)&&(p=Bm(p),p!==null&&0<=p.indexOf(g.value)))return!0;break;case cf:if((C===5||C===26||C===27)&&(p=p.memoizedProps["data-testname"],typeof p=="string"&&p.toLowerCase()===g.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function By(p){switch(p.$$typeof){case ql:return"<"+(o(p.value)||"Unknown")+">";case sp:return":has("+(By(p)||"")+")";case rp:return'[role="'+p.value+'"]';case $u:return'"'+p.value+'"';case cf:return'[data-testname="'+p.value+'"]';default:throw Error(a(365))}}function qw(p,g){var C=[];p=[p,0];for(var O=0;O<p.length;){var F=p[O++],V=F.tag,ie=p[O++],Ae=g[ie];if(V!==5&&V!==26&&V!==27||!rl(F)){for(;Ae!=null&&Em(F,Ae);)ie++,Ae=g[ie];if(ie===g.length)C.push(F);else for(F=F.child;F!==null;)p.push(F,ie),F=F.sibling}}return C}function _u(p,g){if(!Oc)throw Error(a(363));p=Tm(p),p=qw(p,g),g=[],p=Array.from(p);for(var C=0;C<p.length;){var O=p[C++],F=O.tag;if(F===5||F===26||F===27)rl(O)||g.push(O.stateNode);else for(O=O.child;O!==null;)p.push(O),O=O.sibling}return g}function ao(){if((Ws&2)!==0&&Ts!==0)return Ts&-Ts;if(Tn.T!==null){var p=Uu;return p!==0?p:nt()}return ku()}function Vy(){Ir===0&&(Ir=(Ts&536870912)===0||Rs?k():536870912);var p=ho.current;return p!==null&&(p.flags|=32),Ir}function ri(p,g,C){(p===nr&&Is===2||p.cancelPendingCommit!==null)&&(Sc(p,0),kl(p,Ts,Ir,!1)),U(p,C),((Ws&2)===0||p!==nr)&&(p===nr&&((Ws&2)===0&&(Pd|=C),Vr===4&&kl(p,Ts,Ir,!1)),ue(p))}function dr(p,g,C){if((Ws&6)!==0)throw Error(a(327));var O=!C&&(g&60)===0&&(g&p.expiredLanes)===0||T(p,g),F=O?Gy(p,g):Gh(p,g,!0),V=O;do{if(F===0){df&&!O&&kl(p,g,0,!1);break}else if(F===6)kl(p,g,0,!Us);else{if(C=p.current.alternate,V&&!Rm(C)){F=Gh(p,g,!1),V=!1;continue}if(F===2){if(V=g,p.errorRecoveryDisabledLanes&V)var ie=0;else ie=p.pendingLanes&-536870913,ie=ie!==0?ie:ie&536870912?536870912:0;if(ie!==0){g=ie;e:{var Ae=p;F=ip;var Ge=Vi&&Ae.current.memoizedState.isDehydrated;if(Ge&&(Sc(Ae,ie).flags|=256),ie=Gh(Ae,ie,!1),ie!==2){if(Bg&&!Ge){Ae.errorRecoveryDisabledLanes|=V,Pd|=V,F=4;break e}V=za,za=F,V!==null&&Mm(V)}F=ie}if(V=!1,F!==2)continue}}if(F===1){Sc(p,0),kl(p,g,0,!0);break}e:{switch(O=p,F){case 0:case 1:throw Error(a(345));case 4:if((g&4194176)===g){kl(O,g,Ir,!Us);break e}break;case 2:za=null;break;case 3:case 5:break;default:throw Error(a(329))}if(O.finishedWork=C,O.finishedLanes=g,(g&62914560)===g&&(V=Bc+300-Io(),10<V)){if(kl(O,g,Ir,!Us),E(O,0)!==0)break e;O.timeoutHandle=Yh(Pm.bind(null,O,C,za,hf,uf,g,Ir,Pd,Rd,Us,2,-0,0),V);break e}Pm(O,C,za,hf,uf,g,Ir,Pd,Rd,Us,0,-0,0)}}break}while(!0);ue(p)}function Mm(p){za===null?za=p:za.push.apply(za,p)}function Pm(p,g,C,O,F,V,ie,Ae,Ge,pt,Rt,Zt,qt){var ts=g.subtreeFlags;if((ts&8192||(ts&16785408)===16785408)&&(Jy(),Fy(g),g=Rc(),g!==null)){p.cancelPendingCommit=g(Zw.bind(null,p,C,O,F,ie,Ae,Ge,1,Zt,qt)),kl(p,V,ie,!pt);return}Zw(p,C,O,F,ie,Ae,Ge,Rt,Zt,qt)}function Rm(p){for(var g=p;;){var C=g.tag;if((C===0||C===11||C===15)&&g.flags&16384&&(C=g.updateQueue,C!==null&&(C=C.stores,C!==null)))for(var O=0;O<C.length;O++){var F=C[O],V=F.getSnapshot;F=F.value;try{if(!Si(V(),F))return!1}catch{return!1}}if(C=g.child,g.subtreeFlags&16384&&C!==null)C.return=g,g=C;else{if(g===p)break;for(;g.sibling===null;){if(g.return===null||g.return===p)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function kl(p,g,C,O){g&=~_b,g&=~Pd,p.suspendedLanes|=g,p.pingedLanes&=~g,O&&(p.warmLanes|=g),O=p.expirationTimes;for(var F=g;0<F;){var V=31-Hi(F),ie=1<<V;O[V]=-1,F&=~ie}C!==0&&B(p,C,g)}function cg(){return(Ws&6)===0?(Ee(0),!1):!0}function Au(){if(Jn!==null){if(Is===0)var p=Jn.return;else p=Jn,Uo=qi=null,Y(p),zu=null,$i=0,p=Jn;for(;p!==null;)Bh(p.alternate,p),p=p.return;Jn=null}}function Sc(p,g){p.finishedWork=null,p.finishedLanes=0;var C=p.timeoutHandle;C!==Qh&&(p.timeoutHandle=Qh,eN(C)),C=p.cancelPendingCommit,C!==null&&(p.cancelPendingCommit=null,C()),Au(),nr=p,Jn=C=el(p.current,null),Ts=g,Is=0,Xi=null,Us=!1,df=T(p,g),Bg=!1,Rd=Ir=_b=Pd=zc=Vr=0,za=ip=null,uf=!1,(g&8)!==0&&(g|=g&32);var O=p.entangledLanes;if(O!==0)for(p=p.entanglements,O&=g;0<O;){var F=31-Hi(O),V=1<<F;g|=p[F],O&=~V}return Uc=g,Ke(),C}function Cu(p,g){Fn=null,Tn.H=Fo,g===Lo?(g=Ht(),Is=3):g===Lg?(g=Ht(),Is=4):Is=g===tp?8:g!==null&&typeof g=="object"&&typeof g.then=="function"?6:1,Xi=g,Jn===null&&(Vr=1,pm(p,ae(g,p.current)))}function Hy(){var p=ho.current;return p===null?!0:(Ts&4194176)===Ts?Bl===null:(Ts&62914560)===Ts||(Ts&536870912)!==0?p===Bl:!1}function Ww(){var p=Tn.H;return Tn.H=Fo,p===null?Fo:p}function Kw(){var p=Tn.A;return Tn.A=Sb,p}function dg(){Vr=4,Us||(Ts&4194176)!==Ts&&ho.current!==null||(df=!0),(zc&134217727)===0&&(Pd&134217727)===0||nr===null||kl(nr,Ts,Ir,!1)}function Gh(p,g,C){var O=Ws;Ws|=2;var F=Ww(),V=Kw();(nr!==p||Ts!==g)&&(hf=null,Sc(p,g)),g=!1;var ie=Vr;e:do try{if(Is!==0&&Jn!==null){var Ae=Jn,Ge=Xi;switch(Is){case 8:Au(),ie=6;break e;case 3:case 2:case 6:ho.current===null&&(g=!0);var pt=Is;if(Is=0,Xi=null,$h(p,Ae,Ge,pt),C&&df){ie=0;break e}break;default:pt=Is,Is=0,Xi=null,$h(p,Ae,Ge,pt)}}ug(),ie=Vr;break}catch(Rt){Cu(p,Rt)}while(!0);return g&&p.shellSuspendCounter++,Uo=qi=null,Ws=O,Tn.H=F,Tn.A=V,Jn===null&&(nr=null,Ts=0,Ke()),ie}function ug(){for(;Jn!==null;)hg(Jn)}function Gy(p,g){var C=Ws;Ws|=2;var O=Ww(),F=Kw();nr!==p||Ts!==g?(hf=null,Od=Io()+500,Sc(p,g)):df=T(p,g);e:do try{if(Is!==0&&Jn!==null){g=Jn;var V=Xi;t:switch(Is){case 1:Is=0,Xi=null,$h(p,g,V,1);break;case 2:if(zt(V)){Is=0,Xi=null,fg(g);break}g=function(){Is===2&&nr===p&&(Is=7),ue(p)},V.then(g,g);break e;case 3:Is=7;break e;case 4:Is=5;break e;case 7:zt(V)?(Is=0,Xi=null,fg(g)):(Is=0,Xi=null,$h(p,g,V,7));break;case 5:var ie=null;switch(Jn.tag){case 26:ie=Jn.memoizedState;case 5:case 27:var Ae=Jn,Ge=Ae.type,pt=Ae.pendingProps;if(ie?Pg(ie):Pc(Ge,pt)){Is=0,Xi=null;var Rt=Ae.sibling;if(Rt!==null)Jn=Rt;else{var Zt=Ae.return;Zt!==null?(Jn=Zt,Om(Zt)):Jn=null}break t}}Is=0,Xi=null,$h(p,g,V,5);break;case 6:Is=0,Xi=null,$h(p,g,V,6);break;case 8:Au(),Vr=6;break e;default:throw Error(a(462))}}$y();break}catch(qt){Cu(p,qt)}while(!0);return Uo=qi=null,Tn.H=O,Tn.A=F,Ws=C,Jn!==null?0:(nr=null,Ts=0,Ke(),Vr)}function $y(){for(;Jn!==null&&!_N();)hg(Jn)}function hg(p){var g=Dw(p.alternate,p,Uc);p.memoizedProps=p.pendingProps,g===null?Om(p):Jn=g}function fg(p){var g=p,C=g.alternate;switch(g.tag){case 15:case 0:g=$x(C,g,g.pendingProps,g.type,void 0,Ts);break;case 11:g=$x(C,g,g.pendingProps,g.type.render,g.ref,Ts);break;case 5:Y(g);default:Bh(C,g),g=Jn=pg(g,Uc),g=Dw(C,g,Uc)}p.memoizedProps=p.pendingProps,g===null?Om(p):Jn=g}function $h(p,g,C,O){Uo=qi=null,Y(g),zu=null,$i=0;var F=g.return;try{if(Hx(p,F,g,C,Ts)){Vr=1,pm(p,ae(C,p.current)),Jn=null;return}}catch(V){if(F!==null)throw Jn=F,V;Vr=1,pm(p,ae(C,p.current)),Jn=null;return}g.flags&32768?(Rs||O===1?p=!0:df||(Ts&536870912)!==0?p=!1:(Us=p=!0,(O===2||O===3||O===6)&&(O=ho.current,O!==null&&O.tag===13&&(O.flags|=16384))),Xw(g,p)):Om(g)}function Om(p){var g=p;do{if((g.flags&32768)!==0){Xw(g,Us);return}p=g.return;var C=Uw(g.alternate,g,Uc);if(C!==null){Jn=C;return}if(g=g.sibling,g!==null){Jn=g;return}Jn=g=p}while(g!==null);Vr===0&&(Vr=5)}function Xw(p,g){do{var C=zw(p.alternate,p);if(C!==null){C.flags&=32767,Jn=C;return}if(C=p.return,C!==null&&(C.flags|=32768,C.subtreeFlags=0,C.deletions=null),!g&&(p=p.sibling,p!==null)){Jn=p;return}Jn=p=C}while(p!==null);Vr=6,Jn=null}function Zw(p,g,C,O,F,V,ie,Ae,Ge,pt){var Rt=Tn.T,Zt=ya();try{ca(2),Tn.T=null,qy(p,g,C,O,Zt,F,V,ie,Ae,Ge,pt)}finally{Tn.T=Rt,ca(Zt)}}function qy(p,g,C,O,F,V,ie,Ae){do bd();while(Vc!==null);if((Ws&6)!==0)throw Error(a(327));var Ge=p.finishedWork;if(O=p.finishedLanes,Ge===null)return null;if(p.finishedWork=null,p.finishedLanes=0,Ge===p.current)throw Error(a(177));p.callbackNode=null,p.callbackPriority=0,p.cancelPendingCommit=null;var pt=Ge.lanes|Ge.childLanes;if(pt|=Ad,H(p,O,pt,V,ie,Ae),p===nr&&(Jn=nr=null,Ts=0),(Ge.subtreeFlags&10256)===0&&(Ge.flags&10256)===0||Vg||(Vg=!0,Hg=pt,Gg=C,Mu(Zm,function(){return bd(),null})),C=(Ge.flags&15990)!==0,(Ge.subtreeFlags&15990)!==0||C?(C=Tn.T,Tn.T=null,V=ya(),ca(2),ie=Ws,Ws|=4,FT(p,Ge),$w(Ge,p),Xy(p.containerInfo),p.current=Ge,Hw(p,Ge.alternate,Ge),AN(),Ws=ie,ca(V),Tn.T=C):p.current=Ge,Vg?(Vg=!1,Vc=p,op=O):_c(p,pt),pt=p.pendingLanes,pt===0&&(Wl=null),W(Ge.stateNode),ue(p),g!==null)for(F=p.onRecoverableError,Ge=0;Ge<g.length;Ge++)pt=g[Ge],F(pt.value,{componentStack:pt.stack});return(op&3)!==0&&bd(),pt=p.pendingLanes,(O&4194218)!==0&&(pt&42)!==0?p===ff?kd++:(kd=0,ff=p):kd=0,Ee(0),null}function _c(p,g){(p.pooledCacheLanes&=g)===0&&(g=p.pooledCache,g!=null&&(p.pooledCache=null,Sm(g)))}function bd(){if(Vc!==null){var p=Vc,g=Hg;Hg=0;var C=J(op),O=32>C?32:C;C=Tn.T;var F=ya();try{if(ca(O),Tn.T=null,Vc===null)var V=!1;else{O=Gg,Gg=null;var ie=Vc,Ae=op;if(Vc=null,op=0,(Ws&6)!==0)throw Error(a(331));var Ge=Ws;if(Ws|=4,zy(ie.current),lg(ie,ie.current,Ae,O),Ws=Ge,Ee(0,!1),Ni&&typeof Ni.onPostCommitFiberRoot=="function")try{Ni.onPostCommitFiberRoot(sf,ie)}catch{}V=!0}return V}finally{ca(F),Tn.T=C,_c(p,g)}}return!1}function Tu(p,g,C){g=ae(C,g),g=xm(p.stateNode,g,2),p=_t(p,g,2),p!==null&&(U(p,2),ue(p))}function gs(p,g,C){if(p.tag===3)Tu(p,p,C);else for(;g!==null;){if(g.tag===3){Tu(g,p,C);break}else if(g.tag===1){var O=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof O.componentDidCatch=="function"&&(Wl===null||!Wl.has(O))){p=ae(C,p),C=gm(2),O=_t(g,C,2),O!==null&&(Ny(C,O,g,p),U(O,2),ue(O));break}}g=g.return}}function Eu(p,g,C){var O=p.pingCache;if(O===null){O=p.pingCache=new $T;var F=new Set;O.set(g,F)}else F=O.get(g),F===void 0&&(F=new Set,O.set(g,F));F.has(C)||(Bg=!0,F.add(C),p=Ac.bind(null,p,g,C),g.then(p,p))}function Ac(p,g,C){var O=p.pingCache;O!==null&&O.delete(g),p.pingedLanes|=p.suspendedLanes&C,p.warmLanes&=~C,nr===p&&(Ts&C)===C&&(Vr===4||Vr===3&&(Ts&62914560)===Ts&&300>Io()-Bc?(Ws&2)===0&&Sc(p,0):_b|=C,Rd===Ts&&(Rd=0)),ue(p)}function mg(p,g){g===0&&(g=I()),p=Qe(p,g),p!==null&&(U(p,g),ue(p))}function UT(p){var g=p.memoizedState,C=0;g!==null&&(C=g.retryLane),mg(p,C)}function zT(p,g){var C=0;switch(p.tag){case 13:var O=p.stateNode,F=p.memoizedState;F!==null&&(C=F.retryLane);break;case 19:O=p.stateNode;break;case 22:O=p.stateNode._retryCache;break;default:throw Error(a(314))}O!==null&&O.delete(g),mg(p,C)}function Mu(p,g){return La(p,g)}function km(p,g,C,O){this.tag=p,this.key=C,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=O,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jd(p){return p=p.prototype,!(!p||!p.isReactComponent)}function el(p,g){var C=p.alternate;return C===null?(C=s(p.tag,g,p.key,p.mode),C.elementType=p.elementType,C.type=p.type,C.stateNode=p.stateNode,C.alternate=p,p.alternate=C):(C.pendingProps=g,C.type=p.type,C.flags=0,C.subtreeFlags=0,C.deletions=null),C.flags=p.flags&31457280,C.childLanes=p.childLanes,C.lanes=p.lanes,C.child=p.child,C.memoizedProps=p.memoizedProps,C.memoizedState=p.memoizedState,C.updateQueue=p.updateQueue,g=p.dependencies,C.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},C.sibling=p.sibling,C.index=p.index,C.ref=p.ref,C.refCleanup=p.refCleanup,C}function pg(p,g){p.flags&=31457282;var C=p.alternate;return C===null?(p.childLanes=0,p.lanes=g,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=C.childLanes,p.lanes=C.lanes,p.child=C.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=C.memoizedProps,p.memoizedState=C.memoizedState,p.updateQueue=C.updateQueue,p.type=C.type,g=C.dependencies,p.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext}),p}function Cc(p,g,C,O,F,V){var ie=0;if(O=p,typeof p=="function")jd(p)&&(ie=1);else if(typeof p=="string")ie=ko&&Da?hb(p,C,ja.current)?26:Og(p)?27:5:ko?hb(p,C,ja.current)?26:5:Da&&Og(p)?27:5;else e:switch(p){case Wh:return Fi(C.children,F,V,g);case Tc:ie=8,F|=24;break;case Nd:return p=s(12,C,g,F|2),p.elementType=Nd,p.lanes=V,p;case Bi:return p=s(13,C,g,F),p.elementType=Bi,p.lanes=V,p;case Ec:return p=s(19,C,g,F),p.elementType=Ec,p.lanes=V,p;case Sd:return ur(C,F,V,g);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case Kh:case nl:ie=10;break e;case Dm:ie=9;break e;case zi:ie=11;break e;case sl:ie=14;break e;case ii:ie=16,O=null;break e}ie=29,C=Error(a(130,p===null?"null":typeof p,"")),O=null}return g=s(ie,C,g,F),g.elementType=p,g.type=O,g.lanes=V,g}function Fi(p,g,C,O){return p=s(7,p,O,g),p.lanes=C,p}function ur(p,g,C,O){p=s(22,p,O,g),p.elementType=Sd,p.lanes=C;var F={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var V=F._current;if(V===null)throw Error(a(456));if((F._pendingVisibility&2)===0){var ie=Qe(V,2);ie!==null&&(F._pendingVisibility|=2,ri(ie,V,2))}},attach:function(){var V=F._current;if(V===null)throw Error(a(456));if((F._pendingVisibility&2)!==0){var ie=Qe(V,2);ie!==null&&(F._pendingVisibility&=-3,ri(ie,V,2))}}};return p.stateNode=F,p}function Zs(p,g,C){return p=s(6,p,null,g),p.lanes=C,p}function Il(p,g,C){return g=s(4,p.children!==null?p.children:[],p.key,g),g.lanes=C,g.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},g}function ai(p,g,C,O,F,V,ie,Ae){this.tag=1,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Qh,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=L(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=L(0),this.hiddenUpdates=L(null),this.identifierPrefix=O,this.onUncaughtError=F,this.onCaughtError=V,this.onRecoverableError=ie,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ae,this.incompleteTransitions=new Map}function bi(p,g,C,O,F,V,ie,Ae,Ge,pt,Rt,Zt){return p=new ai(p,g,C,ie,Ae,Ge,pt,Zt),g=1,V===!0&&(g|=24),V=s(3,null,null,g),p.current=V,V.stateNode=p,g=My(),g.refCount++,p.pooledCache=g,g.refCount++,V.memoizedState={element:O,isDehydrated:C,cache:g},Ut(V),p}function wd(p){return p?(p=Du,p):Du}function Pu(p){var g=p._reactInternals;if(g===void 0)throw typeof p.render=="function"?Error(a(188)):(p=Object.keys(p).join(","),Error(a(268,p)));return p=y(g),p=p!==null?N(p):null,p===null?null:Xh(p.stateNode)}function ji(p,g,C,O,F,V){F=wd(F),O.context===null?O.context=F:O.pendingContext=F,O=wt(g),O.payload={element:C},V=V===void 0?null:V,V!==null&&(O.callback=V),C=_t(p,O,g),C!==null&&(ri(C,p,g),hn(C,p,g))}function Im(p,g){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var C=p.retryLane;p.retryLane=C!==0&&C<g?C:g}}function xg(p,g){Im(p,g),(p=p.alternate)&&Im(p,g)}var vs={},gg=X0(),Ui=Hte(),tl=Object.assign,vg=Symbol.for("react.element"),qh=Symbol.for("react.transitional.element"),Ru=Symbol.for("react.portal"),Wh=Symbol.for("react.fragment"),Tc=Symbol.for("react.strict_mode"),Nd=Symbol.for("react.profiler"),Kh=Symbol.for("react.provider"),Dm=Symbol.for("react.consumer"),nl=Symbol.for("react.context"),zi=Symbol.for("react.forward_ref"),Bi=Symbol.for("react.suspense"),Ec=Symbol.for("react.suspense_list"),sl=Symbol.for("react.memo"),ii=Symbol.for("react.lazy"),Sd=Symbol.for("react.offscreen"),Yw=Symbol.for("react.memo_cache_sentinel"),yg=Symbol.iterator,Wy=Symbol.for("react.client.reference"),Tn=gg.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,wi,gr,io=!1,Lm=Array.isArray,Qw=e.rendererVersion,Ky=e.rendererPackageName,bg=e.extraDevToolsConfig,Xh=e.getPublicInstance,jg=e.getRootHostContext,Jw=e.getChildHostContext,Zh=e.prepareForCommit,Xy=e.resetAfterCommit,BT=e.createInstance,Ou=e.appendInitialChild,Fm=e.finalizeInitialChildren,Um=e.shouldSetTextContent,Zy=e.createTextInstance,Yh=e.scheduleTimeout,eN=e.cancelTimeout,Qh=e.noTimeout,Oo=e.isPrimaryRenderer;e.warnsIfNotActing;var Kr=e.supportsMutation,Dl=e.supportsPersistence,Vi=e.supportsHydration,wg=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var Yy=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var ca=e.setCurrentUpdatePriority,ya=e.getCurrentUpdatePriority,ku=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var Qy=e.shouldAttemptEagerTransition,tN=e.detachDeletedInstance;e.requestPostPaintCallback;var Mc=e.maySuspendCommit,Pc=e.preloadInstance,Jy=e.startSuspendingCommit,eb=e.suspendInstance,Rc=e.waitForCommitToBeReady,oo=e.NotPendingTransition,Ll=e.HostTransitionContext,nN=e.resetFormInstance;e.bindToConsole;var Ng=e.supportsMicrotasks,sN=e.scheduleMicrotask,Oc=e.supportsTestSelectors,Fl=e.findFiberRoot,zm=e.getBoundingRect,Bm=e.getTextContent,rl=e.isHiddenSubtree,tb=e.matchAccessibilityRole,Jh=e.setFocusIfFocusable,rN=e.setupIntersectionObserver,nb=e.appendChild,Pr=e.appendChildToContainer,Sg=e.commitTextUpdate,sb=e.commitMount,rb=e.commitUpdate,_g=e.insertBefore,ab=e.insertInContainerBefore,Iu=e.removeChild,Rr=e.removeChildFromContainer,ta=e.resetTextContent,ba=e.hideInstance,Ag=e.hideTextInstance,Vm=e.unhideInstance,Hm=e.unhideTextInstance,VT=e.clearContainer,oi=e.cloneInstance,Cg=e.createContainerChildSet,Tg=e.appendChildToContainerChildSet,ib=e.finalizeContainerChildren,al=e.replaceContainerChildren,lo=e.cloneHiddenInstance,ef=e.cloneHiddenTextInstance,Gm=e.isSuspenseInstancePending,$m=e.isSuspenseInstanceFallback,aN=e.getSuspenseInstanceFallbackErrorDetails,iN=e.registerSuspenseInstanceRetry,oN=e.canHydrateFormStateMarker,lN=e.isFormStateMarkerMatching,ob=e.getNextHydratableSibling,lb=e.getFirstHydratableChild,cN=e.getFirstHydratableChildWithinContainer,dN=e.getFirstHydratableChildWithinSuspenseInstance,qm=e.canHydrateInstance,uN=e.canHydrateTextInstance,Eg=e.canHydrateSuspenseInstance,Mg=e.hydrateInstance,hN=e.hydrateTextInstance,cb=e.hydrateSuspenseInstance,fN=e.getNextHydratableInstanceAfterSuspenseInstance,mN=e.commitHydratedContainer,pN=e.commitHydratedSuspenseInstance,xN=e.clearSuspenseBoundary,db=e.clearSuspenseBoundaryFromContainer,ub=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var gN=e.validateHydratableInstance,vN=e.validateHydratableTextInstance,ko=e.supportsResources,hb=e.isHostHoistableType,fb=e.getHoistableRoot,yN=e.getResource,mb=e.acquireResource,pb=e.releaseResource,bN=e.hydrateHoistable,Wm=e.mountHoistable,jN=e.unmountHoistable,HT=e.createHoistableInstance,GT=e.prepareToCommitHoistables,il=e.mayResourceSuspendCommit,Pg=e.preloadResource,Rg=e.suspendResource,Da=e.supportsSingletons,xb=e.resolveSingletonInstance,wN=e.clearSingleton,gb=e.acquireSingletonInstance,tf=e.releaseSingletonInstance,Og=e.isHostSingletonType,Km=[],nf=-1,Du={},Hi=Math.clz32?Math.clz32:S,NN=Math.log,SN=Math.LN2,Xm=128,kg=4194304,La=Ui.unstable_scheduleCallback,Fa=Ui.unstable_cancelCallback,_N=Ui.unstable_shouldYield,AN=Ui.unstable_requestPaint,Io=Ui.unstable_now,vb=Ui.unstable_ImmediatePriority,CN=Ui.unstable_UserBlockingPriority,Zm=Ui.unstable_NormalPriority,TN=Ui.unstable_IdlePriority,yb=Ui.log,EN=Ui.unstable_setDisableYieldValue,sf=null,Ni=null,Si=typeof Object.is=="function"?Object.is:G,bb=new WeakMap,_d=[],kc=0,Ig=null,Ym=0,Gi=[],co=0,Ul=null,Ua=1,Ic="",ja=v(null),Lu=v(null),Dc=v(null),Qm=v(null),da=null,ks=null,Rs=!1,ol=null,uo=!1,wa=Error(a(519)),Do=[],Yt=0,Ad=0,rf=null,Fu=null,jb=!1,Cd=!1,af=!1,Td=0,of=null,Dg=0,Uu=0,Ed=null,zl=!1,ua=!1,ll=Object.prototype.hasOwnProperty,Lo=Error(a(460)),Lg=Error(a(474)),Jm={then:function(){}},li=null,zu=null,$i=0,Bu=wr(!0),wb=wr(!1),Vu=v(null),ep=v(0),ho=v(null),Bl=null,zr=v(0),Vl=0,Fn=null,yn=null,bs=null,Or=!1,Br=!1,ha=!1,Lc=0,kr=0,Hl=null,Hu=0,lf=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},Fo={readContext:ni,use:xe,useCallback:cr,useContext:cr,useEffect:cr,useImperativeHandle:cr,useLayoutEffect:cr,useInsertionEffect:cr,useMemo:cr,useReducer:cr,useRef:cr,useState:cr,useDebugValue:cr,useDeferredValue:cr,useTransition:cr,useSyncExternalStore:cr,useId:cr};Fo.useCacheRefresh=cr,Fo.useMemoCache=cr,Fo.useHostTransitionStatus=cr,Fo.useFormState=cr,Fo.useActionState=cr,Fo.useOptimistic=cr;var cl={readContext:ni,use:xe,useCallback:function(p,g){return ye().memoizedState=[p,g===void 0?null:g],p},useContext:ni,useEffect:vy,useImperativeHandle:function(p,g,C){C=C!=null?C.concat([p]):null,um(4194308,4,hm.bind(null,g,p),C)},useLayoutEffect:function(p,g){return um(4194308,4,p,g)},useInsertionEffect:function(p,g){um(4,2,p,g)},useMemo:function(p,g){var C=ye();g=g===void 0?null:g;var O=p();if(ha){ee(!0);try{p()}finally{ee(!1)}}return C.memoizedState=[O,g],O},useReducer:function(p,g,C){var O=ye();if(C!==void 0){var F=C(g);if(ha){ee(!0);try{C(g)}finally{ee(!1)}}}else F=g;return O.memoizedState=O.baseState=F,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:F},O.queue=p,p=p.dispatch=Mw.bind(null,Fn,p),[O.memoizedState,p]},useRef:function(p){var g=ye();return p={current:p},g.memoizedState=p},useState:function(p){p=Cn(p);var g=p.queue,C=Pw.bind(null,Fn,g);return g.dispatch=C,[p.memoizedState,C]},useDebugValue:Pl,useDeferredValue:function(p,g){var C=ye();return vu(C,p,g)},useTransition:function(){var p=Cn(!1);return p=Tw.bind(null,Fn,p.queue,!0,!1),ye().memoizedState=p,[!1,p]},useSyncExternalStore:function(p,g,C){var O=Fn,F=ye();if(Rs){if(C===void 0)throw Error(a(407));C=C()}else{if(C=g(),nr===null)throw Error(a(349));(Ts&60)!==0||Dt(O,g,C)}F.memoizedState=C;var V={value:C,getSnapshot:g};return F.queue=V,vy($n.bind(null,O,V,p),[p]),O.flags|=2048,es(9,an.bind(null,O,V,C,g),{destroy:void 0},null),C},useId:function(){var p=ye(),g=nr.identifierPrefix;if(Rs){var C=Ic,O=Ua;C=(O&~(1<<32-Hi(O)-1)).toString(32)+C,g=":"+g+"R"+C,C=Lc++,0<C&&(g+="H"+C.toString(32)),g+=":"}else C=Hu++,g=":"+g+"r"+C.toString(32)+":";return p.memoizedState=g},useCacheRefresh:function(){return ye().memoizedState=Bx.bind(null,Fn)}};cl.useMemoCache=gt,cl.useHostTransitionStatus=yu,cl.useFormState=qs,cl.useActionState=qs,cl.useOptimistic=function(p){var g=ye();g.memoizedState=g.baseState=p;var C={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return g.queue=C,g=bu.bind(null,Fn,!0,C),C.dispatch=g,[p,g]};var Xr={readContext:ni,use:xe,useCallback:mc,useContext:ni,useEffect:Ux,useImperativeHandle:fc,useInsertionEffect:yy,useLayoutEffect:zx,useMemo:Fh,useReducer:ft,useRef:gy,useState:function(){return ft(at)},useDebugValue:Pl,useDeferredValue:function(p,g){var C=Ne();return pc(C,yn.memoizedState,p,g)},useTransition:function(){var p=ft(at)[0],g=Ne().memoizedState;return[typeof p=="boolean"?p:Te(p),g]},useSyncExternalStore:Vt,useId:Ew};Xr.useCacheRefresh=jy,Xr.useMemoCache=gt,Xr.useHostTransitionStatus=yu,Xr.useFormState=pr,Xr.useActionState=pr,Xr.useOptimistic=function(p,g){var C=Ne();return Xt(C,yn,p,g)};var Fc={readContext:ni,use:xe,useCallback:mc,useContext:ni,useEffect:Ux,useImperativeHandle:fc,useInsertionEffect:yy,useLayoutEffect:zx,useMemo:Fh,useReducer:Pt,useRef:gy,useState:function(){return Pt(at)},useDebugValue:Pl,useDeferredValue:function(p,g){var C=Ne();return yn===null?vu(C,p,g):pc(C,yn.memoizedState,p,g)},useTransition:function(){var p=Pt(at)[0],g=Ne().memoizedState;return[typeof p=="boolean"?p:Te(p),g]},useSyncExternalStore:Vt,useId:Ew};Fc.useCacheRefresh=jy,Fc.useMemoCache=gt,Fc.useHostTransitionStatus=yu,Fc.useFormState=fd,Fc.useActionState=fd,Fc.useOptimistic=function(p,g){var C=Ne();return yn!==null?Xt(C,yn,p,g):(C.baseState=p,[p,C.queue.dispatch])};var Md={isMounted:function(p){return(p=p._reactInternals)?h(p)===p:!1},enqueueSetState:function(p,g,C){p=p._reactInternals;var O=ao(),F=wt(O);F.payload=g,C!=null&&(F.callback=C),g=_t(p,F,O),g!==null&&(ri(g,p,O),hn(g,p,O))},enqueueReplaceState:function(p,g,C){p=p._reactInternals;var O=ao(),F=wt(O);F.tag=1,F.payload=g,C!=null&&(F.callback=C),g=_t(p,F,O),g!==null&&(ri(g,p,O),hn(g,p,O))},enqueueForceUpdate:function(p,g){p=p._reactInternals;var C=ao(),O=wt(C);O.tag=2,g!=null&&(O.callback=g),g=_t(p,O,C),g!==null&&(ri(g,p,C),hn(g,p,C))}},Gl=typeof reportError=="function"?reportError:function(p){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var g=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof p=="object"&&p!==null&&typeof p.message=="string"?String(p.message):String(p),error:p});if(!window.dispatchEvent(g))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",p);return}console.error(p)},tp=Error(a(461)),na=!1,$l={dehydrated:null,treeContext:null,retryLane:0},Gu=v(null),qi=null,Uo=null,np=typeof AbortController<"u"?AbortController:function(){var p=[],g=this.signal={aborted:!1,addEventListener:function(C,O){p.push(O)}};this.abort=function(){g.aborted=!0,p.forEach(function(C){return C()})}},Nb=Ui.unstable_scheduleCallback,Fg=Ui.unstable_NormalPriority,vr={$$typeof:nl,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},ci=Tn.S;Tn.S=function(p,g){typeof g=="object"&&g!==null&&typeof g.then=="function"&&We(p,g),ci!==null&&ci(p,g)};var Wi=v(null),fa=!1,_s=!1,Ug=!1,zg=typeof WeakSet=="function"?WeakSet:Set,sa=null,MN=!1,tr=null,Ki=!1,fo=null,zo=8192,Sb={getCacheForType:function(p){var g=ni(vr),C=g.data.get(p);return C===void 0&&(C=p(),g.data.set(p,C)),C}},ql=0,sp=1,rp=2,cf=3,$u=4;if(typeof Symbol=="function"&&Symbol.for){var ap=Symbol.for;ql=ap("selector.component"),sp=ap("selector.has_pseudo_class"),rp=ap("selector.role"),cf=ap("selector.test_id"),$u=ap("selector.text")}var $T=typeof WeakMap=="function"?WeakMap:Map,Ws=0,nr=null,Jn=null,Ts=0,Is=0,Xi=null,Us=!1,df=!1,Bg=!1,Uc=0,Vr=0,zc=0,Pd=0,_b=0,Ir=0,Rd=0,ip=null,za=null,uf=!1,Bc=0,Od=1/0,hf=null,Wl=null,Vg=!1,Vc=null,op=0,Hg=0,Gg=null,kd=0,ff=null;return vs.attemptContinuousHydration=function(p){if(p.tag===13){var g=Qe(p,67108864);g!==null&&ri(g,p,67108864),xg(p,67108864)}},vs.attemptHydrationAtCurrentPriority=function(p){if(p.tag===13){var g=ao(),C=Qe(p,g);C!==null&&ri(C,p,g),xg(p,g)}},vs.attemptSynchronousHydration=function(p){switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var g=w(p.pendingLanes);if(g!==0){for(p.pendingLanes|=2,p.entangledLanes|=2;g;){var C=1<<31-Hi(g);p.entanglements[1]|=C,g&=~C}ue(p),(Ws&6)===0&&(Od=Io()+500,Ee(0))}}break;case 13:g=Qe(p,2),g!==null&&ri(g,p,2),cg(),xg(p,2)}},vs.batchedUpdates=function(p,g){return p(g)},vs.createComponentSelector=function(p){return{$$typeof:ql,value:p}},vs.createContainer=function(p,g,C,O,F,V,ie,Ae,Ge,pt){return bi(p,g,!1,null,C,O,V,ie,Ae,Ge,pt,null)},vs.createHasPseudoClassSelector=function(p){return{$$typeof:sp,value:p}},vs.createHydrationContainer=function(p,g,C,O,F,V,ie,Ae,Ge,pt,Rt,Zt,qt){return p=bi(C,O,!0,p,F,V,Ae,Ge,pt,Rt,Zt,qt),p.context=wd(null),C=p.current,O=ao(),F=wt(O),F.callback=g??null,_t(C,F,O),p.current.lanes=O,U(p,O),ue(p),p},vs.createPortal=function(p,g,C){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ru,key:O==null?null:""+O,children:p,containerInfo:g,implementation:C}},vs.createRoleSelector=function(p){return{$$typeof:rp,value:p}},vs.createTestNameSelector=function(p){return{$$typeof:cf,value:p}},vs.createTextSelector=function(p){return{$$typeof:$u,value:p}},vs.defaultOnCaughtError=function(p){console.error(p)},vs.defaultOnRecoverableError=function(p){Gl(p)},vs.defaultOnUncaughtError=function(p){Gl(p)},vs.deferredUpdates=function(p){var g=Tn.T,C=ya();try{return ca(32),Tn.T=null,p()}finally{ca(C),Tn.T=g}},vs.discreteUpdates=function(p,g,C,O,F){var V=Tn.T,ie=ya();try{return ca(2),Tn.T=null,p(g,C,O,F)}finally{ca(ie),Tn.T=V,Ws===0&&(Od=Io()+500)}},vs.findAllNodes=_u,vs.findBoundingRects=function(p,g){if(!Oc)throw Error(a(363));g=_u(p,g),p=[];for(var C=0;C<g.length;C++)p.push(zm(g[C]));for(g=p.length-1;0<g;g--){C=p[g];for(var O=C.x,F=O+C.width,V=C.y,ie=V+C.height,Ae=g-1;0<=Ae;Ae--)if(g!==Ae){var Ge=p[Ae],pt=Ge.x,Rt=pt+Ge.width,Zt=Ge.y,qt=Zt+Ge.height;if(O>=pt&&V>=Zt&&F<=Rt&&ie<=qt){p.splice(g,1);break}else if(O!==pt||C.width!==Ge.width||qt<V||Zt>ie){if(!(V!==Zt||C.height!==Ge.height||Rt<O||pt>F)){pt>O&&(Ge.width+=pt-O,Ge.x=O),Rt<F&&(Ge.width=F-pt),p.splice(g,1);break}}else{Zt>V&&(Ge.height+=Zt-V,Ge.y=V),qt<ie&&(Ge.height=ie-Zt),p.splice(g,1);break}}}return p},vs.findHostInstance=Pu,vs.findHostInstanceWithNoPortals=function(p){return p=y(p),p=p!==null?j(p):null,p===null?null:Xh(p.stateNode)},vs.findHostInstanceWithWarning=function(p){return Pu(p)},vs.flushPassiveEffects=bd,vs.flushSyncFromReconciler=function(p){var g=Ws;Ws|=1;var C=Tn.T,O=ya();try{if(ca(2),Tn.T=null,p)return p()}finally{ca(O),Tn.T=C,Ws=g,(Ws&6)===0&&Ee(0)}},vs.flushSyncWork=cg,vs.focusWithin=function(p,g){if(!Oc)throw Error(a(363));for(p=Tm(p),g=qw(p,g),g=Array.from(g),p=0;p<g.length;){var C=g[p++],O=C.tag;if(!rl(C)){if((O===5||O===26||O===27)&&Jh(C.stateNode))return!0;for(C=C.child;C!==null;)g.push(C),C=C.sibling}}return!1},vs.getFindAllNodesFailureDescription=function(p,g){if(!Oc)throw Error(a(363));var C=0,O=[];p=[Tm(p),0];for(var F=0;F<p.length;){var V=p[F++],ie=V.tag,Ae=p[F++],Ge=g[Ae];if((ie!==5&&ie!==26&&ie!==27||!rl(V))&&(Em(V,Ge)&&(O.push(By(Ge)),Ae++,Ae>C&&(C=Ae)),Ae<g.length))for(V=V.child;V!==null;)p.push(V,Ae),V=V.sibling}if(C<g.length){for(p=[];C<g.length;C++)p.push(By(g[C]));return`findAllNodes was able to match part of the selector:
  `+(O.join(" > ")+`

No matching component was found for:
  `)+p.join(" > ")}return null},vs.getPublicRootInstance=function(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 27:case 5:return Xh(p.child.stateNode);default:return p.child.stateNode}},vs.injectIntoDevTools=function(){var p={bundleType:0,version:Qw,rendererPackageName:Ky,currentDispatcherRef:Tn,findFiberByHostInstance:wg,reconcilerVersion:"19.0.0"};if(bg!==null&&(p.rendererConfig=bg),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")p=!1;else{var g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(g.isDisabled||!g.supportsFiber)p=!0;else{try{sf=g.inject(p),Ni=g}catch{}p=!!g.checkDCE}}return p},vs.isAlreadyRendering=function(){return!1},vs.observeVisibleRects=function(p,g,C,O){if(!Oc)throw Error(a(363));p=_u(p,g);var F=rN(p,C,O).disconnect;return{disconnect:function(){F()}}},vs.shouldError=function(){return null},vs.shouldSuspend=function(){return!1},vs.startHostTransition=function(p,g,C,O){if(p.tag!==5)throw Error(a(476));var F=by(p).queue;Tw(p,F,g,oo,C===null?r:function(){var V=by(p).next.queue;return xc(p,V,{},ao()),C(O)})},vs.updateContainer=function(p,g,C,O){var F=g.current,V=ao();return ji(F,V,p,g,C,O),V},vs.updateContainerSync=function(p,g,C,O){return g.tag===0&&bd(),ji(g.current,2,p,g,C,O),2},vs},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})})(x3)),x3.exports}var lG;function FIe(){return lG||(lG=1,p3.exports=LIe()),p3.exports}var UIe=FIe();const zIe=Gs(UIe);var cG=Hte();function oL(n,e,s){if(!n)return;if(s(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const a=oL(r,e,s);if(a)return a;r=e?null:r.sibling}}function Gte(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const lL=Gte(R.createContext(null));class $te extends R.Component{render(){return R.createElement(lL.Provider,{value:this._reactInternals},this.props.children)}}function qte(){const n=R.useContext(lL);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=R.useId();return R.useMemo(()=>{for(const s of[n,n?.alternate]){if(!s)continue;const r=oL(s,!1,a=>{let i=a.memoizedState;for(;i;){if(i.memoizedState===e)return!0;i=i.next}});if(r)return r}},[n,e])}const BIe=Symbol.for("react.context"),VIe=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===BIe;function HIe(){const n=qte(),[e]=R.useState(()=>new Map);e.clear();let s=n;for(;s;){const r=s.type;VIe(r)&&r!==lL&&!e.has(r)&&e.set(r,R.use(Gte(r))),s=s.return}return e}function GIe(){const n=HIe();return R.useMemo(()=>Array.from(n.keys()).reduce((e,s)=>r=>R.createElement(e,null,R.createElement(s.Provider,{...r,value:n.get(s)})),e=>R.createElement($te,{...e})),[n])}function Wte(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Kte=n=>n&&n.isOrthographicCamera,$Ie=n=>n&&n.hasOwnProperty("current"),qIe=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),_w=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?R.useLayoutEffect:R.useEffect;function cL(n){const e=R.useRef(n);return _w(()=>void(e.current=n),[n]),e}function WIe(){const n=qte(),e=GIe();return R.useMemo(()=>({children:s})=>{const a=!!oL(n,!0,i=>i.type===R.StrictMode)?R.StrictMode:R.Fragment;return t.jsx(a,{children:t.jsx(e,{children:s})})},[n,e])}function KIe({set:n}){return _w(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const XIe=(n=>(n=class extends R.Component{constructor(...s){super(...s),this.state={error:!1}}componentDidCatch(s){this.props.set(s)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function Xte(n){var e;const s=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],s),n[1]):n}function bv(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const Hr={obj:n=>n===Object(n)&&!Hr.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:s="shallow",objects:r="reference",strict:a=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Hr.str(n)||Hr.num(n)||Hr.boo(n))return n===e;const i=Hr.obj(n);if(i&&r==="reference")return n===e;const o=Hr.arr(n);if(o&&s==="reference")return n===e;if((o||i)&&n===e)return!0;let l;for(l in n)if(!(l in e))return!1;if(i&&s==="shallow"&&r==="shallow"){for(l in a?e:n)if(!Hr.equ(n[l],e[l],{strict:a,objects:"reference"}))return!1}else for(l in a?e:n)if(n[l]!==e[l])return!1;if(Hr.und(l)){if(o&&n.length===0&&e.length===0||i&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function ZIe(n){const e={nodes:{},materials:{},meshes:{}};return n&&n.traverse(s=>{s.name&&(e.nodes[s.name]=s),s.material&&!e.materials[s.material.name]&&(e.materials[s.material.name]=s.material),s.isMesh&&!e.meshes[s.name]&&(e.meshes[s.name]=s)}),e}function YIe(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const s=n[e];s?.type!=="Scene"&&(s==null||s.dispose==null||s.dispose())}}const Zte=["children","key","ref"];function QIe(n){const e={};for(const s in n)Zte.includes(s)||(e[s]=n[s]);return e}function RA(n,e,s,r){const a=n;let i=a?.__r3f;return i||(i={root:e,type:s,parent:null,children:[],props:QIe(r),object:a,eventCount:0,handlers:{},isHidden:!1},a&&(a.__r3f=i)),i}function G1(n,e){if(!e.includes("-"))return{root:n,key:e,target:n[e]};if(e in n)return{root:n,key:e,target:n[e]};let s=n;const r=e.split("-");for(const a of r){if(typeof s!="object"||s===null){if(s!==void 0){const i=r.slice(r.indexOf(a)).join("-");return{root:s,key:i,target:void 0}}return{root:n,key:e,target:void 0}}e=a,n=s,s=s[e]}return{root:n,key:e,target:s}}const dG=/-\d+$/;function OA(n,e){if(Hr.str(e.props.attach)){if(dG.test(e.props.attach)){const a=e.props.attach.replace(dG,""),{root:i,key:o}=G1(n.object,a);Array.isArray(i[o])||(i[o]=[])}const{root:s,key:r}=G1(n.object,e.props.attach);e.previousAttach=s[r],s[r]=e.object}else Hr.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function kA(n,e){if(Hr.str(e.props.attach)){const{root:s,key:r}=G1(n.object,e.props.attach),a=e.previousAttach;a===void 0?delete s[r]:s[r]=a}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const nk=[...Zte,"args","dispose","attach","object","onUpdate","dispose"],uG=new Map;function JIe(n){let e=uG.get(n.constructor);try{e||(e=new n.constructor,uG.set(n.constructor,e))}catch{}return e}function eDe(n,e){const s={};for(const r in e)if(!nk.includes(r)&&!Hr.equ(e[r],n.props[r])){s[r]=e[r];for(const a in e)a.startsWith(`${r}-`)&&(s[a]=e[a])}for(const r in n.props){if(nk.includes(r)||e.hasOwnProperty(r))continue;const{root:a,key:i}=G1(n.object,r);if(a.constructor&&a.constructor.length===0){const o=JIe(a);Hr.und(o)||(s[i]=o[i])}else s[i]=0}return s}const tDe=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],nDe=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function zd(n,e){var s;const r=n.__r3f,a=r&&Wte(r).getState(),i=r?.eventCount;for(const l in e){let c=e[l];if(nk.includes(l))continue;if(r&&nDe.test(l)){typeof c=="function"?r.handlers[l]=c:delete r.handlers[l],r.eventCount=Object.keys(r.handlers).length;continue}if(c===void 0)continue;let{root:d,key:u,target:h}=G1(n,l);if(h===void 0&&(typeof d!="object"||d===null))throw Error(`R3F: Cannot set "${l}". Ensure it is an object before setting "${u}".`);if(h instanceof H0&&c instanceof H0)h.mask=c.mask;else if(h instanceof nn&&qIe(c))h.set(c);else if(h!==null&&typeof h=="object"&&typeof h.set=="function"&&typeof h.copy=="function"&&c!=null&&c.constructor&&h.constructor===c.constructor)h.copy(c);else if(h!==null&&typeof h=="object"&&typeof h.set=="function"&&Array.isArray(c))typeof h.fromArray=="function"?h.fromArray(c):h.set(...c);else if(h!==null&&typeof h=="object"&&typeof h.set=="function"&&typeof c=="number")typeof h.setScalar=="function"?h.setScalar(c):h.set(c);else{var o;d[u]=c,a&&!a.linear&&tDe.includes(u)&&(o=d[u])!=null&&o.isTexture&&d[u].format===xa&&d[u].type===_o&&(d[u].colorSpace=Mi)}}if(r!=null&&r.parent&&a!=null&&a.internal&&(s=r.object)!=null&&s.isObject3D&&i!==r.eventCount){const l=r.object,c=a.internal.interaction.indexOf(l);c>-1&&a.internal.interaction.splice(c,1),r.eventCount&&l.raycast!==null&&a.internal.interaction.push(l)}return r&&r.props.attach===void 0&&(r.object.isBufferGeometry?r.props.attach="geometry":r.object.isMaterial&&(r.props.attach="material")),r&&xy(r),n}function xy(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const s=(e=n.root)==null||e.getState==null?void 0:e.getState();s&&s.internal.frames===0&&s.invalidate()}function Yte(n,e){n.manual||(Kte(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const go=n=>n?.isObject3D;function WS(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function Qte(n,e,s,r){const a=s.get(e);a&&(s.delete(e),s.size===0&&(n.delete(r),a.target.releasePointerCapture(r)))}function sDe(n,e){const{internal:s}=n.getState();s.interaction=s.interaction.filter(r=>r!==e),s.initialHits=s.initialHits.filter(r=>r!==e),s.hovered.forEach((r,a)=>{(r.eventObject===e||r.object===e)&&s.hovered.delete(a)}),s.capturedMap.forEach((r,a)=>{Qte(s.capturedMap,e,r,a)})}function rDe(n){function e(c){const{internal:d}=n.getState(),u=c.offsetX-d.initialClick[0],h=c.offsetY-d.initialClick[1];return Math.round(Math.sqrt(u*u+h*h))}function s(c){return c.filter(d=>["Move","Over","Enter","Out","Leave"].some(u=>{var h;return(h=d.__r3f)==null?void 0:h.handlers["onPointer"+u]}))}function r(c,d){const u=n.getState(),h=new Set,m=[],y=d?d(u.internal.interaction):u.internal.interaction;for(let b=0;b<y.length;b++){const A=bv(y[b]);A&&(A.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(c,u);function N(b){const A=bv(b);if(!A||!A.events.enabled||A.raycaster.camera===null)return[];if(A.raycaster.camera===void 0){var S;A.events.compute==null||A.events.compute(c,A,(S=A.previousRoot)==null?void 0:S.getState()),A.raycaster.camera===void 0&&(A.raycaster.camera=null)}return A.raycaster.camera?A.raycaster.intersectObject(b,!0):[]}let j=y.flatMap(N).sort((b,A)=>{const S=bv(b.object),w=bv(A.object);return!S||!w?b.distance-A.distance:w.events.priority-S.events.priority||b.distance-A.distance}).filter(b=>{const A=WS(b);return h.has(A)?!1:(h.add(A),!0)});u.events.filter&&(j=u.events.filter(j,u));for(const b of j){let A=b.object;for(;A;){var v;(v=A.__r3f)!=null&&v.eventCount&&m.push({...b,eventObject:A}),A=A.parent}}if("pointerId"in c&&u.internal.capturedMap.has(c.pointerId))for(let b of u.internal.capturedMap.get(c.pointerId).values())h.has(WS(b.intersection))||m.push(b.intersection);return m}function a(c,d,u,h){if(c.length){const m={stopped:!1};for(const y of c){let N=bv(y.object);if(N||y.object.traverseAncestors(j=>{const v=bv(j);if(v)return N=v,!1}),N){const{raycaster:j,pointer:v,camera:b,internal:A}=N,S=new he(v.x,v.y,0).unproject(b),w=I=>{var L,U;return(L=(U=A.capturedMap.get(I))==null?void 0:U.has(y.eventObject))!=null?L:!1},E=I=>{const L={intersection:y,target:d.target};A.capturedMap.has(I)?A.capturedMap.get(I).set(y.eventObject,L):A.capturedMap.set(I,new Map([[y.eventObject,L]])),d.target.setPointerCapture(I)},T=I=>{const L=A.capturedMap.get(I);L&&Qte(A.capturedMap,y.eventObject,L,I)};let P={};for(let I in d){let L=d[I];typeof L!="function"&&(P[I]=L)}let k={...y,...P,pointer:v,intersections:c,stopped:m.stopped,delta:u,unprojectedPoint:S,ray:j.ray,camera:b,stopPropagation(){const I="pointerId"in d&&A.capturedMap.get(d.pointerId);if((!I||I.has(y.eventObject))&&(k.stopped=m.stopped=!0,A.hovered.size&&Array.from(A.hovered.values()).find(L=>L.eventObject===y.eventObject))){const L=c.slice(0,c.indexOf(y));i([...L,y])}},target:{hasPointerCapture:w,setPointerCapture:E,releasePointerCapture:T},currentTarget:{hasPointerCapture:w,setPointerCapture:E,releasePointerCapture:T},nativeEvent:d};if(h(k),m.stopped===!0)break}}}return c}function i(c){const{internal:d}=n.getState();for(const u of d.hovered.values())if(!c.length||!c.find(h=>h.object===u.object&&h.index===u.index&&h.instanceId===u.instanceId)){const m=u.eventObject.__r3f;if(d.hovered.delete(WS(u)),m!=null&&m.eventCount){const y=m.handlers,N={...u,intersections:c};y.onPointerOut==null||y.onPointerOut(N),y.onPointerLeave==null||y.onPointerLeave(N)}}}function o(c,d){for(let u=0;u<d.length;u++){const h=d[u].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(c)}}function l(c){switch(c){case"onPointerLeave":case"onPointerCancel":return()=>i([]);case"onLostPointerCapture":return d=>{const{internal:u}=n.getState();"pointerId"in d&&u.capturedMap.has(d.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(d.pointerId)&&(u.capturedMap.delete(d.pointerId),i([]))})}}return function(u){const{onPointerMissed:h,internal:m}=n.getState();m.lastEvent.current=u;const y=c==="onPointerMove",N=c==="onClick"||c==="onContextMenu"||c==="onDoubleClick",v=r(u,y?s:void 0),b=N?e(u):0;c==="onPointerDown"&&(m.initialClick=[u.offsetX,u.offsetY],m.initialHits=v.map(S=>S.eventObject)),N&&!v.length&&b<=2&&(o(u,m.interaction),h&&h(u)),y&&i(v);function A(S){const w=S.eventObject,E=w.__r3f;if(!(E!=null&&E.eventCount))return;const T=E.handlers;if(y){if(T.onPointerOver||T.onPointerEnter||T.onPointerOut||T.onPointerLeave){const P=WS(S),k=m.hovered.get(P);k?k.stopped&&S.stopPropagation():(m.hovered.set(P,S),T.onPointerOver==null||T.onPointerOver(S),T.onPointerEnter==null||T.onPointerEnter(S))}T.onPointerMove==null||T.onPointerMove(S)}else{const P=T[c];P?(!N||m.initialHits.includes(w))&&(o(u,m.interaction.filter(k=>!m.initialHits.includes(k))),P(S)):N&&m.initialHits.includes(w)&&o(u,m.interaction.filter(k=>!m.initialHits.includes(k)))}}a(v,u,b,A)}}return{handlePointer:l}}const hG=n=>!!(n!=null&&n.render),dL=R.createContext(null),aDe=(n,e)=>{const s=zte((l,c)=>{const d=new he,u=new he,h=new he;function m(b=c().camera,A=u,S=c().size){const{width:w,height:E,top:T,left:P}=S,k=w/E;A.isVector3?h.copy(A):h.set(...A);const I=b.getWorldPosition(d).distanceTo(h);if(Kte(b))return{width:w/b.zoom,height:E/b.zoom,top:T,left:P,factor:1,distance:I,aspect:k};{const L=b.fov*Math.PI/180,U=2*Math.tan(L/2)*I,H=U*(w/E);return{width:H,height:U,top:T,left:P,factor:w/H,distance:I,aspect:k}}}let y;const N=b=>l(A=>({performance:{...A.performance,current:b}})),j=new mt;return{set:l,get:c,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(b=1)=>n(c(),b),advance:(b,A)=>e(b,A,c()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new JD,pointer:j,mouse:j,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const b=c();y&&clearTimeout(y),b.performance.current!==b.performance.min&&N(b.performance.min),y=setTimeout(()=>N(c().performance.max),b.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:m},setEvents:b=>l(A=>({...A,events:{...A.events,...b}})),setSize:(b,A,S=0,w=0)=>{const E=c().camera,T={width:b,height:A,top:S,left:w};l(P=>({size:T,viewport:{...P.viewport,...m(E,u,T)}}))},setDpr:b=>l(A=>{const S=Xte(b);return{viewport:{...A.viewport,dpr:S,initialDpr:A.viewport.initialDpr||S}}}),setFrameloop:(b="always")=>{const A=c().clock;A.stop(),A.elapsedTime=0,b!=="never"&&(A.start(),A.elapsedTime=0),l(()=>({frameloop:b}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:R.createRef(),active:!1,frames:0,priority:0,subscribe:(b,A,S)=>{const w=c().internal;return w.priority=w.priority+(A>0?1:0),w.subscribers.push({ref:b,priority:A,store:S}),w.subscribers=w.subscribers.sort((E,T)=>E.priority-T.priority),()=>{const E=c().internal;E!=null&&E.subscribers&&(E.priority=E.priority-(A>0?1:0),E.subscribers=E.subscribers.filter(T=>T.ref!==b))}}}}}),r=s.getState();let a=r.size,i=r.viewport.dpr,o=r.camera;return s.subscribe(()=>{const{camera:l,size:c,viewport:d,gl:u,set:h}=s.getState();if(c.width!==a.width||c.height!==a.height||d.dpr!==i){a=c,i=d.dpr,Yte(l,c),d.dpr>0&&u.setPixelRatio(d.dpr);const m=typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(c.width,c.height,m)}l!==o&&(o=l,h(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(l)}})))}),s.subscribe(l=>n(l)),s};function uL(){const n=R.useContext(dL);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function vo(n=s=>s,e){return uL()(n,e)}function Fx(n,e=0){const s=uL(),r=s.getState().internal.subscribe,a=cL(n);return _w(()=>r(a,e,s),[e,r,s]),null}const fG=new WeakMap,iDe=n=>{var e;return typeof n=="function"&&(n==null||(e=n.prototype)==null?void 0:e.constructor)===n};function Jte(n,e){return function(s,...r){let a;return iDe(s)?(a=fG.get(s),a||(a=new s,fG.set(s,a))):a=s,n&&n(a),Promise.all(r.map(i=>new Promise((o,l)=>a.load(i,c=>{go(c?.scene)&&Object.assign(c,ZIe(c.scene)),o(c)},e,c=>l(new Error(`Could not load ${i}: ${c?.message}`))))))}}function W0(n,e,s,r){const a=Array.isArray(e)?e:[e],i=OIe(Jte(s,r),[n,...a],{equal:Hr.equ});return Array.isArray(e)?i:i[0]}W0.preload=function(n,e,s){const r=Array.isArray(e)?e:[e];return kIe(Jte(s),[n,...r])};W0.clear=function(n,e){const s=Array.isArray(e)?e:[e];return IIe([n,...s])};function oDe(n){const e=zIe(n);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:R.version}),e}const ene=0,K0={},lDe=/^three(?=[A-Z])/,kT=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let cDe=0;const dDe=n=>typeof n=="function";function tne(n){if(dDe(n)){const e=`${cDe++}`;return K0[e]=n,e}else Object.assign(K0,n)}function nne(n,e){const s=kT(n),r=K0[s];if(n!=="primitive"&&!r)throw new Error(`R3F: ${s} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function uDe(n,e,s){var r;return n=kT(n)in K0?n:n.replace(lDe,""),nne(n,e),n==="primitive"&&(r=e.object)!=null&&r.__r3f&&delete e.object.__r3f,RA(e.object,s,n,e)}function hDe(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?kA(n.parent,n):go(n.object)&&(n.object.visible=!1),n.isHidden=!0,xy(n)}}function sne(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?OA(n.parent,n):go(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,xy(n)}}function hL(n,e,s){const r=e.root.getState();if(!(!n.parent&&n.object!==r.scene)){if(!e.object){var a,i;const o=K0[kT(e.type)];e.object=(a=e.props.object)!=null?a:new o(...(i=e.props.args)!=null?i:[]),e.object.__r3f=e}if(zd(e.object,e.props),e.props.attach)OA(n,e);else if(go(e.object)&&go(n.object)){const o=n.object.children.indexOf(s?.object);if(s&&o!==-1){const l=n.object.children.indexOf(e.object);if(l!==-1){n.object.children.splice(l,1);const c=l<o?o-1:o;n.object.children.splice(c,0,e.object)}else e.object.parent=n.object,n.object.children.splice(o,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const o of e.children)hL(e,o);xy(e)}}function y3(n,e){e&&(e.parent=n,n.children.push(e),hL(n,e))}function mG(n,e,s){if(!e||!s)return;e.parent=n;const r=n.children.indexOf(s);r!==-1?n.children.splice(r,0,e):n.children.push(e),hL(n,e,s)}function rne(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():cG.unstable_scheduleCallback(cG.unstable_IdlePriority,e)}}function sk(n,e,s){if(!e)return;e.parent=null;const r=n.children.indexOf(e);r!==-1&&n.children.splice(r,1),e.props.attach?kA(n,e):go(e.object)&&go(n.object)&&(n.object.remove(e.object),sDe(Wte(e),e.object));const a=e.props.dispose!==null&&s!==!1;for(let i=e.children.length-1;i>=0;i--){const o=e.children[i];sk(e,o,a)}e.children.length=0,delete e.object.__r3f,a&&e.type!=="primitive"&&e.object.type!=="Scene"&&rne(e.object),s===void 0&&xy(e)}function fDe(n,e){for(const s of[n,n.alternate])if(s!==null)if(typeof s.ref=="function"){s.refCleanup==null||s.refCleanup();const r=s.ref(e);typeof r=="function"&&(s.refCleanup=r)}else s.ref&&(s.ref.current=e)}const m_=[];function mDe(){for(const[s]of m_){const r=s.parent;if(r){s.props.attach?kA(r,s):go(s.object)&&go(r.object)&&r.object.remove(s.object);for(const a of s.children)a.props.attach?kA(s,a):go(a.object)&&go(s.object)&&s.object.remove(a.object)}s.isHidden&&sne(s),s.object.__r3f&&delete s.object.__r3f,s.type!=="primitive"&&rne(s.object)}for(const[s,r,a]of m_){s.props=r;const i=s.parent;if(i){var n,e;const o=K0[kT(s.type)];s.object=(n=s.props.object)!=null?n:new o(...(e=s.props.args)!=null?e:[]),s.object.__r3f=s,fDe(a,s.object),zd(s.object,s.props),s.props.attach?OA(i,s):go(s.object)&&go(i.object)&&i.object.add(s.object);for(const l of s.children)l.props.attach?OA(s,l):go(l.object)&&go(s.object)&&s.object.add(l.object);xy(s)}}m_.length=0}const b3=()=>{},pG={};let KS=ene;const pDe=0,xDe=4,IA=oDe({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:uDe,removeChild:sk,appendChild:y3,appendInitialChild:y3,insertBefore:mG,appendChildToContainer(n,e){const s=n.getState().scene.__r3f;!e||!s||y3(s,e)},removeChildFromContainer(n,e){const s=n.getState().scene.__r3f;!e||!s||sk(s,e)},insertInContainerBefore(n,e,s){const r=n.getState().scene.__r3f;!e||!s||!r||mG(r,e,s)},getRootHostContext:()=>pG,getChildHostContext:()=>pG,commitUpdate(n,e,s,r,a){var i,o,l;nne(e,r);let c=!1;if((n.type==="primitive"&&s.object!==r.object||((i=r.args)==null?void 0:i.length)!==((o=s.args)==null?void 0:o.length)||(l=r.args)!=null&&l.some((u,h)=>{var m;return u!==((m=s.args)==null?void 0:m[h])}))&&(c=!0),c)m_.push([n,{...r},a]);else{const u=eDe(n,r);Object.keys(u).length&&(Object.assign(n.props,u),zd(n.object,u))}(a.sibling===null||(a.flags&xDe)===pDe)&&mDe()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n?.object,prepareForCommit:()=>null,preparePortalMount:n=>RA(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:hDe,unhideInstance:sne,createTextInstance:b3,hideTextInstance:b3,unhideTextInstance:b3,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:R.createContext(null),setCurrentUpdatePriority(n){KS=n},getCurrentUpdatePriority(){return KS},resolveUpdatePriority(){var n;if(KS!==ene)return KS;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return d_.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return d_.ContinuousEventPriority;default:return d_.DefaultEventPriority}},resetFormInstance(){}}),Cx=new Map,jv={objects:"shallow",strict:!1};function gDe(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:s,height:r,top:a,left:i}=n.parentElement.getBoundingClientRect();return{width:s,height:r,top:a,left:i}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function vDe(n){const e=Cx.get(n),s=e?.fiber,r=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const a=typeof reportError=="function"?reportError:console.error,i=r||aDe(ik,gG),o=s||IA.createContainer(i,d_.ConcurrentRoot,null,!1,null,"",a,a,a,null);e||Cx.set(n,{fiber:o,store:i});let l,c,d=!1,u=null;return{async configure(h={}){let m;u=new Promise(se=>m=se);let{gl:y,size:N,scene:j,events:v,onCreated:b,shadows:A=!1,linear:S=!1,flat:w=!1,legacy:E=!1,orthographic:T=!1,frameloop:P="always",dpr:k=[1,2],performance:I,raycaster:L,camera:U,onPointerMissed:H}=h,B=i.getState(),K=B.gl;if(!B.gl){const se={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},me=typeof y=="function"?await y(se):y;hG(me)?K=me:K=new iL({...se,...y}),B.set({gl:K})}let J=B.raycaster;J||B.set({raycaster:J=new sL});const{params:W,...ee}=L||{};if(Hr.equ(ee,J,jv)||zd(J,{...ee}),Hr.equ(W,J.params,jv)||zd(J,{params:{...J.params,...W}}),!B.camera||B.camera===c&&!Hr.equ(c,U,jv)){c=U;const se=U?.isCamera,me=se?U:T?new ad(0,0,0,0,.1,1e3):new Zr(75,0,.1,1e3);se||(me.position.z=5,U&&(zd(me,U),me.manual||("aspect"in U||"left"in U||"right"in U||"bottom"in U||"top"in U)&&(me.manual=!0,me.updateProjectionMatrix())),!B.camera&&!(U!=null&&U.rotation)&&me.lookAt(0,0,0)),B.set({camera:me}),J.camera=me}if(!B.scene){let se;j!=null&&j.isScene?(se=j,RA(se,i,"",{})):(se=new gw,RA(se,i,"",{}),j&&zd(se,j)),B.set({scene:se})}v&&!B.events.handlers&&B.set({events:v(i)});const G=gDe(n,N);if(Hr.equ(G,B.size,jv)||B.setSize(G.width,G.height,G.top,G.left),k&&B.viewport.dpr!==Xte(k)&&B.setDpr(k),B.frameloop!==P&&B.setFrameloop(P),B.onPointerMissed||B.set({onPointerMissed:H}),I&&!Hr.equ(I,B.performance,jv)&&B.set(se=>({performance:{...se.performance,...I}})),!B.xr){var ae;const se=(Ye,dt)=>{const be=i.getState();be.frameloop!=="never"&&gG(Ye,!0,be,dt)},me=()=>{const Ye=i.getState();Ye.gl.xr.enabled=Ye.gl.xr.isPresenting,Ye.gl.xr.setAnimationLoop(Ye.gl.xr.isPresenting?se:null),Ye.gl.xr.isPresenting||ik(Ye)},Oe={connect(){const Ye=i.getState().gl;Ye.xr.addEventListener("sessionstart",me),Ye.xr.addEventListener("sessionend",me)},disconnect(){const Ye=i.getState().gl;Ye.xr.removeEventListener("sessionstart",me),Ye.xr.removeEventListener("sessionend",me)}};typeof((ae=K.xr)==null?void 0:ae.addEventListener)=="function"&&Oe.connect(),B.set({xr:Oe})}if(K.shadowMap){const se=K.shadowMap.enabled,me=K.shadowMap.type;if(K.shadowMap.enabled=!!A,Hr.boo(A))K.shadowMap.type=Sj;else if(Hr.str(A)){var fe;const Oe={basic:qJ,percentage:nT,soft:Sj,variance:Xc};K.shadowMap.type=(fe=Oe[A])!=null?fe:Sj}else Hr.obj(A)&&Object.assign(K.shadowMap,A);(se!==K.shadowMap.enabled||me!==K.shadowMap.type)&&(K.shadowMap.needsUpdate=!0)}return Ps.enabled=!E,d||(K.outputColorSpace=S?ld:Mi,K.toneMapping=w?su:pD),B.legacy!==E&&B.set(()=>({legacy:E})),B.linear!==S&&B.set(()=>({linear:S})),B.flat!==w&&B.set(()=>({flat:w})),y&&!Hr.fun(y)&&!hG(y)&&!Hr.equ(y,K,jv)&&zd(K,y),l=b,d=!0,m(),this},render(h){return!d&&!u&&this.configure(),u.then(()=>{IA.updateContainer(t.jsx(yDe,{store:i,children:h,onCreated:l,rootElement:n}),o,null,()=>{})}),i},unmount(){ane(n)}}}function yDe({store:n,children:e,onCreated:s,rootElement:r}){return _w(()=>{const a=n.getState();a.set(i=>({internal:{...i.internal,active:!0}})),s&&s(a),n.getState().events.connected||a.events.connect==null||a.events.connect(r)},[]),t.jsx(dL.Provider,{value:n,children:e})}function ane(n,e){const s=Cx.get(n),r=s?.fiber;if(r){const a=s?.store.getState();a&&(a.internal.active=!1),IA.updateContainer(null,r,null,()=>{a&&setTimeout(()=>{try{var i,o,l,c;a.events.disconnect==null||a.events.disconnect(),(i=a.gl)==null||(o=i.renderLists)==null||o.dispose==null||o.dispose(),(l=a.gl)==null||l.forceContextLoss==null||l.forceContextLoss(),(c=a.gl)!=null&&c.xr&&a.xr.disconnect(),YIe(a.scene),Cx.delete(n)}catch{}},500)})}}function bDe(n,e,s){return t.jsx(jDe,{children:n,container:e,state:s})}function jDe({state:n={},children:e,container:s}){const{events:r,size:a,...i}=n,o=uL(),[l]=R.useState(()=>new sL),[c]=R.useState(()=>new mt),d=cL((h,m)=>{let y;if(m.camera&&a){const N=m.camera;y=h.viewport.getCurrentViewport(N,new he,a),N!==h.camera&&Yte(N,a)}return{...h,...m,scene:s,raycaster:l,pointer:c,mouse:c,previousRoot:o,events:{...h.events,...m.events,...r},size:{...h.size,...a},viewport:{...h.viewport,...y},setEvents:N=>m.set(j=>({...j,events:{...j.events,...N}}))}}),u=R.useMemo(()=>{const h=zte((y,N)=>({...i,set:y,get:N})),m=y=>h.setState(N=>d.current(y,N));return m(o.getState()),o.subscribe(m),h},[o,s]);return t.jsx(t.Fragment,{children:IA.createPortal(t.jsx(dL.Provider,{value:u,children:e}),u,null)})}const wDe=new Set,NDe=new Set,SDe=new Set;function j3(n,e){if(n.size)for(const{callback:s}of n.values())s(e)}function Oj(n,e){switch(n){case"before":return j3(wDe,e);case"after":return j3(NDe,e);case"tail":return j3(SDe,e)}}let w3,N3;function rk(n,e,s){let r=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),w3=e.internal.subscribers;for(let a=0;a<w3.length;a++)N3=w3[a],N3.ref.current(N3.store.getState(),r,s);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let DA=!1,ak=!1,S3,xG,wv;function ine(n){xG=requestAnimationFrame(ine),DA=!0,S3=0,Oj("before",n),ak=!0;for(const s of Cx.values()){var e;wv=s.store.getState(),wv.internal.active&&(wv.frameloop==="always"||wv.internal.frames>0)&&!((e=wv.gl.xr)!=null&&e.isPresenting)&&(S3+=rk(n,wv))}if(ak=!1,Oj("after",n),S3===0)return Oj("tail",n),DA=!1,cancelAnimationFrame(xG)}function ik(n,e=1){var s;if(!n)return Cx.forEach(r=>ik(r.store.getState(),e));(s=n.gl.xr)!=null&&s.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):ak?n.internal.frames=2:n.internal.frames=1,DA||(DA=!0,requestAnimationFrame(ine)))}function gG(n,e=!0,s,r){if(e&&Oj("before",n),s)rk(n,s,r);else for(const a of Cx.values())rk(n,a.store.getState());e&&Oj("after",n)}const _3={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function _De(n){const{handlePointer:e}=rDe(n);return{priority:1,enabled:!0,compute(s,r,a){r.pointer.set(s.offsetX/r.size.width*2-1,-(s.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(_3).reduce((s,r)=>({...s,[r]:e(r)}),{}),update:()=>{var s;const{events:r,internal:a}=n.getState();(s=a.lastEvent)!=null&&s.current&&r.handlers&&r.handlers.onPointerMove(a.lastEvent.current)},connect:s=>{const{set:r,events:a}=n.getState();if(a.disconnect==null||a.disconnect(),r(i=>({events:{...i.events,connected:s}})),a.handlers)for(const i in a.handlers){const o=a.handlers[i],[l,c]=_3[i];s.addEventListener(l,o,{passive:c})}},disconnect:()=>{const{set:s,events:r}=n.getState();if(r.connected){if(r.handlers)for(const a in r.handlers){const i=r.handlers[a],[o]=_3[a];r.connected.removeEventListener(o,i)}s(a=>({events:{...a.events,connected:void 0}}))}}}}function vG(n,e){let s;return(...r)=>{window.clearTimeout(s),s=window.setTimeout(()=>n(...r),e)}}function ADe({debounce:n,scroll:e,polyfill:s,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const a=s||(typeof window>"u"?class{}:window.ResizeObserver);if(!a)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[i,o]=R.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=R.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:i,orientationHandler:null}),c=n?typeof n=="number"?n:n.scroll:null,d=n?typeof n=="number"?n:n.resize:null,u=R.useRef(!1);R.useEffect(()=>(u.current=!0,()=>void(u.current=!1)));const[h,m,y]=R.useMemo(()=>{const b=()=>{if(!l.current.element)return;const{left:A,top:S,width:w,height:E,bottom:T,right:P,x:k,y:I}=l.current.element.getBoundingClientRect(),L={left:A,top:S,width:w,height:E,bottom:T,right:P,x:k,y:I};l.current.element instanceof HTMLElement&&r&&(L.height=l.current.element.offsetHeight,L.width=l.current.element.offsetWidth),Object.freeze(L),u.current&&!MDe(l.current.lastBounds,L)&&o(l.current.lastBounds=L)};return[b,d?vG(b,d):b,c?vG(b,c):b]},[o,r,c,d]);function N(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(b=>b.removeEventListener("scroll",y,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null),l.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",l.current.orientationHandler))}function j(){l.current.element&&(l.current.resizeObserver=new a(y),l.current.resizeObserver.observe(l.current.element),e&&l.current.scrollContainers&&l.current.scrollContainers.forEach(b=>b.addEventListener("scroll",y,{capture:!0,passive:!0})),l.current.orientationHandler=()=>{y()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",l.current.orientationHandler))}const v=b=>{!b||b===l.current.element||(N(),l.current.element=b,l.current.scrollContainers=one(b),j())};return TDe(y,!!e),CDe(m),R.useEffect(()=>{N(),j()},[e,y,m]),R.useEffect(()=>N,[]),[v,i,h]}function CDe(n){R.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function TDe(n,e){R.useEffect(()=>{if(e){const s=n;return window.addEventListener("scroll",s,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",s,!0)}},[n,e])}function one(n){const e=[];if(!n||n===document.body)return e;const{overflow:s,overflowX:r,overflowY:a}=window.getComputedStyle(n);return[s,r,a].some(i=>i==="auto"||i==="scroll")&&e.push(n),[...e,...one(n.parentElement)]}const EDe=["x","y","top","bottom","left","right","width","height"],MDe=(n,e)=>EDe.every(s=>n[s]===e[s]);function PDe({ref:n,children:e,fallback:s,resize:r,style:a,gl:i,events:o=_De,eventSource:l,eventPrefix:c,shadows:d,linear:u,flat:h,legacy:m,orthographic:y,frameloop:N,dpr:j,performance:v,raycaster:b,camera:A,scene:S,onPointerMissed:w,onCreated:E,...T}){R.useMemo(()=>tne(NIe),[]);const P=WIe(),[k,I]=ADe({scroll:!0,debounce:{scroll:50,resize:0},...r}),L=R.useRef(null),U=R.useRef(null);R.useImperativeHandle(n,()=>L.current);const H=cL(w),[B,K]=R.useState(!1),[J,W]=R.useState(!1);if(B)throw B;if(J)throw J;const ee=R.useRef(null);_w(()=>{const ae=L.current;if(I.width>0&&I.height>0&&ae){ee.current||(ee.current=vDe(ae));async function fe(){await ee.current.configure({gl:i,scene:S,events:o,shadows:d,linear:u,flat:h,legacy:m,orthographic:y,frameloop:N,dpr:j,performance:v,raycaster:b,camera:A,size:I,onPointerMissed:(...se)=>H.current==null?void 0:H.current(...se),onCreated:se=>{se.events.connect==null||se.events.connect(l?$Ie(l)?l.current:l:U.current),c&&se.setEvents({compute:(me,Oe)=>{const Ye=me[c+"X"],dt=me[c+"Y"];Oe.pointer.set(Ye/Oe.size.width*2-1,-(dt/Oe.size.height)*2+1),Oe.raycaster.setFromCamera(Oe.pointer,Oe.camera)}}),E?.(se)}}),ee.current.render(t.jsx(P,{children:t.jsx(XIe,{set:W,children:t.jsx(R.Suspense,{fallback:t.jsx(KIe,{set:K}),children:e??null})})}))}fe()}}),R.useEffect(()=>{const ae=L.current;if(ae)return()=>ane(ae)},[]);const G=l?"none":"auto";return t.jsx("div",{ref:U,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:G,...a},...T,children:t.jsx("div",{ref:k,style:{width:"100%",height:"100%"},children:t.jsx("canvas",{ref:L,style:{display:"block"},children:s})})})}function RDe(n){return t.jsx($te,{children:t.jsx(PDe,{...n})})}const Aw=new he,fL=new he,ODe=new he,yG=new mt;function kDe(n,e,s){const r=Aw.setFromMatrixPosition(n.matrixWorld);r.project(e);const a=s.width/2,i=s.height/2;return[r.x*a+a,-(r.y*i)+i]}function IDe(n,e){const s=Aw.setFromMatrixPosition(n.matrixWorld),r=fL.setFromMatrixPosition(e.matrixWorld),a=s.sub(r),i=e.getWorldDirection(ODe);return a.angleTo(i)>Math.PI/2}function DDe(n,e,s,r){const a=Aw.setFromMatrixPosition(n.matrixWorld),i=a.clone();i.project(e),yG.set(i.x,i.y),s.setFromCamera(yG,e);const o=s.intersectObjects(r,!0);if(o.length){const l=o[0].distance;return a.distanceTo(s.ray.origin)<l}return!0}function LDe(n,e){if(e instanceof ad)return e.zoom;if(e instanceof Zr){const s=Aw.setFromMatrixPosition(n.matrixWorld),r=fL.setFromMatrixPosition(e.matrixWorld),a=e.fov*Math.PI/180,i=s.distanceTo(r);return 1/(2*Math.tan(a/2)*i)}else return 1}function FDe(n,e,s){if(e instanceof Zr||e instanceof ad){const r=Aw.setFromMatrixPosition(n.matrixWorld),a=fL.setFromMatrixPosition(e.matrixWorld),i=r.distanceTo(a),o=(s[1]-s[0])/(e.far-e.near),l=s[1]-o*e.far;return Math.round(o*i+l)}}const ok=n=>Math.abs(n)<1e-10?0:n;function lne(n,e,s=""){let r="matrix3d(";for(let a=0;a!==16;a++)r+=ok(e[a]*n.elements[a])+(a!==15?",":")");return s+r}const UDe=(n=>e=>lne(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),zDe=(n=>(e,s)=>lne(e,n(s),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function BDe(n){return n&&typeof n=="object"&&"current"in n}const mL=R.forwardRef(({children:n,eps:e=.001,style:s,className:r,prepend:a,center:i,fullscreen:o,portal:l,distanceFactor:c,sprite:d=!1,transform:u=!1,occlude:h,onOcclude:m,castShadow:y,receiveShadow:N,material:j,geometry:v,zIndexRange:b=[16777271,0],calculatePosition:A=kDe,as:S="div",wrapperClass:w,pointerEvents:E="auto",...T},P)=>{const{gl:k,camera:I,scene:L,size:U,raycaster:H,events:B,viewport:K}=vo(),[J]=R.useState(()=>document.createElement(S)),W=R.useRef(null),ee=R.useRef(null),G=R.useRef(0),ae=R.useRef([0,0]),fe=R.useRef(null),se=R.useRef(null),me=l?.current||B.connected||k.domElement.parentNode,Oe=R.useRef(null),Ye=R.useRef(!1),dt=R.useMemo(()=>h&&h!=="blending"||Array.isArray(h)&&h.length&&BDe(h[0]),[h]);R.useLayoutEffect(()=>{const qe=k.domElement;h&&h==="blending"?(qe.style.zIndex=`${Math.floor(b[0]/2)}`,qe.style.position="absolute",qe.style.pointerEvents="none"):(qe.style.zIndex=null,qe.style.position=null,qe.style.pointerEvents=null)},[h]),R.useLayoutEffect(()=>{if(ee.current){const qe=W.current=EG.createRoot(J);if(L.updateMatrixWorld(),u)J.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const rt=A(ee.current,I,U);J.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${rt[0]}px,${rt[1]}px,0);transform-origin:0 0;`}return me&&(a?me.prepend(J):me.appendChild(J)),()=>{me&&me.removeChild(J),qe.unmount()}}},[me,u]),R.useLayoutEffect(()=>{w&&(J.className=w)},[w]);const be=R.useMemo(()=>u?{position:"absolute",top:0,left:0,width:U.width,height:U.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:i?"translate3d(-50%,-50%,0)":"none",...o&&{top:-U.height/2,left:-U.width/2,width:U.width,height:U.height},...s},[s,i,o,U,u]),Ce=R.useMemo(()=>({position:"absolute",pointerEvents:E}),[E]);R.useLayoutEffect(()=>{if(Ye.current=!1,u){var qe;(qe=W.current)==null||qe.render(R.createElement("div",{ref:fe,style:be},R.createElement("div",{ref:se,style:Ce},R.createElement("div",{ref:P,className:r,style:s,children:n}))))}else{var rt;(rt=W.current)==null||rt.render(R.createElement("div",{ref:P,style:be,className:r,children:n}))}});const Ue=R.useRef(!0);Fx(qe=>{if(ee.current){I.updateMatrixWorld(),ee.current.updateWorldMatrix(!0,!1);const rt=u?ae.current:A(ee.current,I,U);if(u||Math.abs(G.current-I.zoom)>e||Math.abs(ae.current[0]-rt[0])>e||Math.abs(ae.current[1]-rt[1])>e){const $e=IDe(ee.current,I);let pe=!1;dt&&(Array.isArray(h)?pe=h.map(Qe=>Qe.current):h!=="blending"&&(pe=[L]));const Ke=Ue.current;if(pe){const Qe=DDe(ee.current,I,H,pe);Ue.current=Qe&&!$e}else Ue.current=!$e;Ke!==Ue.current&&(m?m(!Ue.current):J.style.display=Ue.current?"block":"none");const et=Math.floor(b[0]/2),st=h?dt?[b[0],et]:[et-1,0]:b;if(J.style.zIndex=`${FDe(ee.current,I,st)}`,u){const[Qe,At]=[U.width/2,U.height/2],xt=I.projectionMatrix.elements[5]*At,{isOrthographicCamera:ue,top:Ee,left:Ie,bottom:ne,right:X}=I,je=UDe(I.matrixWorldInverse),Re=ue?`scale(${xt})translate(${ok(-(X+Ie)/2)}px,${ok((Ee+ne)/2)}px)`:`translateZ(${xt}px)`;let nt=ee.current.matrixWorld;d&&(nt=I.matrixWorldInverse.clone().transpose().copyPosition(nt).scale(ee.current.scale),nt.elements[3]=nt.elements[7]=nt.elements[11]=0,nt.elements[15]=1),J.style.width=U.width+"px",J.style.height=U.height+"px",J.style.perspective=ue?"":`${xt}px`,fe.current&&se.current&&(fe.current.style.transform=`${Re}${je}translate(${Qe}px,${At}px)`,se.current.style.transform=zDe(nt,1/((c||10)/400)))}else{const Qe=c===void 0?1:LDe(ee.current,I)*c;J.style.transform=`translate3d(${rt[0]}px,${rt[1]}px,0) scale(${Qe})`}ae.current=rt,G.current=I.zoom}}if(!dt&&Oe.current&&!Ye.current)if(u){if(fe.current){const rt=fe.current.children[0];if(rt!=null&&rt.clientWidth&&rt!=null&&rt.clientHeight){const{isOrthographicCamera:$e}=I;if($e||v)T.scale&&(Array.isArray(T.scale)?T.scale instanceof he?Oe.current.scale.copy(T.scale.clone().divideScalar(1)):Oe.current.scale.set(1/T.scale[0],1/T.scale[1],1/T.scale[2]):Oe.current.scale.setScalar(1/T.scale));else{const pe=(c||10)/400,Ke=rt.clientWidth*pe,et=rt.clientHeight*pe;Oe.current.scale.set(Ke,et,1)}Ye.current=!0}}}else{const rt=J.children[0];if(rt!=null&&rt.clientWidth&&rt!=null&&rt.clientHeight){const $e=1/K.factor,pe=rt.clientWidth*$e,Ke=rt.clientHeight*$e;Oe.current.scale.set(pe,Ke,1),Ye.current=!0}Oe.current.lookAt(qe.camera.position)}});const De=R.useMemo(()=>({vertexShader:u?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[u]);return R.createElement("group",_h({},T,{ref:ee}),h&&!dt&&R.createElement("mesh",{castShadow:y,receiveShadow:N,ref:Oe},v||R.createElement("planeGeometry",null),j||R.createElement("shaderMaterial",{side:tc,vertexShader:De.vertexShader,fragmentShader:De.fragmentShader})))}),IT=parseInt(uw.replace(/\D+/g,"")),cne=IT>=125?"uv1":"uv2";var nc=Uint8Array,Df=Uint16Array,lk=Uint32Array,dne=new nc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),une=new nc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),VDe=new nc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),hne=function(n,e){for(var s=new Df(31),r=0;r<31;++r)s[r]=e+=1<<n[r-1];for(var a=new lk(s[30]),r=1;r<30;++r)for(var i=s[r];i<s[r+1];++i)a[i]=i-s[r]<<5|r;return[s,a]},fne=hne(dne,2),mne=fne[0],HDe=fne[1];mne[28]=258,HDe[258]=28;var GDe=hne(une,0),$De=GDe[0],ck=new Df(32768);for(var Fr=0;Fr<32768;++Fr){var Af=(Fr&43690)>>>1|(Fr&21845)<<1;Af=(Af&52428)>>>2|(Af&13107)<<2,Af=(Af&61680)>>>4|(Af&3855)<<4,ck[Fr]=((Af&65280)>>>8|(Af&255)<<8)>>>1}var kj=(function(n,e,s){for(var r=n.length,a=0,i=new Df(e);a<r;++a)++i[n[a]-1];var o=new Df(e);for(a=0;a<e;++a)o[a]=o[a-1]+i[a-1]<<1;var l;if(s){l=new Df(1<<e);var c=15-e;for(a=0;a<r;++a)if(n[a])for(var d=a<<4|n[a],u=e-n[a],h=o[n[a]-1]++<<u,m=h|(1<<u)-1;h<=m;++h)l[ck[h]>>>c]=d}else for(l=new Df(r),a=0;a<r;++a)n[a]&&(l[a]=ck[o[n[a]-1]++]>>>15-n[a]);return l}),Cw=new nc(288);for(var Fr=0;Fr<144;++Fr)Cw[Fr]=8;for(var Fr=144;Fr<256;++Fr)Cw[Fr]=9;for(var Fr=256;Fr<280;++Fr)Cw[Fr]=7;for(var Fr=280;Fr<288;++Fr)Cw[Fr]=8;var pne=new nc(32);for(var Fr=0;Fr<32;++Fr)pne[Fr]=5;var qDe=kj(Cw,9,1),WDe=kj(pne,5,1),A3=function(n){for(var e=n[0],s=1;s<n.length;++s)n[s]>e&&(e=n[s]);return e},Wc=function(n,e,s){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&s},C3=function(n,e){var s=e/8|0;return(n[s]|n[s+1]<<8|n[s+2]<<16)>>(e&7)},KDe=function(n){return(n/8|0)+(n&7&&1)},XDe=function(n,e,s){(s==null||s>n.length)&&(s=n.length);var r=new(n instanceof Df?Df:n instanceof lk?lk:nc)(s-e);return r.set(n.subarray(e,s)),r},ZDe=function(n,e,s){var r=n.length;if(!r||s&&!s.l&&r<5)return e||new nc(0);var a=!e||s,i=!s||s.i;s||(s={}),e||(e=new nc(r*3));var o=function(be){var Ce=e.length;if(be>Ce){var Ue=new nc(Math.max(Ce*2,be));Ue.set(e),e=Ue}},l=s.f||0,c=s.p||0,d=s.b||0,u=s.l,h=s.d,m=s.m,y=s.n,N=r*8;do{if(!u){s.f=l=Wc(n,c,1);var j=Wc(n,c+1,3);if(c+=3,j)if(j==1)u=qDe,h=WDe,m=9,y=5;else if(j==2){var S=Wc(n,c,31)+257,w=Wc(n,c+10,15)+4,E=S+Wc(n,c+5,31)+1;c+=14;for(var T=new nc(E),P=new nc(19),k=0;k<w;++k)P[VDe[k]]=Wc(n,c+k*3,7);c+=w*3;for(var I=A3(P),L=(1<<I)-1,U=kj(P,I,1),k=0;k<E;){var H=U[Wc(n,c,L)];c+=H&15;var v=H>>>4;if(v<16)T[k++]=v;else{var B=0,K=0;for(v==16?(K=3+Wc(n,c,3),c+=2,B=T[k-1]):v==17?(K=3+Wc(n,c,7),c+=3):v==18&&(K=11+Wc(n,c,127),c+=7);K--;)T[k++]=B}}var J=T.subarray(0,S),W=T.subarray(S);m=A3(J),y=A3(W),u=kj(J,m,1),h=kj(W,y,1)}else throw"invalid block type";else{var v=KDe(c)+4,b=n[v-4]|n[v-3]<<8,A=v+b;if(A>r){if(i)throw"unexpected EOF";break}a&&o(d+b),e.set(n.subarray(v,A),d),s.b=d+=b,s.p=c=A*8;continue}if(c>N){if(i)throw"unexpected EOF";break}}a&&o(d+131072);for(var ee=(1<<m)-1,G=(1<<y)-1,ae=c;;ae=c){var B=u[C3(n,c)&ee],fe=B>>>4;if(c+=B&15,c>N){if(i)throw"unexpected EOF";break}if(!B)throw"invalid length/literal";if(fe<256)e[d++]=fe;else if(fe==256){ae=c,u=null;break}else{var se=fe-254;if(fe>264){var k=fe-257,me=dne[k];se=Wc(n,c,(1<<me)-1)+mne[k],c+=me}var Oe=h[C3(n,c)&G],Ye=Oe>>>4;if(!Oe)throw"invalid distance";c+=Oe&15;var W=$De[Ye];if(Ye>3){var me=une[Ye];W+=C3(n,c)&(1<<me)-1,c+=me}if(c>N){if(i)throw"unexpected EOF";break}a&&o(d+131072);for(var dt=d+se;d<dt;d+=4)e[d]=e[d-W],e[d+1]=e[d+1-W],e[d+2]=e[d+2-W],e[d+3]=e[d+3-W];d=dt}}s.l=u,s.p=ae,s.b=d,u&&(l=1,s.m=m,s.d=h,s.n=y)}while(!l);return d==e.length?e:XDe(e,0,d)},YDe=new nc(0),QDe=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function XS(n,e){return ZDe((QDe(n),n.subarray(2,-4)),e)}var JDe=typeof TextDecoder<"u"&&new TextDecoder,eLe=0;try{JDe.decode(YDe,{stream:!0}),eLe=1}catch{}const tLe=n=>n&&n.isCubeTexture;class nLe extends qr{constructor(e,s){var r,a;const i=tLe(e),l=((a=i?(r=e.image[0])==null?void 0:r.width:e.image.width)!=null?a:1024)/4,c=Math.floor(Math.log2(l)),d=Math.pow(2,c),u=3*Math.max(d,112),h=4*d,m=[i?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/u}`,`#define CUBEUV_TEXEL_HEIGHT ${1/h}`,`#define CUBEUV_MAX_MIP ${c}.0`],y=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,N=m.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${IT>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,j={map:{value:e},height:{value:s?.height||15},radius:{value:s?.radius||100}},v=new bw(1,16),b=new Ao({uniforms:j,fragmentShader:N,vertexShader:y,side:tc});super(v,b)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}var sLe=Object.defineProperty,rLe=(n,e,s)=>e in n?sLe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s,aLe=(n,e,s)=>(rLe(n,e+"",s),s);class iLe{constructor(){aLe(this,"_listeners")}addEventListener(e,s){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(s)===-1&&r[e].push(s)}hasEventListener(e,s){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(s)!==-1}removeEventListener(e,s){if(this._listeners===void 0)return;const a=this._listeners[e];if(a!==void 0){const i=a.indexOf(s);i!==-1&&a.splice(i,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const a=r.slice(0);for(let i=0,o=a.length;i<o;i++)a[i].call(this,e);e.target=null}}}var oLe=Object.defineProperty,lLe=(n,e,s)=>e in n?oLe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s,Bn=(n,e,s)=>(lLe(n,typeof e!="symbol"?e+"":e,s),s);const ZS=new kx,bG=new sh,cLe=Math.cos(70*(Math.PI/180)),jG=(n,e)=>(n%e+e)%e;let dLe=class extends iLe{constructor(e,s){super(),Bn(this,"object"),Bn(this,"domElement"),Bn(this,"enabled",!0),Bn(this,"target",new he),Bn(this,"minDistance",0),Bn(this,"maxDistance",1/0),Bn(this,"minZoom",0),Bn(this,"maxZoom",1/0),Bn(this,"minPolarAngle",0),Bn(this,"maxPolarAngle",Math.PI),Bn(this,"minAzimuthAngle",-1/0),Bn(this,"maxAzimuthAngle",1/0),Bn(this,"enableDamping",!1),Bn(this,"dampingFactor",.05),Bn(this,"enableZoom",!0),Bn(this,"zoomSpeed",1),Bn(this,"enableRotate",!0),Bn(this,"rotateSpeed",1),Bn(this,"enablePan",!0),Bn(this,"panSpeed",1),Bn(this,"screenSpacePanning",!0),Bn(this,"keyPanSpeed",7),Bn(this,"zoomToCursor",!1),Bn(this,"autoRotate",!1),Bn(this,"autoRotateSpeed",2),Bn(this,"reverseOrbit",!1),Bn(this,"reverseHorizontalOrbit",!1),Bn(this,"reverseVerticalOrbit",!1),Bn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Bn(this,"mouseButtons",{LEFT:Ep.ROTATE,MIDDLE:Ep.DOLLY,RIGHT:Ep.PAN}),Bn(this,"touches",{ONE:Mp.ROTATE,TWO:Mp.DOLLY_PAN}),Bn(this,"target0"),Bn(this,"position0"),Bn(this,"zoom0"),Bn(this,"_domElementKeyEvents",null),Bn(this,"getPolarAngle"),Bn(this,"getAzimuthalAngle"),Bn(this,"setPolarAngle"),Bn(this,"setAzimuthalAngle"),Bn(this,"getDistance"),Bn(this,"getZoomScale"),Bn(this,"listenToKeyEvents"),Bn(this,"stopListenToKeyEvents"),Bn(this,"saveState"),Bn(this,"reset"),Bn(this,"update"),Bn(this,"connect"),Bn(this,"dispose"),Bn(this,"dollyIn"),Bn(this,"dollyOut"),Bn(this,"getScale"),Bn(this,"setScale"),this.object=e,this.domElement=s,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=Se=>{let Be=jG(Se,2*Math.PI),bt=u.phi;bt<0&&(bt+=2*Math.PI),Be<0&&(Be+=2*Math.PI);let _e=Math.abs(Be-bt);2*Math.PI-_e<_e&&(Be<bt?Be+=2*Math.PI:bt+=2*Math.PI),h.phi=Be-bt,r.update()},this.setAzimuthalAngle=Se=>{let Be=jG(Se,2*Math.PI),bt=u.theta;bt<0&&(bt+=2*Math.PI),Be<0&&(Be+=2*Math.PI);let _e=Math.abs(Be-bt);2*Math.PI-_e<_e&&(Be<bt?Be+=2*Math.PI:bt+=2*Math.PI),h.theta=Be-bt,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=Se=>{Se.addEventListener("keydown",We),this._domElementKeyEvents=Se},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",We),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(a),r.update(),c=l.NONE},this.update=(()=>{const Se=new he,Be=new he(0,1,0),bt=new to().setFromUnitVectors(e.up,Be),_e=bt.clone().invert(),Le=new he,St=new to,zt=2*Math.PI;return function(){const yt=r.object.position;bt.setFromUnitVectors(e.up,Be),_e.copy(bt).invert(),Se.copy(yt).sub(r.target),Se.applyQuaternion(bt),u.setFromVector3(Se),r.autoRotate&&c===l.NONE&&K(H()),r.enableDamping?(u.theta+=h.theta*r.dampingFactor,u.phi+=h.phi*r.dampingFactor):(u.theta+=h.theta,u.phi+=h.phi);let Ht=r.minAzimuthAngle,gn=r.maxAzimuthAngle;isFinite(Ht)&&isFinite(gn)&&(Ht<-Math.PI?Ht+=zt:Ht>Math.PI&&(Ht-=zt),gn<-Math.PI?gn+=zt:gn>Math.PI&&(gn-=zt),Ht<=gn?u.theta=Math.max(Ht,Math.min(gn,u.theta)):u.theta=u.theta>(Ht+gn)/2?Math.max(Ht,u.theta):Math.min(gn,u.theta)),u.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,u.phi)),u.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(y,r.dampingFactor):r.target.add(y),r.zoomToCursor&&I||r.object.isOrthographicCamera?u.radius=Oe(u.radius):u.radius=Oe(u.radius*m),Se.setFromSpherical(u),Se.applyQuaternion(_e),yt.copy(r.target).add(Se),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(h.theta*=1-r.dampingFactor,h.phi*=1-r.dampingFactor,y.multiplyScalar(1-r.dampingFactor)):(h.set(0,0,0),y.set(0,0,0));let as=!1;if(r.zoomToCursor&&I){let Zn=null;if(r.object instanceof Zr&&r.object.isPerspectiveCamera){const Wr=Se.length();Zn=Oe(Wr*m);const wr=Wr-Zn;r.object.position.addScaledVector(P,wr),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const Wr=new he(k.x,k.y,0);Wr.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/m)),r.object.updateProjectionMatrix(),as=!0;const wr=new he(k.x,k.y,0);wr.unproject(r.object),r.object.position.sub(wr).add(Wr),r.object.updateMatrixWorld(),Zn=Se.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Zn!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Zn).add(r.object.position):(ZS.origin.copy(r.object.position),ZS.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(ZS.direction))<cLe?e.lookAt(r.target):(bG.setFromNormalAndCoplanarPoint(r.object.up,r.target),ZS.intersectPlane(bG,r.target))))}else r.object instanceof ad&&r.object.isOrthographicCamera&&(as=m!==1,as&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/m)),r.object.updateProjectionMatrix()));return m=1,I=!1,as||Le.distanceToSquared(r.object.position)>d||8*(1-St.dot(r.object.quaternion))>d?(r.dispatchEvent(a),Le.copy(r.object.position),St.copy(r.object.quaternion),as=!1,!0):!1}})(),this.connect=Se=>{r.domElement=Se,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",Ut),r.domElement.addEventListener("pointerdown",Ie),r.domElement.addEventListener("pointercancel",X),r.domElement.addEventListener("wheel",nt)},this.dispose=()=>{var Se,Be,bt,_e,Le,St;r.domElement&&(r.domElement.style.touchAction="auto"),(Se=r.domElement)==null||Se.removeEventListener("contextmenu",Ut),(Be=r.domElement)==null||Be.removeEventListener("pointerdown",Ie),(bt=r.domElement)==null||bt.removeEventListener("pointercancel",X),(_e=r.domElement)==null||_e.removeEventListener("wheel",nt),(Le=r.domElement)==null||Le.ownerDocument.removeEventListener("pointermove",ne),(St=r.domElement)==null||St.ownerDocument.removeEventListener("pointerup",X),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",We)};const r=this,a={type:"change"},i={type:"start"},o={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let c=l.NONE;const d=1e-6,u=new Q5,h=new Q5;let m=1;const y=new he,N=new mt,j=new mt,v=new mt,b=new mt,A=new mt,S=new mt,w=new mt,E=new mt,T=new mt,P=new he,k=new mt;let I=!1;const L=[],U={};function H(){return 2*Math.PI/60/60*r.autoRotateSpeed}function B(){return Math.pow(.95,r.zoomSpeed)}function K(Se){r.reverseOrbit||r.reverseHorizontalOrbit?h.theta+=Se:h.theta-=Se}function J(Se){r.reverseOrbit||r.reverseVerticalOrbit?h.phi+=Se:h.phi-=Se}const W=(()=>{const Se=new he;return function(bt,_e){Se.setFromMatrixColumn(_e,0),Se.multiplyScalar(-bt),y.add(Se)}})(),ee=(()=>{const Se=new he;return function(bt,_e){r.screenSpacePanning===!0?Se.setFromMatrixColumn(_e,1):(Se.setFromMatrixColumn(_e,0),Se.crossVectors(r.object.up,Se)),Se.multiplyScalar(bt),y.add(Se)}})(),G=(()=>{const Se=new he;return function(bt,_e){const Le=r.domElement;if(Le&&r.object instanceof Zr&&r.object.isPerspectiveCamera){const St=r.object.position;Se.copy(St).sub(r.target);let zt=Se.length();zt*=Math.tan(r.object.fov/2*Math.PI/180),W(2*bt*zt/Le.clientHeight,r.object.matrix),ee(2*_e*zt/Le.clientHeight,r.object.matrix)}else Le&&r.object instanceof ad&&r.object.isOrthographicCamera?(W(bt*(r.object.right-r.object.left)/r.object.zoom/Le.clientWidth,r.object.matrix),ee(_e*(r.object.top-r.object.bottom)/r.object.zoom/Le.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function ae(Se){r.object instanceof Zr&&r.object.isPerspectiveCamera||r.object instanceof ad&&r.object.isOrthographicCamera?m=Se:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function fe(Se){ae(m/Se)}function se(Se){ae(m*Se)}function me(Se){if(!r.zoomToCursor||!r.domElement)return;I=!0;const Be=r.domElement.getBoundingClientRect(),bt=Se.clientX-Be.left,_e=Se.clientY-Be.top,Le=Be.width,St=Be.height;k.x=bt/Le*2-1,k.y=-(_e/St)*2+1,P.set(k.x,k.y,1).unproject(r.object).sub(r.object.position).normalize()}function Oe(Se){return Math.max(r.minDistance,Math.min(r.maxDistance,Se))}function Ye(Se){N.set(Se.clientX,Se.clientY)}function dt(Se){me(Se),w.set(Se.clientX,Se.clientY)}function be(Se){b.set(Se.clientX,Se.clientY)}function Ce(Se){j.set(Se.clientX,Se.clientY),v.subVectors(j,N).multiplyScalar(r.rotateSpeed);const Be=r.domElement;Be&&(K(2*Math.PI*v.x/Be.clientHeight),J(2*Math.PI*v.y/Be.clientHeight)),N.copy(j),r.update()}function Ue(Se){E.set(Se.clientX,Se.clientY),T.subVectors(E,w),T.y>0?fe(B()):T.y<0&&se(B()),w.copy(E),r.update()}function De(Se){A.set(Se.clientX,Se.clientY),S.subVectors(A,b).multiplyScalar(r.panSpeed),G(S.x,S.y),b.copy(A),r.update()}function qe(Se){me(Se),Se.deltaY<0?se(B()):Se.deltaY>0&&fe(B()),r.update()}function rt(Se){let Be=!1;switch(Se.code){case r.keys.UP:G(0,r.keyPanSpeed),Be=!0;break;case r.keys.BOTTOM:G(0,-r.keyPanSpeed),Be=!0;break;case r.keys.LEFT:G(r.keyPanSpeed,0),Be=!0;break;case r.keys.RIGHT:G(-r.keyPanSpeed,0),Be=!0;break}Be&&(Se.preventDefault(),r.update())}function $e(){if(L.length==1)N.set(L[0].pageX,L[0].pageY);else{const Se=.5*(L[0].pageX+L[1].pageX),Be=.5*(L[0].pageY+L[1].pageY);N.set(Se,Be)}}function pe(){if(L.length==1)b.set(L[0].pageX,L[0].pageY);else{const Se=.5*(L[0].pageX+L[1].pageX),Be=.5*(L[0].pageY+L[1].pageY);b.set(Se,Be)}}function Ke(){const Se=L[0].pageX-L[1].pageX,Be=L[0].pageY-L[1].pageY,bt=Math.sqrt(Se*Se+Be*Be);w.set(0,bt)}function et(){r.enableZoom&&Ke(),r.enablePan&&pe()}function st(){r.enableZoom&&Ke(),r.enableRotate&&$e()}function Qe(Se){if(L.length==1)j.set(Se.pageX,Se.pageY);else{const bt=hn(Se),_e=.5*(Se.pageX+bt.x),Le=.5*(Se.pageY+bt.y);j.set(_e,Le)}v.subVectors(j,N).multiplyScalar(r.rotateSpeed);const Be=r.domElement;Be&&(K(2*Math.PI*v.x/Be.clientHeight),J(2*Math.PI*v.y/Be.clientHeight)),N.copy(j)}function At(Se){if(L.length==1)A.set(Se.pageX,Se.pageY);else{const Be=hn(Se),bt=.5*(Se.pageX+Be.x),_e=.5*(Se.pageY+Be.y);A.set(bt,_e)}S.subVectors(A,b).multiplyScalar(r.panSpeed),G(S.x,S.y),b.copy(A)}function xt(Se){const Be=hn(Se),bt=Se.pageX-Be.x,_e=Se.pageY-Be.y,Le=Math.sqrt(bt*bt+_e*_e);E.set(0,Le),T.set(0,Math.pow(E.y/w.y,r.zoomSpeed)),fe(T.y),w.copy(E)}function ue(Se){r.enableZoom&&xt(Se),r.enablePan&&At(Se)}function Ee(Se){r.enableZoom&&xt(Se),r.enableRotate&&Qe(Se)}function Ie(Se){var Be,bt;r.enabled!==!1&&(L.length===0&&((Be=r.domElement)==null||Be.ownerDocument.addEventListener("pointermove",ne),(bt=r.domElement)==null||bt.ownerDocument.addEventListener("pointerup",X)),Qt(Se),Se.pointerType==="touch"?Ft(Se):je(Se))}function ne(Se){r.enabled!==!1&&(Se.pointerType==="touch"?Et(Se):Re(Se))}function X(Se){var Be,bt,_e;wt(Se),L.length===0&&((Be=r.domElement)==null||Be.releasePointerCapture(Se.pointerId),(bt=r.domElement)==null||bt.ownerDocument.removeEventListener("pointermove",ne),(_e=r.domElement)==null||_e.ownerDocument.removeEventListener("pointerup",X)),r.dispatchEvent(o),c=l.NONE}function je(Se){let Be;switch(Se.button){case 0:Be=r.mouseButtons.LEFT;break;case 1:Be=r.mouseButtons.MIDDLE;break;case 2:Be=r.mouseButtons.RIGHT;break;default:Be=-1}switch(Be){case Ep.DOLLY:if(r.enableZoom===!1)return;dt(Se),c=l.DOLLY;break;case Ep.ROTATE:if(Se.ctrlKey||Se.metaKey||Se.shiftKey){if(r.enablePan===!1)return;be(Se),c=l.PAN}else{if(r.enableRotate===!1)return;Ye(Se),c=l.ROTATE}break;case Ep.PAN:if(Se.ctrlKey||Se.metaKey||Se.shiftKey){if(r.enableRotate===!1)return;Ye(Se),c=l.ROTATE}else{if(r.enablePan===!1)return;be(Se),c=l.PAN}break;default:c=l.NONE}c!==l.NONE&&r.dispatchEvent(i)}function Re(Se){if(r.enabled!==!1)switch(c){case l.ROTATE:if(r.enableRotate===!1)return;Ce(Se);break;case l.DOLLY:if(r.enableZoom===!1)return;Ue(Se);break;case l.PAN:if(r.enablePan===!1)return;De(Se);break}}function nt(Se){r.enabled===!1||r.enableZoom===!1||c!==l.NONE&&c!==l.ROTATE||(Se.preventDefault(),r.dispatchEvent(i),qe(Se),r.dispatchEvent(o))}function We(Se){r.enabled===!1||r.enablePan===!1||rt(Se)}function Ft(Se){switch(_t(Se),L.length){case 1:switch(r.touches.ONE){case Mp.ROTATE:if(r.enableRotate===!1)return;$e(),c=l.TOUCH_ROTATE;break;case Mp.PAN:if(r.enablePan===!1)return;pe(),c=l.TOUCH_PAN;break;default:c=l.NONE}break;case 2:switch(r.touches.TWO){case Mp.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;et(),c=l.TOUCH_DOLLY_PAN;break;case Mp.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;st(),c=l.TOUCH_DOLLY_ROTATE;break;default:c=l.NONE}break;default:c=l.NONE}c!==l.NONE&&r.dispatchEvent(i)}function Et(Se){switch(_t(Se),c){case l.TOUCH_ROTATE:if(r.enableRotate===!1)return;Qe(Se),r.update();break;case l.TOUCH_PAN:if(r.enablePan===!1)return;At(Se),r.update();break;case l.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;ue(Se),r.update();break;case l.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ee(Se),r.update();break;default:c=l.NONE}}function Ut(Se){r.enabled!==!1&&Se.preventDefault()}function Qt(Se){L.push(Se)}function wt(Se){delete U[Se.pointerId];for(let Be=0;Be<L.length;Be++)if(L[Be].pointerId==Se.pointerId){L.splice(Be,1);return}}function _t(Se){let Be=U[Se.pointerId];Be===void 0&&(Be=new mt,U[Se.pointerId]=Be),Be.set(Se.pageX,Se.pageY)}function hn(Se){const Be=Se.pointerId===L[0].pointerId?L[1]:L[0];return U[Be.pointerId]}this.dollyIn=(Se=B())=>{se(Se),r.update()},this.dollyOut=(Se=B())=>{fe(Se),r.update()},this.getScale=()=>m,this.setScale=Se=>{ae(Se),r.update()},this.getZoomScale=()=>B(),s!==void 0&&this.connect(s),this.update()}};class uLe extends XD{constructor(e){super(e),this.type=mi}parse(e){const o=function(k,I){switch(k){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(I||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(I||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(I||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(I||""))}},h=function(k,I,L){I=I||1024;let H=k.pos,B=-1,K=0,J="",W=String.fromCharCode.apply(null,new Uint16Array(k.subarray(H,H+128)));for(;0>(B=W.indexOf(`
`))&&K<I&&H<k.byteLength;)J+=W,K+=W.length,H+=128,W+=String.fromCharCode.apply(null,new Uint16Array(k.subarray(H,H+128)));return-1<B?(k.pos+=K+B+1,J+W.slice(0,B)):!1},m=function(k){const I=/^#\?(\S+)/,L=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,U=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,H=/^\s*FORMAT=(\S+)\s*$/,B=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,K={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let J,W;for((k.pos>=k.byteLength||!(J=h(k)))&&o(1,"no header found"),(W=J.match(I))||o(3,"bad initial token"),K.valid|=1,K.programtype=W[1],K.string+=J+`
`;J=h(k),J!==!1;){if(K.string+=J+`
`,J.charAt(0)==="#"){K.comments+=J+`
`;continue}if((W=J.match(L))&&(K.gamma=parseFloat(W[1])),(W=J.match(U))&&(K.exposure=parseFloat(W[1])),(W=J.match(H))&&(K.valid|=2,K.format=W[1]),(W=J.match(B))&&(K.valid|=4,K.height=parseInt(W[1],10),K.width=parseInt(W[2],10)),K.valid&2&&K.valid&4)break}return K.valid&2||o(3,"missing format specifier"),K.valid&4||o(3,"missing image size specifier"),K},y=function(k,I,L){const U=I;if(U<8||U>32767||k[0]!==2||k[1]!==2||k[2]&128)return new Uint8Array(k);U!==(k[2]<<8|k[3])&&o(3,"wrong scanline width");const H=new Uint8Array(4*I*L);H.length||o(4,"unable to allocate buffer space");let B=0,K=0;const J=4*U,W=new Uint8Array(4),ee=new Uint8Array(J);let G=L;for(;G>0&&K<k.byteLength;){K+4>k.byteLength&&o(1),W[0]=k[K++],W[1]=k[K++],W[2]=k[K++],W[3]=k[K++],(W[0]!=2||W[1]!=2||(W[2]<<8|W[3])!=U)&&o(3,"bad rgbe scanline format");let ae=0,fe;for(;ae<J&&K<k.byteLength;){fe=k[K++];const me=fe>128;if(me&&(fe-=128),(fe===0||ae+fe>J)&&o(3,"bad scanline data"),me){const Oe=k[K++];for(let Ye=0;Ye<fe;Ye++)ee[ae++]=Oe}else ee.set(k.subarray(K,K+fe),ae),ae+=fe,K+=fe}const se=U;for(let me=0;me<se;me++){let Oe=0;H[B]=ee[me+Oe],Oe+=U,H[B+1]=ee[me+Oe],Oe+=U,H[B+2]=ee[me+Oe],Oe+=U,H[B+3]=ee[me+Oe],B+=4}G--}return H},N=function(k,I,L,U){const H=k[I+3],B=Math.pow(2,H-128)/255;L[U+0]=k[I+0]*B,L[U+1]=k[I+1]*B,L[U+2]=k[I+2]*B,L[U+3]=1},j=function(k,I,L,U){const H=k[I+3],B=Math.pow(2,H-128)/255;L[U+0]=Gp.toHalfFloat(Math.min(k[I+0]*B,65504)),L[U+1]=Gp.toHalfFloat(Math.min(k[I+1]*B,65504)),L[U+2]=Gp.toHalfFloat(Math.min(k[I+2]*B,65504)),L[U+3]=Gp.toHalfFloat(1)},v=new Uint8Array(e);v.pos=0;const b=m(v),A=b.width,S=b.height,w=y(v.subarray(v.pos),A,S);let E,T,P;switch(this.type){case Qr:P=w.length/4;const k=new Float32Array(P*4);for(let L=0;L<P;L++)N(w,L*4,k,L*4);E=k,T=Qr;break;case mi:P=w.length/4;const I=new Uint16Array(P*4);for(let L=0;L<P;L++)j(w,L*4,I,L*4);E=I,T=mi;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:A,height:S,data:E,header:b.string,gamma:b.gamma,exposure:b.exposure,type:T}}setDataType(e){return this.type=e,this}load(e,s,r,a){function i(o,l){switch(o.type){case Qr:case mi:"colorSpace"in o?o.colorSpace="srgb-linear":o.encoding=3e3,o.minFilter=ir,o.magFilter=ir,o.generateMipmaps=!1,o.flipY=!0;break}s&&s(o,l)}return super.load(e,i,r,a)}}const Jb=IT>=152;class hLe extends XD{constructor(e){super(e),this.type=mi}parse(e){const I=Math.pow(2.7182818,2.2);function L(Q,ce){for(var Me=0,tt=0;tt<65536;++tt)(tt==0||Q[tt>>3]&1<<(tt&7))&&(ce[Me++]=tt);for(var ot=Me-1;Me<65536;)ce[Me++]=0;return ot}function U(Q){for(var ce=0;ce<16384;ce++)Q[ce]={},Q[ce].len=0,Q[ce].lit=0,Q[ce].p=null}const H={l:0,c:0,lc:0};function B(Q,ce,Me,tt,ot){for(;Me<Q;)ce=ce<<8|hn(tt,ot),Me+=8;Me-=Q,H.l=ce>>Me&(1<<Q)-1,H.c=ce,H.lc=Me}const K=new Array(59);function J(Q){for(var ce=0;ce<=58;++ce)K[ce]=0;for(var ce=0;ce<65537;++ce)K[Q[ce]]+=1;for(var Me=0,ce=58;ce>0;--ce){var tt=Me+K[ce]>>1;K[ce]=Me,Me=tt}for(var ce=0;ce<65537;++ce){var ot=Q[ce];ot>0&&(Q[ce]=ot|K[ot]++<<6)}}function W(Q,ce,Me,tt,ot,it,Mt){for(var Y=Me,ye=0,Ne=0;ot<=it;ot++){if(Y.value-Me.value>tt)return!1;B(6,ye,Ne,Q,Y);var Te=H.l;if(ye=H.c,Ne=H.lc,Mt[ot]=Te,Te==63){if(Y.value-Me.value>tt)throw"Something wrong with hufUnpackEncTable";B(8,ye,Ne,Q,Y);var xe=H.l+6;if(ye=H.c,Ne=H.lc,ot+xe>it+1)throw"Something wrong with hufUnpackEncTable";for(;xe--;)Mt[ot++]=0;ot--}else if(Te>=59){var xe=Te-59+2;if(ot+xe>it+1)throw"Something wrong with hufUnpackEncTable";for(;xe--;)Mt[ot++]=0;ot--}}J(Mt)}function ee(Q){return Q&63}function G(Q){return Q>>6}function ae(Q,ce,Me,tt){for(;ce<=Me;ce++){var ot=G(Q[ce]),it=ee(Q[ce]);if(ot>>it)throw"Invalid table entry";if(it>14){var Mt=tt[ot>>it-14];if(Mt.len)throw"Invalid table entry";if(Mt.lit++,Mt.p){var Y=Mt.p;Mt.p=new Array(Mt.lit);for(var ye=0;ye<Mt.lit-1;++ye)Mt.p[ye]=Y[ye]}else Mt.p=new Array(1);Mt.p[Mt.lit-1]=ce}else if(it)for(var Ne=0,ye=1<<14-it;ye>0;ye--){var Mt=tt[(ot<<14-it)+Ne];if(Mt.len||Mt.p)throw"Invalid table entry";Mt.len=it,Mt.lit=ce,Ne++}}return!0}const fe={c:0,lc:0};function se(Q,ce,Me,tt){Q=Q<<8|hn(Me,tt),ce+=8,fe.c=Q,fe.lc=ce}const me={c:0,lc:0};function Oe(Q,ce,Me,tt,ot,it,Mt,Y,ye,Ne){if(Q==ce){tt<8&&(se(Me,tt,ot,Mt),Me=fe.c,tt=fe.lc),tt-=8;var Te=Me>>tt,Te=new Uint8Array([Te])[0];if(ye.value+Te>Ne)return!1;for(var xe=Y[ye.value-1];Te-- >0;)Y[ye.value++]=xe}else if(ye.value<Ne)Y[ye.value++]=Q;else return!1;me.c=Me,me.lc=tt}function Ye(Q){return Q&65535}function dt(Q){var ce=Ye(Q);return ce>32767?ce-65536:ce}const be={a:0,b:0};function Ce(Q,ce){var Me=dt(Q),tt=dt(ce),ot=tt,it=Me+(ot&1)+(ot>>1),Mt=it,Y=it-ot;be.a=Mt,be.b=Y}function Ue(Q,ce){var Me=Ye(Q),tt=Ye(ce),ot=Me-(tt>>1)&65535,it=tt+ot-32768&65535;be.a=it,be.b=ot}function De(Q,ce,Me,tt,ot,it,Mt){for(var Y=Mt<16384,ye=Me>ot?ot:Me,Ne=1,Te;Ne<=ye;)Ne<<=1;for(Ne>>=1,Te=Ne,Ne>>=1;Ne>=1;){for(var xe=0,gt=xe+it*(ot-Te),at=it*Ne,ft=it*Te,jt=tt*Ne,Pt=tt*Te,Vt,Dt,an,$n;xe<=gt;xe+=ft){for(var mn=xe,hs=xe+tt*(Me-Te);mn<=hs;mn+=Pt){var Cn=mn+jt,Xt=mn+at,xs=Xt+jt;Y?(Ce(Q[mn+ce],Q[Xt+ce]),Vt=be.a,an=be.b,Ce(Q[Cn+ce],Q[xs+ce]),Dt=be.a,$n=be.b,Ce(Vt,Dt),Q[mn+ce]=be.a,Q[Cn+ce]=be.b,Ce(an,$n),Q[Xt+ce]=be.a,Q[xs+ce]=be.b):(Ue(Q[mn+ce],Q[Xt+ce]),Vt=be.a,an=be.b,Ue(Q[Cn+ce],Q[xs+ce]),Dt=be.a,$n=be.b,Ue(Vt,Dt),Q[mn+ce]=be.a,Q[Cn+ce]=be.b,Ue(an,$n),Q[Xt+ce]=be.a,Q[xs+ce]=be.b)}if(Me&Ne){var Xt=mn+at;Y?Ce(Q[mn+ce],Q[Xt+ce]):Ue(Q[mn+ce],Q[Xt+ce]),Vt=be.a,Q[Xt+ce]=be.b,Q[mn+ce]=Vt}}if(ot&Ne)for(var mn=xe,hs=xe+tt*(Me-Te);mn<=hs;mn+=Pt){var Cn=mn+jt;Y?Ce(Q[mn+ce],Q[Cn+ce]):Ue(Q[mn+ce],Q[Cn+ce]),Vt=be.a,Q[Cn+ce]=be.b,Q[mn+ce]=Vt}Te=Ne,Ne>>=1}return xe}function qe(Q,ce,Me,tt,ot,it,Mt,Y,ye,Ne){for(var Te=0,xe=0,gt=Y,at=Math.trunc(ot.value+(it+7)/8);ot.value<at;)for(se(Te,xe,Me,ot),Te=fe.c,xe=fe.lc;xe>=14;){var ft=Te>>xe-14&16383,jt=ce[ft];if(jt.len)xe-=jt.len,Oe(jt.lit,Mt,Te,xe,Me,tt,ot,ye,Ne,gt),Te=me.c,xe=me.lc;else{if(!jt.p)throw"hufDecode issues";var Pt;for(Pt=0;Pt<jt.lit;Pt++){for(var Vt=ee(Q[jt.p[Pt]]);xe<Vt&&ot.value<at;)se(Te,xe,Me,ot),Te=fe.c,xe=fe.lc;if(xe>=Vt&&G(Q[jt.p[Pt]])==(Te>>xe-Vt&(1<<Vt)-1)){xe-=Vt,Oe(jt.p[Pt],Mt,Te,xe,Me,tt,ot,ye,Ne,gt),Te=me.c,xe=me.lc;break}}if(Pt==jt.lit)throw"hufDecode issues"}}var Dt=8-it&7;for(Te>>=Dt,xe-=Dt;xe>0;){var jt=ce[Te<<14-xe&16383];if(jt.len)xe-=jt.len,Oe(jt.lit,Mt,Te,xe,Me,tt,ot,ye,Ne,gt),Te=me.c,xe=me.lc;else throw"hufDecode issues"}return!0}function rt(Q,ce,Me,tt,ot,it){var Mt={value:0},Y=Me.value,ye=_t(ce,Me),Ne=_t(ce,Me);Me.value+=4;var Te=_t(ce,Me);if(Me.value+=4,ye<0||ye>=65537||Ne<0||Ne>=65537)throw"Something wrong with HUF_ENCSIZE";var xe=new Array(65537),gt=new Array(16384);U(gt);var at=tt-(Me.value-Y);if(W(Q,ce,Me,at,ye,Ne,xe),Te>8*(tt-(Me.value-Y)))throw"Something wrong with hufUncompress";ae(xe,ye,Ne,gt),qe(xe,gt,Q,ce,Me,Te,Ne,it,ot,Mt)}function $e(Q,ce,Me){for(var tt=0;tt<Me;++tt)ce[tt]=Q[ce[tt]]}function pe(Q){for(var ce=1;ce<Q.length;ce++){var Me=Q[ce-1]+Q[ce]-128;Q[ce]=Me}}function Ke(Q,ce){for(var Me=0,tt=Math.floor((Q.length+1)/2),ot=0,it=Q.length-1;!(ot>it||(ce[ot++]=Q[Me++],ot>it));)ce[ot++]=Q[tt++]}function et(Q){for(var ce=Q.byteLength,Me=new Array,tt=0,ot=new DataView(Q);ce>0;){var it=ot.getInt8(tt++);if(it<0){var Mt=-it;ce-=Mt+1;for(var Y=0;Y<Mt;Y++)Me.push(ot.getUint8(tt++))}else{var Mt=it;ce-=2;for(var ye=ot.getUint8(tt++),Y=0;Y<Mt+1;Y++)Me.push(ye)}}return Me}function st(Q,ce,Me,tt,ot,it){var Cn=new DataView(it.buffer),Mt=Me[Q.idx[0]].width,Y=Me[Q.idx[0]].height,ye=3,Ne=Math.floor(Mt/8),Te=Math.ceil(Mt/8),xe=Math.ceil(Y/8),gt=Mt-(Te-1)*8,at=Y-(xe-1)*8,ft={value:0},jt=new Array(ye),Pt=new Array(ye),Vt=new Array(ye),Dt=new Array(ye),an=new Array(ye);for(let cs=0;cs<ye;++cs)an[cs]=ce[Q.idx[cs]],jt[cs]=cs<1?0:jt[cs-1]+Te*xe,Pt[cs]=new Float32Array(64),Vt[cs]=new Uint16Array(64),Dt[cs]=new Uint16Array(Te*64);for(let cs=0;cs<xe;++cs){var $n=8;cs==xe-1&&($n=at);var mn=8;for(let Ms=0;Ms<Te;++Ms){Ms==Te-1&&(mn=gt);for(let Sn=0;Sn<ye;++Sn)Vt[Sn].fill(0),Vt[Sn][0]=ot[jt[Sn]++],Qe(ft,tt,Vt[Sn]),At(Vt[Sn],Pt[Sn]),xt(Pt[Sn]);ue(Pt);for(let Sn=0;Sn<ye;++Sn)Ee(Pt[Sn],Dt[Sn],Ms*64)}let Cs=0;for(let Ms=0;Ms<ye;++Ms){const Sn=Me[Q.idx[Ms]].type;for(let qs=8*cs;qs<8*cs+$n;++qs){Cs=an[Ms][qs];for(let pr=0;pr<Ne;++pr){const ws=pr*64+(qs&7)*8;Cn.setUint16(Cs+0*Sn,Dt[Ms][ws+0],!0),Cn.setUint16(Cs+2*Sn,Dt[Ms][ws+1],!0),Cn.setUint16(Cs+4*Sn,Dt[Ms][ws+2],!0),Cn.setUint16(Cs+6*Sn,Dt[Ms][ws+3],!0),Cn.setUint16(Cs+8*Sn,Dt[Ms][ws+4],!0),Cn.setUint16(Cs+10*Sn,Dt[Ms][ws+5],!0),Cn.setUint16(Cs+12*Sn,Dt[Ms][ws+6],!0),Cn.setUint16(Cs+14*Sn,Dt[Ms][ws+7],!0),Cs+=16*Sn}}if(Ne!=Te)for(let qs=8*cs;qs<8*cs+$n;++qs){const pr=an[Ms][qs]+8*Ne*2*Sn,ws=Ne*64+(qs&7)*8;for(let xr=0;xr<mn;++xr)Cn.setUint16(pr+xr*2*Sn,Dt[Ms][ws+xr],!0)}}}for(var hs=new Uint16Array(Mt),Cn=new DataView(it.buffer),Xt=0;Xt<ye;++Xt){Me[Q.idx[Xt]].decoded=!0;var xs=Me[Q.idx[Xt]].type;if(Me[Xt].type==2)for(var Qn=0;Qn<Y;++Qn){const cs=an[Xt][Qn];for(var Es=0;Es<Mt;++Es)hs[Es]=Cn.getUint16(cs+Es*2*xs,!0);for(var Es=0;Es<Mt;++Es)Cn.setFloat32(cs+Es*2*xs,Le(hs[Es]),!0)}}}function Qe(Q,ce,Me){for(var tt,ot=1;ot<64;)tt=ce[Q.value],tt==65280?ot=64:tt>>8==255?ot+=tt&255:(Me[ot]=tt,ot++),Q.value++}function At(Q,ce){ce[0]=Le(Q[0]),ce[1]=Le(Q[1]),ce[2]=Le(Q[5]),ce[3]=Le(Q[6]),ce[4]=Le(Q[14]),ce[5]=Le(Q[15]),ce[6]=Le(Q[27]),ce[7]=Le(Q[28]),ce[8]=Le(Q[2]),ce[9]=Le(Q[4]),ce[10]=Le(Q[7]),ce[11]=Le(Q[13]),ce[12]=Le(Q[16]),ce[13]=Le(Q[26]),ce[14]=Le(Q[29]),ce[15]=Le(Q[42]),ce[16]=Le(Q[3]),ce[17]=Le(Q[8]),ce[18]=Le(Q[12]),ce[19]=Le(Q[17]),ce[20]=Le(Q[25]),ce[21]=Le(Q[30]),ce[22]=Le(Q[41]),ce[23]=Le(Q[43]),ce[24]=Le(Q[9]),ce[25]=Le(Q[11]),ce[26]=Le(Q[18]),ce[27]=Le(Q[24]),ce[28]=Le(Q[31]),ce[29]=Le(Q[40]),ce[30]=Le(Q[44]),ce[31]=Le(Q[53]),ce[32]=Le(Q[10]),ce[33]=Le(Q[19]),ce[34]=Le(Q[23]),ce[35]=Le(Q[32]),ce[36]=Le(Q[39]),ce[37]=Le(Q[45]),ce[38]=Le(Q[52]),ce[39]=Le(Q[54]),ce[40]=Le(Q[20]),ce[41]=Le(Q[22]),ce[42]=Le(Q[33]),ce[43]=Le(Q[38]),ce[44]=Le(Q[46]),ce[45]=Le(Q[51]),ce[46]=Le(Q[55]),ce[47]=Le(Q[60]),ce[48]=Le(Q[21]),ce[49]=Le(Q[34]),ce[50]=Le(Q[37]),ce[51]=Le(Q[47]),ce[52]=Le(Q[50]),ce[53]=Le(Q[56]),ce[54]=Le(Q[59]),ce[55]=Le(Q[61]),ce[56]=Le(Q[35]),ce[57]=Le(Q[36]),ce[58]=Le(Q[48]),ce[59]=Le(Q[49]),ce[60]=Le(Q[57]),ce[61]=Le(Q[58]),ce[62]=Le(Q[62]),ce[63]=Le(Q[63])}function xt(Q){const ce=.5*Math.cos(.7853975),Me=.5*Math.cos(3.14159/16),tt=.5*Math.cos(3.14159/8),ot=.5*Math.cos(3*3.14159/16),it=.5*Math.cos(5*3.14159/16),Mt=.5*Math.cos(3*3.14159/8),Y=.5*Math.cos(7*3.14159/16);for(var ye=new Array(4),Ne=new Array(4),Te=new Array(4),xe=new Array(4),gt=0;gt<8;++gt){var at=gt*8;ye[0]=tt*Q[at+2],ye[1]=Mt*Q[at+2],ye[2]=tt*Q[at+6],ye[3]=Mt*Q[at+6],Ne[0]=Me*Q[at+1]+ot*Q[at+3]+it*Q[at+5]+Y*Q[at+7],Ne[1]=ot*Q[at+1]-Y*Q[at+3]-Me*Q[at+5]-it*Q[at+7],Ne[2]=it*Q[at+1]-Me*Q[at+3]+Y*Q[at+5]+ot*Q[at+7],Ne[3]=Y*Q[at+1]-it*Q[at+3]+ot*Q[at+5]-Me*Q[at+7],Te[0]=ce*(Q[at+0]+Q[at+4]),Te[3]=ce*(Q[at+0]-Q[at+4]),Te[1]=ye[0]+ye[3],Te[2]=ye[1]-ye[2],xe[0]=Te[0]+Te[1],xe[1]=Te[3]+Te[2],xe[2]=Te[3]-Te[2],xe[3]=Te[0]-Te[1],Q[at+0]=xe[0]+Ne[0],Q[at+1]=xe[1]+Ne[1],Q[at+2]=xe[2]+Ne[2],Q[at+3]=xe[3]+Ne[3],Q[at+4]=xe[3]-Ne[3],Q[at+5]=xe[2]-Ne[2],Q[at+6]=xe[1]-Ne[1],Q[at+7]=xe[0]-Ne[0]}for(var ft=0;ft<8;++ft)ye[0]=tt*Q[16+ft],ye[1]=Mt*Q[16+ft],ye[2]=tt*Q[48+ft],ye[3]=Mt*Q[48+ft],Ne[0]=Me*Q[8+ft]+ot*Q[24+ft]+it*Q[40+ft]+Y*Q[56+ft],Ne[1]=ot*Q[8+ft]-Y*Q[24+ft]-Me*Q[40+ft]-it*Q[56+ft],Ne[2]=it*Q[8+ft]-Me*Q[24+ft]+Y*Q[40+ft]+ot*Q[56+ft],Ne[3]=Y*Q[8+ft]-it*Q[24+ft]+ot*Q[40+ft]-Me*Q[56+ft],Te[0]=ce*(Q[ft]+Q[32+ft]),Te[3]=ce*(Q[ft]-Q[32+ft]),Te[1]=ye[0]+ye[3],Te[2]=ye[1]-ye[2],xe[0]=Te[0]+Te[1],xe[1]=Te[3]+Te[2],xe[2]=Te[3]-Te[2],xe[3]=Te[0]-Te[1],Q[0+ft]=xe[0]+Ne[0],Q[8+ft]=xe[1]+Ne[1],Q[16+ft]=xe[2]+Ne[2],Q[24+ft]=xe[3]+Ne[3],Q[32+ft]=xe[3]-Ne[3],Q[40+ft]=xe[2]-Ne[2],Q[48+ft]=xe[1]-Ne[1],Q[56+ft]=xe[0]-Ne[0]}function ue(Q){for(var ce=0;ce<64;++ce){var Me=Q[0][ce],tt=Q[1][ce],ot=Q[2][ce];Q[0][ce]=Me+1.5747*ot,Q[1][ce]=Me-.1873*tt-.4682*ot,Q[2][ce]=Me+1.8556*tt}}function Ee(Q,ce,Me){for(var tt=0;tt<64;++tt)ce[Me+tt]=Gp.toHalfFloat(Ie(Q[tt]))}function Ie(Q){return Q<=1?Math.sign(Q)*Math.pow(Math.abs(Q),2.2):Math.sign(Q)*Math.pow(I,Math.abs(Q)-1)}function ne(Q){return new DataView(Q.array.buffer,Q.offset.value,Q.size)}function X(Q){var ce=Q.viewer.buffer.slice(Q.offset.value,Q.offset.value+Q.size),Me=new Uint8Array(et(ce)),tt=new Uint8Array(Me.length);return pe(Me),Ke(Me,tt),new DataView(tt.buffer)}function je(Q){var ce=Q.array.slice(Q.offset.value,Q.offset.value+Q.size),Me=XS(ce),tt=new Uint8Array(Me.length);return pe(Me),Ke(Me,tt),new DataView(tt.buffer)}function Re(Q){for(var ce=Q.viewer,Me={value:Q.offset.value},tt=new Uint16Array(Q.width*Q.scanlineBlockSize*(Q.channels*Q.type)),ot=new Uint8Array(8192),it=0,Mt=new Array(Q.channels),Y=0;Y<Q.channels;Y++)Mt[Y]={},Mt[Y].start=it,Mt[Y].end=Mt[Y].start,Mt[Y].nx=Q.width,Mt[Y].ny=Q.lines,Mt[Y].size=Q.type,it+=Mt[Y].nx*Mt[Y].ny*Mt[Y].size;var ye=St(ce,Me),Ne=St(ce,Me);if(Ne>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(ye<=Ne)for(var Y=0;Y<Ne-ye+1;Y++)ot[Y+ye]=Se(ce,Me);var Te=new Uint16Array(65536),xe=L(ot,Te),gt=_t(ce,Me);rt(Q.array,ce,Me,gt,tt,it);for(var Y=0;Y<Q.channels;++Y)for(var at=Mt[Y],ft=0;ft<Mt[Y].size;++ft)De(tt,at.start+ft,at.nx,at.size,at.ny,at.nx*at.size,xe);$e(Te,tt,it);for(var jt=0,Pt=new Uint8Array(tt.buffer.byteLength),Vt=0;Vt<Q.lines;Vt++)for(var Dt=0;Dt<Q.channels;Dt++){var at=Mt[Dt],an=at.nx*at.size,$n=new Uint8Array(tt.buffer,at.end*2,an*2);Pt.set($n,jt),jt+=an*2,at.end+=an}return new DataView(Pt.buffer)}function nt(Q){var ce=Q.array.slice(Q.offset.value,Q.offset.value+Q.size),Me=XS(ce);const tt=Q.lines*Q.channels*Q.width,ot=Q.type==1?new Uint16Array(tt):new Uint32Array(tt);let it=0,Mt=0;const Y=new Array(4);for(let ye=0;ye<Q.lines;ye++)for(let Ne=0;Ne<Q.channels;Ne++){let Te=0;switch(Q.type){case 1:Y[0]=it,Y[1]=Y[0]+Q.width,it=Y[1]+Q.width;for(let xe=0;xe<Q.width;++xe){const gt=Me[Y[0]++]<<8|Me[Y[1]++];Te+=gt,ot[Mt]=Te,Mt++}break;case 2:Y[0]=it,Y[1]=Y[0]+Q.width,Y[2]=Y[1]+Q.width,it=Y[2]+Q.width;for(let xe=0;xe<Q.width;++xe){const gt=Me[Y[0]++]<<24|Me[Y[1]++]<<16|Me[Y[2]++]<<8;Te+=gt,ot[Mt]=Te,Mt++}break}}return new DataView(ot.buffer)}function We(Q){var ce=Q.viewer,Me={value:Q.offset.value},tt=new Uint8Array(Q.width*Q.lines*(Q.channels*Q.type*2)),ot={version:Be(ce,Me),unknownUncompressedSize:Be(ce,Me),unknownCompressedSize:Be(ce,Me),acCompressedSize:Be(ce,Me),dcCompressedSize:Be(ce,Me),rleCompressedSize:Be(ce,Me),rleUncompressedSize:Be(ce,Me),rleRawSize:Be(ce,Me),totalAcUncompressedCount:Be(ce,Me),totalDcUncompressedCount:Be(ce,Me),acCompression:Be(ce,Me)};if(ot.version<2)throw"EXRLoader.parse: "+Ur.compression+" version "+ot.version+" is unsupported";for(var it=new Array,Mt=St(ce,Me)-2;Mt>0;){var Y=Ft(ce.buffer,Me),ye=Se(ce,Me),Ne=ye>>2&3,Te=(ye>>4)-1,xe=new Int8Array([Te])[0],gt=Se(ce,Me);it.push({name:Y,index:xe,type:gt,compression:Ne}),Mt-=Y.length+3}for(var at=Ur.channels,ft=new Array(Q.channels),jt=0;jt<Q.channels;++jt){var Pt=ft[jt]={},Vt=at[jt];Pt.name=Vt.name,Pt.compression=0,Pt.decoded=!1,Pt.type=Vt.pixelType,Pt.pLinear=Vt.pLinear,Pt.width=Q.width,Pt.height=Q.lines}for(var Dt={idx:new Array(3)},an=0;an<Q.channels;++an)for(var Pt=ft[an],jt=0;jt<it.length;++jt){var $n=it[jt];Pt.name==$n.name&&(Pt.compression=$n.compression,$n.index>=0&&(Dt.idx[$n.index]=an),Pt.offset=an)}if(ot.acCompressedSize>0)switch(ot.acCompression){case 0:var Cn=new Uint16Array(ot.totalAcUncompressedCount);rt(Q.array,ce,Me,ot.acCompressedSize,Cn,ot.totalAcUncompressedCount);break;case 1:var mn=Q.array.slice(Me.value,Me.value+ot.totalAcUncompressedCount),hs=XS(mn),Cn=new Uint16Array(hs.buffer);Me.value+=ot.totalAcUncompressedCount;break}if(ot.dcCompressedSize>0){var Xt={array:Q.array,offset:Me,size:ot.dcCompressedSize},xs=new Uint16Array(je(Xt).buffer);Me.value+=ot.dcCompressedSize}if(ot.rleRawSize>0){var mn=Q.array.slice(Me.value,Me.value+ot.rleCompressedSize),hs=XS(mn),Qn=et(hs.buffer);Me.value+=ot.rleCompressedSize}for(var Es=0,cs=new Array(ft.length),jt=0;jt<cs.length;++jt)cs[jt]=new Array;for(var Cs=0;Cs<Q.lines;++Cs)for(var Ms=0;Ms<ft.length;++Ms)cs[Ms].push(Es),Es+=ft[Ms].width*Q.type*2;st(Dt,cs,ft,Cn,xs,tt);for(var jt=0;jt<ft.length;++jt){var Pt=ft[jt];if(!Pt.decoded)switch(Pt.compression){case 2:for(var Sn=0,qs=0,Cs=0;Cs<Q.lines;++Cs){for(var pr=cs[jt][Sn],ws=0;ws<Pt.width;++ws){for(var xr=0;xr<2*Pt.type;++xr)tt[pr++]=Qn[qs+xr*Pt.width*Pt.height];qs++}Sn++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(tt.buffer)}function Ft(Q,ce){for(var Me=new Uint8Array(Q),tt=0;Me[ce.value+tt]!=0;)tt+=1;var ot=new TextDecoder().decode(Me.slice(ce.value,ce.value+tt));return ce.value=ce.value+tt+1,ot}function Et(Q,ce,Me){var tt=new TextDecoder().decode(new Uint8Array(Q).slice(ce.value,ce.value+Me));return ce.value=ce.value+Me,tt}function Ut(Q,ce){var Me=wt(Q,ce),tt=_t(Q,ce);return[Me,tt]}function Qt(Q,ce){var Me=_t(Q,ce),tt=_t(Q,ce);return[Me,tt]}function wt(Q,ce){var Me=Q.getInt32(ce.value,!0);return ce.value=ce.value+4,Me}function _t(Q,ce){var Me=Q.getUint32(ce.value,!0);return ce.value=ce.value+4,Me}function hn(Q,ce){var Me=Q[ce.value];return ce.value=ce.value+1,Me}function Se(Q,ce){var Me=Q.getUint8(ce.value);return ce.value=ce.value+1,Me}const Be=function(Q,ce){let Me;return"getBigInt64"in DataView.prototype?Me=Number(Q.getBigInt64(ce.value,!0)):Me=Q.getUint32(ce.value+4,!0)+Number(Q.getUint32(ce.value,!0)<<32),ce.value+=8,Me};function bt(Q,ce){var Me=Q.getFloat32(ce.value,!0);return ce.value+=4,Me}function _e(Q,ce){return Gp.toHalfFloat(bt(Q,ce))}function Le(Q){var ce=(Q&31744)>>10,Me=Q&1023;return(Q>>15?-1:1)*(ce?ce===31?Me?NaN:1/0:Math.pow(2,ce-15)*(1+Me/1024):6103515625e-14*(Me/1024))}function St(Q,ce){var Me=Q.getUint16(ce.value,!0);return ce.value+=2,Me}function zt(Q,ce){return Le(St(Q,ce))}function Tt(Q,ce,Me,tt){for(var ot=Me.value,it=[];Me.value<ot+tt-1;){var Mt=Ft(ce,Me),Y=wt(Q,Me),ye=Se(Q,Me);Me.value+=3;var Ne=wt(Q,Me),Te=wt(Q,Me);it.push({name:Mt,pixelType:Y,pLinear:ye,xSampling:Ne,ySampling:Te})}return Me.value+=1,it}function yt(Q,ce){var Me=bt(Q,ce),tt=bt(Q,ce),ot=bt(Q,ce),it=bt(Q,ce),Mt=bt(Q,ce),Y=bt(Q,ce),ye=bt(Q,ce),Ne=bt(Q,ce);return{redX:Me,redY:tt,greenX:ot,greenY:it,blueX:Mt,blueY:Y,whiteX:ye,whiteY:Ne}}function Ht(Q,ce){var Me=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],tt=Se(Q,ce);return Me[tt]}function gn(Q,ce){var Me=_t(Q,ce),tt=_t(Q,ce),ot=_t(Q,ce),it=_t(Q,ce);return{xMin:Me,yMin:tt,xMax:ot,yMax:it}}function as(Q,ce){var Me=["INCREASING_Y"],tt=Se(Q,ce);return Me[tt]}function Zn(Q,ce){var Me=bt(Q,ce),tt=bt(Q,ce);return[Me,tt]}function Wr(Q,ce){var Me=bt(Q,ce),tt=bt(Q,ce),ot=bt(Q,ce);return[Me,tt,ot]}function wr(Q,ce,Me,tt,ot){if(tt==="string"||tt==="stringvector"||tt==="iccProfile")return Et(ce,Me,ot);if(tt==="chlist")return Tt(Q,ce,Me,ot);if(tt==="chromaticities")return yt(Q,Me);if(tt==="compression")return Ht(Q,Me);if(tt==="box2i")return gn(Q,Me);if(tt==="lineOrder")return as(Q,Me);if(tt==="float")return bt(Q,Me);if(tt==="v2f")return Zn(Q,Me);if(tt==="v3f")return Wr(Q,Me);if(tt==="int")return wt(Q,Me);if(tt==="rational")return Ut(Q,Me);if(tt==="timecode")return Qt(Q,Me);if(tt==="preview")return Me.value+=ot,"skipped";Me.value+=ot}function hc(Q,ce,Me){const tt={};if(Q.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";tt.version=Q.getUint8(4);const ot=Q.getUint8(5);tt.spec={singleTile:!!(ot&2),longName:!!(ot&4),deepFormat:!!(ot&8),multiPart:!!(ot&16)},Me.value=8;for(var it=!0;it;){var Mt=Ft(ce,Me);if(Mt==0)it=!1;else{var Y=Ft(ce,Me),ye=_t(Q,Me),Ne=wr(Q,ce,Me,Y,ye);Ne===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${Y}'.`):tt[Mt]=Ne}}if((ot&-5)!=0)throw console.error("EXRHeader:",tt),"THREE.EXRLoader: provided file is currently unsupported.";return tt}function Oa(Q,ce,Me,tt,ot){const it={size:0,viewer:ce,array:Me,offset:tt,width:Q.dataWindow.xMax-Q.dataWindow.xMin+1,height:Q.dataWindow.yMax-Q.dataWindow.yMin+1,channels:Q.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:Q.channels[0].pixelType,uncompress:null,getter:null,format:null,[Jb?"colorSpace":"encoding"]:null};switch(Q.compression){case"NO_COMPRESSION":it.lines=1,it.uncompress=ne;break;case"RLE_COMPRESSION":it.lines=1,it.uncompress=X;break;case"ZIPS_COMPRESSION":it.lines=1,it.uncompress=je;break;case"ZIP_COMPRESSION":it.lines=16,it.uncompress=je;break;case"PIZ_COMPRESSION":it.lines=32,it.uncompress=Re;break;case"PXR24_COMPRESSION":it.lines=16,it.uncompress=nt;break;case"DWAA_COMPRESSION":it.lines=32,it.uncompress=We;break;case"DWAB_COMPRESSION":it.lines=256,it.uncompress=We;break;default:throw"EXRLoader.parse: "+Q.compression+" is unsupported"}if(it.scanlineBlockSize=it.lines,it.type==1)switch(ot){case Qr:it.getter=zt,it.inputSize=2;break;case mi:it.getter=St,it.inputSize=2;break}else if(it.type==2)switch(ot){case Qr:it.getter=bt,it.inputSize=4;break;case mi:it.getter=_e,it.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+it.type+" for "+Q.compression+".";it.blockCount=(Q.dataWindow.yMax+1)/it.scanlineBlockSize;for(var Mt=0;Mt<it.blockCount;Mt++)Be(ce,tt);it.outputChannels=it.channels==3?4:it.channels;const Y=it.width*it.height*it.outputChannels;switch(ot){case Qr:it.byteArray=new Float32Array(Y),it.channels<it.outputChannels&&it.byteArray.fill(1,0,Y);break;case mi:it.byteArray=new Uint16Array(Y),it.channels<it.outputChannels&&it.byteArray.fill(15360,0,Y);break;default:console.error("THREE.EXRLoader: unsupported type: ",ot);break}return it.bytesPerLine=it.width*it.inputSize*it.channels,it.outputChannels==4?it.format=xa:it.format=mw,Jb?it.colorSpace="srgb-linear":it.encoding=3e3,it}const Mo=new DataView(e),ka=new Uint8Array(e),Di={value:0},Ur=hc(Mo,e,Di),Ln=Oa(Ur,Mo,ka,Di,this.type),Po={value:0},cr={R:0,G:1,B:2,A:3,Y:0};for(let Q=0;Q<Ln.height/Ln.scanlineBlockSize;Q++){const ce=_t(Mo,Di);Ln.size=_t(Mo,Di),Ln.lines=ce+Ln.scanlineBlockSize>Ln.height?Ln.height-ce:Ln.scanlineBlockSize;const tt=Ln.size<Ln.lines*Ln.bytesPerLine?Ln.uncompress(Ln):ne(Ln);Di.value+=Ln.size;for(let ot=0;ot<Ln.scanlineBlockSize;ot++){const it=ot+Q*Ln.scanlineBlockSize;if(it>=Ln.height)break;for(let Mt=0;Mt<Ln.channels;Mt++){const Y=cr[Ur.channels[Mt].name];for(let ye=0;ye<Ln.width;ye++){Po.value=(ot*(Ln.channels*Ln.width)+Mt*Ln.width+ye)*Ln.inputSize;const Ne=(Ln.height-1-it)*(Ln.width*Ln.outputChannels)+ye*Ln.outputChannels+Y;Ln.byteArray[Ne]=Ln.getter(tt,Po)}}}}return{header:Ur,width:Ln.width,height:Ln.height,data:Ln.byteArray,format:Ln.format,[Jb?"colorSpace":"encoding"]:Ln[Jb?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,s,r,a){function i(o,l){Jb?o.colorSpace=l.colorSpace:o.encoding=l.encoding,o.minFilter=ir,o.magFilter=ir,o.generateMipmaps=!1,o.flipY=!1,s&&s(o,l)}return super.load(e,i,r,a)}}const wG=new Ya,YS=new he;class pL extends YD{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const e=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],s=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],r=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(r),this.setAttribute("position",new un(e,3)),this.setAttribute("uv",new un(s,2))}applyMatrix4(e){const s=this.attributes.instanceStart,r=this.attributes.instanceEnd;return s!==void 0&&(s.applyMatrix4(e),r.applyMatrix4(e),s.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(e){let s;e instanceof Float32Array?s=e:Array.isArray(e)&&(s=new Float32Array(e));const r=new PA(s,6,1);return this.setAttribute("instanceStart",new bl(r,3,0)),this.setAttribute("instanceEnd",new bl(r,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(e,s=3){let r;e instanceof Float32Array?r=e:Array.isArray(e)&&(r=new Float32Array(e));const a=new PA(r,s*2,1);return this.setAttribute("instanceColorStart",new bl(a,s,0)),this.setAttribute("instanceColorEnd",new bl(a,s,s)),this}fromWireframeGeometry(e){return this.setPositions(e.attributes.position.array),this}fromEdgesGeometry(e){return this.setPositions(e.attributes.position.array),this}fromMesh(e){return this.fromWireframeGeometry(new BD(e.geometry)),this}fromLineSegments(e){const s=e.geometry;return this.setPositions(s.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ya);const e=this.attributes.instanceStart,s=this.attributes.instanceEnd;e!==void 0&&s!==void 0&&(this.boundingBox.setFromBufferAttribute(e),wG.setFromBufferAttribute(s),this.boundingBox.union(wG))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Qa),this.boundingBox===null&&this.computeBoundingBox();const e=this.attributes.instanceStart,s=this.attributes.instanceEnd;if(e!==void 0&&s!==void 0){const r=this.boundingSphere.center;this.boundingBox.getCenter(r);let a=0;for(let i=0,o=e.count;i<o;i++)YS.fromBufferAttribute(e,i),a=Math.max(a,r.distanceToSquared(YS)),YS.fromBufferAttribute(s,i),a=Math.max(a,r.distanceToSquared(YS));this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(e){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(e)}}class xne extends pL{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(e){const s=e.length-3,r=new Float32Array(2*s);for(let a=0;a<s;a+=3)r[2*a]=e[a],r[2*a+1]=e[a+1],r[2*a+2]=e[a+2],r[2*a+3]=e[a+3],r[2*a+4]=e[a+4],r[2*a+5]=e[a+5];return super.setPositions(r),this}setColors(e,s=3){const r=e.length-s,a=new Float32Array(2*r);if(s===3)for(let i=0;i<r;i+=s)a[2*i]=e[i],a[2*i+1]=e[i+1],a[2*i+2]=e[i+2],a[2*i+3]=e[i+3],a[2*i+4]=e[i+4],a[2*i+5]=e[i+5];else for(let i=0;i<r;i+=s)a[2*i]=e[i],a[2*i+1]=e[i+1],a[2*i+2]=e[i+2],a[2*i+3]=e[i+3],a[2*i+4]=e[i+4],a[2*i+5]=e[i+5],a[2*i+6]=e[i+6],a[2*i+7]=e[i+7];return super.setColors(a,s),this}fromLine(e){const s=e.geometry;return this.setPositions(s.attributes.position.array),this}}class xL extends Ao{constructor(e){super({type:"LineMaterial",uniforms:AA.clone(AA.merge([Gt.common,Gt.fog,{worldUnits:{value:1},linewidth:{value:1},resolution:{value:new mt(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}}])),vertexShader:`
				#include <common>
				#include <fog_pars_vertex>
				#include <logdepthbuf_pars_vertex>
				#include <clipping_planes_pars_vertex>

				uniform float linewidth;
				uniform vec2 resolution;

				attribute vec3 instanceStart;
				attribute vec3 instanceEnd;

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
						attribute vec4 instanceColorStart;
						attribute vec4 instanceColorEnd;
					#else
						varying vec3 vLineColor;
						attribute vec3 instanceColorStart;
						attribute vec3 instanceColorEnd;
					#endif
				#endif

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#ifdef USE_DASH

					uniform float dashScale;
					attribute float instanceDistanceStart;
					attribute float instanceDistanceEnd;
					varying float vLineDistance;

				#endif

				void trimSegment( const in vec4 start, inout vec4 end ) {

					// trim end segment so it terminates between the camera plane and the near plane

					// conservative estimate of the near plane
					float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
					float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
					float nearEstimate = - 0.5 * b / a;

					float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

					end.xyz = mix( start.xyz, end.xyz, alpha );

				}

				void main() {

					#ifdef USE_COLOR

						vLineColor = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

					#endif

					#ifdef USE_DASH

						vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
						vUv = uv;

					#endif

					float aspect = resolution.x / resolution.y;

					// camera space
					vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
					vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

					#ifdef WORLD_UNITS

						worldStart = start.xyz;
						worldEnd = end.xyz;

					#else

						vUv = uv;

					#endif

					// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
					// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
					// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
					// perhaps there is a more elegant solution -- WestLangley

					bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

					if ( perspective ) {

						if ( start.z < 0.0 && end.z >= 0.0 ) {

							trimSegment( start, end );

						} else if ( end.z < 0.0 && start.z >= 0.0 ) {

							trimSegment( end, start );

						}

					}

					// clip space
					vec4 clipStart = projectionMatrix * start;
					vec4 clipEnd = projectionMatrix * end;

					// ndc space
					vec3 ndcStart = clipStart.xyz / clipStart.w;
					vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

					// direction
					vec2 dir = ndcEnd.xy - ndcStart.xy;

					// account for clip-space aspect ratio
					dir.x *= aspect;
					dir = normalize( dir );

					#ifdef WORLD_UNITS

						// get the offset direction as perpendicular to the view vector
						vec3 worldDir = normalize( end.xyz - start.xyz );
						vec3 offset;
						if ( position.y < 0.5 ) {

							offset = normalize( cross( start.xyz, worldDir ) );

						} else {

							offset = normalize( cross( end.xyz, worldDir ) );

						}

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

						// don't extend the line if we're rendering dashes because we
						// won't be rendering the endcaps
						#ifndef USE_DASH

							// extend the line bounds to encompass  endcaps
							start.xyz += - worldDir * linewidth * 0.5;
							end.xyz += worldDir * linewidth * 0.5;

							// shift the position of the quad so it hugs the forward edge of the line
							offset.xy -= dir * forwardOffset;
							offset.z += 0.5;

						#endif

						// endcaps
						if ( position.y > 1.0 || position.y < 0.0 ) {

							offset.xy += dir * 2.0 * forwardOffset;

						}

						// adjust for linewidth
						offset *= linewidth * 0.5;

						// set the world position
						worldPos = ( position.y < 0.5 ) ? start : end;
						worldPos.xyz += offset;

						// project the worldpos
						vec4 clip = projectionMatrix * worldPos;

						// shift the depth of the projected points so the line
						// segments overlap neatly
						vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
						clip.z = clipPose.z * clip.w;

					#else

						vec2 offset = vec2( dir.y, - dir.x );
						// undo aspect ratio adjustment
						dir.x /= aspect;
						offset.x /= aspect;

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						// endcaps
						if ( position.y < 0.0 ) {

							offset += - dir;

						} else if ( position.y > 1.0 ) {

							offset += dir;

						}

						// adjust for linewidth
						offset *= linewidth;

						// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
						offset /= resolution.y;

						// select end
						vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

						// back to clip space
						offset *= clip.w;

						clip.xy += offset;

					#endif

					gl_Position = clip;

					vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

					#include <logdepthbuf_vertex>
					#include <clipping_planes_vertex>
					#include <fog_vertex>

				}
			`,fragmentShader:`
				uniform vec3 diffuse;
				uniform float opacity;
				uniform float linewidth;

				#ifdef USE_DASH

					uniform float dashOffset;
					uniform float dashSize;
					uniform float gapSize;

				#endif

				varying float vLineDistance;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#include <common>
				#include <fog_pars_fragment>
				#include <logdepthbuf_pars_fragment>
				#include <clipping_planes_pars_fragment>

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
					#else
						varying vec3 vLineColor;
					#endif
				#endif

				vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

					float mua;
					float mub;

					vec3 p13 = p1 - p3;
					vec3 p43 = p4 - p3;

					vec3 p21 = p2 - p1;

					float d1343 = dot( p13, p43 );
					float d4321 = dot( p43, p21 );
					float d1321 = dot( p13, p21 );
					float d4343 = dot( p43, p43 );
					float d2121 = dot( p21, p21 );

					float denom = d2121 * d4343 - d4321 * d4321;

					float numer = d1343 * d4321 - d1321 * d4343;

					mua = numer / denom;
					mua = clamp( mua, 0.0, 1.0 );
					mub = ( d1343 + d4321 * ( mua ) ) / d4343;
					mub = clamp( mub, 0.0, 1.0 );

					return vec2( mua, mub );

				}

				void main() {

					#include <clipping_planes_fragment>

					#ifdef USE_DASH

						if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

						if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

					#endif

					float alpha = opacity;

					#ifdef WORLD_UNITS

						// Find the closest points on the view ray and the line segment
						vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
						vec3 lineDir = worldEnd - worldStart;
						vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

						vec3 p1 = worldStart + lineDir * params.x;
						vec3 p2 = rayEnd * params.y;
						vec3 delta = p1 - p2;
						float len = length( delta );
						float norm = len / linewidth;

						#ifndef USE_DASH

							#ifdef USE_ALPHA_TO_COVERAGE

								float dnorm = fwidth( norm );
								alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

							#else

								if ( norm > 0.5 ) {

									discard;

								}

							#endif

						#endif

					#else

						#ifdef USE_ALPHA_TO_COVERAGE

							// artifacts appear on some hardware if a derivative is taken within a conditional
							float a = vUv.x;
							float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
							float len2 = a * a + b * b;
							float dlen = fwidth( len2 );

							if ( abs( vUv.y ) > 1.0 ) {

								alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

							}

						#else

							if ( abs( vUv.y ) > 1.0 ) {

								float a = vUv.x;
								float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
								float len2 = a * a + b * b;

								if ( len2 > 1.0 ) discard;

							}

						#endif

					#endif

					vec4 diffuseColor = vec4( diffuse, alpha );
					#ifdef USE_COLOR
						#ifdef USE_LINE_COLOR_ALPHA
							diffuseColor *= vLineColor;
						#else
							diffuseColor.rgb *= vLineColor;
						#endif
					#endif

					#include <logdepthbuf_fragment>

					gl_FragColor = diffuseColor;

					#include <tonemapping_fragment>
					#include <${IT>=154?"colorspace_fragment":"encodings_fragment"}>
					#include <fog_fragment>
					#include <premultiplied_alpha_fragment>

				}
			`,clipping:!0}),this.isLineMaterial=!0,this.onBeforeCompile=function(){this.transparent?this.defines.USE_LINE_COLOR_ALPHA="1":delete this.defines.USE_LINE_COLOR_ALPHA},Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(s){this.uniforms.diffuse.value=s}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(s){s===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(s){this.uniforms.linewidth.value=s}},dashed:{enumerable:!0,get:function(){return"USE_DASH"in this.defines},set(s){!!s!="USE_DASH"in this.defines&&(this.needsUpdate=!0),s===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(s){this.uniforms.dashScale.value=s}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(s){this.uniforms.dashSize.value=s}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(s){this.uniforms.dashOffset.value=s}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(s){this.uniforms.gapSize.value=s}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(s){this.uniforms.opacity.value=s}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(s){this.uniforms.resolution.value.copy(s)}},alphaToCoverage:{enumerable:!0,get:function(){return"USE_ALPHA_TO_COVERAGE"in this.defines},set:function(s){!!s!="USE_ALPHA_TO_COVERAGE"in this.defines&&(this.needsUpdate=!0),s===!0?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(e)}}const T3=new js,NG=new he,SG=new he,Ai=new js,Ci=new js,Ld=new js,E3=new he,M3=new Kn,Ei=new Rte,_G=new he,QS=new Ya,JS=new Qa,Fd=new js;let Bd,ox;function AG(n,e,s){return Fd.set(0,0,-e,1).applyMatrix4(n.projectionMatrix),Fd.multiplyScalar(1/Fd.w),Fd.x=ox/s.width,Fd.y=ox/s.height,Fd.applyMatrix4(n.projectionMatrixInverse),Fd.multiplyScalar(1/Fd.w),Math.abs(Math.max(Fd.x,Fd.y))}function fLe(n,e){const s=n.matrixWorld,r=n.geometry,a=r.attributes.instanceStart,i=r.attributes.instanceEnd,o=Math.min(r.instanceCount,a.count);for(let l=0,c=o;l<c;l++){Ei.start.fromBufferAttribute(a,l),Ei.end.fromBufferAttribute(i,l),Ei.applyMatrix4(s);const d=new he,u=new he;Bd.distanceSqToSegment(Ei.start,Ei.end,u,d),u.distanceTo(d)<ox*.5&&e.push({point:u,pointOnLine:d,distance:Bd.origin.distanceTo(u),object:n,face:null,faceIndex:l,uv:null,[cne]:null})}}function mLe(n,e,s){const r=e.projectionMatrix,i=n.material.resolution,o=n.matrixWorld,l=n.geometry,c=l.attributes.instanceStart,d=l.attributes.instanceEnd,u=Math.min(l.instanceCount,c.count),h=-e.near;Bd.at(1,Ld),Ld.w=1,Ld.applyMatrix4(e.matrixWorldInverse),Ld.applyMatrix4(r),Ld.multiplyScalar(1/Ld.w),Ld.x*=i.x/2,Ld.y*=i.y/2,Ld.z=0,E3.copy(Ld),M3.multiplyMatrices(e.matrixWorldInverse,o);for(let m=0,y=u;m<y;m++){if(Ai.fromBufferAttribute(c,m),Ci.fromBufferAttribute(d,m),Ai.w=1,Ci.w=1,Ai.applyMatrix4(M3),Ci.applyMatrix4(M3),Ai.z>h&&Ci.z>h)continue;if(Ai.z>h){const S=Ai.z-Ci.z,w=(Ai.z-h)/S;Ai.lerp(Ci,w)}else if(Ci.z>h){const S=Ci.z-Ai.z,w=(Ci.z-h)/S;Ci.lerp(Ai,w)}Ai.applyMatrix4(r),Ci.applyMatrix4(r),Ai.multiplyScalar(1/Ai.w),Ci.multiplyScalar(1/Ci.w),Ai.x*=i.x/2,Ai.y*=i.y/2,Ci.x*=i.x/2,Ci.y*=i.y/2,Ei.start.copy(Ai),Ei.start.z=0,Ei.end.copy(Ci),Ei.end.z=0;const j=Ei.closestPointToPointParameter(E3,!0);Ei.at(j,_G);const v=_D.lerp(Ai.z,Ci.z,j),b=v>=-1&&v<=1,A=E3.distanceTo(_G)<ox*.5;if(b&&A){Ei.start.fromBufferAttribute(c,m),Ei.end.fromBufferAttribute(d,m),Ei.start.applyMatrix4(o),Ei.end.applyMatrix4(o);const S=new he,w=new he;Bd.distanceSqToSegment(Ei.start,Ei.end,w,S),s.push({point:w,pointOnLine:S,distance:Bd.origin.distanceTo(w),object:n,face:null,faceIndex:m,uv:null,[cne]:null})}}}class gne extends qr{constructor(e=new pL,s=new xL({color:Math.random()*16777215})){super(e,s),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const e=this.geometry,s=e.attributes.instanceStart,r=e.attributes.instanceEnd,a=new Float32Array(2*s.count);for(let o=0,l=0,c=s.count;o<c;o++,l+=2)NG.fromBufferAttribute(s,o),SG.fromBufferAttribute(r,o),a[l]=l===0?0:a[l-1],a[l+1]=a[l]+NG.distanceTo(SG);const i=new PA(a,2,1);return e.setAttribute("instanceDistanceStart",new bl(i,1,0)),e.setAttribute("instanceDistanceEnd",new bl(i,1,1)),this}raycast(e,s){const r=this.material.worldUnits,a=e.camera;a===null&&!r&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const i=e.params.Line2!==void 0&&e.params.Line2.threshold||0;Bd=e.ray;const o=this.matrixWorld,l=this.geometry,c=this.material;ox=c.linewidth+i,l.boundingSphere===null&&l.computeBoundingSphere(),JS.copy(l.boundingSphere).applyMatrix4(o);let d;if(r)d=ox*.5;else{const h=Math.max(a.near,JS.distanceToPoint(Bd.origin));d=AG(a,h,c.resolution)}if(JS.radius+=d,Bd.intersectsSphere(JS)===!1)return;l.boundingBox===null&&l.computeBoundingBox(),QS.copy(l.boundingBox).applyMatrix4(o);let u;if(r)u=ox*.5;else{const h=Math.max(a.near,QS.distanceToPoint(Bd.origin));u=AG(a,h,c.resolution)}QS.expandByScalar(u),Bd.intersectsBox(QS)!==!1&&(r?fLe(this,s):mLe(this,a,s))}onBeforeRender(e){const s=this.material.uniforms;s&&s.resolution&&(e.getViewport(T3),this.material.uniforms.resolution.value.set(T3.z,T3.w))}}class pLe extends gne{constructor(e=new xne,s=new xL({color:Math.random()*16777215})){super(e,s),this.isLine2=!0,this.type="Line2"}}const vne=R.forwardRef(function({points:e,color:s=16777215,vertexColors:r,linewidth:a,lineWidth:i,segments:o,dashed:l,...c},d){var u,h;const m=vo(b=>b.size),y=R.useMemo(()=>o?new gne:new pLe,[o]),[N]=R.useState(()=>new xL),j=(r==null||(u=r[0])==null?void 0:u.length)===4?4:3,v=R.useMemo(()=>{const b=o?new pL:new xne,A=e.map(S=>{const w=Array.isArray(S);return S instanceof he||S instanceof js?[S.x,S.y,S.z]:S instanceof mt?[S.x,S.y,0]:w&&S.length===3?[S[0],S[1],S[2]]:w&&S.length===2?[S[0],S[1],0]:S});if(b.setPositions(A.flat()),r){s=16777215;const S=r.map(w=>w instanceof nn?w.toArray():w);b.setColors(S.flat(),j)}return b},[e,o,r,j]);return R.useLayoutEffect(()=>{y.computeLineDistances()},[e,y]),R.useLayoutEffect(()=>{l?N.defines.USE_DASH="":delete N.defines.USE_DASH,N.needsUpdate=!0},[l,N]),R.useEffect(()=>()=>{v.dispose(),N.dispose()},[v]),R.createElement("primitive",_h({object:y,ref:d},c),R.createElement("primitive",{object:v,attach:"geometry"}),R.createElement("primitive",_h({object:N,attach:"material",color:s,vertexColors:!!r,resolution:[m.width,m.height],linewidth:(h=a??i)!==null&&h!==void 0?h:1,dashed:l,transparent:j===4},c)))}),xLe=R.forwardRef(({makeDefault:n,camera:e,regress:s,domElement:r,enableDamping:a=!0,keyEvents:i=!1,onChange:o,onStart:l,onEnd:c,...d},u)=>{const h=vo(T=>T.invalidate),m=vo(T=>T.camera),y=vo(T=>T.gl),N=vo(T=>T.events),j=vo(T=>T.setEvents),v=vo(T=>T.set),b=vo(T=>T.get),A=vo(T=>T.performance),S=e||m,w=r||N.connected||y.domElement,E=R.useMemo(()=>new dLe(S),[S]);return Fx(()=>{E.enabled&&E.update()},-1),R.useEffect(()=>(i&&E.connect(i===!0?w:i),E.connect(w),()=>void E.dispose()),[i,w,s,E,h]),R.useEffect(()=>{const T=I=>{h(),s&&A.regress(),o&&o(I)},P=I=>{l&&l(I)},k=I=>{c&&c(I)};return E.addEventListener("change",T),E.addEventListener("start",P),E.addEventListener("end",k),()=>{E.removeEventListener("start",P),E.removeEventListener("end",k),E.removeEventListener("change",T)}},[o,l,c,E,h,j]),R.useEffect(()=>{if(n){const T=b().controls;return v({controls:E}),()=>v({controls:T})}},[n,E]),R.createElement("primitive",_h({ref:u,object:E,enableDamping:a},d))});var gLe=`#define GLSLIFY 1
vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289(i);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}`;class vLe extends HD{constructor(e={}){super(e),this.setValues(e),this._time={value:0},this._distort={value:.4},this._radius={value:1}}onBeforeCompile(e){e.uniforms.time=this._time,e.uniforms.radius=this._radius,e.uniforms.distort=this._distort,e.vertexShader=`
      uniform float time;
      uniform float radius;
      uniform float distort;
      ${gLe}
      ${e.vertexShader}
    `,e.vertexShader=e.vertexShader.replace("#include <begin_vertex>",`
        float updateTime = time / 50.0;
        float noise = snoise(vec3(position / 2.0 + updateTime * 5.0));
        vec3 transformed = vec3(position * (noise * pow(distort, 2.0) + radius));
        `)}get time(){return this._time.value}set time(e){this._time.value=e}get distort(){return this._distort.value}set distort(e){this._distort.value=e}get radius(){return this._radius.value}set radius(e){this._radius.value=e}}const yLe=R.forwardRef(({speed:n=1,...e},s)=>{const[r]=R.useState(()=>new vLe);return Fx(a=>r&&(r.time=a.clock.elapsedTime*n)),R.createElement("primitive",_h({object:r,ref:s,attach:"material"},e))});function yne(n,e){const s=n+"Geometry";return R.forwardRef(({args:r,children:a,...i},o)=>{const l=R.useRef(null);return R.useImperativeHandle(o,()=>l.current),R.useLayoutEffect(()=>void e?.(l.current)),R.createElement("mesh",_h({ref:l},i),R.createElement(s,{attach:"geometry",args:r}),a)})}const P3=yne("box"),p_=yne("sphere"),bLe=R.forwardRef(({children:n,enabled:e=!0,speed:s=1,rotationIntensity:r=1,floatIntensity:a=1,floatingRange:i=[-.1,.1],autoInvalidate:o=!1,...l},c)=>{const d=R.useRef(null);R.useImperativeHandle(c,()=>d.current,[]);const u=R.useRef(Math.random()*1e4);return Fx(h=>{var m,y;if(!e||s===0)return;o&&h.invalidate();const N=u.current+h.clock.elapsedTime;d.current.rotation.x=Math.cos(N/4*s)/8*r,d.current.rotation.y=Math.sin(N/4*s)/8*r,d.current.rotation.z=Math.sin(N/4*s)/20*r;let j=Math.sin(N/4*s)/10;j=_D.mapLinear(j,-.1,.1,(m=i?.[0])!==null&&m!==void 0?m:-.1,(y=i?.[1])!==null&&y!==void 0?y:.1),d.current.position.y=j*a,d.current.updateMatrix()}),R.createElement("group",l,R.createElement("group",{ref:d,matrixAutoUpdate:!1},n))}),bne=(n,e,s)=>{let r;switch(n){case _o:r=new Uint8ClampedArray(e*s*4);break;case mi:r=new Uint16Array(e*s*4);break;case du:r=new Uint32Array(e*s*4);break;case sT:r=new Int8Array(e*s*4);break;case rT:r=new Int16Array(e*s*4);break;case fw:r=new Int32Array(e*s*4);break;case Qr:r=new Float32Array(e*s*4);break;default:throw new Error("Unsupported data type")}return r};let e_;const jLe=(n,e,s,r)=>{if(e_!==void 0)return e_;const a=new ic(1,1,r);e.setRenderTarget(a);const i=new qr(new cm,new Dh({color:16777215}));e.render(i,s),e.setRenderTarget(null);const o=bne(n,a.width,a.height);return e.readRenderTargetPixels(a,0,0,a.width,a.height,o),a.dispose(),i.geometry.dispose(),i.material.dispose(),e_=o[0]!==0,e_};class gL{constructor(e){var s,r,a,i,o,l,c,d,u,h,m,y,N,j,v,b;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(S){throw this._renderer.setRenderTarget(null),S}this._renderer.setRenderTarget(null)},this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const A={format:xa,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((s=e.renderTargetOptions)===null||s===void 0?void 0:s.anisotropy)!==void 0?(r=e.renderTargetOptions)===null||r===void 0?void 0:r.anisotropy:1,generateMipmaps:((a=e.renderTargetOptions)===null||a===void 0?void 0:a.generateMipmaps)!==void 0?(i=e.renderTargetOptions)===null||i===void 0?void 0:i.generateMipmaps:!1,magFilter:((o=e.renderTargetOptions)===null||o===void 0?void 0:o.magFilter)!==void 0?(l=e.renderTargetOptions)===null||l===void 0?void 0:l.magFilter:ir,minFilter:((c=e.renderTargetOptions)===null||c===void 0?void 0:c.minFilter)!==void 0?(d=e.renderTargetOptions)===null||d===void 0?void 0:d.minFilter:ir,samples:((u=e.renderTargetOptions)===null||u===void 0?void 0:u.samples)!==void 0?(h=e.renderTargetOptions)===null||h===void 0?void 0:h.samples:void 0,wrapS:((m=e.renderTargetOptions)===null||m===void 0?void 0:m.wrapS)!==void 0?(y=e.renderTargetOptions)===null||y===void 0?void 0:y.wrapS:Ma,wrapT:((N=e.renderTargetOptions)===null||N===void 0?void 0:N.wrapT)!==void 0?(j=e.renderTargetOptions)===null||j===void 0?void 0:j.wrapT:Ma};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=gL.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new gw,this._camera=new ad,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!jLe(this._type,this._renderer,this._camera,A)){let S;switch(this._type){case mi:S=this._renderer.extensions.has("EXT_color_buffer_float")?Qr:void 0;break}S!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${Qr}`),this._type=S):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new qr(new cm,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new ic(this.width,this.height,A),this._renderTarget.texture.mapping=((v=e.renderTargetOptions)===null||v===void 0?void 0:v.mapping)!==void 0?(b=e.renderTargetOptions)===null||b===void 0?void 0:b.mapping:Qf}static instantiateRenderer(){const e=new iL;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=bne(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const s=new rd(this.toArray(),this.width,this.height,xa,this._type,e?.mapping||Qf,e?.wrapS||Ma,e?.wrapT||Ma,e?.magFilter||ir,e?.minFilter||ir,e?.anisotropy||1,ld);return s.generateMipmaps=e?.generateMipmaps!==void 0?e?.generateMipmaps:!1,s}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof Ao&&Object.values(this.material.uniforms).forEach(s=>{s.value instanceof fr&&s.value.dispose()}),Object.values(this.material).forEach(s=>{s instanceof fr&&s.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}const wLe=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,NLe=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class SLe extends Ao{constructor({gamma:e,offsetHdr:s,offsetSdr:r,gainMapMin:a,gainMapMax:i,maxDisplayBoost:o,hdrCapacityMin:l,hdrCapacityMax:c,sdr:d,gainMap:u}){super({name:"GainMapDecoderMaterial",vertexShader:wLe,fragmentShader:NLe,uniforms:{sdr:{value:d},gainMap:{value:u},gamma:{value:new he(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new he().fromArray(s)},offsetSdr:{value:new he().fromArray(r)},gainMapMin:{value:new he().fromArray(a)},gainMapMax:{value:new he().fromArray(i)},weightFactor:{value:(Math.log2(o)-l)/(c-l)}},blending:nu,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=o,this._hdrCapacityMin=l,this._hdrCapacityMax=c,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){const e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){const s=this.uniforms.gamma.value;s.x=1/e[0],s.y=1/e[1],s.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){const e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class jne extends Error{}class wne extends Error{}const ej=(n,e,s)=>{const r=new RegExp(`${e}="([^"]*)"`,"i").exec(n);if(r)return r[1];const a=new RegExp(`<${e}[^>]*>([\\s\\S]*?)</${e}>`,"i").exec(n);if(a){const i=a[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return i&&i.length===3?i.map(o=>o.replace(/<\/?rdf:li>/g,"")):a[1].trim()}if(s!==void 0)return s;throw new Error(`Can't find ${e} in gainmap metadata`)},_Le=n=>{let e;typeof TextDecoder<"u"?e=new TextDecoder().decode(n):e=n.toString();let s=e.indexOf("<x:xmpmeta");for(;s!==-1;){const r=e.indexOf("x:xmpmeta>",s),a=e.slice(s,r+10);try{const i=ej(a,"hdrgm:GainMapMin","0"),o=ej(a,"hdrgm:GainMapMax"),l=ej(a,"hdrgm:Gamma","1"),c=ej(a,"hdrgm:OffsetSDR","0.015625"),d=ej(a,"hdrgm:OffsetHDR","0.015625"),u=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(a),h=u?u[1]:"0",m=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(a);if(!m)throw new Error("Incomplete gainmap metadata");const y=m[1];return{gainMapMin:Array.isArray(i)?i.map(N=>parseFloat(N)):[parseFloat(i),parseFloat(i),parseFloat(i)],gainMapMax:Array.isArray(o)?o.map(N=>parseFloat(N)):[parseFloat(o),parseFloat(o),parseFloat(o)],gamma:Array.isArray(l)?l.map(N=>parseFloat(N)):[parseFloat(l),parseFloat(l),parseFloat(l)],offsetSdr:Array.isArray(c)?c.map(N=>parseFloat(N)):[parseFloat(c),parseFloat(c),parseFloat(c)],offsetHdr:Array.isArray(d)?d.map(N=>parseFloat(N)):[parseFloat(d),parseFloat(d),parseFloat(d)],hdrCapacityMin:parseFloat(h),hdrCapacityMax:parseFloat(y)}}catch{}s=e.indexOf("<x:xmpmeta",r)}};class ALe{constructor(e){this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((s,r)=>{const a=this.options.debug,i=new DataView(e.buffer);if(i.getUint16(0)!==65496){r(new Error("Not a valid jpeg"));return}const o=i.byteLength;let l=2,c=0,d;for(;l<o;){if(++c>250){r(new Error(`Found no marker after ${c} loops 😵`));return}if(i.getUint8(l)!==255){r(new Error(`Not a valid marker at offset 0x${l.toString(16)}, found: 0x${i.getUint8(l).toString(16)}`));return}if(d=i.getUint8(l+1),a&&console.log(`Marker: ${d.toString(16)}`),d===226){a&&console.log("Found APP2 marker (0xffe2)");const u=l+4;if(i.getUint32(u)===1297106432){const h=u+4;let m;if(i.getUint16(h)===18761)m=!1;else if(i.getUint16(h)===19789)m=!0;else{r(new Error("No valid endianness marker found in TIFF header"));return}if(i.getUint16(h+2,!m)!==42){r(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const y=i.getUint32(h+4,!m);if(y<8){r(new Error("Not valid TIFF data! (First offset less than 8)"));return}const N=h+y,j=i.getUint16(N,!m),v=N+2;let b=0;for(let E=v;E<v+12*j;E+=12)i.getUint16(E,!m)===45057&&(b=i.getUint32(E+8,!m));const S=N+2+j*12+4,w=[];for(let E=S;E<S+b*16;E+=16){const T={MPType:i.getUint32(E,!m),size:i.getUint32(E+4,!m),dataOffset:i.getUint32(E+8,!m),dependantImages:i.getUint32(E+12,!m),start:-1,end:-1,isFII:!1};T.dataOffset?(T.start=h+T.dataOffset,T.isFII=!1):(T.start=0,T.isFII=!0),T.end=T.start+T.size,w.push(T)}if(this.options.extractNonFII&&w.length){const E=new Blob([i]),T=[];for(const P of w){if(P.isFII&&!this.options.extractFII)continue;const k=E.slice(P.start,P.end+1,"image/jpeg");T.push(k)}s(T)}}}l+=2+i.getUint16(l+2)}})}}const CLe=async n=>{const e=_Le(n);if(!e)throw new wne("Gain map XMP metadata not found");const r=await new ALe({extractFII:!0,extractNonFII:!0}).extract(n);if(r.length!==2)throw new jne("Gain map recovery image not found");return{sdr:new Uint8Array(await r[0].arrayBuffer()),gainMap:new Uint8Array(await r[1].arrayBuffer()),metadata:e}},CG=n=>new Promise((e,s)=>{const r=document.createElement("img");r.onload=()=>{e(r)},r.onerror=a=>{s(a)},r.src=URL.createObjectURL(n)});class Nne extends Eo{constructor(e,s){super(s),e&&(this._renderer=e),this._internalLoadingManager=new PT}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const e=new SLe({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new fr,sdr:new fr});return new gL({width:16,height:16,type:mi,colorSpace:ld,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(e,s,r,a){const i=a?new Blob([a],{type:"image/jpeg"}):void 0,o=new Blob([r],{type:"image/jpeg"});let l,c,d=!1;if(typeof createImageBitmap>"u"){const m=await Promise.all([i?CG(i):Promise.resolve(void 0),CG(o)]);c=m[0],l=m[1],d=!0}else{const m=await Promise.all([i?createImageBitmap(i,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(o,{imageOrientation:"flipY"})]);c=m[0],l=m[1]}const u=new fr(c||new ImageData(2,2),Qf,Ma,Ma,ir,H5,xa,_o,1,ld);u.flipY=d,u.needsUpdate=!0;const h=new fr(l,Qf,Ma,Ma,ir,H5,xa,_o,1,Mi);h.flipY=d,h.needsUpdate=!0,e.width=l.width,e.height=l.height,e.material.gainMap=u,e.material.sdr=h,e.material.gainMapMin=s.gainMapMin,e.material.gainMapMax=s.gainMapMax,e.material.offsetHdr=s.offsetHdr,e.material.offsetSdr=s.offsetSdr,e.material.gamma=s.gamma,e.material.hdrCapacityMin=s.hdrCapacityMin,e.material.hdrCapacityMax=s.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,s.hdrCapacityMax),e.material.needsUpdate=!0,e.render()}}class TLe extends Nne{load([e,s,r],a,i,o){const l=this.prepareQuadRenderer();let c,d,u;const h=async()=>{if(c&&d&&u){try{await this.render(l,u,c,d)}catch(I){this.manager.itemError(e),this.manager.itemError(s),this.manager.itemError(r),typeof o=="function"&&o(I),l.disposeOnDemandRenderer();return}typeof a=="function"&&a(l),this.manager.itemEnd(e),this.manager.itemEnd(s),this.manager.itemEnd(r),l.disposeOnDemandRenderer()}};let m=!0,y=0,N=0,j=!0,v=0,b=0,A=!0,S=0,w=0;const E=()=>{if(typeof i=="function"){const I=y+v+S,L=N+b+w,U=m&&j&&A;i(new ProgressEvent("progress",{lengthComputable:U,loaded:L,total:I}))}};this.manager.itemStart(e),this.manager.itemStart(s),this.manager.itemStart(r);const T=new Tl(this._internalLoadingManager);T.setResponseType("arraybuffer"),T.setRequestHeader(this.requestHeader),T.setPath(this.path),T.setWithCredentials(this.withCredentials),T.load(e,async I=>{if(typeof I=="string")throw new Error("Invalid sdr buffer");c=I,await h()},I=>{m=I.lengthComputable,N=I.loaded,y=I.total,E()},I=>{this.manager.itemError(e),typeof o=="function"&&o(I)});const P=new Tl(this._internalLoadingManager);P.setResponseType("arraybuffer"),P.setRequestHeader(this.requestHeader),P.setPath(this.path),P.setWithCredentials(this.withCredentials),P.load(s,async I=>{if(typeof I=="string")throw new Error("Invalid gainmap buffer");d=I,await h()},I=>{j=I.lengthComputable,b=I.loaded,v=I.total,E()},I=>{this.manager.itemError(s),typeof o=="function"&&o(I)});const k=new Tl(this._internalLoadingManager);return k.setRequestHeader(this.requestHeader),k.setPath(this.path),k.setWithCredentials(this.withCredentials),k.load(r,async I=>{if(typeof I!="string")throw new Error("Invalid metadata string");u=JSON.parse(I),await h()},I=>{A=I.lengthComputable,w=I.loaded,S=I.total,E()},I=>{this.manager.itemError(r),typeof o=="function"&&o(I)}),l}}class ELe extends Nne{load(e,s,r,a){const i=this.prepareQuadRenderer(),o=new Tl(this._internalLoadingManager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(this.withCredentials),this.manager.itemStart(e),o.load(e,async l=>{if(typeof l=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const c=new Uint8Array(l);let d,u,h;try{const m=await CLe(c);d=m.sdr,u=m.gainMap,h=m.metadata}catch(m){if(m instanceof wne||m instanceof jne)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),h={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},d=c;else throw m}try{await this.render(i,h,d,u)}catch(m){this.manager.itemError(e),typeof a=="function"&&a(m),i.disposeOnDemandRenderer();return}typeof s=="function"&&s(i),this.manager.itemEnd(e),i.disposeOnDemandRenderer()},r,l=>{this.manager.itemError(e),typeof a=="function"&&a(l)}),i}}const $1={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},Sne="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",Wv=n=>Array.isArray(n),vL=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function DT({files:n=vL,path:e="",preset:s=void 0,colorSpace:r=void 0,extensions:a}={}){s&&(yL(s),n=$1[s],e=Sne);const i=Wv(n),{extension:o,isCubemap:l}=bL(n),c=jL(o);if(!c)throw new Error("useEnvironment: Unrecognized file extension: "+n);const d=vo(y=>y.gl);R.useLayoutEffect(()=>{if(o!=="webp"&&o!=="jpg"&&o!=="jpeg")return;function y(){W0.clear(c,i?[n]:n)}d.domElement.addEventListener("webglcontextlost",y,{once:!0})},[n,d.domElement]);const u=W0(c,i?[n]:n,y=>{(o==="webp"||o==="jpg"||o==="jpeg")&&y.setRenderer(d),y.setPath==null||y.setPath(e),a&&a(y)});let h=i?u[0]:u;if(o==="jpg"||o==="jpeg"||o==="webp"){var m;h=(m=h.renderTarget)==null?void 0:m.texture}return h.mapping=l?cu:D0,h.colorSpace=r??(l?"srgb":"srgb-linear"),h}const MLe={files:vL,path:"",preset:void 0,extensions:void 0};DT.preload=n=>{const e={...MLe,...n};let{files:s,path:r=""}=e;const{preset:a,extensions:i}=e;a&&(yL(a),s=$1[a],r=Sne);const{extension:o}=bL(s);if(o==="webp"||o==="jpg"||o==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const l=jL(o);if(!l)throw new Error("useEnvironment: Unrecognized file extension: "+s);W0.preload(l,Wv(s)?[s]:s,c=>{c.setPath==null||c.setPath(r),i&&i(c)})};const PLe={files:vL,preset:void 0};DT.clear=n=>{const e={...PLe,...n};let{files:s}=e;const{preset:r}=e;r&&(yL(r),s=$1[r]);const{extension:a}=bL(s),i=jL(a);if(!i)throw new Error("useEnvironment: Unrecognized file extension: "+s);W0.clear(i,Wv(s)?[s]:s)};function yL(n){if(!(n in $1))throw new Error("Preset must be one of: "+Object.keys($1).join(", "))}function bL(n){var e;const s=Wv(n)&&n.length===6,r=Wv(n)&&n.length===3&&n.some(o=>o.endsWith("json")),a=Wv(n)?n[0]:n;return{extension:s?"cube":r?"webp":a.startsWith("data:application/exr")?"exr":a.startsWith("data:application/hdr")?"hdr":a.startsWith("data:image/jpeg")?"jpg":(e=a.split(".").pop())==null||(e=e.split("?"))==null||(e=e.shift())==null?void 0:e.toLowerCase(),isCubemap:s,isGainmap:r}}function jL(n){return n==="cube"?vte:n==="hdr"?uLe:n==="exr"?hLe:n==="jpg"||n==="jpeg"?ELe:n==="webp"?TLe:null}const RLe=n=>n.current&&n.current.isScene,OLe=n=>RLe(n)?n.current:n;function wL(n,e,s,r,a={}){var i,o,l,c;a={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...a};const d=OLe(e||s),u=d.background,h=d.environment,m={backgroundBlurriness:d.backgroundBlurriness,backgroundIntensity:d.backgroundIntensity,backgroundRotation:(i=(o=d.backgroundRotation)==null||o.clone==null?void 0:o.clone())!==null&&i!==void 0?i:[0,0,0],environmentIntensity:d.environmentIntensity,environmentRotation:(l=(c=d.environmentRotation)==null||c.clone==null?void 0:c.clone())!==null&&l!==void 0?l:[0,0,0]};return n!=="only"&&(d.environment=r),n&&(d.background=r),zd(d,a),()=>{n!=="only"&&(d.environment=h),n&&(d.background=u),zd(d,m)}}function NL({scene:n,background:e=!1,map:s,...r}){const a=vo(i=>i.scene);return R.useLayoutEffect(()=>{if(s)return wL(e,n,a,s,r)}),null}function _ne({background:n=!1,scene:e,blur:s,backgroundBlurriness:r,backgroundIntensity:a,backgroundRotation:i,environmentIntensity:o,environmentRotation:l,...c}){const d=DT(c),u=vo(h=>h.scene);return R.useLayoutEffect(()=>wL(n,e,u,d,{backgroundBlurriness:s??r,backgroundIntensity:a,backgroundRotation:i,environmentIntensity:o,environmentRotation:l})),R.useEffect(()=>()=>{d.dispose()},[d]),null}function kLe({children:n,near:e=.1,far:s=1e3,resolution:r=256,frames:a=1,map:i,background:o=!1,blur:l,backgroundBlurriness:c,backgroundIntensity:d,backgroundRotation:u,environmentIntensity:h,environmentRotation:m,scene:y,files:N,path:j,preset:v=void 0,extensions:b}){const A=vo(k=>k.gl),S=vo(k=>k.scene),w=R.useRef(null),[E]=R.useState(()=>new gw),T=R.useMemo(()=>{const k=new ED(r);return k.texture.type=mi,k},[r]);R.useEffect(()=>()=>{T.dispose()},[T]),R.useLayoutEffect(()=>{if(a===1){const k=A.autoClear;A.autoClear=!0,w.current.update(A,E),A.autoClear=k}return wL(o,y,S,T.texture,{backgroundBlurriness:l??c,backgroundIntensity:d,backgroundRotation:u,environmentIntensity:h,environmentRotation:m})},[n,E,T.texture,y,S,o,a,A]);let P=1;return Fx(()=>{if(a===1/0||P<a){const k=A.autoClear;A.autoClear=!0,w.current.update(A,E),A.autoClear=k,P++}}),R.createElement(R.Fragment,null,bDe(R.createElement(R.Fragment,null,n,R.createElement("cubeCamera",{ref:w,args:[e,s,T]}),N||v?R.createElement(_ne,{background:!0,files:N,preset:v,path:j,extensions:b}):i?R.createElement(NL,{background:!0,map:i,extensions:b}):null),E))}function ILe(n){var e,s,r,a;const i=DT(n),o=n.map||i;R.useMemo(()=>tne({GroundProjectedEnvImpl:nLe}),[]),R.useEffect(()=>()=>{i.dispose()},[i]);const l=R.useMemo(()=>[o],[o]),c=(e=n.ground)==null?void 0:e.height,d=(s=n.ground)==null?void 0:s.radius,u=(r=(a=n.ground)==null?void 0:a.scale)!==null&&r!==void 0?r:1e3;return R.createElement(R.Fragment,null,R.createElement(NL,_h({},n,{map:o})),R.createElement("groundProjectedEnvImpl",{args:l,scale:u,height:c,radius:d}))}function DLe(n){return n.ground?R.createElement(ILe,n):n.map?R.createElement(NL,n):n.children?R.createElement(kLe,n):R.createElement(_ne,n)}function LLe({node:n,selected:e,onSelect:s}){const r=R.useRef(),a=R.useRef();Fx(l=>{if(r.current){r.current.rotation.y+=n.health>80?.01:n.health>50?.005:.002;const c=1+Math.sin(l.clock.elapsedTime*n.crisisScore)*.1;r.current.scale.setScalar(c)}if(a.current){const c=n.realTimeMetrics.activeUsers/1e4+n.crisisScore*.5;a.current.material.emissiveIntensity=Math.max(.3,Math.min(2,c))}});const i=()=>n.health>80?"#00ff88":n.health>50?"#ffaa00":"#ff3366",o=()=>{switch(n.riskLevel){case"LOW":return"#00ff88";case"MEDIUM":return"#ffaa00";case"HIGH":return"#ff6600";case"CRITICAL":return"#ff0033"}};return t.jsxs("group",{position:n.position,children:[t.jsx(p_,{ref:r,args:[1,32,32],onClick:()=>s(n),children:t.jsx(yLe,{color:i(),transparent:!0,opacity:.8,distort:.3,speed:2,roughness:.1,metalness:.8})}),t.jsx(p_,{ref:a,args:[1.5,16,16],children:t.jsx("meshBasicMaterial",{color:o(),transparent:!0,opacity:.2,emissive:o(),emissiveIntensity:.5})}),t.jsx(mL,{position:[0,2,0],center:!0,children:t.jsxs("div",{className:"bg-black/80 text-white px-2 py-1 rounded text-xs font-mono",children:[n.name,t.jsxs("div",{className:"text-xs opacity-70",children:[n.realTimeMetrics.activeUsers.toLocaleString()," users"]}),t.jsxs("div",{className:"text-xs opacity-70",children:["$",(n.realTimeMetrics.revenue/1e3).toFixed(1),"K/h"]})]})}),t.jsxs("mesh",{rotation:[-Math.PI/2,0,0],position:[0,-1.5,0],children:[t.jsx("ringGeometry",{args:[1.2,1.4,32]}),t.jsx("meshBasicMaterial",{color:i(),transparent:!0,opacity:n.health/100})]}),n.crisisScore>.5&&t.jsx(bLe,{speed:4,rotationIntensity:.5,children:t.jsx(p_,{args:[.3,16,16],position:[0,2.5,0],children:t.jsx("meshBasicMaterial",{color:"#ff3366",emissive:"#ff3366",emissiveIntensity:.8})})}),e&&t.jsxs(t.Fragment,{children:[t.jsx(P3,{args:[.1,n.realTimeMetrics.cpu/50,.1],position:[2,0,0],children:t.jsx("meshBasicMaterial",{color:"#00ffff"})}),t.jsx(P3,{args:[.1,n.realTimeMetrics.memory/50,.1],position:[2.5,0,0],children:t.jsx("meshBasicMaterial",{color:"#ff00ff"})}),t.jsx(P3,{args:[.1,n.realTimeMetrics.threats/10,.1],position:[3,0,0],children:t.jsx("meshBasicMaterial",{color:"#ff6600"})})]})]})}function FLe({hotspot:n}){const e=R.useRef();Fx(r=>{if(e.current){const a=Math.sin(r.clock.elapsedTime*3)*.3+.7;e.current.scale.setScalar(a*n.severity)}});const s=()=>n.severity>.8?"#ff0033":n.severity>.5?"#ff6600":"#ffaa00";return t.jsxs("group",{position:n.position,children:[t.jsx(p_,{ref:e,args:[.5,16,16],children:t.jsx("meshBasicMaterial",{color:s(),emissive:s(),emissiveIntensity:1,transparent:!0,opacity:.8})}),t.jsxs("mesh",{children:[t.jsx("sphereGeometry",{args:[n.blastRadius,16,16]}),t.jsx("meshBasicMaterial",{color:s(),transparent:!0,opacity:.1,wireframe:!0})]}),t.jsx(mL,{position:[0,1,0],center:!0,children:t.jsxs("div",{className:"bg-red-900/90 text-white px-2 py-1 rounded text-xs",children:[t.jsx("div",{className:"font-bold",children:n.type}),t.jsx("div",{children:n.description}),t.jsxs("div",{className:"text-xs opacity-70",children:["Impact: ",(n.predictedImpact*100).toFixed(0),"%"]}),t.jsxs("div",{className:"text-xs opacity-70",children:["ETA: ",n.timeToEscalation,"min"]})]})})]})}function ULe({branches:n}){return t.jsx(t.Fragment,{children:n.map(e=>t.jsxs("group",{children:[t.jsx(vne,{points:[e.origin,e.destination],color:e.probability>.7?"#00ff88":e.probability>.4?"#ffaa00":"#ff3366",lineWidth:e.probability*5,transparent:!0,opacity:.8}),t.jsxs("mesh",{position:e.destination,children:[t.jsx("coneGeometry",{args:[e.probability*.5,1,8]}),t.jsx("meshBasicMaterial",{color:e.expectedOutcome>0?"#00ff88":"#ff3366",transparent:!0,opacity:e.probability})]}),t.jsx(mL,{position:e.destination,center:!0,children:t.jsxs("div",{className:"bg-black/80 text-white px-1 py-0.5 rounded text-xs",children:["P: ",(e.probability*100).toFixed(0),"%",t.jsx("br",{}),"O: ",e.expectedOutcome>0?"+":"",e.expectedOutcome.toFixed(2),t.jsx("br",{}),"R: ",(e.riskScore*100).toFixed(0),"%"]})})]},e.id))})}function zLe({timeRange:n,onTimeChange:e,playback:s,onPlaybackChange:r}){return t.jsx("div",{className:"absolute bottom-4 left-4 right-4 bg-black/80 rounded-lg p-4 text-white",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(te,{variant:s?"destructive":"default",onClick:()=>r(!s),size:"sm",children:s?"Pause":"Play"}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"text-xs mb-1",children:["Temporal Range: ",n[0],"h - ",n[1],"h"]}),t.jsx(ph,{value:n,onValueChange:a=>e(a),min:-168,max:168,step:1,className:"w-full"})]}),t.jsxs("div",{className:"text-xs",children:["Viewing: ",n[1]>0?"Future":n[1]===0?"Present":"Past"]})]})})}function BLe({selectedPlatform:n,onNaturalLanguageCommand:e,biometricStress:s}){const[r,a]=R.useState(""),i=()=>s<30?"text-green-400":s<70?"text-yellow-400":"text-red-400";return t.jsxs("div",{className:"absolute top-4 right-4 w-80 space-y-4",children:[t.jsxs($,{className:"bg-black/80 border-purple-500 text-white",children:[t.jsx(oe,{className:"pb-2",children:t.jsxs(le,{className:"flex items-center gap-2 text-purple-400",children:[t.jsx(Gr,{className:"w-4 h-4"}),"Executive Status"]})}),t.jsxs(q,{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Biometric Stress:"}),t.jsxs("span",{className:i(),children:[s,"%"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Clearance Level:"}),t.jsx(de,{variant:"destructive",children:"LEVEL 5"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"God Mode:"}),t.jsx(de,{variant:"destructive",children:"ENABLED"})]})]})]}),t.jsxs($,{className:"bg-black/80 border-blue-500 text-white",children:[t.jsx(oe,{className:"pb-2",children:t.jsxs(le,{className:"flex items-center gap-2 text-blue-400",children:[t.jsx(k$,{className:"w-4 h-4"}),"Quantum Command Interface"]})}),t.jsxs(q,{className:"space-y-2",children:[t.jsx(Fe,{value:r,onChange:o=>a(o.target.value),placeholder:"Speak your will into reality...",className:"bg-gray-900 border-blue-500 text-white placeholder-gray-400",onKeyPress:o=>{o.key==="Enter"&&r.trim()&&(e(r),a(""))}}),t.jsx("div",{className:"text-xs text-gray-400",children:'Examples: "Increase profitability by 20%", "Activate crisis protocol", "Show me the future"'})]})]}),n&&t.jsxs($,{className:"bg-black/80 border-green-500 text-white",children:[t.jsx(oe,{className:"pb-2",children:t.jsxs(le,{className:"flex items-center gap-2 text-green-400",children:[t.jsx(Er,{className:"w-4 h-4"}),n.name]})}),t.jsx(q,{className:"space-y-2",children:t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[t.jsxs("div",{children:["Health: ",n.health,"%"]}),t.jsxs("div",{children:["Risk: ",n.riskLevel]}),t.jsxs("div",{children:["Users: ",n.realTimeMetrics.activeUsers.toLocaleString()]}),t.jsxs("div",{children:["Revenue: $",(n.realTimeMetrics.revenue/1e3).toFixed(1),"K/h"]}),t.jsxs("div",{children:["CPU: ",n.realTimeMetrics.cpu,"%"]}),t.jsxs("div",{children:["Memory: ",n.realTimeMetrics.memory,"%"]}),t.jsxs("div",{children:["Threats: ",n.realTimeMetrics.threats]}),t.jsxs("div",{children:["Queue: ",n.realTimeMetrics.moderationQueue]})]})})]}),t.jsxs($,{className:"bg-black/80 border-red-500 text-white",children:[t.jsx(oe,{className:"pb-2",children:t.jsxs(le,{className:"flex items-center gap-2 text-red-400",children:[t.jsx(ln,{className:"w-4 h-4"}),"Crisis Management"]})}),t.jsxs(q,{className:"space-y-2",children:[t.jsx(te,{variant:"destructive",size:"sm",className:"w-full",onClick:()=>e("Activate emergency protocols"),children:"Emergency Protocols"}),t.jsx(te,{variant:"outline",size:"sm",className:"w-full",onClick:()=>e("Show kill switches"),children:"Kill Switch Matrix"}),t.jsx(te,{variant:"outline",size:"sm",className:"w-full",onClick:()=>e("Run reality diagnostics"),children:"Reality Diagnostics"})]})]})]})}function VLe(){const[n,e]=R.useState(null),[s,r]=R.useState([-24,24]),[a,i]=R.useState(!1),[o]=R.useState(35),l=[{id:"platform1",name:"FanzHub Prime",position:[0,0,0],health:95,revenue:15e3,users:45e3,riskLevel:"LOW",crisisScore:.1,connections:["platform2","platform3"],realTimeMetrics:{cpu:45,memory:62,activeUsers:45e3,revenue:15e3,threats:3,contentVolume:12500,moderationQueue:23}},{id:"platform2",name:"EliteStream Network",position:[5,2,-3],health:78,revenue:8500,users:28e3,riskLevel:"MEDIUM",crisisScore:.4,connections:["platform1"],realTimeMetrics:{cpu:78,memory:85,activeUsers:28e3,revenue:8500,threats:7,contentVolume:8500,moderationQueue:47}},{id:"platform3",name:"AdultVR Metaverse",position:[-4,-1,4],health:32,revenue:3200,users:12e3,riskLevel:"CRITICAL",crisisScore:.8,connections:["platform1"],realTimeMetrics:{cpu:95,memory:98,activeUsers:12e3,revenue:3200,threats:15,contentVolume:5500,moderationQueue:156}}],c=[{id:"crisis1",position:[-4,2,4],severity:.9,type:"SECURITY",description:"DDoS Attack Detected",predictedImpact:.75,timeToEscalation:12,blastRadius:3},{id:"crisis2",position:[2,-3,-2],severity:.6,type:"REGULATORY",description:"Compliance Violation Alert",predictedImpact:.45,timeToEscalation:45,blastRadius:2}],d=[{id:"branch1",origin:[0,0,0],destination:[2,3,1],probability:.75,expectedOutcome:1.2,riskScore:.3,timeframe:24},{id:"branch2",origin:[0,0,0],destination:[-1,2,-2],probability:.45,expectedOutcome:-.8,riskScore:.7,timeframe:12}],u=async h=>{console.log("Executing quantum command:",h),alert(`Quantum command received: "${h}"

This would execute through the Universal Platform Language compiler with full safety simulation.`)};return t.jsxs("div",{className:"h-screen w-full relative bg-black overflow-hidden",children:[t.jsx(RDe,{camera:{position:[10,5,10],fov:60},children:t.jsxs(R.Suspense,{fallback:null,children:[t.jsx("ambientLight",{intensity:.3}),t.jsx("pointLight",{position:[10,10,10],intensity:1}),t.jsx("spotLight",{position:[0,20,0],angle:.3,penumbra:1,intensity:2,castShadow:!0}),t.jsx(DLe,{preset:"city"}),t.jsx("gridHelper",{args:[50,50,"#333333","#111111"]}),l.map(h=>t.jsx(LLe,{node:h,selected:n?.id===h.id,onSelect:e},h.id)),c.map(h=>t.jsx(FLe,{hotspot:h},h.id)),t.jsx(ULe,{branches:d}),l.map(h=>h.connections.map(m=>{const y=l.find(N=>N.id===m);return y?t.jsx(vne,{points:[h.position,y.position],color:"#00aaff",lineWidth:2,transparent:!0,opacity:.4},`${h.id}-${m}`):null})),t.jsx(xLe,{enablePan:!0,enableZoom:!0,enableRotate:!0,minDistance:5,maxDistance:50})]})}),t.jsx(BLe,{selectedPlatform:n,onNaturalLanguageCommand:u,biometricStress:o}),t.jsx(zLe,{timeRange:s,onTimeChange:r,playback:a,onPlaybackChange:i}),t.jsx("div",{className:"absolute top-4 left-4 bg-black/80 rounded-lg p-4 text-white",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(En,{className:"w-6 h-6 text-blue-400"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-bold text-blue-400",children:"QUANTUM WAR ROOM"}),t.jsx("div",{className:"text-xs text-gray-400",children:"Multi-Dimensional Crisis Command Center"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(de,{variant:"destructive",children:"LEVEL 5"}),t.jsx(de,{variant:"outline",className:"text-green-400 border-green-400",children:"OPERATIONAL"})]})]})})]})}function HLe(){return t.jsxs("div",{className:"flex min-h-screen cyber-bg",children:[t.jsx(Xoe,{}),t.jsx("main",{className:"flex-1",children:t.jsxs(ese,{children:[t.jsx($t,{path:"/",component:w2e}),t.jsx($t,{path:"/dashboard",component:YNe}),t.jsx($t,{path:"/platforms",component:tSe}),t.jsx($t,{path:"/ai-analysis",component:__e}),t.jsx($t,{path:"/content-review",component:A_e}),t.jsx($t,{path:"/live-monitoring",component:C_e}),t.jsx($t,{path:"/analytics",component:T_e}),t.jsx($t,{path:"/users",component:d2e}),t.jsx($t,{path:"/risk-management",component:u2e}),t.jsx($t,{path:"/crisis-management",component:m2e}),t.jsx($t,{path:"/advanced-analytics",component:p2e}),t.jsx($t,{path:"/predictive-analytics",component:x2e}),t.jsx($t,{path:"/compliance-reporting",component:g2e}),t.jsx($t,{path:"/vault",component:v2e}),t.jsx($t,{path:"/audit",component:y2e}),t.jsx($t,{path:"/threats",component:b2e}),t.jsx($t,{path:"/data",component:j2e}),t.jsx($t,{path:"/verification-2257",component:wAe}),t.jsx($t,{path:"/chat-system",component:BAe}),t.jsx($t,{path:"/stream-management",component:VAe}),t.jsx($t,{path:"/payment-management",component:HAe}),t.jsx($t,{path:"/payment-processors",component:GAe}),t.jsx($t,{path:"/tax-management",component:$Ae}),t.jsx($t,{path:"/advertising",component:qAe}),t.jsx($t,{path:"/audio-calls",component:KAe}),t.jsx($t,{path:"/radio-broadcasting",component:fEe}),t.jsx($t,{path:"/podcast-management",component:mEe}),t.jsx($t,{path:"/content-moderation-hub",component:KEe}),t.jsx($t,{path:"/plugin-management",component:XEe}),t.jsx($t,{path:"/api-integration-management",component:ZEe}),t.jsx($t,{path:"/platform-moderation",component:YEe}),t.jsx($t,{path:"/compliance-monitoring",component:QEe}),t.jsx($t,{path:"/intelligent-moderation",component:rMe}),t.jsx($t,{path:"/vr-rendering",component:aMe}),t.jsx($t,{path:"/future-tech",component:iMe}),t.jsx($t,{path:"/ai-cfo",component:oMe}),t.jsx($t,{path:"/starz-studio",component:lEe}),t.jsx($t,{path:"/compliance-center",component:cMe}),t.jsx($t,{path:"/legal-library",component:dMe}),t.jsx($t,{path:"/quantum-war-room",component:VLe}),t.jsx($t,{path:"/blog",component:lCe}),t.jsx($t,{path:"/blog/create",component:dCe}),t.jsx($t,{path:"/blog/edit/:id",component:hCe}),t.jsx($t,{path:"/deposits",component:fCe}),t.jsx($t,{path:"/deposits/:id",component:mCe}),t.jsx($t,{path:"/locations",component:vCe}),t.jsx($t,{path:"/cron-jobs",component:ITe}),t.jsx($t,{path:"/shop-management",component:DTe}),t.jsx($t,{path:"/stories-management",component:LTe}),t.jsx($t,{path:"/social-login-settings",component:FTe}),t.jsx($t,{path:"/storage-settings",component:VTe}),t.jsx($t,{path:"/tax-rate-management",component:GTe}),t.jsx($t,{path:"/theme-settings",component:$Te}),t.jsx($t,{path:"/withdrawal-management",component:qTe}),t.jsx($t,{path:"/withdrawal-view/:id",component:WTe}),t.jsx($t,{path:"/email-management",component:KTe}),t.jsx($t,{path:"/user-management",component:XTe}),t.jsx($t,{path:"/contact-management",component:rEe}),t.jsx($t,{path:"/video-encoding",component:aEe}),t.jsx($t,{path:"/stickers-management",component:iEe}),t.jsx($t,{path:"/websocket-settings",component:oEe}),t.jsx($t,{path:"/transaction-management",component:cEe}),t.jsx($t,{path:"/verification-management",component:dEe}),t.jsx($t,{path:"/subscription-management",component:uEe}),t.jsx($t,{path:"/theme-generator",component:hEe}),t.jsx($t,{path:"/login",component:AEe}),t.jsx($t,{path:"/register",component:CEe}),t.jsx($t,{path:"/password/reset",component:TEe}),t.jsx($t,{path:"/error/404",component:EEe}),t.jsx($t,{path:"/error/500",component:MEe}),t.jsx($t,{path:"/error/503",component:PEe}),t.jsx($t,{path:"/error/profile-disabled",component:REe}),t.jsx($t,{path:"/demo-ui",component:qEe}),t.jsx($t,{path:"/seo-configuration",component:nEe}),t.jsx($t,{path:"/aeo-configuration",component:sEe}),t.jsx($t,{path:"/settings",component:Q_e}),t.jsx($t,{component:WEe})]})})]})}function GLe(){return t.jsx(Sse,{client:v_,children:t.jsxs($oe,{children:[t.jsx(iie,{}),t.jsx(HLe,{})]})})}EG.createRoot(document.getElementById("root")).render(t.jsx(GLe,{}));
